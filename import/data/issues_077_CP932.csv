#,プロジェクト,トラッカー,親チケット,ステータス,優先度,題名,作成者,担当者,更新日,カテゴリ,対象バージョン,開始日,期日,予定工数,進捗率,作成日,終了日,関連するチケット,Resolution,Affected version,説明
14269,Redmine,Defect,"",New,Urgent,custom field not displayed but not in read  only,Aur?lien M,"",2013-06-12 18:30,Issues workflow,"","","","",0,2013-06-12 18:30,"","","",2.3.1,"I have different group.
For group1 I display a the custom_field1once the status change to status2
For group2 I display a the custom_field1once the status change to status2

One I'm logged as group1 I can see that custom field, but if I'm logged as group2 I cannot see that field.
I'm wondering why this is happening as they have the same fields permissions.

I have also noticed that updating fields permissions for group2 is not taken into account"
14265,Redmine,Defect,"",Closed,High,Calendar view for Croatian localization is not correct. Name of days are shifted one day in advance.,VD DV,"",2013-06-12 14:18,Translations,"","","","",0,2013-06-12 12:37,2013-06-12 14:18,関連している #13931,Duplicate,2.3.0,"Calendar view for Croatian localization is not correct.
Day names are shifted one day in advance."
14261,Redmine,Defect,"",Closed,High,Why I can't reply my posts at redmine.org?!,Muhammad Bashir Al-Noimi,Jean-Philippe Lang,2014-03-13 22:06,Website (redmine.org),"","","","",0,2013-06-12 05:29,2014-03-13 22:06,"",Wont fix,"","Whenever I tried to reply ""my forum's post"":http://www.redmine.org/boards/2/topics/38222 redmine gives me error message that I'm spammer!!!

!http://i.share.pho.to/1c349390_o.png!"
14259,Redmine,Defect,"",New,Normal,sub project show position problem,j ronald,"",2013-06-15 18:15,"","","","","",0,2013-06-12 04:10,"","","",2.3.1,"I have 2 problems:

1 In ""My Page"" view, sub project and its parent project shows in the same level, so I have to give a full name for the sub project, because it has lost its context here.
2 In ""Issues"" view, if a project have multiple sub project, some sub projects show in the same level as its parent project, while some not, and what is more confusing, for example, if I changed something in the sub project, say New -> Resolved, the level changes, say parent level -> child level.

Is it by design or a bug?"
14252,Redmine,Patch,"",Closed,Normal,Bulgarian translation (11950),Ivan Cenov,"",2013-06-11 09:58,Translations,"","","","",0,2013-06-11 07:20,2013-06-11 09:58,"","","","Translated:
* notice_account_register_done
* notice_account_not_activated_yet
* notice_account_locked"
14251,Redmine,Defect,"",New,Urgent,Redmine email reminders sending 4 emails everytime cron runs,Diego Antunes,"",2013-06-25 14:37,Email notifications,"","","","",0,2013-06-11 03:48,"","","",2.3.1,"Hi, this is my environment
Environment:
  Redmine version                          2.3.1.stable
  Ruby version                             1.9.3 (x86_64-linux)
  Rails version                            3.2.13
  Environment                              production
  Database adapter                         Mysql2

Centos 6.3 (Final)

My Cron
 */5 * * * * . /var/www/html/redmine/redmine_fetch_imap //works fine
 0 7 * * mon,tue,wed,thu,fri .  /var/www/html/redmine/redmine_send_reminders > /var/www/html/redmine/reminders.log 2>&1 this one sends 4 emails each time it runs (or runs 4 times?)

Anyone having this issue?
"
14246,Redmine,Defect,"",Closed,Normal,Textfield and dropdown selector dissapears in firefox on Mac OS X,Nagaraja Sathe,"",2013-06-10 12:31,UI,"","","","",0,2013-06-10 11:57,2013-06-10 12:31,次のチケットと重複 #14031,Duplicate,2.3.0,Textfield and dropdown selector dissapears upon mouseover/selection on redmine2.3.0 in firefox Mac OS X 10.8.2
14245,Redmine,Defect,"",Closed,Normal,Gem::InstallError: nokogiri requires Ruby version >= 1.9.2.,Toshi MARUYAMA,"",2013-06-14 05:59,Gems support,2.3.2,"","","",0,2013-06-10 10:21,2013-06-14 05:59,"",Fixed,2.3.1,"<pre>
An error occurred while installing nokogiri (1.6.0), and Bundler cannot continue.
Make sure that `gem install nokogiri -v '1.6.0'` succeeds before bundling.
</pre>"
14242,Redmine,Defect,"",Closed,Normal,Project auto generation fails when projects created in the same time,Toshi MARUYAMA,"",2013-07-11 20:34,Projects,2.3.2,"","","",90,2013-06-08 11:46,2013-07-11 20:34,"",Fixed,2.3.1,https://github.com/edavis10/redmine/pull/59
14239,Redmine,Defect,"",Closed,Normal,Error 403 when trying to edit custom query,Filou Centrinov,"",2018-04-29 07:52,Issues,"","","","",0,2013-06-08 02:17,2018-04-29 07:52,"関連している #17669, 関連している #28264",Fixed,2.3.1,"I get an error 403 when I try to edit a custom query. How to reproduce:

1) login as admin 
2) create a custom query
3) query settings: ""Public"" + ""For all projects""
4)  save query

5) login as non admin user and manager of a project
6) edit the custom query. You will get an error 403 with warning ""You are not authorized to access this page.""

Tested on Redmine 2.3.1.stable.11941, no plugins."
14235,Redmine,Defect,"",Closed,Normal,Redmine 2.0 wiki is too slowly,xilong pei,"",2015-08-23 17:14,Wiki,"","","","",0,2013-06-07 10:06,2015-08-23 17:14,"",Invalid,2.0.3,"When there are a little more content in wiki, like this page http://elastos.org/redmine/projects/elastos-core/wiki/Java_car , the wiki is too slowly."
14225,Redmine,Defect,"",Closed,Normal,"locale string ""error_session_expired"" does not work",Terence Mill,"",2013-06-07 15:37,Translations,"","","","",0,2013-06-06 09:02,2013-06-07 15:37,"",Invalid,2.3.1,"If i login and let the session expire i get an error message label on login mask (see screener) which look like missing english translation. However i found the string in confige/locales/en.yml also in my native language i have after login.
!Zwischenablage01.jpg!"
14224,Redmine,Patch,"",Closed,Normal,Japanese translation update (r11926),Go MAEDA,"",2013-06-06 07:40,Translations,"","","","",0,2013-06-06 04:51,2013-06-06 07:40,"","","",Translated @earlier_than_minimum_start_date@ and improved some messages.
14223,Redmine,Patch,"",Closed,Normal,Fix icon transparency issues,W Snyder,"",2013-06-06 10:37,UI,2.4.0,"","","",0,2013-06-06 04:25,2013-06-06 10:37,"","","","Most of the icons in the public/images directory correctly have alpha channels - thanks folks.

Three do not, which messes up the visuals if a site background is not pure white.  The three attached files fix this - and will look the same if the background is the same default white.

Thanks.
"
14222,Redmine,Patch,"",Closed,Normal,German translation: grammar + spelling,Filou Centrinov,"",2013-06-06 10:37,Translations,2.4.0,"","","",0,2013-06-06 01:33,2013-06-06 10:37,"","","",See the patch.
14221,Redmine,Patch,"",Closed,Normal,Translation of x_hours for many languages,Filou Centrinov,"",2013-06-06 10:39,Translations,2.3.2,"","","",0,2013-06-06 00:52,2013-06-06 10:39,"","","","x_hours is not translated for many languages. I got the translation from label_f_hour and label_f_hour_plural.

This issue results from #14148."
14219,Redmine,Defect,"",Closed,High,Escalating privileges,Tor Holden,"",2013-06-05 21:55,Permissions and roles,"","","","",0,2013-06-05 18:57,2013-06-05 21:55,"",Invalid,2.3.1,"+*Scenario 1:*+

Say I have 2 roles:

- Supervisor, with *create project* and *create subprojects* privileges
- Manager, with *create subprojects* privilege

They are listed IN THAT ORDER in Roles section.

Manager cannot at this point create anything but subprojects

Now, a Supervisor creates a project, and appoints some user with Manager role.

This user creates a subproject. He is somehow by default given Supervisor role for that project. He now has supervisor privileges and can create main projects.

This does not occur if Manager comes first in Roles list. Then by default, the Manager role is assigned to the user in subproject.

+*Scenario 2:*+

- Supervisor, with *create project*, *Manage members* and *create subprojects* privileges
- Manager, with *Manage members* privilege

Manager can simply go to ""Setting > Members"" of that project, edit his membership and assigns himself Supervisor role. Now he can create new projects, etc.


Is this normal behaviour?"
14218,Redmine,Defect,"",Closed,Normal,Can't login to redmine free demo site,s w,"",2017-05-03 15:01,Website (redmine.org),"","","","",0,2013-06-05 18:41,2013-06-05 21:41,"",Invalid,2.3.1,"I registered a free redmine web site from http://m.redmine.org/hostings/new
The site an username I created was :
Domain: swing.m.redmine.org
Username: demo

I can visit http://swing.m.redmine.org/login , but can't login in with username : demo
Can somebody help me? thanks!"
14216,Redmine,Defect,"",Closed,Normal,getting Internal error,Arun kumar,"",2013-10-11 11:36,My page,"","",2013-11-30,"",0,2013-06-05 14:07,2013-10-11 11:36,"",No feedback,2.2.0,Description :When i click on Mypage i am getting internal error.Please tell me the solution to debug this issue.
14211,Redmine,Defect,"",Closed,Normal,Permissions,Plamen Paskov,"",2013-06-08 12:21,Permissions and roles,"","","","",0,2013-06-05 09:59,2013-06-08 12:21,"",Invalid,2.3.1,I created a role that has only permissions to create new issue but when the user log-in it see the news and activity tabs too.
14209,Redmine,Patch,"",Closed,Normal,Bulgarian translation (11926),Ivan Cenov,"",2013-06-05 06:37,Translations,"","","","",0,2013-06-04 20:31,2013-06-05 06:37,"","","","Translated:
* earlier_than_minimum_start_date:"
14206,Redmine,Defect,"",Closed,Normal,Synchronize the lang attribute of the HTML with the display language ,Naoya Niwa,"",2013-07-13 11:05,I18n,2.4.0,"","","",0,2013-06-04 18:01,2013-07-13 11:05,次のチケットが重複 #4009,Fixed,"","Currently, lang attribute of HTML is specified ""en"" always regardless of the display language."
14205,Redmine,Defect,"",Closed,Normal,undefined method `default_projects_tracker_ids' on new subproject,Cezary B?ajszczak,"",2013-06-11 09:31,Projects,"","","","",0,2013-06-04 14:31,2013-06-10 19:01,関連している #13903,Invalid,2.3.1,"I wanted to create new subproject and I received _Internal error 500_. I'm using latest svn build (@2.3.1.stable.11918@) on @openSUSE 12.2@ with @Apache@ and @Passenger@. Here's the relevant log:
<pre>
Started GET ""/projects/new?parent_id=main"" for my_ip at 2013-06-04 14:19:52 +0200
Processing by ProjectsController#new as HTML
  Parameters: {""parent_id""=>""main""}
  Current user: my_username (id=3)
Completed 500 Internal Server Error in 42ms

NoMethodError (undefined method `default_projects_tracker_ids' for #<Class:0xb2f2168>):
  app/models/project.rb:129:in `initialize'
  app/controllers/projects_controller.rb:73:in `new'
  app/controllers/projects_controller.rb:73:in `new'</pre>

If this helps anyhow, my redmine installation is also affected by #13903 - I did a fresh installation from svn sources and I migrated database from previuos installation (2.1.2; I upgraded the db without any problems)."
14204,Redmine,Defect,"",Closed,Low,Redmine installation on heroku,vivek tyagi,"",2015-08-23 17:20,Issues,"","","","",0,2013-06-04 13:42,2015-08-23 17:20,関連している #14194,No feedback,2.3.1,"I am not able to use redmine on heroku, all the time I push the code to heroku my app crahes. I have tried almost everything.

Thanks
Vivek Tyagi"
14203,Redmine,Defect,"",New,Normal,Add support for the 'notes://' protocol handler,Stepan Karandin,"",2013-10-14 11:54,"","","","","",0,2013-06-04 06:51,"",関連している #10889,"",2.3.1,"IBM Lotus Notes is a rich client. After installation it registers in operating system additional protocol ""notes""

An URI looks like notes://SERVER/442579BB0045C177/0/250334F0B767F79B44257B8000199EEB

As normal every browser handles this URI well. After the click Lotus Notes window is opened, but in Redmine it looks like plain text in both ways.

notes://SERVER/442579BB0045C177/0/250334F0B767F79B44257B8000199EEB
[[notes://SERVER/442579BB0045C177/0/250334F0B767F79B44257B8000199EEB]]


"
14202,Redmine,Defect,"",Closed,Normal,Documentation is overly pessimistic about RubyGems,mathew murphy,"",2013-06-04 18:41,Documentation,"","","","",0,2013-06-03 22:59,2013-06-04 18:41,"",Fixed,"","The [install guide](http://www.redmine.org/projects/redmine/wiki/RedmineInstall) states that Redmine requires RubyGems <= 1.8.

However, I just installed Redmine 2.3.1 using Ruby 2.0.0-p195 and RubyGems 2.0.2, and everything went fine. (Does RubyGems 1.8 even run on Ruby 2.0?)"
14196,Redmine,Patch,"",Closed,Normal,Italian translation for 2.3-stable,Riccardo Rocca,"",2013-06-04 15:48,Translations,2.3.2,"","","",0,2013-06-03 16:19,2013-06-04 15:48,"","","",""
14194,Redmine,Defect,"",Closed,Normal,Getting error in heroku push,vivek tyagi,"",2015-08-23 17:21,Activity view,"","","","",0,2013-06-03 14:02,2015-08-23 17:21,関連している #14204,No feedback,2.1.3,"getting error of prototype_legacy_helper, while I do the heroku push"
14188,Redmine,Defect,"",Confirmed,Normal,Headers put inside blockquotes cause wiki 'edit this section' link point to incorrect section,Filipe Muniz,"",2017-06-06 04:29,Wiki,"","","","",0,2013-06-01 05:22,"",関連している #16036,"",2.2.3,"When a given Header in a wiki page is put inside blockquotes, that one and all section edit links after it will point to the incorrect page section:

To reproduce: 

<pre>
h1. Page Title

bla

h2. Page topic

bla

> h3. Page subtopic inside a blockquote (trying to edit this will, incorrectly, point to the next section)
>
> bla

h2. New page topic1 (trying to edit this will, incorrectly, point to the next section)

bla

h2. New page topic2 (trying to edit this will, incorrectly, point to the next section)

etc, etc.
</pre>
 "
14187,Redmine,Defect,"",Closed,Normal,Broken html using puma 2.0.1,F Schroedter,"",2013-06-06 00:22,Gems support,"","","","",0,2013-05-31 23:46,2013-06-06 00:22,"",Invalid,2.3.0,"When using I am Redmine 2.3 with puma 2.0.1 (http://rubygems.org/gems/puma) pages are loaded quite slowly, have partly broken layout on issues overview (and other pages) and have a ""0"" after </html> tag. Sometimes I see parts of html like ""<code>le=""clear:both;""></code>"".

Tested also on fresh a Redmine 2.3 without plugins. My system details:
<pre>
Ruby version              1.9.2 (x86_64-linux)
RubyGems version          1.8.25
Rack version              1.4
Rails version             3.2.13
</pre>
Everythings works fine with puma 1.6.3."
14182,Redmine,Patch,"",Closed,Normal,pt-BR translation for 2.3-stable,Toshi MARUYAMA,"",2013-06-01 07:19,Translations,2.3.2,"","","",0,2013-05-31 11:45,2013-06-01 07:19,"","","","From #14180.

<pre><code class=""diff"">
diff --git a/config/locales/pt-BR.yml b/config/locales/pt-BR.yml
--- a/config/locales/pt-BR.yml
+++ b/config/locales/pt-BR.yml
@@ -1106,5 +1106,5 @@ pt-BR:
   field_inherit_members: Herdar membros
   field_closed_on: Fechado
   field_generate_password: Gerar senha
-  setting_default_projects_tracker_ids: Default trackers for new projects
+  setting_default_projects_tracker_ids: Tipos padr?es para novos projeto
   label_total_time: Total
</code></pre>"
14181,Redmine,Defect,"",Closed,Normal,File uploading does not work,Diego Villegas,"",2013-09-02 13:58,Attachments,"","",2013-09-30,"",0,2013-05-31 08:11,2013-09-02 13:58,"",Invalid,2.3.1,"Hello

Update redmine to version 2.3.1 from version 2.2.3 and does not work properly file uploads, as shown in the attached image.

Seeing the firebug error message displays: ""406 Not Acceptable. An Appropriate representation of the requested resource / uploads.js Could not be found on this server""

At other times this message: ""Aborted""

Data installation of redmine are :

Environment:
  Redmine version                          2.3.1
  Ruby version                             1.8.7 (x86_64-linux)
  Rails version                            3.2.13
  Environment                              production
  Database adapter                         MySQL

I appreciate your help..

"
14180,Redmine,Patch,"",Closed,Normal,Improve pt-BR translation,Marcela Oliveira,"",2013-06-01 07:20,Translations,2.4.0,"","","",0,2013-05-31 06:23,2013-06-01 07:20,"","","","Translated and fixed locale configuration pt-BR
Contributors - Tarcisio Coutinho and Marcela Oliveira"
14179,Redmine,Defect,"",New,High,redmine base url wrong in email when relative_url_root set.,C Tibirna,"",2016-05-03 15:15,Email notifications,"","","","",0,2013-05-30 18:55,"","","",2.3.1,"Hello

_This report is for git SHA cc23ab9._

I upgraded recently a redmine installation from 1.4 to 2.3.1. We install in a relative_url_root (called /projets) and not in the root of the server.

The first issue I encountered was that 

<pre>
Redmine::Utils::relative_url_root = ""/projets""
</pre>

in the environment.rb config file doesn't work anymore. After digging in the ""Issues"" collection here on redmine.org, I found some workaround, by adding:

<pre>
RedmineApp::Application.routes.default_scope =  { :path => '/projets' }
</pre>

in environment.rb.

The report was advising using @RedmineApp::Application.routes.default_scope =  { :path => '/projets', :shallow_path => '/projets' }@, but the shorter version seems to work too. Pages are displayed correctly, RSS feeds have the right URLs too.

Anyways, no matter what I try, the email notification messages contain the wrong URL: 'http://server.my/projets/projets'. The relative_url_root is repeated.

Please advise.

NOTE: the relative_url_root configuration should be given a prominent and clear explanation in the RedmineInstall document. It is always a pain to figure out. I don't have data to back my next affirmation, but I believe a good portion of redmine installations are done on servers that contain other things apart redmine, thus requiring relative_url_root configurations."
14178,Redmine,Defect,"",Closed,Normal,PDF API broken in version 2.3.1,Massimo Rossello,"",2013-06-05 06:22,PDF export,2.3.2,"","","",0,2013-05-30 17:51,2013-06-05 06:22,次のチケットに後続 #13630,Fixed,2.3.1,"The change in number of arguments in issues_to_pdf_draw_borders() in file lib/redmine/export/pdf.rb introduced by #13630 (r11693) breaks some plugins (namely redmine_wktime).

Would it be possible to restore the same arguments, even if id_width argument not used, for API compatibility?

Thanks"
14177,Redmine,Defect,"",Closed,Normal,No Help Button / Link to Wiki Syntax displayed as plain text,Roy Hardin,"",2013-05-30 16:44,UI,"","","","",0,2013-05-30 15:39,2013-05-30 16:44,"",Invalid,2.3.1,"The button tool bar above the text editor (used by the wiki, settings, etc) doesn't display the help button as a question mark. Instead, the plain text message @/help/wiki_syntax.html@ is displayed near to the right border above the text editor. This problem has begun after updating  version 2.1.0 to version 2.3.1. The default theme is activated. There are no plugins or other themes installed. The browsers don't indicate any network problems or JavaScript bugs. This problem can be reproduced with Safari, Chrome and Firefox (current versions).

h2. Redmine Environment

 Redmine version                          2.3.1.stable
Ruby version                             1.9.3 (x86_64-linux)
Rails version                            3.2.13
Environment                              production
Database adapter                         Mysql2

h2. Screenshot 

!wiki-syntax-link.png!"
14176,Redmine,Defect,"",Closed,Normal,404 error with redmine_default_assign,Anthony Lara,"",2013-05-30 15:39,"","","","","",0,2013-05-30 15:32,2013-05-30 15:39,"",Invalid,2.3.0,"I've installed the plugin redmine_default_assign (Feature #482) but when I  want to click on ""configure"" (in page Plugin), I Have got the 404 error, why?
I don't understand, if someone could me help, I appreciate it "
14174,Redmine,Defect,"",Closed,Urgent,email sendding problem when update 2.2.3 to 2.3.1 and 2.3.0 to 2.3.1,Phuong Tran,"",2013-09-13 15:39,Email notifications,"","","","",0,2013-05-30 12:06,2013-09-13 15:39,関連している #13698,Invalid,2.3.1,"

After update to redmine V2.3.0, I have a problem with sendding email to users belong to a project when creat new Issue. All user account are be setting ""Email notifications = For any event on all my projects"" but when 1st issue created, all users recived email, and 2nd issue created nobody received email, 3rd issue created nobody received email even checking on Spam folder,.... (Each issue was created every 3-5 minutes)

I used sendmail function on Centos 5.9, all path are up to date.
All user emails are @gmail.com

In version 2.2.3 email sending very good and no problem found. I also did not change anything on Setting or something else when update tu 2.3.0 :(

So I update 2.3.0 to 2.3.1 but the problem is not fixed,
In 2.3.1 no email was sent when new issue or update created. On setting Administrator, I used ""send test email"" And redmine said ""sent sucessfull"" but I did not receive any email?
On the production log there is no erros.

Pls help me solve this problem.
"
14173,Redmine,Defect,"",Closed,Normal,Roadmap Method Error,Daniel Brooks,"",2017-01-01 06:04,"","","","","",0,2013-05-30 08:13,2017-01-01 06:04,"",Invalid,2.3.1,"Ruby version              1.9.3 (i686-linux)
RubyGems version          1.8.23
Rack version              1.4
Rails version             3.2.13
Active Record version     3.2.13
Action Pack version       3.2.13
Active Resource version   3.2.13
Action Mailer version     3.2.13
Active Support version    3.2.13
Middleware                Rack::Cache, ActionDispatch::Static, Rack::Lock, #<ActiveSupport::Cache::Strategy::LocalCache::Middleware:0xa45fee8>, Rack::Runtime, Rack::MethodOverride, ActionDispatch::RequestId, Rails::Rack::Logger, ActionDispatch::ShowExceptions, ActionDispatch::DebugExceptions, ActionDispatch::RemoteIp, ActionDispatch::Callbacks, ActiveRecord::ConnectionAdapters::ConnectionManagement, ActiveRecord::QueryCache, ActionDispatch::Cookies, ActionDispatch::Session::CookieStore, ActionDispatch::Flash, ActionDispatch::ParamsParser, ActionDispatch::Head, Rack::ConditionalGet, Rack::ETag, ActionDispatch::BestStandardsSupport, OpenIdAuthentication
Application root          /usr/local/share/redmine
Environment               production
Database adapter          mysql2
Database schema version   20130217094251



The error occurs when I click on the Roadmap tab:

Started GET ""/projects/teachingresearchinstitutui/roadmap"" for 127.0.0.1 at 2013-05-29 23:05:29 -0700
Processing by VersionsController#index as HTML
  Parameters: {""project_id""=>""teachingresearchinstitutui""}
  Current user: daniel_brooks (id=3)
  Rendered versions/_overview.html.erb (5.1ms)
  Rendered versions/index.html.erb within layouts/base (7.4ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (undefined method `closed_percent' for #<Version:0xd56d454>):
    16: <% end %>
    17: 
    18: <% if version.issues_count > 0 %>
    19:     <%= progress_bar([version.closed_percent, version.completed_percent], :width => '40em', :legend => ('%0.0f%' % version.completed_percent)) %>
    20:     <p class=""progress-info"">
    21:     	  <%= link_to(l(:label_x_issues, :count => version.issues_count), 
    22:               project_issues_path(version.project, :status_id => '*', :fixed_version_id => version, :set_filter => 1)) %>
  app/views/versions/_overview.html.erb:19:in `_app_views_versions__overview_html_erb__84348520_116703850'
  app/views/versions/index.html.erb:13:in `block in _app_views_versions_index_html_erb__891692239_110874620'
  app/views/versions/index.html.erb:11:in `each'
  app/views/versions/index.html.erb:11:in `_app_views_versions_index_html_erb__891692239_110874620'
"
14171,Redmine,Defect,"",New,Low,"If the text formatting is ""none"", Meta characters in URLs are escaped twice.",Nayuta Taga,"",2015-12-31 14:44,Text formatting,"","","","",0,2013-05-29 11:26,"","","",2.3.1,"If the text formatting is ""none"", Meta characters in URLs are escaped twice.

For example, 
<pre>
http://foo/bar.cgi&query=bazo
</pre>
is formatted as:
<pre>
<a href=""http://foo/bar.cgi&amp;amp;query=baz"">http://foo/bar.cgi&amp;amp;query=baz</a>
</pre>

This problem is introduced by Redmine::WikiFormatting::NullFormatter#to_html (in lib/redmine/wiki_formatting.rb):

<pre><code class=""ruby"">
def to_html(*args)
  t = CGI::escapeHTML(@text)
  auto_link!(t)
  auto_mailto!(t)
  simple_format(t, {}, :sanitize => false)
end
</code></pre>

Meta characters in URLs of the @text are escaped by both CGI::escapeHTML() and auto_link!() .

So,
<pre>
&
</pre>
becomes
<pre>
&amp;amp;
</pre>

----
$ RAILS_ENV=production rake about
<pre>About your application's environment
Ruby version              2.0.0 (amd64-freebsd8)
RubyGems version          1.8.25
Rack version              1.4
Rails version             3.2.13
Active Record version     3.2.13
Action Pack version       3.2.13
Active Resource version   3.2.13
Action Mailer version     3.2.13
Active Support version    3.2.13
Middleware                Rack::Cache, 
 ActionDispatch::Static, 
 Rack::Lock, 
 #<ActiveSupport::Cache::Strategy::LocalCache::Middleware:0x00000804a48cb8>,
 Rack::Runtime,
 Rack::MethodOverride,
 ActionDispatch::RequestId,
 Rails::Rack::Logger,
 ActionDispatch::ShowExceptions,
 ActionDispatch::DebugExceptions,
 ActionDispatch::RemoteIp,
 ActionDispatch::Callbacks,
 ActiveRecord::ConnectionAdapters::ConnectionManagement,
 ActiveRecord::QueryCache, ActionDispatch::Cookies,
 ActionDispatch::Session::CookieStore,
 ActionDispatch::Flash,
 ActionDispatch::ParamsParser,
 ActionDispatch::Head, Rack::ConditionalGet, Rack::ETag,
 ActionDispatch::BestStandardsSupport,
 OpenIdAuthentication
Application root          (snip)/redmine-2.3.1
Environment               production
Database adapter          sqlite3
Database schema version   20130217094251
</pre>"
14169,Redmine,Defect,"",Closed,Normal,Load unusually long ,Anthony Lara,"",2013-05-30 19:06,"","","","","",0,2013-05-29 08:27,2013-05-30 19:06,"",Invalid,"","Hello,

I install Redmine with the package Bitnami, and when I add a new ticket the load is unsually long (I wait 30-40s to create the ticket).
How can I resolve this problem?"
14165,Redmine,Defect,"",Closed,Normal,Problem about rights ,? 艾明,"",2013-09-25 12:31,Permissions and roles,"","","","",0,2013-05-28 19:43,2013-09-25 12:31,次のチケットと重複 #14135,Duplicate,"","I have 2 Roles. 1 Administrator and another, who can create Projects. If I do not gave the second Role Administrator rights, so I can't create Projects although I gave him the right to create Projects. Is this a bug?"
14157,Redmine,Defect,"",New,Normal,Timelog Report. No message about the 100 column limits.,Maxim Drozdov,"",2017-03-28 17:15,Time tracking,"","","","",0,2013-05-27 07:27,"","","",2.3.1,"The maximum count of the columns in the [[RedmineTimelogReport]] is 100.
But there isn't any message about it.
So, a user may make a mistake during a time control if a number of time steps exceeds 100.

Steps to reproduce:
# go to the Report
# choose ""Date range: all"": !http://www.redmine.org/attachments/download/4542/SearchTimelog.png!
# choose ""Details: days"": !http://www.redmine.org/attachments/download/4543/TimeLogReport.png!
# choose ""Add: Project""

Despite the projects in Redmine have more than 100 active days, the number of day columns will be 100 and the Total in the bottom row will be insufficient.

I suppose, that the relevant message about 100-limit is needed.
"
14151,Redmine,Defect,"",Closed,Normal,Grammer problem with German x_days,Filou Centrinov,"",2014-11-28 08:32,Translations,3.0.0,"","","",0,2013-05-26 15:11,2014-11-28 08:32,関連している #14148,"","","There is a grammer problem for the german translation with label ""x_days:other:"" used in the admin settings (app/views/settings/_authentication.html.erb). Correct would be ""{count} Tage"", not  ""{count} Tagen"".

The translation would be like here: https://github.com/svenfuchs/rails-i18n/blob/master/rails/locale/de.yml#LC81

The problem is that in other context the actutal translation would be correct. So for example ""Von NAME vor etwa 3 **Tagen** aktualisiert"" (Updated by NAME about 3 days ago) is correct.

"
14150,Redmine,Defect,"",Closed,Normal,Unable to edit issue journal messages in Redmine 2.3.1,匿名ユーザー,"",2013-07-05 20:12,Issues,"","","","",0,2013-05-25 21:44,2013-07-05 20:12,"",Invalid,2.3.1,"Hello.

I am unable to edit messages in issues. When I click on edit button I only see a glimpse of ""Loading..."" message and nothing happens. In my webserver log I have the following messages:

<pre>
2013/05/25 22:25:00 [error] 28257#0: *932 open() ""/var/lib/redmine/public/journals/edit/895.js"" failed (2: No such file or directory), client: ***.***.***.***, server: example.org, request: ""GET /journals/edit/895.js HTTP/1.1"", host: ""bonespirit.org"", referrer: ""https://example.org/issues/262""
</pre>

Not sure if this is a bug in Redmine or I configured something improperly, but I haven't changed my Redmine configuration for several months and it survived happily migrations over several Redmine versions and editing worked fine before. Also other features of Redmine work fine, for example, news editing or issue description editing works fine.

I am running Redmine 2.3.1 with Ruby 1.9.3, Rails 3.2.13, PostgreSQL 9.2.4. My webserver is nginx 1.4.1 with unicorn 4.6.2. My OS is Gentoo amd64 with latest updates."
14148,Redmine,Patch,"",Reopened,Normal,Double translation: label_f_hours vs. x_hours,Filou Centrinov,"",2013-06-06 01:02,Translations,"","","","",0,2013-05-25 15:05,2013-06-06 01:02,"関連している #14145, 関連している #12630, 関連している #14151","","","It seems that the translations <code>x_hours</code> and <code>label_f_hours</code> are 	identic. (Same with <code>x_hour</code> and <code>label_f_hour</code>.) Moreover for many languages only <code>label_f_hours</code> (respectively  <code>label_f_hour</code>) is translated. I suggest to replace <code>label_f_hours</code> by <code>x_hours</code>, because we have also x_minutes, x_seconds, ...

Finally I suggest to delete the labels <code>label_f_hour</code> and <code>label_f_hours</code> from all translation files and repository."
14146,Redmine,Defect,"",Closed,Normal,Error 500 after ruby upgrade,Jonathan-Marc Lapointe,"",2013-05-24 22:53,"","","","","",0,2013-05-24 20:48,2013-05-24 22:53,"",Invalid,2.3.1,"I all.

I was running Redmine version 2.2.1 on ruby 1.8.7 under ubuntu 12.04.

I first upgraded Redmine to version 2.3.1 and all worked fine.

But then I tried to install the redmine_ckeditor plugin and one of the required gems needed ruby 1.9.3 or more.

So I decided to upgrade ruby to version 1.9.3P0 wich is available in Ubuntu 12.04.

I installed ruby 1.9.3 packages and removed the 1.8.7 ones.

After that I installed re installed all required gems and did a bundle install in redmine root directory to make shure every thing is installed.

But since I did than, every time I login to Redmine, I get an error 500 and the following text in the production.log file:

@
Started GET ""/"" for 206.167.74.200 at 2013-05-24 14:41:21 -0400
Processing by WelcomeController#index as HTML
  Current user: jmlapointe (id=1)
  Rendered news/_news.html.erb (8.5ms)
  Rendered welcome/index.html.erb within layouts/base (11.5ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (incompatible character encodings: ASCII-8BIT and UTF-8):
    3: <%= ""(#{l(:label_x_comments, :count => news.comments_count)})"" if news.comments_count > 0 %>
    4: <br />
    5: <% unless news.summary.blank? %><span class=""summary""><%=h news.summary %></span><br /><% end %>
    6: <span class=""author""><%= authoring news.created_on, news.author %></span></p>
  app/views/news/_news.html.erb:6:in `_app_views_news__news_html_erb___2290100326373296824_55141120'
  app/views/welcome/index.html.erb:8:in `_app_views_welcome_index_html_erb___362569893366366198_54759680'
@

Here is the list of the gems that are installed on my server:

@
actionmailer (3.2.13)
actionpack (3.2.13)
activemodel (3.2.13)
activerecord (3.2.13)
activeresource (3.2.13)
activesupport (3.2.13)
arel (3.0.2)
builder (3.0.4, 3.0.0)
bundler (1.3.5)
capybara (2.0.3)
childprocess (0.3.9)
climate_control (0.0.3)
cocaine (0.5.1)
coderay (1.0.9)
daemon_controller (1.1.4)
erubis (2.7.0)
ffi (1.8.1)
hike (1.2.2)
i18n (0.6.1)
journey (1.0.4)
jquery-rails (2.0.3)
json (1.8.0)
kaminari (0.14.1)
mail (2.5.4)
metaclass (0.0.1)
mime-types (1.23)
mocha (0.13.3)
multi_json (1.7.3)
mysql (2.9.1, 2.8.1)
mysql2 (0.3.11)
net-ldap (0.3.1)
nokogiri (1.5.9)
paperclip (3.4.2)
passenger (4.0.2)
pg (0.15.1)
polyglot (0.3.3)
rack (1.4.5)
rack-cache (1.2)
rack-openid (1.3.1)
rack-raw-upload (1.1.1)
rack-ssl (1.3.3)
rack-test (0.6.2)
rails (3.2.13)
railties (3.2.13)
rake (10.0.4)
rdoc (3.12.2)
rich (1.4.6)
rmagick (2.13.2)
ruby-openid (2.1.8)
rubyzip (0.9.9)
sass (3.2.9)
sass-rails (3.2.6)
selenium-webdriver (2.32.1)
shoulda (3.3.2)
shoulda-context (1.0.2)
shoulda-matchers (1.4.1)
sprockets (2.2.2)
sqlite3 (1.3.7)
thor (0.18.1)
tilt (1.4.1)
treetop (1.4.12)
tzinfo (0.3.37)
websocket (1.0.7)
xpath (1.0.0)
yard (0.8.6.1)
@

I'm using Apache2 and Passenger 4.

Any help would be appreciated.

Thanx!"
14145,Redmine,Patch,"",Closed,Normal,German translation of x_hours,Filou Centrinov,"",2013-07-10 21:08,Translations,2.3.2,"","","",0,2013-05-24 18:30,2013-05-25 09:30,関連している #14148,"","",German translation of <code>x_hours</code>.
14142,Redmine,Defect,"",Needs feedback,Normal,Upgrading Redmin 1.2.0 to 2.3.1,Gernot Riedel,"",2013-05-27 07:44,Database,"","","","",0,2013-05-24 15:35,"","","",2.3.1,"I'm using  the following parts:
ruby 1.8.7 (2011-12-28 patchlevel 357) [x86_64-linux]
rake, version 10.0.4
rubygem-rails Version: 2.3.14-0.3.1
redmine 2.3.1
MySQL-Server version: 5.1.63-log SUSE MySQL RPM
OS: openSUSE 11.4 (x86_64
No Plugins installed.

When i do the command 
rake db:migrate RAILS_ENV=production 
in the redmine root-folder  i will get the following (with --trace):
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
rake aborted!
Child already added
/redmine-2.3.1/redmine-2.3.1/lib/redmine/menu_manager.rb:345:in `add_at'
/redmine-2.3.1/redmine-2.3.1/lib/redmine/menu_manager.rb:362:in `add'
/redmine-2.3.1/redmine-2.3.1/lib/redmine/menu_manager.rb:280:in `push'
/redmine-2.3.1/redmine-2.3.1/lib/redmine.rb:200
/redmine-2.3.1/redmine-2.3.1/lib/redmine/menu_manager.rb:212:in `map'
/redmine-2.3.1/redmine-2.3.1/lib/redmine.rb:199
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:251:in `require'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:251:in `require'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:236:in `load_dependency'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:251:in `require'
/redmine-2.3.1/redmine-2.3.1/config/initializers/30-redmine.rb:4
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `load'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `load'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:236:in `load_dependency'
/usr/lib64/ruby/gems/1.8/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `load'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/engine.rb:588
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/engine.rb:587:in `each'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/engine.rb:587
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/initializable.rb:30:in `instance_exec'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/initializable.rb:30:in `run'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/initializable.rb:55:in `run_initializers'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/initializable.rb:54:in `each'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/initializable.rb:54:in `run_initializers'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/application.rb:136:in `initialize!'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/railtie/configurable.rb:30:in `send'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/railtie/configurable.rb:30:in `method_missing'
/redmine-2.3.1/redmine-2.3.1/config/environment.rb:14
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/application.rb:103:in `require'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/application.rb:103:in `require_environment!'
/usr/lib64/ruby/gems/1.8/gems/railties-3.2.13/lib/rails/application.rb:297:in `initialize_tasks'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:246:in `execute'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:184:in `invoke_with_call_chain'
/usr/lib64/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:205:in `invoke_prerequisites'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:203:in `each'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:203:in `invoke_prerequisites'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:183:in `invoke_with_call_chain'
/usr/lib64/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:101:in `top_level'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:101:in `top_level'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:73:in `run'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/usr/lib64/ruby/gems/1.8/gems/rake-10.0.4/bin/rake:33
/usr/bin/rake:23:in `load'
/usr/bin/rake:23
Tasks: TOP => db:migrate => environment

The same output by 
RAILS_ENV=production rake about --trace.

I do the upgrade like discribed in 
http://www.redmine.org/projects/redmine/wiki/RedmineUpgrade

All i found were answers and fixes for problems with plugins,
but i do not use plugins. 
"
14141,Redmine,Defect,"",Needs feedback,Normal,Error when loading default data to SQL,Andrew Dugrenier,"",2013-07-16 15:44,Database,"","","","",0,2013-05-24 13:48,"","","",2.3.1,"I'm Running on a Windows Server.
Redmine V2.3.1 
Ruby 1.8.7
MS SQL Server 2008R2
everything seems to be installing OK.
after running rake db:migrate, I ran rake redmine:load_defautl_data
I received the error message:
Error: TinyTds::Error: Invalid column name 'builtin'. EXEC sp_executesql N'SELECT
TOP (1) 1 AS one FROM [roles] WHERE [roles].[builtin] = 0'
default configuration data not loaded.

"
