#,プロジェクト,トラッカー,親チケット,ステータス,優先度,題名,作成者,担当者,更新日,カテゴリ,対象バージョン,開始日,期日,予定工数,進捗率,作成日,終了日,関連するチケット,Resolution,Affected version,説明
21944,Redmine,Patch,"",Closed,Normal,Bugfix: Hide custom field link values from being shown when value is empty,Anders Thomsen,Jean-Philippe Lang,2016-03-15 23:14,Custom fields,3.3.0,"","","",0,2016-02-03 22:41,2016-03-15 23:14,"","","","Custom fields of the type _link_ will be displayed on projects/issues even if their value is empty. Hence only a label is displayed and an empty a-tag.

This patch hides makes link custom fields behave like other custom fields: it only shows the field value if it's not blank."
21943,Redmine,Defect,"",Closed,Low,Based on login user filter the issues,selva kumar,"",2016-02-04 11:43,Issues,"","","","",0,2016-02-03 18:26,2016-02-04 11:43,"",Invalid,2.6.0,"Hi Team,

how can i filter issues based on login user with assignee id.

Suppose i logged in redmine tool. i will view only my issues.

Thanks 
Selva"
21942,Redmine,Patch,"",Closed,Normal,Fix Czech translation of field_time_entries_visibility,Pavel Rosick?,"",2016-02-29 16:43,Translations,3.3.0,"","","",0,2016-02-03 17:21,2016-02-29 16:43,"","","",""
21931,Redmine,Patch,"",Closed,Normal,Simplified Chinese translation for 3.3 (some fixes),Hang Xie,"",2016-02-29 04:53,Translations,3.3.0,"","","",0,2016-02-03 03:41,2016-02-29 04:53,"","","","Update Simplified Chinese translation
Add:
 - error_ldap_bind_credentials
Fix:
 - merge translation of “assigned” from ""分配"",""指派"" to ""指派"".
 - merge translation of ""visibility"" from ""可?"",“可?性”,""可?度"" to “可?度”."
21926,Redmine,Defect,"",Closed,High,Internet Explorer 11: Filter not working,Martin P.,"",2016-02-08 08:30,Issues filter,"","","","",0,2016-02-02 14:12,2016-02-08 08:30,"","","","Did anybody already notice that on IE 11 the ticket filter is not working any more!? 

Is there a workaround or any bugfix?


_P.S.: I'm currently working on a 3.0.3.stable version of Redmine._
"
21922,Redmine,Defect,"",Closed,Normal,Redmine RSS/Atom feed doesn't integrate with Slack,Kevin Gallagher,"",2016-02-02 04:47,"","","","","",0,2016-02-02 03:31,2016-02-02 04:47,"",Invalid,"","I tried to add https://www.redmine.org/projects/redmine/news.atom as a Slack integration to one of my channels. We're trying to stay on top of updates and potential security issues/CVEs.

Slack reports ""That doesn't look like a valid RSS/Atom feed.""

When you try /feed subscribe <url>, slackbot says: sorry, 'https://www.redmine.org/projects/redmine/news.atom' doesn't look like a feed url. Try again?

I ran it through the W3C's validator at https://validator.w3.org/feed/ and it comes back as valid. I'm not sure if it's an issue on your end or Slack's. I tried to report it to them using /feedback.
"
21921,Redmine,Defect,"",Closed,High,Email notification redmine,Steve GROSPERRIN,"",2016-02-01 14:56,Email notifications,"","","","",0,2016-02-01 14:44,2016-02-01 14:56,"","",3.1.0,"Hello,

I have a problem with email notification Bitnami Redmine.

I explain: I installed bitnami-redmine 3.1.0 on a Windows Server 2012 R2 virtualized and I would like to configure notification email redmine. So I opened the configuration.yml file in ""C: \ Bitnami \ redmine-3.1.0-0 \ apps \ redmine \ htdocs \ config"" and I write this inside:

email_delivery:
delivery_method:: smtp
smtp_settings:
address: me@mycompany.com
Port: 25
domain: mycompany.com
authentication:: login
user_name: me@mycompany.com
password: mypassword

I followed this tutorial http://www.redmine.org/projects/redmine/wiki/EmailConfiguration but I still can not.
""Error while sending the email (530-5.5.1 Authentication Required. Learn more at)""

I thank you."
21907,Redmine,Defect,"",Closed,Normal,receive emails fails,Dmitry Kuznetsov,"",2016-02-02 14:02,Email receiving,"","","","",0,2016-02-01 10:34,2016-02-02 14:02,"",Invalid,3.2.0,"Hi,
I'm trying to configure receive emails, but it fails:
<pre>
rake -f /usr/local/rvm/rubies/ruby-2.0.0-p598/bin/rake redmine:email:receive_imap RAILS_ENV=""production"" host=ipaddr username=redmineuser password=redminepass --trace
rake aborted!
SystemStackError: stack level too deep
/usr/local/rvm/rubies/ruby-2.0.0-p598/lib/ruby/2.0.0/optparse.rb:1515
</pre>
same error with ruby-2.1.5

I also tried plugin (https://github.com/luismaia/redmine_email_fetcher) - if I click on ""Fetch"" via web interface - it works, but via console fails with same error.

config:
<pre>
# ruby bin/about

sh: darcs: command not found
sh: hg: command not found
sh: bzr: command not found
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.0.0-p598 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  a_common_libs                  2.0.0
  ajax_counters                  1.2.0
  extra_queries                  2.0.3
  redmine_codebutton             0.0.1
  redmine_default_assign         0.5
  redmine_default_version        0.0.2
  redmine_dmsf                   1.5.1 stable
  redmine_monitoring_controlling 0.1.1
  redmine_people                 1.1.1
  redmine_stats                  0.0.2
  redmine_tweaks                 0.5.5
  rm_user_mentions               1.0.0
  unread_issues                  2.0.0
  usability                      2.0.0
</pre>

same problem at Redmine 2.6.3"
21900,Redmine,Defect,"",Closed,Normal,Moving a page with a child raises an error if target wiki contains a page with the same name as the child,Hiroo Hayashi,Jean-Philippe Lang,2016-03-12 09:24,Wiki,3.1.4,"","","",0,2016-01-30 15:07,2016-03-12 09:24,"",Fixed,3.2.0,"Project A has Wiki pages, ""Wiki-P"" and ""Wiki-C"".  ""Wiki-C"" is a child of ""Wiki-P"".
Project B has an Wiki page, ""Wiki-C"".

<pre>
Project A:
Wiki-P
  Wiki-C

Project B:
Wiki-C
</pre>

Moving ""Wiki-C"" in Project A to Project B %{color:blue}warns as ""Title has already been taken"".%
Moving ""Wiki-P"" in Project A to Project B %{color:red}causes an internal error.%

***

<pre>
bitnami@linux:~/redmine/htdocs$ ruby bin/about

sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.13
  Git                            2.6.1
  Filesystem
</pre>
"
21899,Redmine,Patch,"",Closed,Normal,Catalan wiki translation for 3.1-stable,Toshi MARUYAMA,"",2016-01-31 03:37,Translations,3.1.4,"","","",0,2016-01-30 14:04,2016-01-31 03:37,"","","",From #21747
21898,Redmine,Patch,"",Closed,Normal,Catalan wiki translation for 2.6-stable,Toshi MARUYAMA,"",2016-01-31 03:36,Translations,2.6.10,"","","",0,2016-01-30 14:02,2016-01-31 03:36,"","","",From #21747
21883,Redmine,Patch,"",Closed,Normal,Russian wiki translation for 3.2-stable,Toshi MARUYAMA,"",2016-01-31 03:34,Translations,3.2.1,"","","",0,2016-01-30 07:20,2016-01-31 03:34,"","","",From https://github.com/redmine/redmine/pull/66
21882,Redmine,Patch,"",Closed,Normal,Russian wiki translation for 3.1-stable,Toshi MARUYAMA,"",2016-01-31 03:34,Translations,3.1.4,"","","",0,2016-01-30 06:47,2016-01-31 03:34,"","","",From https://github.com/redmine/redmine/pull/66
21881,Redmine,Patch,"",Closed,Normal,Russian wiki translation for 2.6-stable,Toshi MARUYAMA,"",2016-01-31 03:32,Translations,2.6.10,"","","",0,2016-01-30 06:45,2016-01-31 03:32,"","","",From https://github.com/redmine/redmine/pull/66
21878,Redmine,Defect,"",Closed,Normal,ActionView::Template::Error (incompatible character encodings: ASCII-8BIT and UTF-8),Stefan Kuhr,"",2016-01-29 15:05,"","","","","",0,2016-01-29 14:57,2016-01-29 15:05,"",Invalid,2.5.2,"Hello,

just in the process of upgrading version 2.5.1.stable (installed on debian wheezy from wheezy backports) to 2.5.2.devel (debian jessie) and now I get the following error in production.log when trying to access the upgraded redmine instance:


Started GET ""/redmine"" for ::1 at 2016-01-29 14:37:34 +0100
Processing by WelcomeController#index as HTML
  Current user: anonymous
  Rendered news/_news.html.erb (46.9ms)
  Rendered welcome/index.html.erb within layouts/base (265.4ms)
Completed 500 Internal Server Error in 827ms (ActiveRecord: 411.4ms)

ActionView::Template::Error (incompatible character encodings: ASCII-8BIT and UTF-8):
     5:   <% if @news.any? %>
     6:   <div class=""news box"">
     7:   <h3><%=l(:label_news_latest)%></h3>
     8:     <%= render :partial => 'news/news', :collection => @news %>
     9:     <%= link_to l(:label_news_view_all), :controller => 'news' %>
    10:   </div>
    11:   <% end %>
  app/views/welcome/index.html.erb:8:in `_app_views_welcome_index_html_erb___730600040__630179138'

What can I do to fix this problem? Please assign a proper category to this ticket, I dunno what the proper category for this would be."
21877,Redmine,Defect,"",Closed,Normal,"""ArgumentError (comparison of Time with BigDecimal failed)"" in  app/models/setting.rb:229",Stefan Kuhr,"",2016-01-29 15:00,"","","","","",0,2016-01-29 14:33,2016-01-29 14:48,"",Invalid,2.5.2,"Hello, 

just in the process of upgrading version 2.5.1.stable (installed on debian wheezy from wheezy backports) to 2.5.2.devel (debian jessie) and now I get the following error in production.log when trying to access the upgraded redmine instance:

Started GET ""/redmine/"" for 192.168.199.1 at 2016-01-29 13:05:29 +0100
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 7ms

ArgumentError (comparison of Time with BigDecimal failed):
  app/models/setting.rb:229:in `<='
  app/models/setting.rb:229:in `check_cache'
  app/controllers/application_controller.rb:98:in `user_setup'

What can I do to fix this problem? Please assign a proper category to this ticket, I dunno what the proper category for this would be.

TIA,

-- 
Stefan


"
21868,Redmine,Defect,"",Closed,Normal,redmine_login_audit 0.2.2,Nikola Milanov,"",2016-01-28 11:17,"","","","","",0,2016-01-28 09:35,2016-01-28 11:17,"",Invalid,3.2.0,"When install version 0.2.2 of plugin redmine_login_audit I get this error when trying to access it:
===========================================================================================================
Rendered plugins/redmine_login_audit/app/views/login_audit/index.html.erb within layouts/admin (1.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.3ms)

ActionView::Template::Error (Asset was not declared to be precompiled in production.
Add `Rails.application.config.assets.precompile += %w( wice_grid.js )` to `config/initializers/assets.rb` and restart your server):
    1: <% content_for :header_tags do %>
    2:     <%= stylesheet_link_tag 'login_audit', :plugin => 'redmine_login_audit' %>
    3:     <%= stylesheet_link_tag 'wice_grid', :plugin => 'redmine_login_audit' %>
    4:     <%= javascript_include_tag 'wice_grid' %>
    5:     <script type=""text/javascript"">
    6:         function filterByDate(value) {
    7:             $('#grid_f_date option[value=' + value + ']').prop('selected', true);
  app/helpers/application_helper.rb:1224:in `javascript_include_tag'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

===============================================================================
Here some of info of my env:

Ubuntu 14.04.3 LTS
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.2.4-p230 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               PostgreSQL

What can I do to resolve this issue?
"
21867,Redmine,Patch,"",Closed,Normal,Add column `estimated_hours` for CSV import.,Yuichi Masumiya,Jean-Philippe Lang,2016-03-12 10:56,Importers,3.2.1,"","","",0,2016-01-28 06:22,2016-03-12 10:56,"","","",*estimated_hours* was added as the target item of the CSV import.
21866,Redmine,Defect,"",Closed,Normal,Reply to Forum Message results in error.,Ranjan Das,"",2016-02-18 06:04,"","","","","",0,2016-01-28 00:53,2016-02-18 06:04,"",Invalid,3.2.0,"Hi,

When we try to reply to forum messages we are getting an exception.

ActiveRecord::StatementInvalid in MessagesController#reply
SQLite3::SQLException: cannot rollback - no transaction is active: rollback transaction

<pre>
ActiveRecord::StatementInvalid in MessagesController#reply
SQLite3::SQLException: cannot rollback - no transaction is active: rollback transaction

Extracted source (around line #77):
75
76
77
78
79
80
              
    @reply.board = @board
    @reply.safe_attributes = params[:reply]
    @topic.children << @reply
    if !@reply.new_record?
      call_hook(:controller_messages_reply_after_save, { :params => params, :message => @reply})
      attachments = Attachment.attach_files(@reply, params[:attachments])

Rails.root: /opt/redmine/redmine

Application Trace | Framework Trace | Full Trace
sqlite3 (1.3.11) lib/sqlite3/statement.rb:108:in `step'
sqlite3 (1.3.11) lib/sqlite3/statement.rb:108:in `block in each'
sqlite3 (1.3.11) lib/sqlite3/statement.rb:107:in `loop'
sqlite3 (1.3.11) lib/sqlite3/statement.rb:107:in `each'
sqlite3 (1.3.11) lib/sqlite3/database.rb:149:in `map'
sqlite3 (1.3.11) lib/sqlite3/database.rb:149:in `block in execute'
sqlite3 (1.3.11) lib/sqlite3/database.rb:95:in `prepare'
sqlite3 (1.3.11) lib/sqlite3/database.rb:134:in `execute'
sqlite3 (1.3.11) lib/sqlite3/database.rb:526:in `rollback'
activerecord (4.2.5) lib/active_record/connection_adapters/sqlite3_adapter.rb:361:in `block in exec_rollback_db_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract_adapter.rb:472:in `block in log'
activesupport (4.2.5) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract_adapter.rb:466:in `log'
activerecord (4.2.5) lib/active_record/connection_adapters/sqlite3_adapter.rb:361:in `exec_rollback_db_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/database_statements.rb:266:in `rollback_db_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `rollback_db_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/transaction.rb:145:in `rollback'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/transaction.rb:179:in `rollback_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/transaction.rb:186:in `rescue in within_new_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/transaction.rb:201:in `within_new_transaction'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
activerecord (4.2.5) lib/active_record/transactions.rb:220:in `transaction'
activerecord (4.2.5) lib/active_record/associations/collection_association.rb:182:in `transaction'
activerecord (4.2.5) lib/active_record/associations/collection_association.rb:168:in `concat'
activerecord (4.2.5) lib/active_record/associations/collection_proxy.rb:970:in `<<'
app/controllers/messages_controller.rb:77:in `reply'
actionpack (4.2.5) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (4.2.5) lib/abstract_controller/base.rb:198:in `process_action'
actionpack (4.2.5) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (4.2.5) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (4.2.5) lib/active_support/callbacks.rb:117:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:117:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
activesupport (4.2.5) lib/active_support/callbacks.rb:505:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:505:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:498:in `block (2 levels) in around'
activesupport (4.2.5) lib/active_support/callbacks.rb:313:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:313:in `block (2 levels) in halting'
lib/redmine/sudo_mode.rb:63:in `sudo_mode'
activesupport (4.2.5) lib/active_support/callbacks.rb:432:in `block in make_lambda'
activesupport (4.2.5) lib/active_support/callbacks.rb:312:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:312:in `block in halting'
activesupport (4.2.5) lib/active_support/callbacks.rb:497:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:497:in `block in around'
activesupport (4.2.5) lib/active_support/callbacks.rb:505:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:505:in `call'
activesupport (4.2.5) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
activesupport (4.2.5) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
activesupport (4.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (4.2.5) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (4.2.5) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (4.2.5) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (4.2.5) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (4.2.5) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (4.2.5) lib/active_support/notifications.rb:164:in `instrument'
actionpack (4.2.5) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (4.2.5) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
activerecord (4.2.5) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (4.2.5) lib/abstract_controller/base.rb:137:in `process'
actionview (4.2.5) lib/action_view/rendering.rb:30:in `process'
actionpack (4.2.5) lib/action_controller/metal.rb:196:in `dispatch'
actionpack (4.2.5) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
actionpack (4.2.5) lib/action_controller/metal.rb:237:in `block in action'
actionpack (4.2.5) lib/action_dispatch/routing/route_set.rb:76:in `call'
actionpack (4.2.5) lib/action_dispatch/routing/route_set.rb:76:in `dispatch'
actionpack (4.2.5) lib/action_dispatch/routing/route_set.rb:45:in `serve'
actionpack (4.2.5) lib/action_dispatch/journey/router.rb:43:in `block in serve'
actionpack (4.2.5) lib/action_dispatch/journey/router.rb:30:in `each'
actionpack (4.2.5) lib/action_dispatch/journey/router.rb:30:in `serve'
actionpack (4.2.5) lib/action_dispatch/routing/route_set.rb:817:in `call'
rack-openid (1.4.2) lib/rack/openid.rb:98:in `call'
request_store (1.0.5) lib/request_store/middleware.rb:9:in `call'
rack (1.6.4) lib/rack/content_length.rb:15:in `call'
rack (1.6.4) lib/rack/etag.rb:24:in `call'
rack (1.6.4) lib/rack/conditionalget.rb:38:in `call'
rack (1.6.4) lib/rack/head.rb:13:in `call'
actionpack-xml_parser (1.0.2) lib/action_dispatch/xml_params_parser.rb:16:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/flash.rb:260:in `call'
rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/cookies.rb:560:in `call'
activerecord (4.2.5) lib/active_record/query_cache.rb:36:in `call'
activerecord (4.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (4.2.5) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
activesupport (4.2.5) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
activesupport (4.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (4.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/reloader.rb:73:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
railties (4.2.5) lib/rails/rack/logger.rb:38:in `call_app'
railties (4.2.5) lib/rails/rack/logger.rb:20:in `block in call'
activesupport (4.2.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
activesupport (4.2.5) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (4.2.5) lib/active_support/tagged_logging.rb:68:in `tagged'
railties (4.2.5) lib/rails/rack/logger.rb:20:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
rack (1.6.4) lib/rack/runtime.rb:18:in `call'
activesupport (4.2.5) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
rack (1.6.4) lib/rack/lock.rb:17:in `call'
actionpack (4.2.5) lib/action_dispatch/middleware/static.rb:116:in `call'
rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
railties (4.2.5) lib/rails/engine.rb:518:in `call'
railties (4.2.5) lib/rails/application.rb:165:in `call'
rack (1.6.4) lib/rack/lock.rb:17:in `call'
rack (1.6.4) lib/rack/content_length.rb:15:in `call'
rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
/opt/redmine/ruby/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/opt/redmine/ruby/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/opt/redmine/ruby/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
Request

Parameters:

{""utf8""=>""?"",
 ""authenticity_token""=>""OrCEc9nWtUuc4DBwc9k8tSpXd/wBDk15AvK76z2v8dr3ER6UGacSLSaNk/86vJupBk+r85UENvMqucORogrYmA=="",
 ""reply""=>{""subject""=>""RE: Kerberos Issue"",
 ""content""=>""Which Environment?""},
 ""commit""=>""Submit"",
 ""board_id""=>""3"",
 ""id""=>""33""}
Toggle session dump
_csrf_token: ""zaGa58Bxp2a6baOPSWWnHCwY3A+UCnuKKEt4ep+lKUI=""
boards_show_sort: ""updated_on:desc""
session_id: ""d2402c256141fc1b2e53e0efd4fd27c2""
sudo_timestamp: 1453938244
tk: ""7f20f49e2cc05a3c739e066330037a4395198545""
user_id: 5
Toggle env dump
GATEWAY_INTERFACE: ""CGI/1.1""
HTTP_ACCEPT: ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8""
HTTP_ACCEPT_ENCODING: ""gzip, deflate""
HTTP_ACCEPT_LANGUAGE: ""en-US,en;q=0.8""
HTTP_CACHE_CONTROL: ""max-age=0""
REMOTE_ADDR: ""127.0.0.1""
REMOTE_HOST: ""127.0.0.1""
SERVER_NAME: ""insight.dev.cba""
SERVER_PROTOCOL: ""HTTP/1.1""
Response

Headers:

None
</pre>



<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.2.3-p173 (2015-08-18) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    development
  Database adapter               SQLite
SCM:
  Filesystem
Redmine plugins:
  redmine_knowledgebase          3.1.0
</pre>"
21864,Redmine,Defect,"",Closed,Normal,The plugin Templates does not work in version 3.1,Marcelo Rocha Ac?cio,"",2016-01-27 23:29,"","","","","",0,2016-01-27 20:57,2016-01-27 23:29,"",Invalid,3.1.3,"People,

It would be very important to me if the Template (http://www.redmine.org/plugins/gsc_templates) worked in version 3.1 of Redmine.


You can update it ????

Grateful."
21862,Redmine,Patch,"",Closed,Normal,Japanese translation update (r15086),Go MAEDA,"",2016-02-26 05:28,Translations,"","","","",0,2016-01-27 13:52,2016-02-26 05:28,"","","",Translated error_ldap_bind_credentials (added by #21674).
21861,Redmine,Defect,"",Closed,Normal,typo: s/creditentials/credentials/,Go MAEDA,Jean-Philippe Lang,2016-01-30 16:22,Code cleanup/refactoring,3.3.0,"","","",0,2016-01-27 13:30,2016-01-30 16:22,"",Fixed,"","""notice_account_invalid_creditentials"" should be ""notice_account_invalid_credentials""."
21856,Redmine,Defect,"",Closed,Normal,I18n backend does not support original i18n Pluralization,Vasil Kovalevsky,"",2016-03-24 13:54,I18n,3.3.0,"","","",0,2016-01-27 00:09,2016-03-24 13:54,"",Fixed,"","Hello, again me.
In our projects (redmines 3.2.0) we are using russian language sometimes. And sometimes we have problems with int plural in words (In our own others projects everything fine).
I know how to fix this, just need to implemet CLDR rules. I figured out how to do it, but yours backend of i18n breaks all my dreams ^^.
So, please, restore i18n logic. There is lot of related issues to #12645 in redmine.org, but you still does not fix this simple miss.

Why this happened:
I18n::Backend::Base which you are include to module Implementation of Redmine::I18n::Backend contains pluralize method only for English language (:one or :other from locales).

How to:
In module Implementation of Redmine::I18n::Backend class need to add this:
<pre>
include ::I18n::Backend::Pluralization
</pre>

Original implementation of I18n::Backend
<pre>
    autoload :Base,                  'i18n/backend/base'
    autoload :InterpolationCompiler, 'i18n/backend/interpolation_compiler'
    autoload :Cache,                 'i18n/backend/cache'
    autoload :Cascade,               'i18n/backend/cascade'
    autoload :Chain,                 'i18n/backend/chain'
    autoload :Fallbacks,             'i18n/backend/fallbacks'
    autoload :Flatten,               'i18n/backend/flatten'
    autoload :Gettext,               'i18n/backend/gettext'
    autoload :KeyValue,              'i18n/backend/key_value'
    autoload :Memoize,               'i18n/backend/memoize'
    autoload :Metadata,              'i18n/backend/metadata'
    autoload :Pluralization,         'i18n/backend/pluralization'
    autoload :Simple,                'i18n/backend/simple'
    autoload :Transliterator,        'i18n/backend/transliterator'
</pre>

As you can see, there is Pluralization exists.
I18n::Backend::Pluralization contains rails logic for extandable plural for different languages. We can easily place our ru.rb file to config\locales and write some simple logic from CLDR.

Thats all.

Today i just wrote small patch for one of our plugin, but it s stupid, we need general solution.

Thanks in advance."
21855,Redmine,Defect,"",Closed,Normal,Gravatar get images over http instead https,Alexander Kupchenko,Jean-Philippe Lang,2017-01-09 12:36,UI,3.3.0,"","","",0,2016-01-26 23:05,2016-03-15 22:53,"関連している #18911, 関連している #9365",Fixed,3.2.0,"Hello!

Our redmine works via https, in preferences https is set up. But gravatars still use http-image links.

Details in attached picture.

_Your prompt reply will be highly appreciated!_"
21847,Redmine,Patch,"",Closed,Normal,Let mobile header be fixed,Felix Gliesche,Jean-Philippe Lang,2016-03-12 11:01,UI - Responsive,3.2.1,"","","",0,2016-01-26 11:31,2016-03-12 11:01,関連している #24671,"","","It's a common pattern to have a fixed header for mobile devices in order to have important menu points always available instead having to scroll back to top.

This patch makes the header fixed on mobile devices."
21846,Redmine,Patch,"",Closed,Normal,Bulgarian translation (r15086),Ivan Cenov,"",2016-02-25 05:43,Translations,"","","","",0,2016-01-26 11:23,2016-02-25 05:43,"","","","Added
* error_ldap_bind_credentials"
21845,Redmine,Patch,"",Closed,Normal,Traditional Chinese translation (to r15095),ChunChang Lo,"",2016-02-25 12:54,Translations,"","","","",0,2016-01-26 03:28,2016-02-25 12:54,コピー元 #21506,"","","* New
** error_ldap_bind_credentials
"
21841,Redmine,Patch,"",New,Normal,Correctly export collections associated with issues.,Codru? Gu?oi,"",2016-03-23 05:10,Issues,"","","","",0,2016-01-25 17:32,"","","","","When you have a plugins that add a 1:m association to issues (say tags) and you want to export the associated entities the CSV and PDF exports give you a ActiveRecord_Associations_CollectionProxy object serialization as the column value.

This patch Fixes the behaviour for all mappable (or collectable if you prefer) objects (see attached before and after exports)."
21808,Redmine,Patch,"",Needs feedback,Normal,"Make the Sidebar collapsible, stateful",Daniel Ritz,"",2017-05-13 18:08,UI,Candidate for next major release,"","","",0,2016-01-23 21:58,"","関連している #12032, 関連している #10525, 関連している #24671, 関連している #25686, 次のチケットが重複 #5746","","","This adds a button to the sidebar to make it collapsible. The state is preserved between requests with a cookie.

This seems to be a feature that is missed. There's a few plugins that implement something similar. Some of them:
* https://www.redmine.org/plugins/sidebar_hide
* http://www.redmine.org/projects/redmine/wiki/PluginCollapse
* https://github.com/thambley/redmine-sidebar-hide

And there are related issues, at least: #12032, #10525

Because of high demand from my users, I did something similar in a theme at work. This is basically that plus it's stateful now.

This patch:
* Adds the relative URL root as a meta property in the head tag
* Adds a simple <a> to the sidebar as collapse/expand button
* Makes the .content a BFC taking the remaining width
* Few lines of javascript to toggle CSS and set a cookie
* Sidebar is hidden by setting its margin-right
* Nice hiding animation using CSS for browsers that support it
* The state of the sidebar is read from the cookie and applied on page load
* Good theming support since it's mostly just CSS

Based on r15095, passes all tests with Ruby 2.1.5. Tested on FF, Chrome, Safari (+ an earlier, stateless version on IE11)

Screenshot: !collapsible_sidebar.png!"
21805,Redmine,Patch,"",Closed,Normal,Improve accessibility for icon-only links,Daniel Ritz,Jean-Philippe Lang,2016-03-20 10:36,UI,3.3.0,"","","",0,2016-01-23 18:55,2016-03-20 10:36,"","","","Per #21256-9, this patch adds invisible @<span class=""hidden-for-sighted"">@ as part of icon-only links to improve accessibility. The text in the span is automatically set to the :title attribute of the link.

Based on r15093, passes all tests with Ruby 2.1.5"
21779,Redmine,Defect,"",Closed,Normal,"Specific contents causes page not found on issue,documents, wiki",Aleksandar Pavic visit redminecookbook.com,"",2017-01-11 14:31,Documents,"","","","",0,2016-01-21 13:12,2017-01-11 14:31,"",Invalid,3.1.2,"Redmine info:
<pre>
Environment:
  Redmine version                3.1.2.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
</pre>

*The problem occurs only with Apache mod security turned on.
*
Redmine log:
<pre>
Started GET ""/500.shtml"" for 94.247.200.2 at 2016-01-21 02:51:52 -0500

ActionController::RoutingError (No route matches [GET] ""/500.shtml""):
  actionpack (4.2.4) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.4) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.4) lib/rails/engine.rb:518:in `call'
  railties (4.2.4) lib/rails/application.rb:165:in `call'
  railties (4.2.4) lib/rails/railtie.rb:194:in `public_send'
  railties (4.2.4) lib/rails/railtie.rb:194:in `method_missing'
  passenger (4.0.45) lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
  passenger (4.0.45) lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
  passenger (4.0.45) lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
  passenger (4.0.45) lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'

</pre>

Content causing the issue:
[[http://apaste.info/rA2]]"
21776,Redmine,Patch,"",Closed,Normal,"Add status, assigned_to and done_ratio classes to issue subtasks",Marius BALTEANU,Jean-Philippe Lang,2016-03-15 23:16,UI,3.3.0,"","","",0,2016-01-21 00:58,2016-03-15 23:16,次のチケットが重複 #5193,"","","This patch is in addition to patch #21474 and adds:
# class status for status column
# class assigned_to for assignee column
# class done_ratio for  done column

The purpose is the same, to help theme developers and have the classes consistent."
21775,Redmine,Defect,"",Closed,Normal,"Field ""Done"" from issue subtasks table overlaps the layout in responsive mode, width 400",Marius BALTEANU,Jean-Philippe Lang,2016-03-12 09:32,UI - Responsive,3.2.1,"","","",0,2016-01-21 00:32,2016-03-12 09:32,"",Fixed,3.2.0,"*Steps to reproduce:*
# Open an issue with subtasks
# Resize the browser to the minimum width (400px in my case, Chrome, latest version) 
# Observe the field Done that overlaps the layout.

!before.png!

I checked also the issues listing (project/issues) and there the problem doesn't reproduce because of the div ""autoscroll"" that makes that block scrollable also on horizontal. 

Attached is a patch that adds that div for issue subtasks and relations.

After I applied the patch:
!after.png!

"
21772,Redmine,Defect,"",Closed,Normal,Send mail option,erdi YILMAZ,"",2016-01-20 16:30,Email notifications,"","","","",0,2016-01-20 15:42,2016-01-20 16:30,"","","",my redmine send mail in my domain but can't send mail some user who is not in my domain
21770,Redmine,Defect,"",New,Low,Preview does not work on non-ascii data input,Simeon Felis,"",2016-01-21 09:49,"","","","","",0,2016-01-20 14:05,"","","",3.1.3,"The following content will break the preview option.



<pre>
insert content of non-ascii_content.txt here
</pre>

When opening the debug console in chrome, I can see the following:

<pre>
4 jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4 Uncaught URIError: URI malformed
39 jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4 Uncaught URIError: URI malformede
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4(anonymous function)
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4m.extend.each
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:2m.param
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4m.fn.extend.serialize
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4submitPreview
 @ application.js:414onclick
 @ new:320
</pre>

Looks dangerous to me when user-content breaks the javascript. Obviously some parsing problems. There is probably some 0x00 in the content."
21766,Redmine,Defect,"",New,Normal,CSV import does keep the project it was clicked from,Olivier Houdas,"",2016-01-20 14:54,Importers,"","","","",0,2016-01-20 12:04,"","","",3.2.0,"When clicking the new Import link in the side bar menu of Issues, the project information seems to be lost.

There are several consequences:
# Clicking the sidebar links in one of the import steps has various consequences, from no action (custom queries) to Error 500 (Calendar, Gantt)
# When reaching the field mapping step, there is a project which is preselected, but not the one the import link was clicked from."
21758,Redmine,Defect,"",Closed,Normal,Cannot specify parent task if has linked related issue,Vasil Kovalevsky,"",2016-02-18 04:16,Issues,"","","","",0,2016-01-19 07:18,2016-01-19 07:31,次のチケットと重複 #13654,Duplicate,"","Hello.
We found one bug, maybe feature (very strange feature).

Description:
* We have 3 tasks: Task 0, Task 1 and Task 2.
* ""Task 1"" related to ""Task 2"" (simple relation ""Related to"" added from ""Task 1"" important).
* ""Task 2"" has parent task is ""Task 0""

Now we need to specify parent task for ""Task 1"" and we select ""Task 0"". So RM says that ""Parent task is invalid"". Why ?

Hm, ok, lets deceive RM:
* remove relation between ""Task 1"" and ""Task 2""
* again link ""Task 1"" to ""Task 0"" by field parent task (linked, good)
* and again add relation between ""Task 1"" and ""Task 2"" (simple relation ""Related to"")
Decive again:
* remove relation between ""Task 1"" and ""Task 2""
* add related to but from ""Task 2""
* and link ""Task 1"" to ""Task 0"" by field parent task (linked, good)


Why it happened:
* issue.rb:validate_issue checks ""@parent_issue.all_dependent_issues.include?(self)"". And there is ""self"" issue, bacause in method gets all childs (Task 2) and gets all related issues by field issue_from_id ""Task 2.relations_from.map(&:issue_to)"" and, of course, there is self issue.

How to fix: exclude from method ""all_dependent_issues"" relations with type ""TYPE_RELATES"" (maybe and others dont want to check triggers in issue model) => ""current_issue.relations_from.where('relation_type <> ?', IssueRelation::TYPE_RELATES)""
This methods using only in 2 places: issue.rb:validate_issue and issue_relation.rb:validate_issue_relation

Our RM info:
* database manager version - 5.5.45-MariaDB
* Ruby version - 2.2.1-p85 (2015-02-26) [x86_64-linux]
* Rails version 4.2.5
* Redmine version - 3.2.0.stable
* using plugins - none (clear install)"
21747,Redmine,Patch,"",Closed,Normal,Catalan translation,Helder Manuel Torres Vieira,"",2016-01-31 03:41,Translations,3.3.0,"","","",0,2016-01-18 16:22,2016-01-31 03:41,"関連している #23250, 関連している #24003","","","Catalan translation for version 3.2.x

Fully Updated and Checked."
21746,Redmine,Defect,"",Closed,Normal,Truncate email not working,Ben Blanco,"",2016-03-02 13:10,Email receiving,"","","","",0,2016-01-18 15:47,2016-03-02 13:10,"","",3.2.0,"I'm trying to get incoming emails truncated, to no avail.

my config:

redmine 3.2.0 stable
ruby 2.1.x
email IMAP fetching working fine via Rufus scheduler gem

In Admin/Settings/Incoming emails, I put *@---cutoff---@*, which I then manually add to my test emails, but it gets imported & added to new Issues as well as all the lines below it, cf. screenshot:

!redmine_truncate_incoming_email.png!

My redmine instance is set to use Markdown, so just in case this was related, I tested w/ Textile activated - but emails still not being truncated at all.

Last - I've been sending test emails using Gmail, in case it has an impact."
21742,Redmine,Defect,"",Closed,Normal,Received text attachments doesn't hold the original encoding on Ruby >= 2.1,Pavel Rosick?,"",2016-03-04 08:43,Email receiving,3.3.0,"","","",0,2016-01-17 18:44,2016-03-04 08:43,"","","","Hello,
if I send an email with .txt file encoded in ISO 8859-2, it's received from the mailbox and saved to /files, but the encoding is different (some characters are lost). I think this is originaly caused by the utf-8 header added by email clients. In my opinion attachments shouln't be reencoded. Am I missed somethig?

Attached patch fixes the issue.

<pre>
Content-Type: text/plain;
charset=utf-8
Content-Transfer-Encoding: base64

Environment:
  Redmine version                3.2.0.devel.15058
  Ruby version                   2.1.5-p273 (2014-11-13) [i386-mingw32]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.13
  Git                            1.9.5
  Filesystem
Redmine plugins:
  no plugin installed
</pre>"
21741,Redmine,Defect,"",Closed,Normal,Authorized error on download attachment of note,Mostafa Mirmousavi,"",2016-02-13 04:39,Attachments,"","","","",0,2016-01-16 15:58,2016-02-13 04:39,"",Invalid,"","I updated redmine to version 3.2, and attachments in note not work.
I can download other attachment but when download attachment of note show this error:
> You are not authorized to access this page.

<pre>
Environment:
  Redmine version                3.2.0.stable                                        [0/516]
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux-gnu]                 
  Rails version                  4.2.5                                                      
  Environment                    production                                                 
  Database adapter               PostgreSQL                                                 
SCM:                                                                                        
  Subversion                     1.8.8                                                      
  Darcs                          2.8.4                                                      
  Mercurial                      2.8.2                                                      
  Cvs                            1.12.13                                                    
  Bazaar                         2.7.0                                                      
  Git                            2.7.0                                                      
  Filesystem                                                                                
Redmine plugins:                                                                            
  redmine_agile                  1.3.12                                                     
  redmine_ckeditor               1.1.3                                                      
  redmine_contacts               4.0.4                                                      
  redmine_contacts_invoices      4.0.3                                                      
  redmine_graphs                 0.1.0  
</pre>"
21740,Redmine,Patch,"",Closed,Low,"Fixes misspelled word ""RMagcik"" in configuration.yml.example",Tatsuya Saito,Jean-Philippe Lang,2016-01-21 05:44,Documentation,3.2.1,"","","",0,2016-01-16 15:23,2016-01-21 05:44,"","","","Comments in configuration.yml.example has a word of ""RMagcik"" but probably ""RMagick"" is correct."
21738,Redmine,Patch,"",Closed,Normal,Add .sql to mime-types,Benedikt Huss,Jean-Philippe Lang,2016-01-16 08:45,Attachments,3.3.0,"","","",0,2016-01-15 18:50,2016-01-16 08:45,"","","","Since we are often attaching simple sql-scripts to issues, it would be helpful if the user can watch these scripts directly.

I have added the extension _.sql_ to the mime-type 'text/plain'"
21731,Redmine,Defect,"",New,Normal,blue footer in exported PDF,Rasca G.,"",2016-01-14 16:38,PDF export,"","","","",0,2016-01-14 16:07,"","","",3.1.2,"If there is a list (""@*@"") of page links at the end of an PDF page which will be continued with more items on the next page after a page break the footer will be blue.
e.g.:
<pre>
[..]
* [[Page2]]
* [[Page3]]
* [[Page4]]
</pre>
See attached PNG"
21730,Redmine,Defect,"",New,Normal,Local links (#jumpToHere) are not exported as references inside an exported PDF,Rasca G.,"",2016-01-14 17:55,PDF export,"","","","",0,2016-01-14 15:56,"",関連している #18043,"",3.1.2,"If the Wiki page contains an local reference to a sub headline, e.g. @[[myPage#whereToGo]]@ the reference is not usable as an jump target inside the exported PDF file. It looks like a link (blue, underlined), but clicking on it will not scroll to the target."
21729,Redmine,Defect,"",Closed,Normal,Table of content (TOC macro) is not exported to PDFs,Rasca G.,"",2016-01-16 01:29,PDF export,"","","","",0,2016-01-14 15:48,2016-01-16 01:29,次のチケットと重複 #19133,Duplicate,3.1.2,While exporting a Wiki page to a PDF file an included TOC is not exported. When HTML is used for the export instead of PDF the TOC is included.
21705,Redmine,Patch,"",Closed,Normal,Option for long text custom fields to be displayed using full width,Marius BALTEANU,Jean-Philippe Lang,2017-06-07 07:35,Custom fields,3.4.0,"","","",0,2016-01-12 22:43,2017-03-03 18:27,"関連している #3543, 関連している #25052, 関連している #26081, 次のチケットが重複 #10021, 次のチケットが重複 #19122, 次のチケットが重複 #8447","","","There are many cases when the long text custom fields can contain a lot of text that makes the issue page view not so friendly for the users. For example, in our company, we have 3 fields with a lot of text:
# Testing Steps
# Release Notes
# Acceptance Criteria

Issue page now only with first 2 fields:
!default.png!

The attached patch add a new option called show_under_description for long text custom fields that if is checked, render that fields under the description field.
!under_desc.png!

If you find this change useful, I can add tests to the patch. Also, any feedback regarding the patch or this functionality is welcome. 

I think that this issue is related to #3543, but with another implementation."
21704,Redmine,Defect,"",Closed,Normal,mail handler crashes if there are CC entries,Scott Selberg,"",2016-01-13 02:06,Email receiving,"","","","",0,2016-01-12 21:51,2016-01-13 02:06,"",Invalid,3.2.0,"I've recently updated several instances to Redmine 3.2 and the mail handling is failing

NameError (uninitialized class variable @@handler_options in MailHandler):
  app/models/mail_handler.rb:213:in `receive_issue'
  app/models/mail_handler.rb:190:in `dispatch_to_default'
  app/models/mail_handler.rb:175:in `dispatch'
  app/models/mail_handler.rb:150:in `receive'
  app/models/mail_handler.rb:49:in `block in receive'
  app/models/mail_handler.rb:46:in `receive'
  app/controllers/mail_handler_controller.rb:29:in `index'

Line 213 in 'receive_issue' is: 
add_watchers(issue)

If I comment this line out, everything works as expected.

I am setup with LDAP for users and have the following pass flags being set: --no-account-notice, --default-group ""<MyGroup> --allow-override=all --no-permission-check --unknown-user create






"
21701,Redmine,Defect,"",Closed,Normal,"Using the filter ""Assignee's Group"" in the issue list shows all groups",Robert Barnebeck,"",2016-01-12 16:02,Issues filter,"","","","",0,2016-01-12 14:56,2016-01-12 16:02,"",Invalid,3.1.2,"When a user is restricted to only one project, where for example only two user groups are added, the user can nevertheless see all groups from the whole application. We name the groups after our customer companies, so every customer can see all other customer companies, which is too much transparacy for us ;-)"
21695,Redmine,Defect,"",Closed,Normal,"Warning ""Can't mass-assign protected attributes for IssueRelation: issue_to_id""",Markus Flattinger,Jean-Philippe Lang,2016-02-08 04:36,Code cleanup/refactoring,3.3.0,"","","",0,2016-01-11 12:25,2016-01-16 09:57,"",Fixed,3.1.3,"<pre>
WARNING: Can't mass-assign protected attributes for IssueRelation: issue_to_id
	app/models/issue_relation.rb:89:in `initialize'
	app/controllers/issue_relations_controller.rb:43:in `create'
	lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

<pre>
Environment:
  Redmine version                3.1.3.stable.15058
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Darcs                          2.8.5
  Mercurial                      3.1.2
  Cvs                            1.12.13
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem
Redmine plugins:
  redmine_agile                  1.3.8
  redmine_pretend                0.0.3
</pre>
"
