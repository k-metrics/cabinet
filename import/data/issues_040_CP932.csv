#,ÉvÉçÉWÉFÉNÉg,ÉgÉâÉbÉJÅ[,êeÉ`ÉPÉbÉg,ÉXÉeÅ[É^ÉX,óDêÊìx,ëËñº,çÏê¨é“,íSìñé“,çXêVì˙,ÉJÉeÉSÉä,ëŒè€ÉoÅ[ÉWÉáÉì,äJénì˙,ä˙ì˙,ó\íËçHêî,êiíªó¶,çÏê¨ì˙,èIóπì˙,ä÷òAÇ∑ÇÈÉ`ÉPÉbÉg,Resolution,Affected version,ê‡ñæ
20495,Redmine,Defect,"",Closed,Normal,How to add pagination in redmine plugin.,nikhil thombare,"",2015-08-08 04:34,"","","","","",0,2015-08-07 18:27,2015-08-08 04:34,"",Invalid,3.1.0,""
20492,Redmine,Defect,"",Closed,Normal,"Forum e-mail ""My Account"" link shows hostname/my/account",Bruce Pieterse,"",2015-08-08 09:46,Email notifications,"","","","",0,2015-08-07 00:20,2015-08-07 02:29,"",Invalid,3.1.0,"Hi,

I have noticed that the forum e-mails generated are showing http://hostname/my/account in the footer.

The link in the header of the forum topic/subject is correct and uses the hostname from the settings page.

Thanks"
20490,Redmine,Defect,"",Closed,Normal,WARNING: Can't mass-assign protected attributes for User,Pavel Potcheptsov,Jean-Philippe Lang,2015-09-12 13:12,Administration,3.1.1,"","","",0,2015-08-06 12:54,2015-09-12 13:12,"",Fixed,3.1.0,"I got this warning when untick _Administrator_ in user's settings.
I also thought that I will be asked for password as required by new Sudo mode, but I haven't been asked.
<pre>
WARNING: Can't mass-assign protected attributes for User: login
	lib/redmine/safe_attributes.rb:84:in `safe_attributes='
	app/controllers/users_controller.rb:135:in `update'
	lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
20483,Redmine,Defect,"",Closed,Normal,V3.1/FC20 died  NameError: uninitialized constant ActionView::Helpers::ActiveModelHelper,Pat Laporte,"",2015-08-06 01:21,"","","","","",0,2015-08-05 18:10,2015-08-06 01:21,éüÇÃÉ`ÉPÉbÉgÇ∆èdï° #19952,Duplicate,3.1.0,"Hello all,

 
I saw some issue for W32 but I'm on fedora 20   
My installation fail (twice) with  the same command,  when I tried to generate a secret token 

Any ideas  to help  or advice  on  this issue and
which version to run  on centos or fedora ?

Thank You !
plap

ruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-linux]

[plap@hawaii redmine]$ /usr/local/bin/bundle   exec rake generate_secret_token --trace

rake aborted!
NameError: uninitialized constant ActionView::Helpers::ActiveModelHelper
/usr/local/share/gems/gems/actionview-4.2.3/lib/action_view/helpers.rb:40:in `<module:Helpers>'
/usr/local/share/gems/gems/actionview-4.2.3/lib/action_view/helpers.rb:4:in `<module:ActionView>'
/usr/local/share/gems/gems/actionview-4.2.3/lib/action_view/helpers.rb:3:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.3/lib/action_view/base.rb:5:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.3/lib/action_view/view_paths.rb:1:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.3/lib/abstract_controller/rendering.rb:4:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.3/lib/action_controller/base.rb:204:in `<class:Base>'
/usr/local/share/gems/gems/actionpack-4.2.3/lib/action_controller/base.rb:164:in `<module:ActionController>'
/usr/local/share/gems/gems/actionpack-4.2.3/lib/action_controller/base.rb:5:in `<top (required)>'
/var/www/apache/.gem/ruby/gems/actionpack-action_caching-1.1.1/lib/action_controller/action_caching.rb:13:in `<top (required)>'
/var/www/apache/.gem/ruby/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `require'
/var/www/apache/.gem/ruby/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `<top (required)>'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler/runtime.rb:85:in `require'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler/runtime.rb:85:in `rescue in block in require'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler/runtime.rb:68:in `block in require'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler/runtime.rb:61:in `each'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler/runtime.rb:61:in `require'
/var/www/apache/.gem/ruby/gems/bundler-1.10.6/lib/bundler.rb:134:in `require'
/WWW/redmine-3.1.0/config/application.rb:5:in `<top (required)>'
/WWW/redmine-3.1.0/Rakefile:5:in `require'
/WWW/redmine-3.1.0/Rakefile:5:in `<top (required)>'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:689:in `raw_load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:94:in `block in load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:93:in `load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:77:in `block in run'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'
/usr/local/share/gems/gems/rake-10.4.2/bin/rake:33:in `<top (required)>'
/usr/local/bin/rake:23:in `load'
/usr/local/bin/rake:23:in `<main>'


____


[plap@hawaii redmine]$ gem list --local

*** LOCAL GEMS ***

actionmailer (4.2.3)
actionpack (4.2.3)
actionpack-action_caching (1.1.1)
actionpack-xml_parser (1.0.2)
actionview (4.2.3)
activejob (4.2.3)
activemodel (4.2.3)
activerecord (4.2.3)
activerecord-mysql2-adapter (0.0.3)
activesupport (4.2.3)
arel (6.0.3, 6.0.2)
bigdecimal (1.2.0)
builder (3.2.2)
bundler (1.10.6)
coderay (1.1.0)
erubis (2.7.0)
globalid (0.3.6, 0.3.5)
i18n (0.7.0)
io-console (0.4.2)
jquery-rails (3.1.3)
json (1.8.3, 1.7.7)
loofah (2.0.2)
mail (2.6.3)
mime-types (2.6.1)
mini_portile (0.6.2)
minitest (5.7.0)
mysql2 (0.3.19)
net-http-persistent (2.9.4)
net-ldap (0.3.1)
nokogiri (1.6.6.2)
passenger (5.0.15)
protected_attributes (1.1.3)
psych (2.0.0)
rack (1.6.4)
rack-openid (1.4.2)
rack-test (0.6.3)
rails (4.2.3)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.6)
rails-html-sanitizer (1.0.2)
railties (4.2.3)
rake (10.4.2)
rbpdf (1.18.6)
rdoc (4.0.1)
redcarpet (3.1.2)
request_store (1.0.5)
rmagick (2.15.3)
ruby-openid (2.3.0)
sprockets (3.2.0)
sprockets-rails (2.3.2)
thor (0.19.1, 0.18.1)
thread_safe (0.3.5)
tzinfo (1.2.2)

"
20479,Redmine,Defect,"",New,Normal,Undocumented pagination support for API,Tommaso Visconti,"",2015-08-05 10:55,Documentation,"","","","",0,2015-08-05 10:55,"","","","","It's not documented the possibility to use the @page@ param instead of the @offset@ param.

The @ApplicationController.api_offset_and_limit@ method automatically calculate the offset if the @page@ param is present"
20474,Redmine,Defect,"",Closed,Normal,"You can not edit notes in 3.1.0 release, Save button is not working.",Omer Arslan,"",2015-09-28 15:03,Issues,"","","","",0,2015-08-04 20:51,2015-09-28 15:03,éüÇÃÉ`ÉPÉbÉgÇ∆èdï° #20380,Duplicate,3.0.4,""
20473,Redmine,Patch,"",Closed,Normal,Respect the user's timezone when querying issues,Holger Just,"",2016-03-26 09:48,Issues,"","","","",0,2015-08-04 18:52,2016-03-26 09:48,"ä÷òAÇµÇƒÇ¢ÇÈ #19033, éüÇÃÉ`ÉPÉbÉgÇ∆èdï° #22320","","","When querying issues and using date-based filters like ""today"" or ""3 days ago"" or ""last month"", Redmine uses the current date according to the server's local time as a reference. This might however not be the day in the user's timezone if they use a different one as the server. These queries can then show unexpected issues that do not match the filter according to the user's timezone.

Furthermore, even if the date is correct, the exact cut-off time still needs to be done in the user's timezone. Suppose the server is set to GMT and the user has configured Europe/Berlin (GMT+2:00 right now) as their time zone. When querying for all issues updated yesterday, the result should include all issues updated between 2015-08-03 02:00:00 GMT and 2015-08-04 01:59:59 GMT. Right now, it would however only include issues updated between 2015-08-03 00:00:00 GMT and 2015-08-03 23:59:59 GMT.

The attached patch against the current trunk fixes both of these issues by applying the following changes to the query model:

* It calculates the cut-of time based on the current user timezone instead of assuming midnight at server-local time
* it uses @User.current.today@ instead of @Date.today@ to get the correct reference day in the user's timezone

The patch was extracted from ""Planio"":https://plan.io/redmine-hosting/."
20472,Redmine,Defect,"",New,Normal,Filtered API calls delete CORS,Tommaso Visconti,"",2015-08-04 17:51,REST API,"","","","",0,2015-08-04 17:51,"","","",2.6.0,"This is a strange behaviour of the API. I'm using rack-cors to enable API consuming by other apps (Ember.js).

When using various endpoints (/issues.json, time_entries.json, projects.json) everything is ok.

With this specific call, CORS headers aren't added to the response and the browser blocks the request with the ""famous"" error: @No 'Access-Control-Allow-Origin' header is present on the requested resource@
The call is:

<pre>
/time_entries.json?user_id=<ID>
or
/time_entries.json?user_id=me
</pre>

The only added header is:

<pre>
X-Rack-CORS: preflight-hit; no-origin
</pre>

If I change the param with something not recognized by redmine (e.g. ?wrong_param=me), everything works well (the response isn't filtered). So the problem seems to be related to the filtering of the time entries by user.
Maybe with this particular filtering redmine creates a different response which avoid the rack-cors action?

The correct headers, added by rack-cors, should be:

<pre>
Access-Control-Allow-Origin: http://localhost:4200
Access-Control-Allow-Methods: GET, POST, DELETE, PUT, OPTIONS, HEAD
Access-Control-Max-Age: 0
Access-Control-Allow-Credentials: true
X-Rack-CORS: hit
</pre>"
20470,Redmine,Defect,"",New,Normal,Markdown Emphasis in a word didn't work properly.,Ren? van Dorst,"",2015-08-04 10:39,Text formatting,"","","","",0,2015-08-04 10:39,"","","",3.1.0,"I was trying Markdown in 3.1.0.

Accourding to http://daringfireball.net/projects/markdown/syntax#em it is posiable to use emphasis inside a word.

Qoute:
<pre>You can use whichever style you prefer; the lone restriction is that the same character must be used to open and close an emphasis span.

Emphasis can be used in the middle of a word:

un*frigging*believable
</pre>

My Markdown code:
<pre>
un*frigging*believable

un_frigging_believable

un***frigging***believable

un__frigging__believable

un___frigging__believable
</pre>

HTML output:

<pre><code class=html><p>un*frigging*believable</p>

<p>un_frigging_believable</p>

<p>un*<strong>frigging</strong>*believable</p>

<p>un_<em>frigging</em>_believable</p>

<p>un_<strong>frigging</strong>believable</p>

<p>*this text is surrounded by literal asterisks*</p></code></pre>

HTML output should be:

<pre><code class=html><p>un<em>frigging</em>believable</p>

<p>un<em>frigging</em>believable</p>

<p>un<em><strong>frigging</strong></em>believable</p>

<p>un<strong>frigging</strong>believable</p>

<p>un_<strong>frigging</strong>believable</p>

<p>*this text is surrounded by literal asterisks*</p></code></pre>


Environment:
  Redmine version                3.1.0.stable.14476
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem
Redmine plugins:
  no plugin installed
"
20469,Redmine,Defect,"",Needs feedback,Normal,Document Access,santhosh narayana,"",2015-08-23 16:48,Documents,"","",2015-09-05,"",0,2015-08-04 05:38,"","","",2.5.1,"Have two projects : Project1, Project2

Member1 assigned to Project1, Member2 assigned to Project2.

Member1 uploaded document, doc1 in one of the issue under Project1
Member2 uploaded document, doc2 in one of the issue under Project2

Member1 able to access doc2 !
https://<application.com>/requests_download/40924

Member2 able to access doc1 !
https://<application.com>/requests_download/40923

Found that anyone can access any document - document added in wiki page, file uploaded in an issue, documents added in ""Files"" module.

Please let us know how to fix this ?"
20468,Redmine,Defect,"",Closed,Normal,Clicking on username results in 500 internal error after upgrade,angie brandt,"",2015-08-15 16:27,"","","","","",0,2015-08-04 03:05,2015-08-15 16:27,"",Invalid,3.1.0,"I just made the switch to redmine 3.1.0 and everything works great except for clicking on the username link. 

example: http://redmine.dummysite.com/users/90  results in 500 internal error. 

Log  below:
<pre>
Started GET ""/users/1"" for 104.5.4.92 at 2015-08-04 00:46:11 +0000
Processing by UsersController#show as HTML
  Parameters: {""id""=>""1""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 7.4ms)


NoMethodError (undefined method `find_events' for #<Class:0x0000000c0197b0>):
  lib/redmine/activity/fetcher.rb:91:in `block (2 levels) in events'
  lib/redmine/activity/fetcher.rb:90:in `each'
  lib/redmine/activity/fetcher.rb:90:in `block in events'
  lib/redmine/activity/fetcher.rb:89:in `each'
  lib/redmine/activity/fetcher.rb:89:in `events'
  app/controllers/users_controller.rb:75:in `block (2 levels) in show'
  app/controllers/users_controller.rb:73:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
20466,Redmine,Defect,"",Closed,Normal,Broken email notification layout in Outlook ,Benedikt Huss,"",2015-09-10 17:28,Email notifications,3.1.1,"","","",0,2015-08-03 14:31,2015-08-31 09:29,"ä÷òAÇµÇƒÇ¢ÇÈ #16535, ä÷òAÇµÇƒÇ¢ÇÈ #8335, éüÇÃÉ`ÉPÉbÉgÇ™èdï° #20549, éüÇÃÉ`ÉPÉbÉgÇ™èdï° #20637",Fixed,3.1.0,"In #16535 a new style for emails was introduced. Obviously, this new style was not applied to reminder mails. Every textline is displayed on a white background with absolutely no margins, while the email body background is light gray.

It just looks broken at the momement.

"
20465,Redmine,Defect,"",Needs feedback,Normal,MailHandler: ignoring email with Auto-Submitted:auto-generated header,Benoit BRETON,"",2015-12-04 23:31,Email receiving,"","","","",0,2015-08-03 13:39,"",ä÷òAÇµÇƒÇ¢ÇÈ #16190,"",3.1.0,"I think there's a little bug in the processing file ""mail_handler.rb"" a line 84. 

It should be replaced:

???? 'Auto-Submitted' => / \ Aauto- (Replied | generated) /,
by
???? 'Auto-Submitted' => / \ ^ self (Replied | generated) /,"
20464,Redmine,Defect,"",Closed,Normal,Internal error,Evgeniy Kagarlytsky,"",2015-08-31 05:52,"","","","","",0,2015-08-03 11:08,2015-08-31 05:52,"",No feedback,"","> # ruby -v
> ruby 2.2.1p85 (2015-02-26 revision 49769) [x86_64-linux]
> # gem --version
> 2.4.8
> redmine 3.0.4


*Create new user:*

> Internal error
> 
> An error occurred on the page you were trying to access.
> If you continue to experience problems please contact your Redmine administrator for assistance.
> 
> If you are the Redmine administrator, check your log files for details about the error.
> 
> Back

*Production.log:*

> ActionView::Template::Error (undefined method `l_hours_short' for #<#<Class:0x007ff1a16f4510>:0x007ff1a263a6c8>):
> 59:   end
> 60:   unless @issue.disabled_core_fields.include?('estimated_hours')
> 61:     unless @issue.total_estimated_hours.nil?
> 62:       rows.right l(:field_estimated_hours), issue_estimated_hours_details(@issue), :class => 'estimated-hours'
> 63:     end
> 64:   end
> 65:   if User.current.allowed_to_view_all_time_entries?(@project)
> app/helpers/issues_helper.rb:119:in `issue_estimated_hours_details'
> app/views/issues/show.html.erb:62:in `block in _app_views_issues_show_html_erb___1793108407052780376_43601480'
> app/helpers/issues_helper.rb:201:in `issue_fields_rows'
> app/views/issues/show.html.erb:37:in `_app_views_issues_show_html_erb___1793108407052780376_43601480'
> app/controllers/issues_controller.rb:118:in `block (2 levels) in show'
> app/controllers/issues_controller.rb:115:in `show'
> lib/redmine/sudo_mode.rb:63:in `sudo_mode'

Help me please."
20463,Redmine,Defect,"",Closed,Normal,Internal error when moving an issue to a project without selected trackers and active issue tracking,Ivan Cenov,Jean-Philippe Lang,2015-09-20 13:38,Issues,3.2.0,"","","",0,2015-08-03 10:46,2015-09-20 13:19,"",Fixed,2.6.6,"Circumstances:
* Project hierarchy:
<pre>
PR1 (with issue tracking enabled and activated several trackers)
   PR1_C1 (with issue tracking enabled and none trackers activated)
</pre>
* Issue, defined in PR1, assigned a tracker

Action:
* Move the issue from PR1 to PR1_C1.

Result:
Internal error.

<pre>
Started PUT ""/issues/2885"" for 192.168.xxx.xxx at 2015-07-30 12:40:54 +0300
Processing by IssuesController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""9bqERxUbYbjA8eewrwerwwefH6kQGImlUcm5IgKc6wkY="", ""issue""=>{""is_private""=>""0"", ""project_id""=>""383"", ""subject""=>""xxxxxxxxxxxxxxxxx"", ""description""=>""xxxxxxxxxxxxxxxxxxx"", ""status_id""=>""2"", ""priority_id""=>""4"", ""assigned_to_id""=>""3"", ""parent_issue_id""=>"""", ""start_date""=>""2015-06-10"", ""due_date""=>"""", ""estimated_hours""=>"""", ""done_ratio""=>""0"", ""custom_field_values""=>{""2""=>[""""], ""3""=>[""""], ""4""=>[""""]}, ""checklists_attributes""=>{""0""=>{""is_done""=>""0"", ""subject""=>"""", ""_destroy""=>""false"", ""position""=>""1"", ""id""=>""""}}, ""notes""=>"""", ""private_notes""=>""0"", ""lock_version""=>""4""}, ""time_entry""=>{""hours""=>"""", ""activity_id""=>""13"", ""comments""=>""""}, ""last_journal_id""=>""11173"", ""commit""=>""ÑIÑxÑÅÑÇÑpÑãÑpÑ~Ñu"", ""id""=>""2885""}
  Current user: xxx (id=3)
  Rendered issues/edit.html.erb within layouts/base (31.2ms)
Completed 500 Internal Server Error in 109.4ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: <h2><%=h ""#{@issue.tracker.name} ##{@issue.id}"" %></h2>
    2: 
    3: <%= render :partial => 'edit' %>
    4: <% content_for :header_tags do %>
  app/views/issues/edit.html.erb:1:in `_app_views_issues_edit_html_erb__803754913_24533328'
  app/controllers/issues_controller.rb:207:in `block (2 levels) in update'
  app/controllers/issues_controller.rb:206:in `update'
</pre>"
20456,Redmine,Defect,"",Closed,Normal,3.1-stable/3.1.0: missing commits (omitted from being merged from trunk),Mischa The Evil,Jean-Philippe Lang,2015-09-19 09:30,"",3.1.1,"","","",0,2015-08-01 10:10,2015-09-19 09:30,ä÷òAÇµÇƒÇ¢ÇÈ #11253,Fixed,3.1.0,"This was reported initially by _Ryosuke Hirai_ in #11253-38:
> it seems that issue_query.rb @ Revistion 14406 was not applied to the source code of 3.1.0. I could not find this part after downloading.

After I read that I started another round of commit hunting. I have summed up the issues I found ? and how I found them, using some ASCII-""art"". See below.
I'll start with a to-do section which list the commits that needs to be merged in 3.1-stable, the commits that can/should be merged in 3.1-stable and the commits that shouldn't be merged into 3.1-stable since they are related to issues that are explicitly targeted to 3.2.0 at the time of writing this.
Then I start a section which compares the commits on trunk versus the commits (backports/merges) on 3.1-stable which in the end provides a list of commits applied on trunk but not on 3.1-stable, which I in turn used to specify which commits belong to what and what should be done them. That itself is what I used to fill in the to-do section.
Note that I also include a third 'legend' section to make sure that my ""art"" can be understood ;-)...

<pre>
------------------------------
1. To do on 3.1-stable branch:
------------------------------

  * To merge...........: r14405, r14406, r14407, r14408, r14409, r14410, r14454
  * Merge-able.........: r14390, r14391, r14411, r14412, r14413, r14414, r14415, r14416
  * Shouldn't be merged: r14458, r14468, r14469, r14470, r14471


------------------------------
2. Commits scheme & reasoning:
------------------------------

v -> TRUNK
|
|
|
O -> r14378
|\
| \
v  --------->--------- O -> r14379, 3.1 STABLE BRANCH CREATION
v                       \
|                        ---->v
|                             |
8 ->   X14380, X14381, X14388,| X14389, r14390, r14391, X14392, X14394,
       X14396, r14405, r14406,| r14407, r14408, r14409, r14410, r14411,
       r14412, r14413, r14414,| r14415, r14416, X14417, X14428, X14429,
  --<< X14430, X14437, X14440,| X14443, X14446, X14448, X14450, X14451,
 /     r14454, X14455, X14419,| X14420, r14458, X14459, X14460, X14461,
/      r14468, r14469, r14470,| r14471                                  <<------<-
|                             |                                                  |\   
v                             v                                                  ^ ->  ((r => X) == (MARKED AS CONFIRMED AS MERGED
|                             |                                                  |/                  FROM TRUNK TO 3.1-STABLE))
|     --------------------->> | >>---------------------------------------------->-
|     |                       |
|     |                       8   -> r14382, r14385, r14393, r14395, r14397, r14400, r14403,
|     ^                              r14418, r14421, r14422, r14431, r14432, r14433, r14438,
|     ^                              r14441, r14444, r14447, r14449, r14452, r14453, r14456,
|     |                              r14462, r14463, r14464,                                  >>----
v     |                                                                                            |
v     ----------------------<<   Merged r14461, Merged r14460, Merged r14459, Merged r14455,       |  
|                                Merged r14450, Merged r14451, Merged r14448, Merged r14446,       O -> MERGE COMMITS, FROM TRUNK
|                                Merged r14443, Merged r14440, Merged r14437, Merged r14430,       O    TO 3.1-STABLE
|                                Merged r14429, Merged r14428, Merged r14420, Merged r14419,       |
|                                Merged r14417, Merged r14388, Merged r14389, Merged r14396,       |
|                                Merged r14394, Merged r14392, Merged r14380, Merged r14381,  <<----
|
|
v
v -> WRAPUP & CONCLUSION: COMMITS ON TRUNK AFTER 3.1-STABLE BRANCH CREATION, THAT ARE NOT MERGED INTO 3.1-STABLE
v
|
8 --> r14390, r14391,                                  --->>> NOT EXPLICIT 3.1.0, BUT IT WAS PROBABLY INTENDED FOR 3.1.X THOUGH
|
8 --> r14405, r14406, r14407, r14408, r14409, r14410,  --->>> EXPLICIT 3.1.0, #11253 AND RELATED
|
8 --> r14411, r14412, r14413, r14414,                  --->>> UNKNOWN, CAN BE BACK-PORTED TO 3.1: ""CODE (LAYOUT) CLEANUP & HTTP => HTTPS""
|
8 --> r14415, r14416,                                  --->>> UNKNOWN, MIGHT BE BACK-PORTABLE TO 3.1: ""TRAVIS CHANGES, #20251""
|
8 --> r14454,                                          --->>> EXPLICIT 3.1.0, ""BG LOCALE REORDER"", #11253 AND RELATED
|
8 --> r14458, r14468, r14469, r14470, r14471           --->>> EXPLICIT 3.2.0


----------
3. Legend:
----------

  *  -, >, >>, <, <<, ^, v: DIRECTION MARKERS
  *                      O: BRANCHPOINT, COMMIT
  *                      8: MULTIPLE COMMITS
  *                    -->: MULTIPLE COMMITS SPECIFICATION
  *                     ->: COMMENT
  *                     =>: == REPLACED BY
  *                 --->>>: CONCLUSION INDICATOR

</pre>

I'll leave the scheduling decision (strict: 3.2.0, lenient: 3.1.1) to the committers.

Please note that this issue brings me to issue #18134 again, and in particular to the questions I raised in its note #18134-5 (before ""The examples:""). If SCM-provided merge tracking features are used and maintained correctly, issues like this one and previous #18174 could have been spotted right on with some higher certainty. Just my two cents...

Kind regards, Mischa.
"
20454,Redmine,Defect,"",Closed,Normal,Mail handler: unwanted assignment to a group occurs,Alexander Ryabinovskiy,Jean-Philippe Lang,2015-09-12 12:59,Email receiving,3.0.5,"","","",0,2015-07-31 15:45,2015-09-12 12:59,ÉRÉsÅ[êÊ #20543,Fixed,3.1.0,"<pre>
  Environment:
  Redmine version                3.1.0.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               SQLServer
</pre>
I turned on ""Allow issue assignment to groups"" option in settings.
My project has 3 members: user1, user2 and group1.
1. I created an issue from email, not assigned:
<pre>rake redmine:email:receive_pop3 unknown_user=accept host=comp.local port=110 username=redmine@comp.local password=XXX allow_override=project,tracker,priority project=test</pre>
2. I received email notification from Redmine about that issue:
<pre>
Issue #1198 has been reported by Ryabinovskiy Alexander.

Work #1198: test issue from email
?	Author: Ryabinovskiy Alexander
?	Status: New
?	Priority: Normal
?	Assignee: 
?	Category: 
?	Target version: 
Test issue description
</pre>

3. I replied to that email with quoting, my comment was added to issue, but *""Assignee"" was changed to group1* !
<pre>
Updated by Ryabinovskiy Alexander less than a minute ago

Assignee set to group1
Comment Edit
Test comment 1

Issue #1198 has been reported by Ryabinovskiy Alexander.

Work #1198: test issue from email
Author: Ryabinovskiy Alexander

Category:

Test issue description
</pre>
*Also, Status, Priority, Target version was parsed from email*, but I used only allow_override=project,tracker,priority option!"
20452,Redmine,Patch,"",Closed,Normal,Czech localisation update,Karel Pi?man,"",2015-08-23 00:39,Translations,3.1.1,"","","",0,2015-07-31 15:24,2015-08-23 00:39,"","","",cs.yml and wiki help files updated
20449,Redmine,Defect,"",Closed,Normal,search problem,äC â©,"",2015-07-31 12:48,Issues,"","","","",0,2015-07-31 09:01,2015-07-31 12:48,"",Invalid,"","when we searching issues in the redmine, some projects' issues can be search out, some others projects' issues can't and get a Internal error. Below is the error logs, do anyone know what's wrong with it and how to fix it.
thanks!

Completed 200 OK in 1370.3ms (Views: 389.4ms | ActiveRecord: 682.6ms)
Started GET ""/projects/b751/issues/new"" for 127.0.0.1 at 2015-07-31 13:30:37 +0800
Processing by IssuesController#new as HTML
  Parameters: {""project_id""=>""b751""}
  Current user: DING.COM (id=19)
  Rendered plugins/redmine_multi_column_custom_fields/app/views/issues/_form_custom_fields.html.erb (109.1ms)
  Rendered issues/_attributes.html.erb (794.8ms)
  Rendered plugins/redmine_multiprojects_issue/app/views/issues/_projects_list.html.erb (3.0ms)
[1;32mDeface: [ERROR][0m The original source for 'add-multiple-projects-to-issue-form' has changed, this override should be reviewed to ensure it's still valid.
  Rendered issues/_form.html.erb (2185.1ms)
  Rendered issues/new.html.erb within layouts/base (2188.1ms)
Completed 500 Internal Server Error in 2237.1ms

ActionView::Template::Error (undefined method `h' for #<ViewsIssueHook:0xa9955b8>):
    30:   });
    31: </script>
    32: 
    33: <%= call_hook(:view_issues_form_details_bottom, { :issue => @issue, :form => f }) %><% end %><% heads_for_wiki_formatter %>
  lib/redmine/hook.rb:61:in `block (2 levels) in call_hook'
  lib/redmine/hook.rb:61:in `each'
  lib/redmine/hook.rb:61:in `block in call_hook'
  lib/redmine/hook.rb:58:in `tap'
  lib/redmine/hook.rb:58:in `call_hook'
  lib/redmine/hook.rb:158:in `call_hook'
  app/views/issues/_form.html.erb:33:in `block in _7d2cc83e84c2c9b5c240af8d8d9421fc'
  app/helpers/application_helper.rb:1048:in `labelled_fields_for'
  app/views/issues/_form.html.erb:1:in `_7d2cc83e84c2c9b5c240af8d8d9421fc'
  app/views/issues/new.html.erb:11:in `block in _1689e607405267736566660b46014f2a'
  app/helpers/application_helper.rb:1041:in `labelled_form_for'
  app/views/issues/new.html.erb:5:in `_1689e607405267736566660b46014f2a'
  app/controllers/issues_controller.rb:143:in `block (2 levels) in new'
  app/controllers/issues_controller.rb:142:in `new'"
20445,Redmine,Defect,"",Closed,Normal,"Custom Field of ""List"" format , ""Multi values"" throwing error in ""Project""",santhosh narayana,"",2015-08-02 08:44,Custom fields,"","","","",0,2015-07-31 06:15,2015-08-02 08:44,"",Invalid,2.5.1,"Added a custom field to ""Project.
Format=List
Multiple values =Yes
Display =drop-down list
Required =No
Visible =Yes


After adding this, when I try to create project, it is throwing following error :-

TypeError (can't convert Array into String): 


If I disable ""Multiple values"" [ that means, un checking this multiple values field], it works fine.

Redmine version is : Redmine 2.5.1.stable
"
20440,Redmine,Defect,"",New,Normal,Colon character on Wiki pages title doesnÅLt work,Cassiano Monteiro,"",2015-08-28 01:51,Wiki,"","","","",0,2015-07-29 19:22,"","","",3.0.0,"Tried to create a wiki page with the colon character on its title, and it doesnÅLt render properly, as seen below:

<pre>
h1. Wiki

[[Test with colon :]]

[[Test without colon]]
</pre>

Result:

!screenshot.png!

Tested on the online demo version 3.0.0.devel.14065."
20438,Redmine,Defect,"",Closed,Normal,Subject filter doesn't work with non ASCII uppercase symbols,Alexandr Raz,Jean-Philippe Lang,2015-08-02 10:32,Issues,3.2.0,"","","",0,2015-07-29 18:07,2015-08-02 10:32,ä÷òAÇµÇƒÇ¢ÇÈ #3536,Fixed,3.0.4,"If you search by containing cyrillic uppercase symbols, you get empty result. The query for search looks like 

@when ""~""
      sql = ""LOWER(#{db_table}.#{db_field}) LIKE '%#{self.class.connection.quote_string(value.first.to_s.downcase)}%'""@

but ruby function downcase wokrs only with latin symbols.

We add special private method:

@def like_operator(content)
        if Redmine::Database.postgresql?
          ""ILIKE '%#{content}%' ""
        else
          ""LIKE LOWER(#{content})""
        end
      end@

and override method sql_for_field 

@when ""~""
            sql = ""LOWER(#{db_table}.#{db_field}) #{like_operator(self.class.connection.quote_string(value.first.to_s.downcase))}""
          when ""!~""
            sql = ""LOWER(#{db_table}.#{db_field}) NOT #{like_operator(self.class.connection.quote_string(value.first.to_s.downcase))}""@

"
20437,Redmine,Defect,"",Closed,Normal,Unable to read email from stdin. Invalid option: --unknown-user,Pavel Potcheptsov,"",2015-08-29 05:25,Email receiving,"","","","",0,2015-07-29 16:32,2015-08-29 05:25,"",Invalid,2.6.5,"<pre>
Environment:
  Redmine version                2.6.5.stable.14266
  Ruby version                   1.9.3-p327 (2012-11-10) [i686-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
</pre>

<pre>
# cat /root/raw_email 
bla-bla

Project: it

# rake redmine:email:read RAILS_ENV=""production"" --unknown-user accept --no-permission-check priority=normal status=new tracker=task allow_override=project < /root/raw_email
invalid option: --unknown-user
# rake redmine:email:read RAILS_ENV=""production"" --unknown-user=accept --no-permission-check priority=normal status=new tracker=task allow_override=project < /root/raw_email
invalid option: --unknown-user=accept
</pre>
*Authentication required* is not selected.
*Anonymous* has *Add issues* permission and added to project with identifier *it*.
"
20436,Redmine,Defect,"",Needs feedback,Normal,mail handler attachment problem,Szabolcs Klement,"",2015-07-30 00:56,Email receiving,"","","","",0,2015-07-29 14:30,"","","",3.1.0,"Hi, the mail handler dont save the attachment in the files folder. The files folder have 777 permission. In version 3.0.3 the attachments was saved."
20429,Redmine,Defect,"",Closed,Normal,"Tracker with assignee field disabled, Is getting assigned with Assignee through Category",Rupesh  J,"",2015-10-22 13:10,Issues,"","","","",0,2015-07-29 07:42,2015-10-22 13:10,éüÇÃÉ`ÉPÉbÉgÇ∆èdï° #6889,Duplicate,3.0.1,"Hello,

Redmine version                3.0.3.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2

* On a tracker, disable the asignee field.
* Create a issue category and set assignee to a user.
* Create a new issue and assign the above created category.
* check that the assingee is updated with the above even when the tracker has been disabled with the field."
20427,Redmine,Defect,"",Closed,Normal,"Cannot create a custom query visibility is ""to these roles only""",Go MAEDA,Jean-Philippe Lang,2015-09-12 12:57,Issues,3.0.5,"","","",0,2015-07-29 03:45,2015-09-12 12:57,éüÇÃÉ`ÉPÉbÉgÇ™èdï° #26608,Fixed,3.0.4,"Custom queries which visibility is ""to these roles only"" cannot be created with the error ""Roles cannot be blank"".
It affects Redmine 3.0.4 and 3.1.0. Redmine 3.0.3 works fine. Probably caused by r14388.

*How to reproduce:*

1. Try to create a query which visibility is ""to these roles only""
!{border: 1px solid #ccc;}.reproduce-step-1.png!

2. Save the query. You will get the error ""Roles cannot be blank""
!{border: 1px solid #ccc;}.reproduce-step-2.png!"
20425,Redmine,Defect,"",Closed,Normal,fn1. not working in tickets,Robert Schneider,"",2015-08-02 09:05,Text formatting,"","","","",0,2015-07-28 14:58,2015-08-02 09:05,ä÷òAÇµÇƒÇ¢ÇÈ #6269,"",3.1.0,"In issues fn links don't work. In Redmine Guide ([[RedmineInstall#Ruby-interpreter|example]]) it is working, but not in issues. The foot note itself is rendered correctly but the link is not. 

Example: 

<pre><code>This is a test. [1]

fn1. Here is the footnote.
</code></pre>

will be this:

This is a test. [1]

fn1. Here is the footnote.


So @[1]@ looks like [1]. It is not replaced by a link to the foot note (with blue foreground color)."
20423,Redmine,Defect,"",Closed,Normal,error 500 with utf8 hyperlinks,Ma Py,"",2015-07-30 13:58,"","","","","",0,2015-07-28 08:30,2015-07-30 13:58,"",Invalid,3.0.4,"Hey guys,

A few weeks ago I installed redmine on Ubuntu 14.04. Currently we have problems with CSV export and filtering of tickets. We get in the browser the error message 500. However, if I remove it from the link utf8 it works fine

https://redmine.domain.com/projects/project1/issues.csv?utf8=%E2%9C%93&columns=  -> isn't working
https://redmine.domain.com/projects/project1/issues.csv?columns= -> works


<pre>
Environment:
  Redmine version                3.0.3.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>


<pre>
MariaDB [(none)]> show global variables like 'char%';
+--------------------------+----------------------------+
| Variable_name            | Value                      |
+--------------------------+----------------------------+
| character_set_client     | utf8                       |
| character_set_connection | utf8                       |
| character_set_database   | utf8                       |
| character_set_filesystem | binary                     |
| character_set_results    | utf8                       |
| character_set_server     | utf8                       |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
+--------------------------+----------------------------+
8 rows in set (0.00 sec)
</pre>"
20420,Redmine,Defect,"",Closed,Normal,auto_link in wiki_formatter fails,Thomas Leichtfu?,"",2015-08-25 08:13,Text formatting,"","","","",0,2015-07-27 15:33,2015-08-25 08:13,"",Invalid,3.0.4,"Environment:

<pre>
sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                3.0.4.stable
  Ruby version                   1.9.3-p448 (2013-06-27) [i686-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_ckeditor               1.1.0
  redmine_contacts               4.0.1
  redmine_contacts_helpdesk      3.0.0
  redmine_contacts_invoices      4.0.0
  redmine_finance                2.0.0
</pre>

The error occures in context with the redmine_contacts and the redmine_ckeditor, but the failing code is lib/redmine/wiki_formatting.rb of the core-code.
To reproduce the error create a contact and add a note with the following content:

<pre>
<p>%%[Gru&szlig;formel]%% Schuttenberg,<br />
<br />
vielen Dank f&uuml;r die Anfrage und das nette Gespr&auml;ch.<br />
<br />
Wie besprochen habe ich Ihnen eben einen Demozugang mit folgenden Zugangsdaten eingerichtet:<br />
<br />
URL: <a class=""external"" href=""http://civihosting.systopia.de/"">http://civihosting.systopia.de/</a><br />
Benutzername: XXXX<br />
Passwort: XXXXX<br />
<br />
Ich habe zus&auml;tzlich zu den Kernfunktionen wie besprochen nun zun&auml;chst folgende Module aktiviert:</p>

<ul>
	<li><b>Versand und Auswertung von Mailings (z.B. Newslettern) </b></li>
	<li><b>Mitgliederverwaltung </b></li>
	<li><b>Spendenverwaltung</b></li>
</ul>

<p>Es gibt dar&uuml;ber hinaus noch einige weitere Funktionen (z.B. ein <b> Veranstaltungs- und Kampagnenmanagement</b>), die ich aber aus Gr&uuml;nden der &Uuml;bersichtlichkeit zun&auml;chst nicht aktiviert habe - falls Sie diese auch testen wollen, sagen Sie gerne Bescheid.<br />
<br />
CiviCRM ist stark anpassungsf... ""(weiter lesen)"":/redmine/notes/88?project_id=systopia
</pre>

This breaks the contact-view (not the view of the note) and produces the following log-message:

<pre>
Started GET ""/redmine/contacts/137?project_id=systopia"" for 130.180.124.102 at 2015-07-27 14:53:12 +0200
Processing by ContactsController#show as HTML
  Parameters: {""project_id""=>""systopia"", ""id""=>""137""}
  Current user: thomas (id=8)
  Rendered plugins/redmine_contacts/app/views/contacts_tags/_tags_form.html.erb (3.0ms)
  Rendered plugins/redmine_contacts/app/views/contacts/_form_tags.html.erb (8.4ms)
  Rendered attachments/_form.html.erb (2.1ms)
  Rendered plugins/redmine_contacts/app/views/notes/_form.html.erb (6.7ms)
  Rendered plugins/redmine_contacts/app/views/notes/_add.html.erb (8.0ms)
  Rendered plugins/redmine_contacts/app/views/notes/_note_item.html.erb (20.1ms)
  Rendered plugins/redmine_contacts/app/views/contacts/_notes.html.erb (134.1ms)
  Rendered plugins/redmine_contacts/app/views/common/_contact_tabs.html.erb (136.6ms)
  Rendered plugins/redmine_contacts/app/views/contacts/show.html.erb within layouts/base (172.3ms)
Completed 500 Internal Server Error in 211ms (ActiveRecord: 10.8ms)

ActionView::Template::Error (undefined method `[]' for nil:NilClass):
    39: 				<% end %>
    40: 				</div>
    41: 				<div class=""wiki note"">
    42: 					<%= note_content(note_item) %>
    43: 					<%= auto_contacts_thumbnails(note_item) %>
    44: 					<%= render :partial => 'attachments/links', :locals => {:attachments => note_item.attachments, :options  => {}} if note_item.attachments.any? %>
    45: 				</div>
  lib/redmine/wiki_formatting.rb:125:in `block in auto_link!'
  lib/redmine/wiki_formatting.rb:116:in `auto_link!'
  lib/redmine/wiki_formatting.rb:71:in `to_html'
  app/helpers/application_helper.rb:574:in `textilizable'
</pre>

Further investigations shows, that for some html-code-snippets (like the one above - I actually was not able to determine the exact combination of tags/words/formatting-stuff that leads to the error) the following code of lib/redmine/wiki_formatting.rb breaks:

<pre>
115       def auto_link!(text)
116         text.gsub!(AUTO_LINK_RE) do
117           all, leading, proto, url, post = $&, $1, $2, $3, $6
118           if leading =~ /<a\s/i || leading =~ /![<>=]?/
119             # don't replace URLs that are already linked
120             # and URLs prefixed with ! !> !< != (textile images)
121             all
122           else
123             # Idea below : an URL with unbalanced parenthesis and
124             # ending by ')' is put into external parenthesis
125             if ( url[-1]==?) and ((url.count(""("") - url.count("")"")) < 0 ) )
126               url=url[0..-2] # discard closing parenthesis from url
127               post = "")""+post # add closing parenthesis to post
128             end
129             content = proto + url
130             href = ""#{proto==""www.""?""http://www."":proto}#{url}""
131             %(#{leading}<a class=""external"" href=""#{ERB::Util.html_escape href}"">#{ERB::Util.html_escape content}</a>#{post}).html_safe
132           end
133         end
134       end
</pre>

The reason is, that the variables of line 117 (all, leading, proto, url, post) are empty, which leads to an exception in line 125.
I am not a ruby-programmer - but I wonder how it could be that $& is not set when the regular expression obviously matched? Otherwise we would not enter the loop at all, do we?"
20413,Redmine,Patch,"",Closed,Normal,"Use a table instead of an unordered list in ""Issue tracking"" box",Go MAEDA,Jean-Philippe Lang,2015-10-24 12:24,UI,3.2.0,"","","",0,2015-07-26 17:15,2015-10-24 12:24,"","","","Using a table instead of an unorderd list to show numbers of issues in ""Issue tracking"" box brings the following advantages.


* neatly organized information is easier to unerstand.
* we can directly move to specific information (open features, closed bugs, ...) by clicking numbers.

!issue-tracking-box.png!"
20411,Redmine,Patch,"",Closed,Normal,"Change Japanese translation for ""view""",Go MAEDA,"",2015-07-26 19:16,Translations,3.2.0,"","","",0,2015-07-26 15:28,2015-07-26 19:16,"","","","I suggest change Japanese translation for ""view"" from ""å©ÇÈ"" to ""ï\é¶"". For example, this patch changes ""ç∑ï™Çå©ÇÈ"" to ""ç∑ï™Çï\é¶"".
I think ""ï\é¶"" is more natural and commonly used than ""å©ÇÈ"" for applications."
20410,Redmine,Patch,"",Closed,Normal,Turkish translation for 3.1-stable,Toshi MARUYAMA,"",2015-07-26 19:15,Translations,3.1.1,"","","",0,2015-07-26 15:01,2015-07-26 19:15,"","","","From #20338:

<pre><code class=""diff"">
=== (+14,-14) config/locales/tr.yml ===
@@ -1150,17 +1150,17 @@
   setting_search_results_per_page: Sayfa ba??na arama sonucu say?s?
   label_blank_value: bo?
   permission_copy_issues: ??leri kopyala
-  error_password_expired: Your password has expired or the administrator requires you
-    to change it.
-  field_time_entries_visibility: Time logs visibility
-  setting_password_max_age: Require password change after
-  label_parent_task_attributes: Parent tasks attributes
-  label_parent_task_attributes_derived: Calculated from subtasks
-  label_parent_task_attributes_independent: Independent of subtasks
-  label_time_entries_visibility_all: All time entries
-  label_time_entries_visibility_own: Time entries created by the user
-  label_member_management: Member management
-  label_member_management_all_roles: All roles
-  label_member_management_selected_roles_only: Only these roles
-  label_password_required: Confirm your password to continue
+  error_password_expired: Parolan?z?n s?resi dolmu? veya y?netici parolan?z? de?i?tirmenizi
+    talep etmi?.
+  field_time_entries_visibility: Zaman kayd? g?r?n?rl???
+  setting_password_max_age: Bu kadar zaman sonra ?ifre d?i?tirmeye zorla
+  label_parent_task_attributes: ?st i? ?zellikleri
+  label_parent_task_attributes_derived: Alt i?lerden hesalan?r
+  label_parent_task_attributes_independent: Alt i?lerden ba??ms?z
+  label_time_entries_visibility_all: T?m zaman kay?tlar?
+  label_time_entries_visibility_own: Kullan?c? taraf?nda yarat?lm?? zaman kay?tlar?
+  label_member_management: ?ye y?netimi
+  label_member_management_all_roles: T?m roller
+  label_member_management_selected_roles_only: Sadece bu roller
+  label_password_required: Devam etmek i?in ?ifrenizi do?rulay?n
   label_total_spent_time: Toplam harcanan zaman
</code></pre>"
20409,Redmine,Patch,"",Closed,Normal,Turkish translation for 3.0-stable,Toshi MARUYAMA,"",2015-08-02 09:52,Translations,3.1.0,"","","",0,2015-07-26 14:59,2015-07-26 19:14,"","","","From #20338:

<pre><code class=""diff"">
=== (+23,-23) config/locales/tr.yml ===
@@ -1127,29 +1127,29 @@
   label_radio_buttons: radyo butonlar?
   label_group_anonymous: Anonim kullan?c?
   label_group_non_member: ?ye olmayan kullan?c?lar
-  label_add_projects: Add projects
-  field_default_status: Default status
-  text_subversion_repository_note: 'Examples: file:///, http://, https://, svn://, svn+[tunnelscheme]://'
-  field_users_visibility: Users visibility
-  label_users_visibility_all: All active users
-  label_users_visibility_members_of_visible_projects: Members of visible projects
-  label_edit_attachments: Edit attached files
-  setting_link_copied_issue: Link issues on copy
-  label_link_copied_issue: Link copied issue
-  label_ask: Ask
-  label_search_attachments_yes: Search attachment filenames and descriptions
-  label_search_attachments_no: Do not search attachments
-  label_search_attachments_only: Search attachments only
-  label_search_open_issues_only: Open issues only
+  label_add_projects: Proje ekle
+  field_default_status: ?ntan?ml? durum
+  text_subversion_repository_note: '?rnek: file:///, http://, https://, svn://, svn+[t?nelmetodu]://'
+  field_users_visibility: Kullan?c? g?r?n?rl???
+  label_users_visibility_all: T?m aktif kullan?c?lar
+  label_users_visibility_members_of_visible_projects: G?r?n?r projelerin kullan?c?lar?
+  label_edit_attachments: Ekli dosyalar? d?zenle
+  setting_link_copied_issue: Kopyalamada i?leri ili?kilendir
+  label_link_copied_issue: Kopyalanm?? i? ile ili?kilendir
+  label_ask: Sor
+  label_search_attachments_yes: Ekli dosyalarada ve a??klamalar?nda arama yap
+  label_search_attachments_no: Ekler i?inde arama yapma
+  label_search_attachments_only: Sadece ekleri ara
+  label_search_open_issues_only: Sadece a??k i?ler
   field_address: E-Posta
-  setting_max_additional_emails: Maximum number of additional email addresses
-  label_email_address_plural: Emails
-  label_email_address_add: Add email address
-  label_enable_notifications: Enable notifications
-  label_disable_notifications: Disable notifications
-  setting_search_results_per_page: Search results per page
-  label_blank_value: blank
-  permission_copy_issues: Copy issues
+  setting_max_additional_emails: Maksimum ek e-posta adresleri
+  label_email_address_plural: E-postalar
+  label_email_address_add: E-posta adresi ekle
+  label_enable_notifications: Bildirimleri a?
+  label_disable_notifications: Bildirimleri kapat
+  setting_search_results_per_page: Sayfa ba??na arama sonucu say?s?
+  label_blank_value: bo?
+  permission_copy_issues: ??leri kopyala
   error_password_expired: Your password has expired or the administrator requires you
     to change it.
   field_time_entries_visibility: Time logs visibility
</code></pre>"
20408,Redmine,Patch,"",Closed,Normal,Turkish translation for 2.6-stable,Toshi MARUYAMA,"",2015-07-26 19:13,Translations,2.6.7,"","","",0,2015-07-26 14:56,2015-07-26 19:13,"","","","From #20338:

<pre><code class=""diff"">
=== (+19,-19) config/locales/tr.yml ===
@@ -1109,24 +1109,24 @@
     farkl? olmal?
   setting_mail_handler_excluded_filenames: Dosya ad? belirtilen ekleri hari? tut
   text_convert_available: ImageMagick d?n??t?rmesi kullan?labilir (iste?e ba?l?)
-  label_link: Link
-  label_only: only
-  label_drop_down_list: drop-down list
-  label_checkboxes: checkboxes
-  label_link_values_to: Link values to URL
-  setting_force_default_language_for_anonymous: Force default language for anonymous
-    users
-  setting_force_default_language_for_loggedin: Force default language for logged-in
-    users
-  label_custom_field_select_type: Select the type of object to which the custom field
-    is to be attached
-  label_issue_assigned_to_updated: Assignee updated
-  label_check_for_updates: Check for updates
-  label_latest_compatible_version: Latest compatible version
-  label_unknown_plugin: Unknown plugin
-  label_radio_buttons: radio buttons
-  label_group_anonymous: Anonymous users
-  label_group_non_member: Non member users
+  label_link: Ba?lant?
+  label_only: sadece
+  label_drop_down_list: se?me listesi
+  label_checkboxes: kutucuk
+  label_link_values_to: De?erleri URLye ba?la
+  setting_force_default_language_for_anonymous: Anonim kullan?c?lar i?in zorunlu dil
+    se?
+  setting_force_default_language_for_loggedin: Giri? yapm?? kullan?c?lar i?in zorunlu dil
+    se?
+  label_custom_field_select_type: ?zel alan?n ba?l? olaca?? obje tipini
+    se?in
+  label_issue_assigned_to_updated: Atanan g?ncellendi
+  label_check_for_updates: G?ncellemeleri kontrol et
+  label_latest_compatible_version: Son uyumlul s?r?m
+  label_unknown_plugin: Bilinmeyen eklenti
+  label_radio_buttons: radyo butonlar?
+  label_group_anonymous: Anonim kullan?c?
+  label_group_non_member: ?ye olmayan kullan?c?lar
   label_add_projects: Add projects
   field_default_status: Default status
   text_subversion_repository_note: 'Examples: file:///, http://, https://, svn://, svn+[tunnelscheme]://'
</code></pre>"
20407,Redmine,Defect,"",Closed,Normal,Monospace font-family values are differ between application.css and scm.css,Go MAEDA,Jean-Philippe Lang,2015-09-12 12:53,UI,3.1.1,"","","",0,2015-07-26 13:05,2015-09-12 12:53,ä÷òAÇµÇƒÇ¢ÇÈ #20372,Fixed,"","Monospace font-family values are differ between application.css and scm.css.
Sorry, This is my mistake I made in #20372.

Please merge this patch."
20403,Redmine,Defect,"",Closed,Normal,error_no_default_issue_status,sugimoto m,"",2015-07-24 15:48,Issues,"","","","",0,2015-07-24 15:35,2015-07-24 15:48,"",Invalid,3.0.4,"I installed redmine redmine-3.0.4-1 and the database copied from old one.
I confirmed the old tickets is able to list on new redmine.
However,on new redmine I can't create new ticket with error_no_default_issue_status.
In addition, I can create new tickets as copy from old ticket, but I can't select other statuses.

I investigated MySQL table ""issue_statuses"", I found there is not ""is_default"" field that old redmine has.

So, I guess that is the cause, but I can't resolve it.
How do I resolve it?"
20401,Redmine,Defect,"",Closed,Low,"""Spent time"" panel: columns not wrapping",Gord Brown,Jean-Philippe Lang,2015-09-12 12:52,UI,3.1.1,"","","",0,2015-07-24 12:08,2015-09-12 12:52,"",Fixed,"","Hi,

In the ""Spent time"" panel on ""My page"", the ""Activity"" and ""Project"" columns don't wrap text, leading to unattractive formatting (see attached ""screenShot1.jpg"").  A little patch to ""application.css"" alters it so that those columns do wrap (see attached ""screenShot2.jpg"", and ""application.css.diff"".

It may be design intent that they don't wrap, in which case of course reject this, but my users here like it better wrapping (as it did in early versions of Redmine), so I said I'd request the change.

Database: mysql 5.1.73
Ruby: 2.2.0-p0
Rails: 4.2.3
Redmine: trunk, revision 14445

Cheers,

 - Gord"
20397,Redmine,Defect,"",New,Normal,"project:someproject wiki syntax should link to project with identifier ""someproject', not name.",Pawe? Hikiert,"",2017-10-12 10:33,Text formatting,"","","","",0,2015-07-23 12:29,"","","","","Current code tries to match identifier OR name, which can lead to 'mislinks', as described in the first post of this thread: message#47879
> I have several projects on Redmine, let's say one of them has identifier ""some-identifier-1"" and name ""project"", and the other has identifier ""project"" and name ""project"".
>
> I'd like to link to project page (not wiki page!) of project with identifier ""project""
> [...]
> Linking to project:project links to project with identifier ""some-identifier-1"", because my Redmine (2.4.2.stable from Ubuntu 12.04) code tries to match identifier OR name, and that's the first project it finds.

I propose this patch to take only project's identifier into account when creating wiki links."
20396,Redmine,Defect,"",Closed,Normal,"User login prompt: Sorry, you do not have access to this page",ä« â∂ã ,"",2015-07-23 09:24,Accounts / authentication,"","","","",0,2015-07-23 08:31,2015-07-23 09:24,"",Invalid,2.0.3,"User login prompt: Sorry, you do not have access to this pageÅCThis is only an account in its different browsers on your computer appears, browsers such as IE, chrome, etc., but you can change the password after landing, and landed next time such a problem."
20394,Redmine,Defect,"",Closed,Normal,Patching the create method for User in Redmine version 3,Mike Sweetman,"",2015-07-23 13:52,"","","","","",0,2015-07-22 21:56,2015-07-23 13:52,"",Invalid,3.0.4,"Hello, I have a plugin that patches the ""create"" method in the Users controller. It worked fine in version 2, but I am trying to upgrade to version 3. I have tried versions 3.0.3 and 3.0.4 with the same error both times. Here's the excerpt from my patch that is giving me trouble:

<pre>
require 'user'

module MailchimpUserPatch
	def self.included(base)
		base.send(:include, InstanceMethods)

		base.class_eval do
			unloadable
			belongs_to :deliverable

			alias_method_chain :create, :mailchimp_subscribe
			alias_method_chain :update, :mailchimp_subscribe
		end
	end

	module InstanceMethods
...
	end
end
</pre>

And here is the error I am getting:

<pre>
NameError: undefined method `create' for class `User'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/core_ext/module/aliasing.rb:32:in `alias_method'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/core_ext/module/aliasing.rb:32:in `alias_method_chain'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/lib/mailchimp_user_patch.rb:11:in `block in included'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/lib/mailchimp_user_patch.rb:7:in `class_eval'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/lib/mailchimp_user_patch.rb:7:in `included'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/lib/mailchimp_user_patch.rb:78:in `include'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/lib/mailchimp_user_patch.rb:78:in `<top (required)>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `block in require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:240:in `load_dependency'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:360:in `require_or_load'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:317:in `depend_on'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:233:in `require_dependency'
/Users/Pyro/redmine-3.0/plugins/redmine_mailchimp/init.rb:2:in `<top (required)>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `block in require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:240:in `load_dependency'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/redmine-3.0/lib/redmine/plugin.rb:155:in `block in load'
/Users/Pyro/redmine-3.0/lib/redmine/plugin.rb:146:in `each'
/Users/Pyro/redmine-3.0/lib/redmine/plugin.rb:146:in `load'
/Users/Pyro/redmine-3.0/config/initializers/30-redmine.rb:21:in `<top (required)>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:268:in `load'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:268:in `block in load'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:240:in `load_dependency'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:268:in `load'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/engine.rb:652:in `block in load_config_initializer'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/notifications.rb:166:in `instrument'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/engine.rb:651:in `load_config_initializer'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/engine.rb:616:in `block (2 levels) in <class:Engine>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/engine.rb:615:in `each'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/engine.rb:615:in `block in <class:Engine>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:30:in `instance_exec'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:30:in `run'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:55:in `block in run_initializers'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:44:in `each'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:44:in `tsort_each_child'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/initializable.rb:54:in `run_initializers'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/application.rb:352:in `initialize!'
/Users/Pyro/redmine-3.0/config/environment.rb:14:in `<top (required)>'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `block in require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:240:in `load_dependency'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/activesupport-4.2.3/lib/active_support/dependencies.rb:274:in `require'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/application.rb:328:in `require_environment!'
/Users/Pyro/.rvm/gems/ruby-2.1.2/gems/railties-4.2.3/lib/rails/application.rb:457:in `block in run_tasks_blocks'
/Users/Pyro/.rvm/gems/ruby-2.1.2/bin/ruby_executable_hooks:15:in `eval'
/Users/Pyro/.rvm/gems/ruby-2.1.2/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => redmine:plugins:migrate => environment
(See full trace by running task with --trace)
</pre>

Can anyone help me out?"
20392,Redmine,Defect,"",Closed,Normal,Error: nil:NilClass - Error querying any task of a specific project.,Adriano Ceccarelli,"",2015-07-23 14:13,Issues,"","","","",0,2015-07-22 17:05,2015-07-23 14:12,"",Cant reproduce,"","h2. Error

Error querying any task of a specific project.
Was closed, reopen it and the error persisted.

h2. Production.log

<pre>
  Rendered issues/show.html.erb within layouts/base (1316.7ms)
Completed 500 Internal Server Error in 1602.3ms

ActionView::Template::Error (undefined method `project' for nil:NilClass):
    1: <% changesets.each do |changeset| %>
    2:     <div class=""changeset <%= cycle('odd', 'even') %>"">
    3:     <p><%= link_to_revision(changeset, changeset.repository,
    4:                             :text => ""#{l(:label_revision)} #{changeset.format_identifier}"") %><br />
    5:         <span class=""author""><%= authoring(changeset.committed_on, changeset.author) %></span></p>
    6:     <div class=""wiki"">
  app/helpers/application_helper.rb:113:in `link_to_revision'
  app/views/issues/_changesets.html.erb:3:in `block in _app_views_issues__changesets_html_erb__3878030136385139792_67352140'
  app/views/issues/_changesets.html.erb:1:in `each'
  app/views/issues/_changesets.html.erb:1:in `_app_views_issues__changesets_html_erb__3878030136385139792_67352140'
  app/views/issues/show.html.erb:113:in `_app_views_issues_show_html_erb__989878426512223363_35076440'
  app/controllers/issues_controller.rb:128:in `block (2 levels) in show'
  app/controllers/issues_controller.rb:125:in `show'
</pre>


h2. Environment

<pre>
Environment:
  Redmine version                2.6.1.stable
  Ruby version                   1.9.3-p194 (2012-04-20) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.17
  Git                            1.7.10.4
  Filesystem
Redmine plugins:
  a_common_libs                  1.1.3
  custom_menu                    1.0.0
  parent_issue_filter            1.0.1
  redmine_auto_percent           0.0.1
  redmine_custom_reports         0.1.4
  redmine_daily_scrum            0.0.1
  redmine_documents              1.0.0
  redmine_drafts                 0.2.0
  redmine_impasse                1.2.2
  redmine_importer               1.2.2
  redmine_issue_history_tabs     0.0.3
  redmine_issue_templates        0.0.9
  redmine_issue_templates_notes  2.0.0
  redmine_issue_wiki_journal     0.9.0
  redmine_meeting_room_calendar  2.1.3
  redmine_percent_done_configuration 0.1.23x
  redmine_pivot_table            0.0.2
  redmine_questions              0.0.5
  redmine_send_mails             0.3.23xBeta
  redmine_spent_time             2.6.6
  redmine_tags                   2.1.0
  redmine_time_tracker           0.4
  redmine_wiki_extensions        0.6.5
  redmine_wiki_lists             0.0.5
  redmine_wiki_templates         0.1.1
  redmine_workload               0.0.1
  sidebar_hide                   0.0.7
</pre>"
20386,Redmine,Defect,"",Closed,Normal,Subproject's not listed under project anymore,Ron Hof,"",2015-08-02 09:04,Projects,"","","","",0,2015-07-21 18:07,2015-08-02 09:04,"",Invalid,3.0.4,"First I like to know if this is the right place to ask my question:
We are user of Redmine on hostedredmine.com/ and we have problems with the structure of the projects.

We have defined four subprojects under one general project. This worked well and we could see all issues of all subproject on the general project page.  Since last week the structure is changed and all projects are now subprojects of another, for me not familiar, project ""Empresa de Consultoria""?

Does anyone know how to solve this?

Thanks in advance.
ROn"
20384,Redmine,Patch,"",New,Normal,Proposal: Workflow enhancement,Frederico Camara,"",2017-03-14 15:18,Issues workflow,"","","","",0,2015-07-21 15:20,"","","","","I work at a large ICT public company in Brazil and we are using Redmine here.

At first it didn't become apparent that the workflow tools in Redmine would be limiting in any way. But as we start to build more complex workflows and reutilize roles and tracker names for different projects and teams, we noticed that a workflow being inherent to a specific role and tracker, was making us come with similar names and synonyms to roles and trackers so we could develop new workflows for a different areas in our company. Examples of this are: using lower and uppercase in names, adding numbers, using words in both genders (substantives in portuguese have gender inflexion). Ultimately it became an annoyance, as similar entries would populate various menus across Redmine.

Also, the closed state being inherent to a issue status, also made we duplicate entries, bacause in a workflow, some state would close the issue whereas in another workflow, the same state would not.

I still think workflows should still be inherent to roles and trackers, but projects could have diferent workflow sets to choose from, so that you could still have different projects using the same workflow and at the same time could have different projects using different workflows.

Also, the closed state should be inherent to the workflow being used.

For a first proposal, I would have another entry in the admin menu for a workspace, workflow set, or workflow space, or whatever the best term is in english. From there, workflows would be part of a workspace and in each project you would select the workspace to use. For migration purposes, all existing and new workflows and projects would be assigned to the default workspace. New subprojects should have selected the same workspace as the parent at creation. There is no inheritance of workspace between projects.

The main advantages are:

* fewer roles created;
* fewer issue statuses created;
* simpler migration between workflows;
* more control over complex infrastructure;
* very low impact on simpler infrastructure."
20380,Redmine,Defect,"",Closed,Normal,Cannot assign users to projects with IE set to compatibility mode,Uli Hecht,Jean-Philippe Lang,2017-02-22 06:21,UI,2.6.8,"","","",0,2015-07-21 09:21,2015-10-09 09:26,"éüÇÃÉ`ÉPÉbÉgÇ™èdï° #20777, éüÇÃÉ`ÉPÉbÉgÇ™èdï° #20474",Fixed,2.6.6,"I'm not able to assign users to projects anymore in Internet Explorer 11 (didn't test older IE versions). It still works in Firefox (didn't test other browsers). The user selection dialog opens, but nothing happens when I click the ""Add"" button after having selected user and role.

<pre>
Environment:
  Redmine version                3.0.4.stable.14445
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem
Redmine plugins:
  no plugin installed
</pre>

I have an older version of redmine running on a different server (3.0.3.stable.14274) which is not affected."
20372,Redmine,Defect,"",Closed,Normal,Contents inside <pre> are not rendered as monospace font in Chrome for Mac,Go MAEDA,Jean-Philippe Lang,2015-07-25 08:55,UI,3.1.0,"","","",0,2015-07-20 01:38,2015-07-25 08:52,ä÷òAÇµÇƒÇ¢ÇÈ #20407,Fixed,"","Although contents inside @pre@ elements are expected to be rendered as monospace font, but san-serif fonts are used for them when accessing Redmine with Chrome for Mac.

This can be fixed by setting CSS font-family.

**current trunk:**
A proportional font is used to show source code. 4 spaces indentation looks like 2 or 3 spaces. Undesirable.

!{border: 1px solid #ddd}without-patch.png!

**with the patch:**

Source code should be rendered like this.

!{border: 1px solid #ddd}with-patch.png!

This patch adds the following line to the stylesheet. 

<pre>
pre, code {font-family: Consolas, Menlo, ""Liberation Mono"", Courier, monospace;}
</pre>

This covers many operating systems.

* Consolas: included with windows
* Menlo: included with Mac and iOS
* Liberation Mono: included with Ubuntu
"
20370,Redmine,Patch,"",Closed,Normal,Lighter colors for journal details in issue history,Go MAEDA,Jean-Philippe Lang,2015-10-17 11:29,UI,3.2.0,"","","",0,2015-07-19 08:50,2015-10-17 11:29,"","","","This change makes easier to distinguish details (attachments, changes of statuses, assignees, ...) and notes in a issue history.

!{border: solid 1px #ddd}sample-19097.png!"
20369,Redmine,Patch,"",Closed,Normal,Use String#casecmp for case insensitive comparison,Go MAEDA,"",2015-08-12 15:39,Code cleanup/refactoring,3.2.0,"","","",0,2015-07-19 06:41,2015-08-12 15:39,"ä÷òAÇµÇƒÇ¢ÇÈ #20278, ä÷òAÇµÇƒÇ¢ÇÈ #27780","","","String#casecmp is faster than String#downcase. We can save some CPU cycles by replacing String#downcase with String#casecmp.

The following is a script to benchmark.

<pre><code class=""ruby"">
#!/usr/bin/env ruby

def measure(p)
  t1 = Time.now
  1000000.times {p.call}
  t2 = Time.now
  t2 - t1
end

str1 = (1..100).map {('A'..'z').to_a.sample}.join
str2 = str1.downcase

puts ""String#casecmp  :  #{measure(->{ str1.casecmp(str2) == 0})} sec""
puts ""String#downcase :  #{measure(->{ str1.downcase == str2 })} sec""
</code></pre>

Here is a result. casecmp is remarkably faster than downcase.

<pre>
laphroaig:patches maeda$ ruby casecmp-vs-downcase.rb
String#casecmp  :  0.358929 sec
String#downcase :  0.557218 sec
</pre>
"
20368,Redmine,Patch,"",Closed,Normal,Make corners rounded,Go MAEDA,Jean-Philippe Lang,2015-09-30 21:12,UI,3.2.0,"","","",0,2015-07-19 04:23,2015-09-30 21:12,"","","","It looks more friendly and natural.

!border-radius-sample-1.png!

!border-radius-sample-2.png!"
20367,Redmine,Defect,"",New,Normal,I catch internal server error when I try commit a edit message.,Masaki Nukaga,Jean-Philippe Lang,2015-07-18 04:50,Website (redmine.org),"","","","",0,2015-07-18 04:33,"","","","","I try commit a edit message with png file, I catch error (see attach file)

OS X Yosemite 10.10.3
It occurred here Å® http://www.redmine.org/issues/20296"
20361,Redmine,Defect,"",Closed,Normal,Project copy does not update custom field of version type values,Sebastian Paluch,Jean-Philippe Lang,2015-09-20 14:50,Custom fields,3.2.0,"","","",0,2015-07-17 08:42,2015-09-20 14:50,"",Fixed,3.0.1,"Making copy of a template project where there are versions created, is a custom field of version type and some issues have the custom field set to template project version. After such copy versions and issues are copied correctly but the custom field is still pointing to versions defined in original template project instead to newly created one.

<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.0.0-p594 (2014-10-27) [i386-mingw32]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  inside_avatar                  1.0.2
  parent_issue_filter            1.0.1-1
  redmine_agile                  1.3.8
  redmine_spent_time_column      2.1.0
  redmine_version_fixed_issues   1.0.0
  sidebar_hide                   0.0.7
</pre>"
