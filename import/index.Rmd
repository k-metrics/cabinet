---
title: "Import"
author-meta: "k-metrics"
---

<!-- shared Links -->
```{r index, child="../shared/links.Rmd", include=FALSE}
```

**Import**は[Data Science Workflow <i class="fa fa-external-link"></i>][RSH]において分析対象とたなるデータをインポートするデータ分析における最初のプロセスです。  
　  

![fig. Data Science Workflow by RStudio](https://raw.githubusercontent.com/rstudio/RStartHere/master/data-science.png "Data Science Workflow, RStudio Inc.")  

　  

[R <i class="fa fa-external-link"></i>][R]でインポートできるデータは概ね以下のように分類できます。  
　  

1. ファイルから
1. データベース（SQL）から
1. Web（スクレイピング）から
1. APIを使って

　  

# File
ファイルからのインポートは最も基本的なものです。[データ分析勉強会 <i class="fa fa-external-link"></i>][0]などにおける演習で用いている[R Commander <i class="fa fa-external-link"></i>][Rcmdr]ではクリップボード経由で取り込むことが多かったですが、ファイルによる取り込みを憶えておくと利用範囲が広がります。  
　  

## Base
標準で用意されている代表的なファイル・インポート関数は以下の三つです。**`read.csv`**関数と**`read.tsv`**関数は**`read.table`**関数のラッパー関数ですが、CSVファイルやTSVファイルを読み込む時はラッパー関数を用いた方が便利です。  

ファイル種別      | 拡張子 | 関数         | パッケージ | 備考
------------------|:------:|--------------|------------|---
CSVファイル       | csv    | `read.csv`   | `util`     | 
TAB区切りファイル | tsv    | `read.delim` | `util`     | 
その他テキスト    | txt    | `read.table` | `util`     | 区切り文字などを任意に指定可能

　  

## 追加パッケージ
パッケージを追加することで標準で用意されているファイル・インポート関数では対応できないファイルのインポートが可能になります

パッケージ   | 概要
-------------|------
`readr`      | 標準より柔軟性が高いテキスト系ファイルのインポートが可能
`readxl`     | Excel(xlsx)ファイルを直接インポートするためのパッケージ
`foreign`    | SASやSPSSのような[R <i class="fa fa-external-link"></i>][R]以外の分析ソフトのファイルに対応
`data.table` | 高速読み込み可能な`fread`関数を提供
`feather`    | Phytonのフォーマットにも対応している
`xml2`       | XML, HTMLの読み込みがローカルからだけでなくネットからも可能

　  

# DBMS (SQL)
大量のデータや頻繁に更新されるデータはファイルからでなく直接、データベースから読む方が合理的です。標準ではデータベース・インポート関数は準備されていませんが以下のようなパッケージを追加することでデータベースからの直接的なインポートが可能になります。

<!-- パッケージ   | 概要 -->
<!-- -------------|------ -->
<!-- `DBI`        |  -->
<!-- `ODBC`       |  -->
<!-- `RMySQL`     |  -->
<!-- `RPostgres`  |  -->
<!-- `RSQLite`    |  -->
<!-- `bigrquery`  |  -->
<!-- `dplyr`      |  -->

　  

# Web Scraping
（準備中）  
　  

# API
（準備中）  
　  

---

<!-- Footer -->
```{r child="../shared/footer.Rmd"}
```