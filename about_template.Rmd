---
title: "パターン記述に関して"
output: 
  html_document:  
    code_folding: hide
    highlight: textmate
    md_extensions: -ascii_identifiers
    number_section: no
    theme: cerulean
    toc: yes
    toc_float:
      collapsed: yes
      smooth_scroll: no
---

<!-- Chunk Information -->
```{r about_template, include=FALSE, eval=FALSE}
```

<!-- Common Links -->
```{r child="_links.Rmd", include=FALSE}
```

<!-- Common Setup -->
```{r child="_setup.Rmd", include=FALSE}
```

# はじめに
本プロジェクトにおいて記述する上の基本的な考え方として、小室先生からご提案のあったパターン記述(パターン言語)を用いてカテゴリ毎に基本的な記述パターンをテンプレートとして定めておく方法を採用したいと考えています。これにより執筆者が変わっても記述パターンは統一されることで、読者の理解の助けになると考えるからです。

パターン言語のオリジナルは[アレキサンダー（アレグサンダー）](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88%E3%83%95%E3%82%A1%E3%83%BC%E3%83%BB%E3%82%A2%E3%83%AC%E3%82%B0%E3%82%B6%E3%83%B3%E3%83%80%E3%83%BC)の提唱した理論に基づくもので、詳細は割愛しますが、[『メトリクス公団 Vol.2』](https://sites.google.com/site/kantometrics/2015nian-du-deta-fen-xi-mian-qiang-hui/tong-ren-zhi-metorikusu-gong-tuanvol-2-wo-fa-mai)にて小室先生が「メトリクスとパターン言語」というタイトルで寄稿されていますので、そちらを読んで頂くのが良いかと思います。

---

# 問題・課題
本プロジェクトにおいてパターン記述を採用する場合、基本的なパターンをどのように定めると課題とそれに対する解決策が整理でき、どのようなテンプレートを用意すべきか？

ｰｰｰ

# 前提条件
全体の構成は[Data Science Workflow][RSH]にて解説されいてる以下の分析プロセスならびに分析プロセスをサポートする**Program**を前提とします。

* **Import**
* **Tidy**
* **Transform**
* **Model/Infer**
* **Visualize**
* **Communicate/Automate**

---

# 解決策
現時点は未確定ですが、執筆者に対する敷居を低くするために厳密なパターンの区分は避ける方向で考えたいと思っています。小室先生の「メトリクスとパターン言語」を元にいくつかの項目をまとめた形式を提案します。

## 基本とする記述パターン
基本パターンは課題に対する解決例を示すためのパターンとしています。これは、分析において、やりたいこと、やるべきことを中心にしてまとめるためです。パターンとは課題に対する解決策の典型例を示すものだと考えてください。また、典型例であるが故に前提条件（適用条件）や適用例の記述も重要なポイントとなります。

この考え方は、ツールの使用法等に関しても同様なことが言えると思います。例えば、ヒストグラムの描画方法を紹介するのであれば、問題・課題は「ヒストグラムを描きたい」となります。ただし、使用方法を紹介する記事を書く際に「問題・課題」、「解決策」といった項目を記述することが大げさだに感じる場合は、基本パターンを簡略化した使用方法等のパターンを用いることも考えられます。ただ、意識しておきたいのは、使用方法の紹介であっても、その背景には「〇〇を××したい」というような課題があるはずだということです。

## 各パターンの比較
ここで各パターンを整理してみます。基本パターンは記述しやすいように導入部分を「はじめに」とすることで、要約や背景等をまとめて書けるようにしています。使用例パターンにおいては、通常、課題を意識せずに記載することが多いので「問題・課題」は「はじめに」に含めるような形としています。

アレキサンダー | メトリクス公団       | 基本パターン | 使用例等
-------------- | -------------------- | ------------ | ------------
パターン名     | 　                   | 　           | 　
写真           | 　                   | 　           | 　
導入部         | 目的                 | はじめに     | はじめに　
　             | 要約                 | 　(要約)     | 　(要約)
　             | 適用される状況・背景 | 　(状況背景) | 　(状況背景)
問題記述       | 解決したい課題       | 問題・課題 　| 　(問題課題)
　             | 制約条件、前提条件   | 前提条件     | 前提条件
　             | 　                   | 　           | 構成
解法           | 解決策               | 解決策       | 手法・方法
図             | 　                   | 　           | 　
               | 適用例               | 適用例       | 　
　             | 留意点               | 留意事項     | 留意事項
　             | 結果、効果           | (結果、効果) | (結果、効果) 　
関連パターン   | 関連パターン         | 関連事項     | 関連事項
　             | 　                   | (参考資料)   | (参考資料)


* ()表記部分は、他の項への集約または省略を可とする。

---

## 作成方法
ページを作成する場合は、共通テンプレート、または、各プロセスで用意したテンプレートをコピーして利用するものとします。テンプレートの記述は全てR Markdown(Pandoc Markdown)によるものとし、R Markdown Website機能を用いてRStudioを用いてHTMLにビルドします。ビルドしたファイルならびにソースファイルはGitHub上で管理します。

## サイト構成

# 適用例

---

# 留意事項
## サイト構成に対する留意事項
サイト構成はページ構成と異なり、別途、指定する必要があります。また、フォルダで階層化する場合は、階層毎に指定する必要があります。サイト構成は各ページに表示されるメニュー構成と密接な関係がありますので、サイト構成を最初に共有しておく必要があります。メニュー構成については[関連事項]()を参照してください。

## 環境に対する留意事項
無料版のGitHubアカウントを用いることを前提としていますので、以下の事項に留意してください。

* ビルドしたファイル(HTML)はGitHub PagesによりWebサイトとして全世界に公開されます
* GitHubに上げたファイルは無条件に全世界に公開されます
* GitHub PagesによるWebサイトではDBMS等と連携した動的ページは作成できません

---

# 関連事項
テンプレートの本文以外は、YAMLと共通Chunkの二つから構成されます。使い方は下記の通りです。

## YAML
YMALはドキュメント生成のために必要な条件指定とメニュー構成を指定するためのものです。基本的な共通設定は`_site.yml`ファイルで設定しています。ドキュメント生成条件を個々に変更したい設定をテンプレートの最上部にあるYAML部にて設定してください。

### navbar
`navbar`はページ上部に表示されるナビゲーションバー（メニュー）を指定するパートです。メニューは単純形式のプルダウンメニューで、プルダウンメニュー内にサブメニューを作成することはできません（指定はできてしまいますので注意）。

### output
`output`はドキュメント生成の条件を指定するパートです。

### Auther
著者はフッター部で権利やライセンスと共に表記することを前提としているためYAML部では用意していません。

### その他
YAMLで指定できる項目は[こちらのページ](http://qiita.com/kazutan/items/726e03dfcef1615ae999)で確認してください。

## Chunk
共通的に利用する項目は、Chunk(チャンク)にて指定をしています。必要に応じて変更してください。

### **about** chunk
**about** chunkは、Build時にエラーが出た場合、ファイルを特定しやすくするための情報として利用しますので、**about**の部分をファイル名に置き換えてください。

        情報としても利用しますので、"about"をファイル名に置き換えてください。
        また、不要な場合は折りたたんでください。不要な場合は、chunkの中身は
        削除してください。

### **Common Links**
共通的に使えるようなリンク一覧を記述したファイルを読み込むためのchunkです。この記述を利用することでMarkdownでリンクを記載する際に簡易な記述が可能になります。
共通リンクのファイルはリポジトリルートに配置しますので階層に合わせてパスを修正してください。

### **Common Setup** chunk
[R][R]のコードchunkに対する共通的な初期設定（パッケージの読み込み、変数定義、関数定義等）を記述したファイルを読み込むためのchunkです。不足している場合は、本chunkに追記してください。共通設置のファイルはリポジトリルートに配置しますので階層に合わせてパスを修正してください。

### **Session Information** chunk
[R][R]のコードchunkが実行された環境ならびに利用しているパッケージ一覧を表示するため処理を記述したファイルを読み込むためのchunkです。R以外のコードを実行する場合やコードの実行がないｂには追記するか置き換えてください。

### **Footer** chunk
権利やライセンス情報を記述したページフッタファイルを読み込むためのchunkです。執筆者のポリシーに合わせてファイルをご準備ください。なお、本プロジェクト（リポジトリ）では`CC 4.0 BY-NC-SA`を基本としています。

---

# 参考資料
* パターン言語（パターン・ランゲージ）
* GoF

* [パターン・ランゲージってどんなものですか？](http://www.hyuki.com/dig/patlang.html)

---

<!-- Session Inofrmation -->
```{r child="_sessioninfo.Rmd"}
```

---

<!-- Footer -->
```{r child="_footer.Rmd"}
```
