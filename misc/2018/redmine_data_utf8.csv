#,プロジェクト,トラッカー,親チケット,ステータス,優先度,題名,作成者,担当者,更新日,カテゴリ,対象バージョン,開始日,期日,予定工数,進捗率,作成日,終了日,関連するチケット,Resolution,Affected version,説明
18041,Redmine,Defect,NA,Closed,Normal,"Wiki, Pdf export, Table, <pre>",Ente Ente,NA,2014-10-18T15:41:00Z,PDF export,2.6.0,NA,NA,NA,0,2014-10-07T12:27:00Z,2014-10-18T15:41:00Z,NA,Fixed,2.4.3,"When exporting this wiki page:

<pre>
<code>
h1. Test

| S3 | <pre>R1</pre> | something |
</code>
</pre>

in the resulting pdf the R1 is in the wrong column"
18044,Redmine,Defect,NA,Closed,Normal,Web application could not be started,sbh bhs,NA,2014-10-08T05:15:00Z,NA,NA,NA,NA,NA,0,2014-10-08T01:29:00Z,2014-10-08T05:15:00Z,NA,Invalid,NA,"My redmine stoped to work ufter some updates.
It worked fine before i'd restart Apache.
Now i see errors like this:

Web application could not be started

An error occurred while starting up the preloader. It exited before signalling successful startup back to Phusion Passenger. Please read this article for more information about this problem.
Raw process output:

(empty)
Error ID
5e790e73
Application root
/usr/local/www/redmine
Environment (value of RAILS_ENV, RACK_ENV, WSGI_ENV, NODE_ENV and PASSENGER_APP_ENV)
production
Ruby interpreter command
/usr/local/bin/ruby19
User and groups
uid=80(www) gid=80(www) groups=80(www)
Environment variables
SERVER_SOFTWARE=Apache/2.2.29 (FreeBSD) PHP/5.3.29 with Suhosin-Patch Phusion_Passenger/4.0.53 mod_ssl/2.2.29 OpenSSL/1.0.1e-freebsd DAV/2
SERVER_PROTOCOL=HTTP/1.1
SERVER_NAME=rm.i.vvtf.ru
SERVER_ADMIN=it@vvtf.ru
SERVER_ADDR=192.168.10.202
SERVER_PORT=443
REMOTE_ADDR=192.168.10.45
REMOTE_PORT=36592
REQUEST_METHOD=GET
QUERY_STRING=
HTTPS=on
DOCUMENT_ROOT=/usr/local/www/redmine/public/
REQUEST_URI=/
UNIQUE_ID=VDR2acCoCsoAAQBtPW8AAAAC
SSL_TLS_SNI=rm.i.vvtf.ru
PASSENGER_APP_ENV=production
NODE_ENV=production
WSGI_ENV=production
RACK_ENV=production
RAILS_ENV=production
NODE_PATH=/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/node_lib
PYTHONUNBUFFERED=1
IN_PASSENGER=1
PWD=/usr/local/www/redmine
HOME=/nonexistent
SHELL=/usr/sbin/nologin
LOGNAME=www
USER=www
PASSENGER_DEBUG_DIR=/tmp/passenger.spawn-debug.IcG8lpxIiV
PATH=/sbin:/bin:/usr/sbin:/usr/bin
LD_LIBRARY_PATH=/usr/local/lib:/usr/local/lib
RC_PID=65607
Ulimits
cpu time               (seconds, -t)  unlimited
file size           (512-blocks, -f)  unlimited
data seg size           (kbytes, -d)  524288
stack size              (kbytes, -s)  65536
core file size      (512-blocks, -c)  unlimited
max memory size         (kbytes, -m)  unlimited
locked memory           (kbytes, -l)  131072
max user processes              (-u)  5547
open files                      (-n)  28890
virtual mem size        (kbytes, -v)  unlimited
swap limit              (kbytes, -w)  unlimited
sbsize                   (bytes, -b)  unlimited
pseudo-terminals                (-p)  unlimited
System metrics
------------- General -------------
Kernel version    : 10.0-RELEASE-p9
Uptime            : 17h 52m 25s
Load averages     : 1.19%, 0.85%, 0.78%

------------- CPU -------------
Number of CPUs    :    2
Average CPU usage :   0%  --   0% user,   0% nice,   0% system, 100% idle
  CPU 1           :   0%  --   0% user,   0% nice,   0% system, 100% idle
  CPU 2           :   0%  --   0% user,   0% nice,   0% system, 100% idle

------------- Memory -------------
RAM total         :   1003 MB
RAM used          :    385 MB (38%)
RAM free          :    618 MB
Swap total        :   2560 MB
Swap used         :     94 MB (4%)
Swap free         :   2465 MB

General Ruby interpreter information
RUBY_VERSION = 1.9.3
RUBY_PLATFORM = i386-freebsd10
RUBY_ENGINE = ruby
RubyGems version = 1.8.29
RubyGems paths = [""/usr/local/lib/ruby/gems/1.9""]
Ruby configuration (RbConfig::CONFIG)
DESTDIR = 
MAJOR = 1
MINOR = 9
TEENY = 1
PATCHLEVEL = 547
INSTALL = /usr/bin/install -c -o root -g wheel
EXEEXT = 
prefix = /usr/local
ruby_install_name = ruby19
RUBY_INSTALL_NAME = ruby19
RUBY_SO_NAME = ruby19
exec = exec
ruby_pc = ruby-1.9.pc
PACKAGE = ruby
BUILTIN_TRANSSRCS =  newline.c
USE_RUBYGEMS = YES
MANTYPE = doc
NROFF = /usr/bin/nroff
vendorhdrdir = /usr/local/include/ruby-1.9//vendor_ruby
sitehdrdir = /usr/local/include/ruby-1.9//site_ruby
rubyhdrdir = /usr/local/include/ruby-1.9/
UNIVERSAL_INTS = 
UNIVERSAL_ARCHNAMES = 
configure_args =  '--with-rubyhdrdir=/usr/local/include/ruby-1.9/' '--with-rubylibprefix=/usr/local/lib/ruby' '--docdir=/usr/local/share/doc/ruby19' '--with-soname=ruby19' '--program-prefix=' '--program-suffix=19' '--enable-shared' '--enable-pthread' '--disable-rpath' '--with-ruby-version=minor' '--with-sitedir=/usr/local/lib/ruby/site_ruby' '--with-vendordir=/usr/local/lib/ruby/vendor_ruby' '--disable-install-capi' '--disable-install-rdoc' '--disable-libedit' '--with-readline-prefix=/usr/local' '--prefix=/usr/local' '--mandir=/usr/local/man' '--infodir=/usr/local/info/' '--build=i386-portbld-freebsd10' 'build_alias=i386-portbld-freebsd10' 'CC=cc' 'CFLAGS=-O2 -pipe -fno-strict-aliasing' 'LDFLAGS= -Wl,-rpath,/usr/lib:/usr/local/lib' 'LIBS=-L/usr/local/lib -pthread' 'CPPFLAGS=-I/usr/local/include' 'CXX=c++' 'CXXFLAGS=-O2 -pipe -fno-strict-aliasing' 'CPP=cpp'
vendordir = /usr/local/lib/ruby/vendor_ruby
sitedir = /usr/local/lib/ruby/site_ruby
ruby_version = 1.9
sitearch = i386-freebsd10
arch = i386-freebsd10
RI_BASE_NAME = ri
ridir = /usr/local/share/ri
rubylibprefix = /usr/local/lib/ruby
MAKEFILES = Makefile
PLATFORM_DIR = 
THREAD_MODEL = pthread
SYMBOL_PREFIX = 
EXPORT_PREFIX = 
COMMON_HEADERS = 
COMMON_MACROS = 
COMMON_LIBS = 
MAINLIBS = -pthread 
ENABLE_SHARED = yes
DLDLIBS =  -lc
SOLIBS = -lexecinfo -lcrypt -lm -L/usr/local/lib -pthread
LIBRUBYARG_SHARED = -lruby19
LIBRUBYARG_STATIC = -lruby19-static
LIBRUBYARG = -lruby19
LIBRUBY = libruby19.so.19
LIBRUBY_ALIASES = libruby19.so
LIBRUBY_SO = libruby19.so.19
LIBRUBY_A = libruby19-static.a
RUBYW_INSTALL_NAME = 
rubyw_install_name = 
LIBRUBY_DLDFLAGS = -Wl,-soname,libruby19.so.19
LIBRUBY_LDSHARED = cc -shared
EXTDLDFLAGS = 
warnflags = -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wshorten-64-to-32 -Wimplicit-function-declaration
debugflags = 
optflags = -O3
cxxflags =  -O3  -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wshorten-64-to-32 -Wimplicit-function-declaration
cflags =  -O3  -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wshorten-64-to-32 -Wimplicit-function-declaration
cppflags = -I/usr/local/include
NULLCMD = :
INSTALLDOC = nodoc
CAPITARGET = nodoc
RDOCTARGET = nodoc
EXECUTABLE_EXTS = 
ARCHFILE = 
LIBRUBY_RELATIVE = no
EXTOUT = .ext
PREP = miniruby
TEST_RUNNABLE = yes
setup = Setup
EXTSTATIC = 
STRIP = strip
TRY_LINK = 
LIBPATHENV = LD_LIBRARY_PATH
RPATHFLAG = 
LIBPATHFLAG =  -L%s
LINK_SO = 
LIBEXT = a
DLEXT2 = 
DLEXT = so
LDSHAREDXX = c++ -shared
LDSHARED = cc -shared
CCDLFLAGS = -fPIC
STATIC = 
ARCH_FLAG = 
DLDFLAGS = 
ALLOCA = 
codesign = 
POSTLINK = :
WERRORFLAG = -Werror
CHDIR = cd -P
RMALL = rm -fr
RMDIRS = rmdir -p
RMDIR = rmdir
CP = cp
RM = rm -f
PKG_CONFIG = pkg-config
DOXYGEN = 
DOT = 
MAKEDIRS = /bin/mkdir -p
MKDIR_P = /bin/mkdir -p
INSTALL_DATA = install  -o root -g wheel -m 0644
INSTALL_SCRIPT = install  -o root -g wheel -m 555
INSTALL_PROGRAM = install  -s -o root -g wheel -m 555
SET_MAKE = 
LN_S = ln -s
NM = nm
DLLWRAP = 
WINDRES = 
OBJCOPY = :
OBJDUMP = objdump
ASFLAGS = 
AS = as
AR = ar
RANLIB = ranlib
try_header = 
COUTFLAG = -o 
OUTFLAG = -o 
CPPOUTFILE = -o conftest.i
GNU_LD = yes
GCC = yes
EGREP = /usr/bin/egrep
GREP = /usr/bin/grep
CPP = cpp
CXXFLAGS = -O2 -pipe -fno-strict-aliasing
CXX = c++
OBJEXT = o
CPPFLAGS = -I/usr/local/include  -I/usr/local/include
LDFLAGS = -L.  -Wl,-rpath,/usr/lib:/usr/local/lib -rdynamic
CFLAGS = -O2 -pipe -fno-strict-aliasing -fPIC
CC = cc
target_os = freebsd10
target_vendor = portbld
target_cpu = i386
target = i386-portbld-freebsd10
host_os = freebsd10
host_vendor = portbld
host_cpu = i386
host = i386-portbld-freebsd10
RUBYW_BASE_NAME = rubyw
RUBY_BASE_NAME = ruby
build_os = freebsd10
build_vendor = portbld
build_cpu = i386
build = i386-portbld-freebsd10
RUBY_RELEASE_DATE = 2014-05-14
RUBY_PROGRAM_VERSION = 1.9.3
BASERUBY = ruby
target_alias = 
host_alias = 
build_alias = i386-portbld-freebsd10
LIBS = -lexecinfo -lcrypt -lm -L/usr/local/lib -pthread
ECHO_T = 
ECHO_N = -n
ECHO_C = 
DEFS = 
mandir = /usr/local/man
localedir = /usr/local/share/locale
libdir = /usr/local/lib
psdir = /usr/local/share/doc/ruby19
pdfdir = /usr/local/share/doc/ruby19
dvidir = /usr/local/share/doc/ruby19
htmldir = /usr/local/share/doc/ruby19
infodir = /usr/local/info
docdir = /usr/local/share/doc/ruby19
oldincludedir = /usr/include
includedir = /usr/local/include
localstatedir = /usr/local/var
sharedstatedir = /usr/local/com
sysconfdir = /usr/local/etc
datadir = /usr/local/share
datarootdir = /usr/local/share
libexecdir = /usr/local/libexec
sbindir = /usr/local/sbin
bindir = /usr/local/bin
program_transform_name = s&$&19&;s&^&&
exec_prefix = /usr/local
PACKAGE_URL = 
PACKAGE_BUGREPORT = 
PACKAGE_STRING = 
PACKAGE_VERSION = 
PACKAGE_TARNAME = 
PACKAGE_NAME = 
PATH_SEPARATOR = :
SHELL = /bin/sh
rubylibdir = /usr/local/lib/ruby/1.9
archdir = /usr/local/lib/ruby/1.9/i386-freebsd10
sitelibdir = /usr/local/lib/ruby/site_ruby/1.9
sitearchdir = /usr/local/lib/ruby/site_ruby/1.9/i386-freebsd10
vendorlibdir = /usr/local/lib/ruby/vendor_ruby/1.9
vendorarchdir = /usr/local/lib/ruby/vendor_ruby/1.9/i386-freebsd10
topdir = /usr/local/lib/ruby/1.9/i386-freebsd10
Ruby load path ($LOAD_PATH)
/usr/local/lib/ruby/site_ruby/1.9
/usr/local/lib/ruby/site_ruby/1.9/i386-freebsd10
/usr/local/lib/ruby/site_ruby
/usr/local/lib/ruby/vendor_ruby/1.9
/usr/local/lib/ruby/vendor_ruby/1.9/i386-freebsd10
/usr/local/lib/ruby/vendor_ruby
/usr/local/lib/ruby/1.9
/usr/local/lib/ruby/1.9/i386-freebsd10
Ruby loaded libraries ($LOADED_FEATURES)
enumerator.so
/usr/local/lib/ruby/1.9/i386-freebsd10/enc/encdb.so
/usr/local/lib/ruby/1.9/i386-freebsd10/enc/trans/transdb.so
/usr/local/lib/ruby/site_ruby/1.9/rubygems/defaults.rb
/usr/local/lib/ruby/1.9/i386-freebsd10/rbconfig.rb
/usr/local/lib/ruby/site_ruby/1.9/rubygems/deprecate.rb
/usr/local/lib/ruby/site_ruby/1.9/rubygems/exceptions.rb
/usr/local/lib/ruby/site_ruby/1.9/rubygems/custom_require.rb
/usr/local/lib/ruby/site_ruby/1.9/rubygems.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger.rb
/usr/local/lib/ruby/1.9/i386-freebsd10/etc.so
/usr/local/lib/ruby/1.9/fileutils.rb
/usr/local/lib/ruby/1.9/tmpdir.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/tmpio.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/platform_info.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/platform_info/operating_system.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/platform_info/ruby.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/platform_info/binary_compatibility.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/buildout/ruby/ruby-1.9.3-x86-freebsd10/passenger_native_support.so
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/native_support.rb
/usr/local/lib/ruby/1.9/i386-freebsd10/socket.so
/usr/local/lib/ruby/1.9/socket.rb
/usr/local/lib/ruby/1.9/thread.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/ruby_core_enhancements.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/tmpdir.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/preloader_shared_helpers.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/constants.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/public_api.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/debug_logging.rb
/usr/local/lib/ruby/1.9/shellwords.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/shellwords.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/loader_shared_helpers.rb
/usr/local/lib/ruby/1.9/i386-freebsd10/fcntl.so
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/message_channel.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/message_client.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/native_support_utils.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/unseekable_socket.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/request_handler/thread_handler.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/request_handler.rb
/usr/local/lib/ruby/1.9/i386-freebsd10/stringio.so
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/utils/tee_input.rb
/usr/local/lib/ruby/gems/1.9/gems/passenger-4.0.53/lib/phusion_passenger/rack/thread_handler_extension.rb"
18054,Redmine,Defect,NA,Closed,Normal,New install of Redmine,sbh bhs,NA,2014-10-10T05:31:00Z,NA,NA,NA,NA,NA,0,2014-10-10T05:19:00Z,2014-10-10T05:28:00Z,NA,Invalid,NA,"I had install new redmine on FreeBSD 10.
When i try to open tab with redmine it my browser i got an error:

Web application could not be started
An error occurred while starting up the preloader. It exited before signalling successful startup back to Phusion Passenger. Please read this article for more information about this problem.
Raw process output:

(empty)

How to fix it???"
18055,Redmine,Defect,NA,New,Normal,"Wiki page ""HowTo Configure Fail2ban For Redmine"" contains incomplete/misleading instructions",Gilles L?onard,NA,2016-04-22T03:06:00Z,Documentation,NA,NA,NA,NA,0,2014-10-10T06:08:00Z,NA,NA,NA,2.5.0,"[[HowTo_Configure_Fail2ban_For_Redmine]]
I am running Redmine with the following versions:
Environment:
  Redmine version                2.5.1.stable.13174
  Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-linux]
  Rails version                  3.2.18
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1

Redmine is installed on Ubuntu 14.04.1 LTS (GNU/Linux 3.13.0-24-generic x86_64)

In *Configure* section of the howto, in the box following the text that says ""add following lines somewhere in your /etc/fail2ban/jail.conf..."", the action line (action = iptables-allports[name=redmine]) is a bit heavy handed as it bans all ports, not only http and https. 

This is a problem, especially in view of the fact that the rest of the howto fails to inform you that Redmine doesn't prepends logged lines with a time stamp in ""production.log"" with the result that ""when you're banned, you're banned forever ever ever ever... on all ports, including SSH which might be your only possible access to a cloud server. I got locked out ! Fortunately, DigitalOcean VMs have a remote console access that I could use to get out of trouble.

Here are the changes that propose based on my production setup that has successfully tested in the above mentioned environment:
# No changes should me made to /etc/fail2ban/jail.conf as this file gets overwritten every time fail2ban gets updated. Instead, it is recommended to create or add to a file named /etc/fail2ban/jail.local;
#  The content of the Redmine section in /etc/fail2ban/jail.local should read as follow:
@
[redmine]
enabled  = true
filter   = redmine
port     = http,https
logpath  = /srv/redmine/log/production.log
maxretry = 5
findtime = 600
bantime = 600
@
This would have the effect of banning the IP address of a client trying to connect on ports HTTP and HTTPS for 10 minutes,  after it has seen 5 failed login reties within the last 10 minutes. 
# The howto contains some explanation about findtime and bantime that is not in line with fail2ban's documentation and the result of using the large numbers that are proposed in the howto would not yeld good results.
# Note that on my production setup the default location of Redmine's production log is in /srv/redmine/production.log
# A section should be added to explain how to get redmine to add a timestamp in front of each line production.log, and it should read as follow ""Add the following to /srv/redmine/config/environment.rb :""
@
class Logger
 def format_message(severity, timestamp, progname, msg)
 ""#{timestamp} (#{$$}) #{msg}\n"" 
 end
end
@



"
18058,Redmine,Defect,NA,Closed,Normal,Wrong redirect after saving changes to a version (Firefox with network.http.referer.trimmingPolicy = 2),Maurice M.,Jean-Philippe Lang,2014-10-23T06:03:00Z,Roadmap,NA,NA,NA,NA,0,2014-10-10T11:13:00Z,2014-10-21T22:49:00Z,NA,Invalid,2.5.1,"Steps to reproduce:
* Go to a roadmap page
* Click on a version number
* Click on _edit_ (URL ex: @/versions/65/edit@)
* Click on _Save_
You'll be redirect to the main page. I'd expect to be redirected back to the roadmap page.

The same applies to editing versions via _Project Page_ > _Settings_ > _Versions tab_.

My Configuration:
<pre>
Environment:
  Redmine version                2.5.1.stable
  Ruby version                   1.8.7-p352 (2011-06-30) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem
Redmine plugins:
  no plugin installed

</pre>"
18060,Redmine,Defect,NA,Closed,Normal,"Selected projects in email notifications on ""my account"" are lost when the page is redisplayed after a validation error.",Felix Sch?fer,Jean-Philippe Lang,2014-11-23T09:45:00Z,Email notifications,2.6.1,NA,NA,NA,0,2014-10-10T15:42:00Z,2014-11-23T09:45:00Z,NA,Fixed,2.5.2,"On ""my account"" with ""for any event on the selected projects only"" selected in the email notifications area and some projects selected for that, the selected projects (newly selected and already saved) are lost if the page gets redisplayed after for example a validation error (no first name for example)."
18068,Redmine,Defect,NA,Closed,Normal,Copying Projects & Parent Child Issues,James H,NA,2014-11-08T12:10:00Z,Issues,NA,NA,NA,NA,0,2014-10-10T23:59:00Z,2014-11-08T12:10:00Z,NA,NA,2.4.3,"Issues that have parent child relationships only show up as nested in a tree view in the issues list when the issues are in order (parent first then children immediately below it).

When copying projects...
* If I have the issues in order to show up in a nested view, the parent issue still gets copied first before its children and shows up incorrect.
* If I put the issues in opposite order, it still behaves similarly. 
* I have no way to have a nested view of issues after copying a project.

i.e.
+Project Issues to be copied:+
- Child Issue 1.1
- Child Issue 1.2
- Child Issue 1.3
Parent Issue 1
Parent Issue 2
- Child Issue 2.1
- Child Issue 2.2
Parent Issue 3
- Child Issue 2.1
- Child Issue 2.2


+becomes:+
- Child Issue 1.1
- Child Issue 1.2
- Child Issue 1.3
Parent Issue 1
- Child Issue 2.1
- Child Issue 2.2
Parent Issue 2
- Child Issue 2.1
- Child Issue 2.2
Parent Issue 3
"
18081,Redmine,Defect,NA,Closed,Normal,Create a new group - 500 Internal Server Error,Roger tjmg,NA,2014-10-14T17:41:00Z,NA,NA,NA,NA,NA,0,2014-10-13T21:13:00Z,2014-10-14T17:41:00Z,NA,Invalid,NA,"When i try to create a new group, the message 500 Internal Server Error appears.

Environment:
Redmine version 2.3.0.stable.11744
Ruby version 1.8.7 (x86_64-linux)
Rails version 3.2.13
Environment production
Database adapter MySQL
Redmine plugins:
redmine_loader 0.0.12
redmine_testlinklink 1.0.0

Started POST ""/groups"" for 10.0.1.33 at Wed Sep 17 10:53:26 -0300 2014
Processing by GroupsController#create as HTML
Parameters: {""group""=>{""name""=>""TEST""}, ""authenticity_token""=>""cGCTAk8JBMs+ChiUrQIykrT4hpUa78bh554Ndw9qdYc="", ""utf8""=>""?"", ""commit""=>""Criar""}
Current user: admin (id=1)
Completed 500 Internal Server Error in 29ms

ActiveRecord::RecordNotUnique (Mysql::Error: Duplicate entry '' for key 'uclogin': INSERT INTO `users` (`admin`, `auth_source_id`, `created_on`, `firstname`, `hashed_password`, `identity_url`, `language`, `last_login_on`, `lastname`, `login`, `mail`, `mail_notification`, `salt`, `status`, `type`, `updated_on`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)):
app/controllers/groups_controller.rb:52:in `create'
app/controllers/groups_controller.rb:51:in `create'"
18094,Redmine,Defect,NA,Closed,Normal,List custom filed with multiple values displayed as check boxes cannot be unchecked,Marius BALTEANU,NA,2014-10-20T21:29:00Z,Custom fields,NA,NA,NA,NA,0,2014-10-14T17:09:00Z,2014-10-20T21:29:00Z,次のチケットと重複 #16798,Duplicate,2.5.2,"Steps to reproduce:
# Add new custom field for issues with the following attributes:
Format: List
Name: Test
Description:
Multiple values: Yes
Possible values: One, Two, Three
Default value:
Link values to URL:
Display: checkboxes

# Enable the custom field on a tracker
# Enable the custom field on a project
# Add a new issue on the respective project and tracker
# Check on option for Test field
# Save
# Edit issue
# Uncheck all options for Test field
# Save
# Observe that the option is still checked

I observed in logs that when the request is made with no option checked, the custom field is not sent."
18095,Redmine,Defect,NA,Confirmed,Normal,Unable to submit time entries via REST API for activities that have become project-specific,Alex MacAulay,NA,2014-11-14T11:43:00Z,REST API,NA,NA,NA,NA,0,2014-10-14T17:34:00Z,NA,NA,NA,2.5.2,"Steps to reproduce: Create a new project. In web interface, go to ""Settings"" tab, then go to ""Activities (time tracking)"" tab. Deactivate an activity (let's say ""Design"") by unchecking the checkbox. Click ""Save"". Then reactivate the activity by re-checking the checkbox. Click ""Save"".

At this point, there is a project-specific activity for the ""Design"" activity in the Redmine database, in addition to the system-level ""Design"" activity. So the first question could be: is this a bug? Should the project-specific activity no longer exist when it has been reactivated? For the moment, I'll assume that it is reasonable that it continues to exist.

So, now I make a request to the REST API to get an enumeration of the time entry activities (GET /enumerations/time_entry_activities.xml). It returns only the system-level time entry activities.

However, if I use the web interface to submit a time entry on the ""Design"" activity for my project via the web interface, it uses the project-specific ID for the time entry.

This inconsistency between the behavior exposed via the REST API and the web interface means that I'm unable to submit time entries via the REST API for project-specific activities, because the REST API does not give me the IDs of those activities.

In order to resolve the bug, I would propose to modify the code that adds time entries in order to converts a system-level time entry activity ID to the corresponding project-specific time entry activity ID if it exists. I've attached a proposed patch.

For reference, here is the output of ruby script/about:

<pre>
Environment:
  Redmine version                2.5.2.devel.13434
  Ruby version                   1.8.7-p352 (2011-06-30) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem
Redmine plugins:
  no plugin installed
</pre>"
18101,Redmine,Defect,NA,Closed,Normal,Custom fields error in View on Windows,Alexander Kupchenko,NA,2014-10-15T05:37:00Z,Custom fields,NA,NA,NA,NA,0,2014-10-15T04:06:00Z,2014-10-15T05:37:00Z,NA,Invalid,NA,"When i trying add any new custom field i see 500 internal server error. Windows 8.1 update 1 x64. I tried jruby 1.7.16 and ruby-2.0.0-p576 with both have this error.
_____________________________________________________________________
Environment:
  Redmine version                2.5.2.stable
  Ruby version                   2.0.0-p576 (2014-09-19) [i386-mingw32]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.9.4
  Filesystem                     
Redmine plugins:
  redmine_track_control          1.0.9

"
18113,Redmine,Defect,NA,Closed,Normal,REST API KEY doesn't work with basic authentication,Renzo Dani,NA,2017-03-15T15:15:00Z,REST API,NA,NA,NA,NA,0,2014-10-16T09:30:00Z,2014-10-20T21:29:00Z,NA,Cant reproduce,2.5.2,"If I try to access the api using my key and basic authentication it doesn't work. It does if I use the key as a parameter.

<pre>
$ curl -v -u MyAPIKey:randompassword https://IP/users/current.xml

* STATE: INIT => CONNECT handle 0x800477e8; line 1028 (connection #-5000)
* Hostname was NOT found in DNS cache
*   Trying IP...
* STATE: CONNECT => WAITCONNECT handle 0x800477e8; line 1076 (connection #0)
* Connected to (IP) port 443 (#0)
* STATE: PROTOCONNECT => DO handle 0x800477e8; line 1208 (connection #0)
* Server auth using Basic with user 'MyAPIKey'
> GET /users/current.xml HTTP/1.1
> Authorization: Basic base64_of_MyAPIKey:randompassword
> User-Agent: curl/7.37.1
> Host: IP
> Accept: */*
>
* STATE: DO => DO_DONE handle 0x800477e8; line 1281 (connection #0)
* STATE: DO_DONE => WAITPERFORM handle 0x800477e8; line 1407 (connection #0)
* STATE: WAITPERFORM => PERFORM handle 0x800477e8; line 1420 (connection #0)
* HTTP 1.1 or later with persistent connection, pipelining supported
< HTTP/1.1 401 Authorization Required
< Date: Thu, 16 Oct 2014 07:21:17 GMT
* Server Apache is not blacklisted
< Server: Apache
< Strict-Transport-Security: max-age=31536000; includeSubDomains
* Authentication problem. Ignoring this.
< WWW-Authenticate: Basic realm=""Redmine API""
< X-UA-Compatible: IE=Edge,chrome=1
< Cache-Control: no-cache
< X-Request-Id: 2ea6385fbc1564b902112fd5397a88ac
< X-Runtime: 0.006031
< X-Rack-Cache: miss
< Content-Type: application/xml; charset=utf-8
< Transfer-Encoding: chunked
<
* STATE: PERFORM => DONE handle 0x800477e8; line 1590 (connection #0)
* Connection #0 to host IP left intact
* Expire cleared


Redmine log:
Started GET ""/users/current.xml"" for XXX at 2014-10-16 09:21:32 +0200
Processing by UsersController#show as XML
  Parameters: {""id""=>""current""}
  Current user: anonymous
Filter chain halted as :check_if_login_required rendered or redirected
Completed 401 Unauthorized in 3.3ms (ActiveRecord: 0.7ms)









$ curl -v  https://IP/users/current.xml?key=MyAPIKey


* STATE: INIT => CONNECT handle 0x800477e8; line 1028 (connection #-5000)
* Hostname was NOT found in DNS cache
*   Trying IP...
* STATE: CONNECT => WAITCONNECT handle 0x800477e8; line 1076 (connection #0)
* Connected to (IP) port 443 (#0)
* STATE: PROTOCONNECT => DO handle 0x800477e8; line 1208 (connection #0)
> GET /users/current.xml?key=MyAPIKey HTTP/1.1
> User-Agent: curl/7.37.1
> Host: IP
> Accept: */*
>
* STATE: DO => DO_DONE handle 0x800477e8; line 1281 (connection #0)
* STATE: DO_DONE => WAITPERFORM handle 0x800477e8; line 1407 (connection #0)
* STATE: WAITPERFORM => PERFORM handle 0x800477e8; line 1420 (connection #0)
* HTTP 1.1 or later with persistent connection, pipelining supported
< HTTP/1.1 200 OK
< Date: Thu, 16 Oct 2014 07:24:31 GMT
* Server Apache is not blacklisted
< Server: Apache
< Strict-Transport-Security: max-age=31536000; includeSubDomains
< X-UA-Compatible: IE=Edge,chrome=1
< ETag: ""3299271e718c967be9ce47132e0f3033""
< Cache-Control: max-age=0, private, must-revalidate
< X-Request-Id: 915ced07c7be89d4423c0dda47cfddc6
< X-Runtime: 0.072114
< X-Rack-Cache: miss
< Content-Type: application/xml; charset=utf-8
< Transfer-Encoding: chunked
<
* STATE: PERFORM => DONE handle 0x800477e8; line 1590 (connection #0)
* Connection #0 to host IP left intact
* Expire cleared
<?xml version=""1.0"" encoding=""UTF-8""?><user><id>3</id><login>xxx</login><firstname>xxx</firstname><lastname>xxx</lastname><mail>.....


Redmine log:
Started GET ""/users/current.xml?key=MyAPIKey"" for 10.11.1.164 at 2014-10-16 09:24:31 +0200
Processing by UsersController#show as XML
  Parameters: {""key""=>""MyAPIKey"", ""id""=>""current""}
  Current user: xxx (id=3)
  Rendered users/show.api.rsb (3.6ms)
Completed 200 OK in 70.1ms (Views: 3.8ms | ActiveRecord: 21.5ms)

</pre>"
18119,Redmine,Defect,NA,Closed,Normal,Thumbnail image path without HTTPS,Filou Centrinov,Jean-Philippe Lang,2014-10-18T12:15:00Z,Text formatting,2.6.0,NA,NA,NA,0,2014-10-17T01:44:00Z,2014-10-18T12:15:00Z,関連している #18120,Fixed,2.5.2,"Thumbnails created with ""<notextile>{</notextile><notextile>{thumbnail(image.png)}}</notextile>"" are always generated  with absolute HTTP-path, even if the Redmine runs with HTTPS.

*Solution:* If thumbnail path had been relative, we wouldn't have this problem. (Like thumbnails from attachments.)


<pre>
Environment:
  Redmine version                2.5.2.stable
  Ruby version                   2.1.3-p242 (2014-09-19) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
</pre>"
18132,Redmine,Defect,NA,Closed,Normal,Rails4: deprecated Relation#update_all at db migrate,Igor Pashev,NA,2014-10-19T15:36:00Z,NA,NA,NA,NA,NA,0,2014-10-19T12:59:00Z,2014-10-19T15:36:00Z,NA,Fixed,NA,"Migration 20130215111141_populate_issues_closed_on is broken [1] with recent rake [2].

[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=765466
[2] https://github.com/rails/rails/commit/1391d74e41b786d2f1a3a4ecf7fad1eda7e49622"
18144,Redmine,Defect,NA,Closed,Normal,"German translation on ""delete my account"" page showing a ""\n""",Maurice M.,Jean-Philippe Lang,2014-10-20T23:23:00Z,Translations,2.6.0,NA,NA,NA,0,2014-10-20T21:17:00Z,2014-10-20T23:23:00Z,NA,Fixed,2.5.1,see subject and attachment
18148,Redmine,Defect,NA,Needs feedback,Normal,hook controller_account_success_authentication_after not called with auth_sources,Sylvain V,NA,2014-10-28T19:26:00Z,Accounts / authentication,NA,NA,NA,NA,0,2014-10-21T15:25:00Z,NA,NA,NA,2.5.2,"If users are registered by an auth_sources

See [[Alternativecustom_authentication_HowTo]]

the hook is not used.

:controller_account_success_authentication_after

source:trunk/app/controllers/account_controller.rb#L258

is it the expected behavior?"
18174,Redmine,Defect,NA,Closed,High,Rails-4.1 branch merge into trunk (r13482) reverts trunk commits,Mischa The Evil,Jean-Philippe Lang,2014-10-25T07:31:00Z,NA,NA,NA,NA,NA,0,2014-10-24T05:39:00Z,2014-10-24T20:46:00Z,"関連している #18134, 関連している #14534",Fixed,NA,"The merge of the rails-4.1 branch back into trunk contains errors and as such is reverting trunk commits. This is caused by the fact that the branch was not properly rebased in r13443. During the merge commits on trunk were reverted. This is something I was already expecting to happen. That is why I reported and patched (finished the rebase) this already in #18134 (under 2.1).
I'm still looking into this right now, but wanted to report this quickly...

First inspection: patch http://www.redmine.org/attachments/12519/5.%20merge-missing-in-41-from-trunk_to_rails-4.1_at_r13451.patch (attached to #18134) which was originally made to apply to rails-4.1 branch, seems to include all reverted commit's changes and should instead now be applied to trunk.

Assigned to Toshi because you're trying to fix it currently."
18175,Redmine,Defect,NA,Closed,Normal,Dislocation in appearance of Right click context menu in issue list,Lajish Lakshmanan,NA,2014-10-24T22:59:00Z,Issues,NA,NA,NA,NA,0,2014-10-24T08:09:00Z,2014-10-24T22:59:00Z,NA,Invalid,2.6.0,"In version 2.6.0, right click context menu appearance has been dislocated. Please check the attached image."
18206,Redmine,Defect,NA,Closed,Normal,Files module doesn't sort,Josselin Beaud'huy,NA,2014-10-27T13:59:00Z,Files,NA,NA,NA,NA,0,2014-10-27T13:02:00Z,2014-10-27T13:59:00Z,NA,Invalid,2.6.0,Sort files doesn't work on files module
18228,Redmine,Defect,NA,Closed,High,Redmine 500 error,ketan panchal,NA,2014-10-29T12:46:00Z,NA,NA,NA,NA,NA,0,2014-10-29T12:22:00Z,2014-10-29T12:46:00Z,NA,Invalid,2.5.2,"I have install fresh redmine through bitnami on windows & then copy my old database & import in to mysql (change database.yml)

then redmine open but when i click on bugs or settings i got this error:

--------------------------------------------------------------------------



Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

Back"
18262,Redmine,Defect,NA,Closed,High,Unable to link an existing defect from Redmine into Testlink,krishna prasad,NA,2014-11-23T14:54:00Z,NA,NA,NA,NA,NA,0,2014-11-03T07:38:00Z,2014-11-05T19:32:00Z,NA,Invalid,1.3.1,"Team,

I am not able to link an existing defect in Redmine from Testlink. The error message displayed is ""Bug Id does not exist on BTS !""

I searched the various forums, but the resolution is not clear/available. If this has been resolved, please share me the link (URL) from which I can refer the resolution.

database manager version (eg. PostgreSQL 8.2)      > MySQL 5.1.47
Ruby version (eg. Ruby 1.8.7)                      > 1.8.6
Rails version (eg. Rails 2.3.11)                   > 2.3.5
Redmine version                                    > 1.3.1


Regards,

Krishna Prasad"
18265,Redmine,Defect,NA,Closed,Normal,Wrong csv separator in Croatian,dan kosc,NA,2014-11-04T00:38:00Z,Translations,3.0.0,NA,NA,NA,0,2014-11-03T11:58:00Z,2014-11-04T00:38:00Z,NA,Fixed,2.5.3,"every time I download new redmine I must change config so CSV export works with Excel.
in issuse you can press Atom | *CSV* | PDF 
.../htdocs/config/locales/hr.yml

general_csv_separator: ',' -> ';'
general_csv_decimal_sperator: '.' -> ','

Can you please fix this?

thank you"
18269,Redmine,Defect,NA,Closed,Normal,Timelog CSV export missing tracker name and issue name,Henning Kr?ger,Jean-Philippe Lang,2014-11-22T11:35:00Z,Time tracking,2.6.1,NA,NA,NA,0,2014-11-03T18:55:00Z,2014-11-22T11:35:00Z,NA,Fixed,2.6.0,"If I export timelog entries from the tab ""Details"" to CSV, the tracker name and issue name are no longer available in the exported file.
The CSV-column ""Issue"" contains only the issue number with hashtag. In previous versions (tested up to Redmine 2.5.2) it contained always the tracker number followed by the issue id and then the issue name (just like displayed in the table of the view). It makes no difference if all columns are selected for export or not.

My main testing environment:
Redmine version                2.6.0.stable
Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-linux]
Rails version                  3.2.19
Environment                    production
Database adapter               Mysql2

Of course exporting the timelog data is important for some companies like ours :/

If I can help with any additional information, i would be happy to do so."
18270,Redmine,Defect,NA,Closed,Normal,Character Encoding Issue,Hud Hood,NA,2014-11-06T07:52:00Z,NA,NA,NA,NA,NA,0,2014-11-04T04:26:00Z,2014-11-06T07:52:00Z,NA,Invalid,2.5.2,"The user using redmine enter character which is not supported on the server. The issue cannot be view as redmine complain about character encoding problem. The log show the following message.

Started GET ""/support/issues/5610"" for 192.168.0.106 at 2014-11-04 11:11:38 +0800
Processing by IssuesController#show as HTML
  Parameters: {""id""=>""5610""}
  Current user: pakhri (id=5)
  Rendered issues/_action_menu.html.erb (3.0ms)
  Rendered issues/show.html.erb within layouts/base (87.1ms)
Completed 500 Internal Server Error in 132.3ms

ActionView::Template::Error (incompatible character encodings: UTF-8 and ASCII-8BIT):
    78:
    79:   <p><strong><%=l(:field_description)%></strong></p>
    80:   <div class=""wiki"">
    81:   <%= textilizable @issue, :description, :attachments => @issue.attachments %>
    82:   </div>
    83: </div>
    84: <% end %>
  app/views/issues/show.html.erb:81:in `_app_views_issues_show_html_erb__2740786986976008304_21310920'
  app/controllers/issues_controller.rb:128:in `block (2 levels) in show'
  app/controllers/issues_controller.rb:125:in `show'

And the message entered is

There is logic deficiency in deriving the tier type for the same DIGI calls.  Based on my limited knowledge, we are deriving destination_group based on Country + PSTN and Country + MOB. Assume we have a destination called xxxxxxx . Mobile xxxxxxx, we will derive the destination group as JAMMOB. Now, I need to tagged this group to DIGI tier type. Similarly for xxxxxxx . Mobile Others, I will derive the destination group as JAMMOB but I need to tagged this to NGE_TRA tier type. Additionally, for xxxxxxx . PSTN, we will derive group as JAMPSTN and need to tagged them to NGE_TRA tier type. In the xxxxxxx . Mobile xxxxxxx and xxxxxxx . Mobile Other scenario, based on current table structure, I will not be able to tagged them with different tier type. I have to settle down with DIGI or NGE_TRA. This will not work well for onward reporting. Please look into this so that we can cover the requirements.

After editing the message, and change the offending character, the issue can be displayed. The offending character is shown here as the ""."" but on our server it is shown as "" ? ""."
18275,Redmine,Defect,NA,Closed,Normal,First argument in form cannot contain nil or be empty error on revision view,Elbert Casta?eda,Jean-Philippe Lang,2014-11-28T09:10:00Z,SCM,NA,NA,NA,NA,0,2014-11-04T18:33:00Z,2014-11-28T09:00:00Z,"関連している #18429, 関連している #14534",Fixed,NA,"In the log file, i have this error: ""ActionView::Template::Error (First argument in form cannot contain nil or be empty):""

Forum Discussion open in:
http://www.redmine.org/boards/2/topics/44534"
18280,Redmine,Defect,NA,Closed,Normal,closed_on missing when closed status of issue status changed,Felix Sch?fer,Jean-Philippe Lang,2014-11-22T11:39:00Z,Issues,2.6.1,NA,NA,NA,0,2014-11-05T11:42:00Z,2014-11-22T11:39:00Z,NA,Fixed,2.6.0,"When the status of an existing issue status is changed to ""closed"", the @closed_on@ column of issues that have or had that status is not set/updated. This causes a discrepancy between @Issue#closed?@ that can be true with @Issue#closed_on@ being null.

Tested and confirmed on trunk."
18285,Redmine,Defect,NA,New,Normal,Use Hidden custom fields at Spent Time Report and Details,Dariusz Kowalski,NA,2014-12-04T09:33:00Z,Custom fields,NA,NA,NA,NA,0,2014-11-05T17:45:00Z,NA,NA,NA,2.5.1,"I have added new Custom fields to Project and User.
They are not public information that I turn of Visibility of them.
I also selected Searchable and Used as a filter because I want
to use them at Spent Time reports.

I found that it doesn't work - and I don't see custom fields.

I start working when I turn visibility on.

I think this is not how it should work.

Could you help me?



"
18288,Redmine,Defect,NA,Closed,Normal,calander issue date in browser,Arul Baskar,NA,2014-11-11T12:56:00Z,NA,NA,NA,NA,NA,0,2014-11-06T07:19:00Z,2014-11-11T12:56:00Z,NA,Invalid,NA,I have use to different browser in  ie and firebox. ie start to sunday. firebox monday
18291,Redmine,Defect,NA,Closed,Urgent,Path property security issue when adding filesystem repository,Bahri Yardim,NA,2014-11-08T11:58:00Z,Security,NA,NA,NA,NA,0,2014-11-06T10:21:00Z,2014-11-08T11:58:00Z,次のチケットと重複 #1415,Duplicate,NA,"When adding a filesystem repository, one can enter whatever he wants into ""path"" property. This can lead to security issues. For example i entered ""/"" as path to a redmine project and i was able to see and modify  all of the server root (linux) in which the application runs. (Such behaviour can be replicated in windows hosts by entering ""C:/"" into path).

So a folder definition for all repositories must be set in a config file (not via admin panel because it  must not be changed). So that whatever path is entered, the root path will be the one set in config file.

I think this is a serious security issue.

You can see screenshots for information.

"
18300,Redmine,Defect,NA,Closed,Normal,Mandatory field appears only after submit,Alberto Cennini,NA,2015-08-23T17:02:00Z,Issues,NA,NA,NA,NA,0,2014-11-07T12:06:00Z,2015-08-23T17:02:00Z,NA,NA,NA,"I defined a filed as mandatory for a tracker/role/status, but when I open an issue the field doesn't apper initially but only when I click on submit button. 
It seems as the initial page contains only the fields with the attributes specified in the tracker defined for first. 
Thanks   

Environment:
  Redmine version                2.4.3.stable
  Ruby version                   1.9.3-p550 (2014-10-27) [x86_64-linux]
  Rails version                  3.2.16
  Environment                    production
  Database adapter               Mysql2
SCM:
  Filesystem                     
Redmine plugins:
  extended_fields                0.2.2
  redmine_hours                  0.1.0
  redmine_landing_page           0.1.0
  redmine_maintenance_mode       1.1.0
  redmine_plugin_views_revisions 0.0.1
  redmine_smart_issues_sort      0.3.1
  redmine_spent_time             2.4.0
  redmine_track_control          1.0.9
  redmine_workload               1.0.2"
18306,Redmine,Defect,NA,Closed,Normal,"Second, different IssueStatusesControllerTest#test_destroy_should_block_if_status_in_use introduced in r13535",Mischa The Evil,Jean-Philippe Lang,2014-11-08T12:03:00Z,Code cleanup/refactoring,NA,NA,NA,NA,0,2014-11-08T06:48:00Z,2014-11-08T12:03:00Z,NA,Fixed,NA,"r13535 introduces a second and different <code>IssueStatusesControllerTest#test_destroy_should_block_if_status_in_use</code> (source:/trunk/test/functional/issue_statuses_controller_test.rb@13569#L110) while a method with that exact name is already defined at source:/trunk/test/functional/issue_statuses_controller_test.rb@13569#L99.
If I understand the code correctly, I think naming them respectively:
* <code>IssueStatusesControllerTest#test_destroy_with_default_status_id_should_block_if_status_in_use</code> and
* <code>IssueStatusesControllerTest#test_destroy_with_status_id_should_block_if_status_in_use</code>

better describes the tests intentions.

I'm not entirely sure if this is a real problem or not, but I thought it might be worth an issue."
18310,Redmine,Defect,NA,Closed,Low,Default issue columns don't follow the set order,匿名ユーザー,NA,2016-07-02T07:21:00Z,UI,NA,NA,NA,NA,0,2014-11-10T11:02:00Z,2016-07-02T07:21:00Z,NA,No feedback,2.5.2,"In the ""Administration > Settings > Issue Tracking"" page, we have the ability to select which columns are displayed by default and in what order they must be placed. However, running with 2.5.2 the column order is not applied to the issues list view.

Manually setting the column order in the ""Options"" expandable panel when viewing a list of issues works and the column order used for custom queries both work correctly, this only affects the default column order when using the ""View all issues"" view.

I'm unsure what version this issue started in, I was running 2.4.3 prior to upgrading straight to 2.5.2. No errors logged that I can see."
18311,Redmine,Defect,NA,Closed,Normal,Filter is not added,Otgonbayar Agvaan,NA,2014-11-12T22:05:00Z,Issues,NA,NA,NA,NA,0,2014-11-10T11:31:00Z,2014-11-11T05:48:00Z,NA,Invalid,NA,"On version 2.6.0 

When I choose filter it is not added happens  nothing"
18314,Redmine,Defect,NA,Closed,Normal,German Translation - button_update,Alexander Loechel,NA,2014-11-28T08:33:00Z,Translations,3.0.0,NA,NA,NA,0,2014-11-10T18:09:00Z,2014-11-28T08:33:00Z,NA,NA,NA,"The German Translation of the Button: button_update https://svn.redmine.org/redmine/trunk/config/locales/de.yml Line 201 is wrong. The German ""Bearbeiten"" means edit, Update would be ""aktualisieren"" --> http://dict.leo.org/#/search=update

It could confuse users to have edit forms with a button_update that shows an edit button for saving the form. 
"
18318,Redmine,Defect,NA,Closed,Urgent,Redmine Bulk edit doesn't work when extended_field plugin is installed,Miluka De Silva,NA,2014-11-11T08:22:00Z,NA,NA,NA,NA,NA,0,2014-11-11T06:24:00Z,2014-11-11T08:22:00Z,NA,Invalid,NA,"I'm new to to ruby and redmine. When i use extened_fields plugin. in redmine 2.4.6 it gives me this error 

ActionView::Template::Error (wrong number of arguments (4 for 3)):
    93: <% @custom_fields.each do |custom_field| %>
    94:   <p>
    95:     <label><%= h(custom_field.name) %></label>
    96:     <%= custom_field_tag_for_bulk_edit('issue', custom_field, @projects, @issue_params[:custom_field_values][custom_field.id.to_s]) %>
    97:   </p>
    98: <% end %>
    99:
  app/views/issues/bulk_edit.html.erb:96:in `block (2 levels) in _app_views_issues_bulk_edit_html_erb___1466857573327355685_70119411110820'
  app/views/issues/bulk_edit.html.erb:93:in `block in _app_views_issues_bulk_edit_html_erb___1466857573327355685_70119411110820'
  app/views/issues/bulk_edit.html.erb:25:in `_app_views_issues_bulk_edit_html_erb___1466857573327355685_70119411110820'

Can anybody please help me with this issue."
18323,Redmine,Defect,NA,Closed,Normal,Upgrade wiki page does not use 'bundle exec' for rake tasks,Aaron Ten Clay,NA,2014-11-11T22:13:00Z,Documentation,NA,NA,NA,NA,0,2014-11-11T19:38:00Z,2014-11-11T22:13:00Z,NA,Fixed,NA,"http://www.redmine.org/projects/redmine/wiki/RedmineUpgrade does not use 'bundle exec' for rake, which it should so that users have a more seamless experience.

Examples:

<pre>
rake generate_secret_token
</pre>
... should be
<pre>
bundle exec rake generate_secret_token
</pre>

And:
<pre>
rake db:migrate RAILS_ENV=production 
</pre>
... should be
<pre>
bundle exec rake db:migrate RAILS_ENV=production 
</pre>"
18343,Redmine,Defect,NA,Closed,Normal,After a fresh install: Tracker (and so on) are translated in russian,fabrice salvaire,NA,2014-11-13T17:38:00Z,NA,NA,NA,NA,NA,0,2014-11-13T15:06:00Z,2014-11-13T16:52:00Z,NA,Invalid,2.6.0,"I just installed a fresh 2.6.0 and I noticed tracker's names (and so on) are translated in russian (?), for example Помилка. However the interface is in english. I installed several times redmine and I don't understand what happens."
18346,Redmine,Defect,NA,Closed,Normal,Extended Field Values that are nil produce an error,Ivo Steinmann,NA,2014-11-14T01:31:00Z,Issues,NA,NA,NA,NA,0,2014-11-14T01:22:00Z,2014-11-14T01:31:00Z,NA,Invalid,2.6.0,"If an extended field is not used by a tracker but is enabled in the issue overview, then an error is produced because the value of that field is nil

I appended a possible patch as file


In File: lib/extended_queries_helper_patch.rb:

                 if !column.custom_field.respond_to?(:visible_by?) || column.custom_field.visible_by?(issue.project, User.current)
                     value = issue.custom_field_values.detect{ |value| value.custom_field_id == column.custom_field.id }
+                    if value.nil?
+                        return nil
+                    end
 
                     h(show_value(value))
                 else"
18355,Redmine,Defect,NA,New,Normal,Missing CSS class 'tabular',Filou Centrinov,NA,2014-11-16T19:56:00Z,My page,NA,NA,NA,NA,0,2014-11-16T16:10:00Z,NA,NA,NA,2.6.0,"There is an inconsequence usage of class 'tabular' on /my/account. One fieldset has no 'tabular' class.

<pre>
<div class=""splitcontentleft"">
   <fieldset class=""box tabular"">
</div>
<div class=""splitcontentright"">
   <fieldset class=""box"">
   <fieldset class=""box tabular"">
</div>
</pre>

*Edit:* The same on the page ""New issue"". Not every fieldset has the class 'tabular'."
18374,Redmine,Defect,NA,Closed,Normal,Incoming emails are truncating CRLF,Chris Smith,NA,2015-06-15T23:22:00Z,Email receiving,NA,NA,NA,NA,0,2014-11-18T16:00:00Z,2015-06-15T23:22:00Z,関連している #16962,Duplicate,2.2.3,"When sending an email to Redmine from Outlook 2013 running Exchange 2007 it appears that emails' line endings are being removed. Instead of this:

Email

Project: test

we are getting this:

EmailProject: test

Mail coming from Mail.app on the newest version of OS X, Outlook Web Access, etc. seems OK.

"
18383,Redmine,Defect,NA,Closed,Normal,An error occurred while sending mail (undefined method `error' for :log:Symbol),Michael Kling,NA,2014-11-22T10:41:00Z,Email notifications,NA,NA,NA,NA,0,2014-11-19T12:31:00Z,2014-11-22T10:41:00Z,NA,NA,2.4.3,"While sending a test mail the following error is displayed as a result in the settings Email notifications tab:
<pre>
An error occurred while sending mail (undefined method `error' for :log:Symbol)
</pre>

Still i receive the test mail.

I encountered this bug while customers complained about not receiving emails. Using debug log i could get the following informations:

Stack:
<pre>
NoMethodError (undefined method `error' for :log:Symbol):
  app/models/mailer.rb:430:in `deliver_mail'
  app/models/mailer.rb:86:in `block (2 levels) in deliver_issue_edit'
  app/models/issue.rb:826:in `each_notification'
  app/models/mailer.rb:85:in `block in deliver_issue_edit'
  app/models/journal.rb:77:in `block in each_notification'
  app/models/journal.rb:75:in `each'
  app/models/journal.rb:75:in `each_notification'
  app/models/mailer.rb:84:in `deliver_issue_edit'
  app/models/journal.rb:190:in `send_notification'
  app/models/journal.rb:54:in `save'
  app/models/issue.rb:1511:in `create_journal'
  app/models/issue.rb:165:in `create_or_update'
  app/controllers/issues_controller.rb:470:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:458:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:184:in `update'
</pre>

That is the super method of the mailer class (ActionMailer::deliver_mail) called at this line. 
In order to get more detailed informations i printed out the mail object given to the method and got this in the log - while updating the issue the customer complained about not receiving an email:

<pre>
Rendered mailer/_issue.html.erb (7.8ms)
Rendered mailer/issue_edit.html.erb within layouts/mailer (15.1ms)
Try to deliver:
#<Mail::Message:60142340, Multipart: true, Headers: <From: m***t@a***o.de>, <To: >, <Cc: >, <Bcc: [""s***h@i***i.com"", ""a***n@a***o.de"", ""t***a@a***o.de"", ""c***i@a***o.de"", ""M***e@a***o.de"", ""c***s@s***p.net"", ""e***a@i***i.com""]>, <Message-ID: <redmine.journal-89253.20141119103615.67eb855ef4d4ad2e@a***o.de>>, <References: <redmine.issue-11121.20141017201624@a***o.de>>, <Subject: [*** Support - Task #11121] create new redmine account for N***r>, <Mime-Version: 1.0>, <Content-Type: multipart/alternative; boundary=""--==_mimepart_546c72a06b7e0_1e6c33e4fc412591""; charset=UTF-8>, <X-Redmine-Project: i***u>, <X-Redmine-Issue-Id: 11121>, <X-Redmine-Issue-Author: s***h>, <X-Redmine-Issue-Assignee: Michael.Kling>, <X-Redmine-Sender: Michael.Kling>, <X-Mailer: Redmine>, <X-Redmine-Host: r***p.net>, <X-Redmine-Site: Project-Management>, <X-Auto-Response-Suppress: OOF>, <Auto-Submitted: auto-generated>, <List-Id: <m***o.de>>>
Email delivery error: undefined method `error' for :log:Symbol
</pre>
(i marked internal informations with *** )

From what i see the mail object looks good.

I tried to look into the actionmailer but my ruby knowledge isn't good enough to go further. 
The actionmailer installed is: /vendor/bundle/gems/actionmailer-3.2.17

Environment is:
<pre>
Environment:
  Redmine version                2.4.3.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.9.1
  Filesystem
Redmine plugins:
  redmine_auto_watchers          0.3.0
  redmine_backlogs               v1.0.6
  redmine_better_gantt_chart     0.9.0
  redmine_dmsf                   1.4.7 stable
  redmine_git_hosting            0.6.2
  redmine_graphs                 0.1.0
  redmine_hudson                 2.1.1
  redmine_lightbox               0.0.1
  redmine_merge_redmine          0.1.0
  redmine_monitoring_controlling 0.1.1
  redmine_private_wiki           0.2.2
  redmine_spent_time             2.4.0
</pre>

I tried different mail send options:
/config/configuration.yml

<pre>
default:
  # Outgoing emails configuration (see examples above)
  email_delivery:
    delivery_method: :smtp
    smtp_settings:
      address: 127.0.0.1
      port: 25
      domain: ascendro.de
      authentication: :login
      user_name: ""m***t@a***e""
      password: ""***""
      openssl_verify_mode: 'none'
</pre>

and 

<pre>
default:
  # Outgoing emails configuration (see examples above)
  email_delivery:
    delivery_method: :sendmail
</pre>

without any change.

As already said, i was able to receive the test mail but it is possible that this error appears while sending the first mail and other people will not receive an email anymore."
18387,Redmine,Defect,NA,Closed,Normal,In parent issue list we have all issues (not relevant to the project),Alexander Kholodniak,NA,2014-11-19T17:07:00Z,NA,NA,NA,NA,NA,0,2014-11-19T15:42:00Z,2014-11-19T16:14:00Z,NA,Invalid,2.5.2,In parent issue list we have all issues (issues not relevant to the project). Will correct this bug?
18393,Redmine,Defect,NA,Closed,Normal,"issue assigning does not work when users change issue ""Category""",yu xiaohang,NA,2014-11-20T09:34:00Z,Issues,NA,NA,NA,NA,0,2014-11-20T04:53:00Z,2014-11-20T05:59:00Z,次のチケットと重複 #6889,Duplicate,2.6.0,"issue ""Category"" has a automatic assinging function you can choose a user who you want assigning an issue to, but this can only work when this issue is created at the first time,if you change to another ""Category"",this function will not work。

my redmine version is  v2.6.0 built by bitnami.com with no plugins"
18429,Redmine,Defect,NA,Closed,Normal,Error raised on project settings after project wiki is deleted,Cloud Zhong,Jean-Philippe Lang,2014-11-28T09:14:00Z,Project settings,NA,NA,NA,NA,0,2014-11-24T10:57:00Z,2014-11-28T08:46:00Z,"関連している #18275, 関連している #14534",Fixed,NA,"I do the following things.
go to project settings wiki , click delete button.

and then , the project wiki tab disappear.

and I can not go to this project settings.

I still can see other project's wiki and settings.



Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (First argument in form cannot contain nil or be emp                                                                                                             ty):
    1: <%= labelled_form_for @wiki,
    2:                    :as => :wiki,
    3:                    :url => { :controller => 'wikis', :action => 'edit', :                                                                                                             id => @project },
    4:                    :remote => true, :method => 'post' do |f| %>
  app/helpers/application_helper.rb:1047:in `labelled_form_for'
  app/views/projects/settings/_wiki.html.erb:1:in `_app_views_projects_settings_                                                                                                             _wiki_html_erb__2849060791824469656_70013448407720'
  app/views/common/_tabs.html.erb:22:in `block in _app_views_common__tabs_html_e                                                                                                             rb___1457674944382063957_70013446561960'
  app/views/common/_tabs.html.erb:21:in `each'
  app/views/common/_tabs.html.erb:21:in `_app_views_common__tabs_html_erb___1457                                                                                                             674944382063957_70013446561960'
  app/helpers/application_helper.rb:324:in `render_tabs'
  app/views/projects/settings.html.erb:3:in `_app_views_projects_settings_html_e                                                                                                             rb___493241672892030800_70013446548560'
"
18495,Redmine,Defect,NA,Closed,Normal,New Theme Freifunk-Red-Andy,Ruben Barkow,NA,2014-11-29T17:04:00Z,NA,NA,NA,NA,NA,0,2014-11-28T13:04:00Z,2014-11-29T14:46:00Z,NA,Invalid,NA,"I modified the [[ThemeRedAndy]] so it fits the style of the Freifunk Community in Germany.

Live here: http://issues.freifunk.in-kiel.de"
18501,Redmine,Defect,NA,Closed,Normal,Textile bold highlighting problem,Dmitry Lukashin,Jean-Philippe Lang,2014-12-26T11:43:00Z,Text formatting,2.6.1,NA,NA,NA,0,2014-11-30T04:06:00Z,2014-12-26T11:43:00Z,NA,Fixed,2.6.0,"Textile formatting
<pre>*['components']['user']*</pre>
leads to highlighting of only ['user'] part. Like this

*['components']['user']*"
18513,Redmine,Defect,NA,Closed,High,apache+redmine无法点? 引用， 无法 新增 跟踪人?,Alan Zhang,NA,2014-12-01T08:25:00Z,NA,NA,NA,NA,NA,0,2014-12-01T08:21:00Z,2014-12-01T08:25:00Z,NA,Invalid,NA,"如?：
无法点?引用
!yingyong.jpg!

无法 新增 跟踪人?
!xinzeng.jpg!"
18518,Redmine,Defect,NA,Closed,Normal,I18n::MissingTranslationData: translation missing: en.date.formats.default,Denis Savitskiy,NA,2015-03-02T11:34:00Z,I18n,NA,NA,NA,NA,0,2014-12-01T09:46:00Z,2015-01-11T12:38:00Z,NA,Invalid,NA,"Translations are at place (en.yml, ru.yml)
But sometimes this error is raised:
<pre>
/gems/i18n-0.6.11/lib/i18n.rb:314 in ""handle_exception""
/gems/i18n-0.6.11/lib/i18n.rb:160 in ""translate""
/gems/i18n-0.6.11/lib/i18n/backend/base.rb:59 in ""localize""
/gems/i18n-0.6.11/lib/i18n.rb:246 in ""localize""
/lib/redmine/i18n.rb:60 in ""format_date""
/lib/redmine/i18n.rb:71 in ""format_time""
/app/helpers/application_helper.rb:451 in ""time_tag""
/app/helpers/application_helper.rb:443 in ""authoring""
/app/views/news/_news.html.erb:6 in ""_app_views_news__news_html_erb__3800985998352011220_70351071650260""
/gems/actionview-4.1.8/lib/action_view/template.rb:145 in ""block in render""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:161 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/template.rb:339 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/template.rb:143 in ""render""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:399 in ""block in collection_with_template""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:395 in ""map""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:395 in ""collection_with_template""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:291 in ""render_collection""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:275 in ""block in render""
/gems/actionview-4.1.8/lib/action_view/renderer/abstract_renderer.rb:38 in ""block in instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""block in instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications/instrumenter.rb:20 in ""instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/renderer/abstract_renderer.rb:38 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/renderer/partial_renderer.rb:274 in ""render""
/gems/actionview-4.1.8/lib/action_view/renderer/renderer.rb:47 in ""render_partial""
/gems/actionview-4.1.8/lib/action_view/renderer/renderer.rb:21 in ""render""
/gems/actionview-4.1.8/lib/action_view/helpers/rendering_helper.rb:32 in ""render""
/app/views/welcome/index.html.erb:8 in ""_app_views_welcome_index_html_erb__2078558413296639286_70351050851840""
/gems/actionview-4.1.8/lib/action_view/template.rb:145 in ""block in render""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:161 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/template.rb:339 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/template.rb:143 in ""render""
/gems/actionview-4.1.8/lib/action_view/renderer/template_renderer.rb:55 in ""block (2 levels) in render_template""
/gems/actionview-4.1.8/lib/action_view/renderer/abstract_renderer.rb:38 in ""block in instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""block in instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications/instrumenter.rb:20 in ""instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/renderer/abstract_renderer.rb:38 in ""instrument""
/gems/actionview-4.1.8/lib/action_view/renderer/template_renderer.rb:54 in ""block in render_template""
/gems/actionview-4.1.8/lib/action_view/renderer/template_renderer.rb:62 in ""render_with_layout""
/gems/actionview-4.1.8/lib/action_view/renderer/template_renderer.rb:53 in ""render_template""
/gems/actionview-4.1.8/lib/action_view/renderer/template_renderer.rb:17 in ""render""
/gems/actionview-4.1.8/lib/action_view/renderer/renderer.rb:42 in ""render_template""
/gems/actionview-4.1.8/lib/action_view/renderer/renderer.rb:23 in ""render""
/gems/actionview-4.1.8/lib/action_view/rendering.rb:99 in ""_render_template""
/gems/actionpack-4.1.8/lib/action_controller/metal/streaming.rb:217 in ""_render_template""
/gems/actionview-4.1.8/lib/action_view/rendering.rb:82 in ""render_to_body""
/gems/actionpack-4.1.8/lib/action_controller/metal/rendering.rb:32 in ""render_to_body""
/gems/actionpack-4.1.8/lib/action_controller/metal/renderers.rb:32 in ""render_to_body""
/gems/actionpack-4.1.8/lib/abstract_controller/rendering.rb:25 in ""render""
/gems/actionpack-4.1.8/lib/action_controller/metal/rendering.rb:16 in ""render""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:41 in ""block (2 levels) in render""
/gems/activesupport-4.1.8/lib/active_support/core_ext/benchmark.rb:12 in ""block in ms""
/usr/local/lib/ruby/2.0.0/benchmark.rb:296 in ""realtime""
/gems/activesupport-4.1.8/lib/active_support/core_ext/benchmark.rb:12 in ""ms""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:41 in ""block in render""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:84 in ""cleanup_view_runtime""
/gems/activerecord-4.1.8/lib/active_record/railties/controller_runtime.rb:25 in ""cleanup_view_runtime""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:40 in ""render""
/gems/actionpack-4.1.8/lib/action_controller/metal/implicit_render.rb:10 in ""default_render""
/gems/actionpack-4.1.8/lib/action_controller/metal/implicit_render.rb:5 in ""send_action""
/gems/actionpack-4.1.8/lib/abstract_controller/base.rb:189 in ""process_action""
/gems/actionpack-4.1.8/lib/action_controller/metal/rendering.rb:10 in ""process_action""
/gems/actionpack-4.1.8/lib/abstract_controller/callbacks.rb:20 in ""block in process_action""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:113 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:113 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:287 in ""block in halting_and_conditional""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:229 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:229 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:166 in ""block in halting""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:86 in ""call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:86 in ""run_callbacks""
/gems/actionpack-4.1.8/lib/abstract_controller/callbacks.rb:19 in ""process_action""
/gems/actionpack-4.1.8/lib/action_controller/metal/rescue.rb:29 in ""process_action""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:31 in ""block in process_action""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""block in instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications/instrumenter.rb:20 in ""instrument""
/gems/activesupport-4.1.8/lib/active_support/notifications.rb:159 in ""instrument""
/gems/actionpack-4.1.8/lib/action_controller/metal/instrumentation.rb:30 in ""process_action""
/gems/actionpack-4.1.8/lib/action_controller/metal/params_wrapper.rb:250 in ""process_action""
/gems/activerecord-4.1.8/lib/active_record/railties/controller_runtime.rb:18 in ""process_action""
/gems/actionpack-4.1.8/lib/abstract_controller/base.rb:136 in ""process""
/gems/actionview-4.1.8/lib/action_view/rendering.rb:30 in ""process""
/gems/actionpack-4.1.8/lib/action_controller/metal.rb:196 in ""dispatch""
/gems/actionpack-4.1.8/lib/action_controller/metal/rack_delegation.rb:13 in ""dispatch""
/gems/actionpack-4.1.8/lib/action_controller/metal.rb:232 in ""block in action""
/gems/actionpack-4.1.8/lib/action_dispatch/routing/route_set.rb:82 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/routing/route_set.rb:82 in ""dispatch""
/gems/actionpack-4.1.8/lib/action_dispatch/routing/route_set.rb:50 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/journey/router.rb:73 in ""block in call""
/gems/actionpack-4.1.8/lib/action_dispatch/journey/router.rb:59 in ""each""
/gems/actionpack-4.1.8/lib/action_dispatch/journey/router.rb:59 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/routing/route_set.rb:678 in ""call""
/gems/rack-openid-1.4.2/lib/rack/openid.rb:98 in ""call""
/gems/request_store-1.0.5/lib/request_store/middleware.rb:9 in ""call""
/gems/rack-1.5.2/lib/rack/etag.rb:23 in ""call""
/gems/rack-1.5.2/lib/rack/conditionalget.rb:25 in ""call""
/gems/rack-1.5.2/lib/rack/head.rb:11 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/params_parser.rb:27 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/flash.rb:254 in ""call""
/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225 in ""context""
/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/cookies.rb:560 in ""call""
/gems/activerecord-4.1.8/lib/active_record/query_cache.rb:36 in ""call""
/gems/activerecord-4.1.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:621 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/callbacks.rb:29 in ""block in call""
/gems/activesupport-4.1.8/lib/active_support/callbacks.rb:82 in ""run_callbacks""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/callbacks.rb:27 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/remote_ip.rb:76 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/debug_exceptions.rb:17 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/show_exceptions.rb:30 in ""call""
/gems/railties-4.1.8/lib/rails/rack/logger.rb:38 in ""call_app""
/gems/railties-4.1.8/lib/rails/rack/logger.rb:20 in ""block in call""
/gems/activesupport-4.1.8/lib/active_support/tagged_logging.rb:68 in ""block in tagged""
/gems/activesupport-4.1.8/lib/active_support/tagged_logging.rb:26 in ""tagged""
/gems/activesupport-4.1.8/lib/active_support/tagged_logging.rb:68 in ""tagged""
/gems/railties-4.1.8/lib/rails/rack/logger.rb:20 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/request_id.rb:21 in ""call""
/gems/rack-1.5.2/lib/rack/methodoverride.rb:21 in ""call""
/gems/rack-1.5.2/lib/rack/runtime.rb:17 in ""call""
/gems/activesupport-4.1.8/lib/active_support/cache/strategy/local_cache_middleware.rb:26 in ""call""
/gems/actionpack-4.1.8/lib/action_dispatch/middleware/static.rb:84 in ""call""
/gems/rack-1.5.2/lib/rack/sendfile.rb:112 in ""call""
/gems/railties-4.1.8/lib/rails/engine.rb:514 in ""call""
/gems/railties-4.1.8/lib/rails/application.rb:144 in ""call""
/gems/railties-4.1.8/lib/rails/railtie.rb:194 in ""public_send""
/gems/railties-4.1.8/lib/rails/railtie.rb:194 in ""method_missing""
/opt/passenger/passenger-4.0.53/lib/phusion_passenger/rack/thread_handler_extension.rb:74 in ""process_request""
/opt/passenger/passenger-4.0.53/lib/phusion_passenger/request_handler/thread_handler.rb:141 in ""accept_and_process_next_request""
/opt/passenger/passenger-4.0.53/lib/phusion_passenger/request_handler/thread_handler.rb:109 in ""main_loop""
/opt/passenger/passenger-4.0.53/lib/phusion_passenger/request_handler.rb:455 in ""block (3 levels) in start_threads""
</pre>

<pre>
Environment:
  Redmine version                2.6.0.devel
  Ruby version                   2.1.1-p76 (2014-02-24) [x86_64-darwin13.0]
  Rails version                  4.1.8
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.23
  Git                            2.1.0
  Filesystem
Redmine plugins:
  redmine_mili                   0.0.1
  redmine_s3_attachments         0.0.3
</pre>"
18537,Redmine,Defect,NA,Closed,Normal,Special language characters not treated right in search,elite solutions,Jean-Philippe Lang,2014-12-15T20:23:00Z,Search engine,NA,NA,NA,NA,0,2014-12-02T10:18:00Z,2014-12-13T19:38:00Z,関連している #18862,Wont fix,1.4.4,"Searching a word with german umlaute, results in too many search results. I cannot figured out, what problem it is exactly."
18555,Redmine,Defect,NA,New,Normal,Notify user when attempting to attach more than the allowed number of attachments,Stephen Ostrow,NA,2014-12-03T21:38:00Z,Attachments,NA,NA,NA,NA,0,2014-12-03T21:38:00Z,NA,"関連している #18556, 次のチケットが重複 #18642",NA,2.5.3,"I was just notified by an employee of mine that my ticket was missing some of the attached files that should have been there. I thought I had merely forgot to attach them; however, upon repeating my edit due to needing to remake all the files I learned that redmine has a hard limit of 10 files attached per edit.

Although I'm not sure why this limit exists (I'll be adding another issue to make this a setting or remove it) redmine should definitely alert the end user to the limit both beforehand such as like the the text for max file size is displayed as well as after an attempt to add more than 10 files is added (javascript alert box or something similar).

This is related to issue #8579
This is the code in question: source:/trunk/public/javascripts/attachments.js#L6"
18557,Redmine,Defect,NA,New,Normal,Hyperlink stripped from the text-html mimepart section of email footer,Scott Pestana,NA,2015-01-02T05:10:00Z,Email notifications,NA,NA,NA,NA,0,2014-12-03T22:44:00Z,NA,NA,NA,NA,"We're starting to deploy Redmine when a user pointed out that the address provided needed to be updated and should be a hyperlink.  I created a normal a tag with an href that goes out in the text/plain section of the email but not the text/html section of the email (which is what Thunderbird displays).  Is there some conversion / editing going on here?

Example:
To: undisclosed-recipients:;

----==_mimepart_547f7f622b402_2fb94315160474c9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

This is a test email sent by Redmine.
Redmine URL: https://---.---.com/---/redmine/

-- 
You have received this notification because you have either subscribed to it, or are involved in it.
To change your notification preferences, please click <a href=""https://---.---com/---/redmine/my/account"">here</a>.

----==_mimepart_547f7f622b402_2fb94315160474c9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
<head>
<style>
... CSS omitted for space ...
</style>
</head>
<body>
<p>This is a test email sent by Redmine.<br />
Redmine URL: <a href=""https://---.---.com/---redmine/"">https://---.---.com/---/redmine/</a></p>

<hr />
<span class=""footer""><p>You have received this notification because you have either subscribed to it, or are involved in it.<br>
To change your notification preferences, please click here.</p>
</span>
</body>
</html>

----==_mimepart_547f7f622b402_2fb94315160474c9--

And here's our information page:

Redmine 2.5.2.stable
Default administrator account changed 	True
Attachments directory writable 	True
Plugin assets directory writable 	True
RMagick available (optional) 	True
ImageMagick convert available (optional) 	True

Environment:
  Redmine version                2.5.2.stable
  Ruby version                   1.9.3-p547 (2014-05-14) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Mercurial                      2.4
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  readme_at_repositories         0.2.1
  redmine_agile                  1.3.3
  redmine_backlogs               v1.0.6
  redmine_contacts               3.3.0
  redmine_contacts_helpdesk      2.2.12
  redmine_ldap_sync              2.0.3

"
18559,Redmine,Defect,NA,Closed,Normal,No status matches commit_fix_status_id setting,Tung Le,NA,2014-12-04T08:19:00Z,NA,NA,NA,NA,NA,0,2014-12-04T06:46:00Z,2014-12-04T08:19:00Z,NA,Invalid,NA,"I use this plugin to connect git and redmine: https://github.com/koppen/redmine_github_hook
Whenever there is a commit to github, redmine keeps spitting out this line: 

*No status matches commit_fix_status_id setting*

The rate of its appearance is every second, like it is in a loop. Anybody know how to fix/mitigate this? 
Thanks"
18572,Redmine,Defect,NA,Closed,Normal,some problems with file uploader,tester testownik,NA,2014-12-05T03:53:00Z,Attachments,NA,NA,NA,NA,0,2014-12-05T01:39:00Z,2014-12-05T03:49:00Z,NA,NA,2.6.0,"I'm just using redmine on some project (I'm not admin) and was asked to pass it forward, so apologies if some infos are incomplete. But this is a general problem, probably related to this: #3957

The redmine was updated to most recent official version few days ago, and a problem occurred with file uploader.

1) If the ""add file"" button is not clicked, the file should be deleted from the server.

2) It starts uploading a file after selecting the file, and not after deciding to create the ticket (in earlier version, the file was uploaded after final confirmation on ticket).

Doesn't seem to be configurable, and you cannot cancel a file once it's been uploaded (so it will use server space, even if you don't click the ""add"" button."
18580,Redmine,Defect,NA,Closed,Normal,"Can't bulk edit own time entries with ""Edit own time entries""",Evgeniy Veretennikov,Jean-Philippe Lang,2015-06-25T16:22:00Z,Time tracking,2.6.5,NA,NA,NA,0,2014-12-05T13:08:00Z,2015-05-10T09:19:00Z,NA,Fixed,NA,"We use a lot Redmine possibility to track time for issues in our projects, and it works nicely. But we'd like to have something more: an opportunity to change issue for several spent time entries simultaneously. So, how it could behave: on page with issue's time entries change select checkboxes near several entries and then click edit button. If we change issue number at the next page (issue editor), then other selected entries have to change their issue number. It seems logically clear behaviour.

Also it were really good if we could edit user field of spent time entry on issue editor page. It should be just new field on the form (there is no user field on form now). But I'm not sure, would there be another feature request?"
18584,Redmine,Defect,NA,Closed,Normal,Custom fields of user format reset when a user is locked,Cory Riddell,Jean-Philippe Lang,2014-12-06T12:21:00Z,Custom fields,NA,NA,NA,NA,0,2014-12-05T22:29:00Z,2014-12-06T12:21:00Z,NA,Fixed,2.4.2,"Terrible title, but I'll try to explain with our specific problem.

We created a custom field named ""Tester"" and its format is ""User"". When somebody tests an issue that we've marked *resolved*, they set themselves as the tester. 

This works very well for us because I can search for all the issues for which I am a tester. It fails though, when an employee leaves the company and we lock the user account. From that point on, any edits to the bug will reset our custom *Tester* field and make it empty. 

We are currently using v2.4.2 or Redmine."
18588,Redmine,Defect,NA,Closed,Normal,Lighbox plugin doesn't show pdf content,nda 888,NA,2014-12-08T03:21:00Z,Issues,NA,NA,NA,NA,0,2014-12-07T13:46:00Z,2014-12-07T21:46:00Z,NA,Invalid,2.5.1,"Today i install lightbox plugin from:
http://www.redmine.org/plugins/redmine_lightbox

But unfortunately, it doesn't work on pdf, image is ok

Could you help me to update to newer version to fix this issue

My redmine system version is 2.5.1"
18592,Redmine,Defect,NA,New,Normal,Issue Update confirmation viewed on other screens,Krzysztof Moskalik,NA,2014-12-08T11:36:00Z,Issues,NA,NA,NA,NA,0,2014-12-08T11:34:00Z,NA,NA,NA,NA,"If I update issue and refresh issue list on other tab ""Successful update."" message will appear on issues list."
18605,Redmine,Defect,NA,Closed,Normal,Wrong usage of logger.info to test log level,J?r?me BATAILLE,Jean-Philippe Lang,2014-12-14T22:56:00Z,Code cleanup/refactoring,3.0.0,NA,NA,NA,0,2014-12-09T10:41:00Z,2014-12-14T22:54:00Z,NA,Fixed,NA,"logger.info (instead of logger.info?) can trigger an error

Line 185 :
<pre><code class=""ruby"">logger.info ""time entry could not be updated: #{time_entry.errors.full_messages}"" if logger && logger.info
</code></pre>

replace by :
<pre><code class=""ruby"">logger.info ""time entry could not be updated: #{time_entry.errors.full_messages}"" if logger && logger.info?
</code></pre>



"
18629,Redmine,Defect,NA,Closed,Normal,PDF Export removes separating space after tables,@ go2null,NA,2015-01-11T05:24:00Z,PDF export,2.6.1,NA,NA,NA,0,2014-12-12T19:48:00Z,2015-01-11T05:24:00Z,NA,Fixed,2.6.0,"With the switch to the new PDF gem, the space after tables are removed resulting in the element after a table displaying immediately under the table.

Please see attached screenshots.
# @html.png@: this is what is displayed on the issue view.
# @rbpdf.png@: This is what is generated by the new pdf parser.
# @rbpdf-no-remove-trailing-multiple-spaces.png@: with the following change
<pre><code class=""diff"">
# /usr/lib/ruby/gems/1.9.1/gems/rbpdf-1.18.2/lib/rbpdf.rb

-10667   html.gsub!(/<\/(table|tr|td|th|blockquote|dd|dl|div|dt|h1|h2|h3|h4|h5|h6|hr|li|ol|ul|p)>[\s]+</, '</\\1><')
+10667   html.gsub!(/<\/(tr|td|th|blockquote|dd|dl|div|dt|h1|h2|h3|h4|h5|h6|hr|li|ol|ul|p)>[\s]+</, '</\\1><')
</code></pre>
# @pdf-export-with-p-element.png@: with the following change
<pre><code class=""diff"">
# lib/redmine/export/pdf.rb

+65   html.gsub!(/<\/table>/,'</table><p></p>')
</code></pre>
"
18630,Redmine,Defect,NA,New,Normal,PDF Export sets table width as 100% by default,@ go2null,NA,2015-01-11T05:29:00Z,PDF export,NA,NA,NA,NA,0,2014-12-12T20:34:00Z,NA,NA,NA,2.6.0,"The new PDF gem sets unspecified table widths to 100%.

Please see attached screenshots.

This seems to be the relevant code.
<pre><code class=""ruby"">
# /usr/lib/ruby/gems/1.9.1/gems/rbpdf-1.18.2/lib/rbpdf.rb

3721 # [@param float :w] Width of cells. If 0, they extend up to the right margin of the page.
3764 def MultiCell(w, h, txt, border=0, align='J', fill=0, ln=1, x='', y='', reseth=true, stretch=0, ishtml=false, autopadding=true, maxh=0)

11964 # table width
11965 if !dom[key]['width'].nil?
11966  table_width = getHTMLUnitToUnits(dom[key]['width'], wtmp, 'px')
11967 else
11968  table_width = wtmp
11969 end

11995 table_columns_width = table_width - (cellspacing * (dom[table_el]['cols'] - 1))
11996 wtmp = colspan * (table_columns_width / dom[table_el]['cols']) + (colspan - 1) * cellspacing
11997 if !dom[key]['width'].nil?
11998   cellw = getHTMLUnitToUnits(dom[key]['width'], table_columns_width, 'px')
11999 else
12000   cellw = wtmp
12001 end

12089 MultiCell(cellw, cellh, cell_content, 0, lalign, 0, 2, '', '', true, 0, true)
</code></pre>
"
18641,Redmine,Defect,NA,Closed,Normal,adding new project,frans eilering,NA,2014-12-15T20:20:00Z,Accounts / authentication,NA,NA,NA,NA,0,2014-12-15T13:15:00Z,2014-12-15T20:20:00Z,NA,Invalid,NA,"I just signed in. Im looking at a tutorial on how to use redmine
https://www.youtube.com/watch?v=sAobJ1kmyqA
it show I can add projects. but I cannot. There is no item ""new project""

do i have to pay? before being able to add projects?

"
18642,Redmine,Defect,NA,Closed,Normal,Limited number of simultanous file uploads,Herman Fries,NA,2014-12-15T15:00:00Z,Attachments,NA,NA,NA,NA,0,2014-12-15T14:20:00Z,2014-12-15T15:00:00Z,"次のチケットと重複 #18555, 次のチケットと重複 #18556",Duplicate,2.5.2,"It looks like the number of files, which you can upload at the same time is limited to 10.
If you try to upload more, only the first 10 are uploaded. There should be an option to change the number of files or a warning, that only 10 can be uploaded at the same time."
18647,Redmine,Defect,NA,Closed,Normal,ActiveRecord::StatementInvalid with async_smtp,Alexander Meindl,NA,2015-01-11T09:20:00Z,Database,NA,NA,NA,NA,0,2014-12-15T20:33:00Z,2015-01-11T09:20:00Z,NA,NA,2.5.3,"I switched my mail settings from

<pre>
default:
  delivery_method: :smtp
  smtp_settings:
     address: ""smtp.my-server.com""
     port: 25
</pre>

to 

<pre>
default:
  delivery_method: :async_smtp
  async_smtp_settings:
     address: ""smtp.my-server.com""
     port: 25
</pre>

for performance reasons.

With async_smtp I get the following error (in production.log), if I try to save I new ticket or if I edit an existing ticket:

<pre>
ActiveRecord::StatementInvalid (Errno::ECONNREFUSED: Connection refused - connect(2): UPDATE `custom_values` SET `value` = '0' WHERE `custom_values`.`id` = 5011):
  config/initializers/10-patches.rb:137:in `block in deliver!'
</pre>

There are no problems with smtp (without async).


 Redmine version                2.5.3.stable
  Ruby version                   2.0.0-p576 (2014-09-19) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2"
18649,Redmine,Defect,NA,Closed,Normal,mail_handler.rb - does not encode non-utf8 characters,Dave Nichols,NA,2014-12-16T16:02:00Z,Email receiving,NA,NA,NA,NA,0,2014-12-15T20:54:00Z,2014-12-16T03:40:00Z,次のチケットと重複 #16122,Duplicate,NA,"Sorry, naive windoze user here, so apologies if i'm breaking some etiquette.

I had a problem where users posting emails to our redmine system that embedded certain unicode characters caused the email system to stall - MySQL squeaked about illegal characters and the script aborted, so no emails processed. To overcome the problem I hacked the code as shown below. This worked for us, but I no very little about ruby or rails or redmine internals so don't know if its a 'good' hack and useful to others.

<pre>
def self.receive(email, options={})
    @@handler_options = options.dup

    @@handler_options[:issue] ||= {}

    if @@handler_options[:allow_override].is_a?(String)
      @@handler_options[:allow_override] = @@handler_options[:allow_override].split(',').collect(&:strip)
    end
    @@handler_options[:allow_override] ||= []
    # Project needs to be overridable if not specified
    @@handler_options[:allow_override] << 'project' unless @@handler_options[:issue].has_key?(:project)
    # Status overridable by default
    @@handler_options[:allow_override] << 'status' unless @@handler_options[:issue].has_key?(:status)

    @@handler_options[:no_account_notice] = (@@handler_options[:no_account_notice].to_s == '1')
    @@handler_options[:no_notification] = (@@handler_options[:no_notification].to_s == '1')
    @@handler_options[:no_permission_check] = (@@handler_options[:no_permission_check].to_s == '1')

    email.force_encoding('ASCII-8BIT') if email.respond_to?(:force_encoding)
    email = email.encode(""UTF-8"",:invalid=>:replace,:undef=>:replace,:replace=>""?"") ##15/12/14 DCN HACK added
    super(email)
  end
</pre>

Environment:
  Redmine version                2.5.2.stable
  Ruby version                   1.9.3-p545 (2014-02-24) [i386-mingw32]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.2
  Git                            1.9.4
  Filesystem                     
Redmine plugins:
  contracts                      1.2.0
  redmine_customized_report      0.0.1
  redmine_image_clipboard_paste  1.0.0
  redmine_impersonate_plugin     0.0.1
  redmine_knowledgebase          3.0.4
  redmine_silencer               0.4.0
  redmine_todos                  2.0.5
"
18654,Redmine,Defect,NA,Closed,Normal,"Custom field is rendered, even if its value is empty (for multiple)",Andriy Lesyuk,Jean-Philippe Lang,2015-01-10T14:04:00Z,Custom fields,3.0.0,NA,NA,NA,0,2014-12-16T13:37:00Z,2015-01-10T14:04:00Z,関連している #19482,Fixed,2.6.0,"Redmine checks, if the value is available for the custom field, as follows:

<pre><code class=""ruby"">
if custom_value.value.present?
</code></pre>

But for multiple custom fields (e.g., lists, that allow selecting multiple values), the original @nil@ value is replaced with @[nil]@ _(not sure where exactly)_. So, @[nil].empty?@ returns @false@ and the custom field gets rendered.

This issue affects 3.0.x and 1.4.x versions of Redmine.

P.S. Can be solved by montkey-patching `CustomFieldValue` as follows:

<pre><code class=""ruby"">
alias_method_chain :value, :extended

...

def value_with_extended
    value = value_without_extended
    if custom_field.multiple? && value.present? && value.size == 1 && value.first.nil?
        nil
    else
        value
    end
end
</code></pre>"
18665,Redmine,Defect,NA,Closed,Normal,Internal Server Error when adding user to group where he is already assigned,Richard Kellner,Jean-Philippe Lang,2014-12-26T11:45:00Z,Groups,2.6.1,NA,NA,NA,0,2014-12-17T11:21:00Z,2014-12-26T11:45:00Z,NA,Fixed,2.6.0,"I have tried via python-redmine adding user to group where he is already assigned and instead of standard exception I have got server error, see log below:


==> production.log <==
Started GET ""/users.json?limit=100&name=tester2%40erigones.com&key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d&offset=0"" for 127.0.0.1 at 2014-12-17 09:58:28 +0000
Processing by UsersController#index as JSON
  Parameters: {""limit""=>""100"", ""name""=>""tester2@erigones.com"", ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""offset""=>""0""}
  Current user: admin (id=1)
  Rendered users/index.api.rsb (4.1ms)
Completed 200 OK in 10.9ms (Views: 3.7ms | ActiveRecord: 2.8ms)
Started GET ""/roles.json?limit=100&key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d&offset=0"" for 127.0.0.1 at 2014-12-17 09:58:28 +0000
Processing by RolesController#index as JSON
  Parameters: {""limit""=>""100"", ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""offset""=>""0""}
  Current user: admin (id=1)
  Rendered roles/index.api.rsb (0.4ms)
Completed 200 OK in 6.7ms (Views: 1.8ms | ActiveRecord: 1.2ms)
Started GET ""/projects/283f42764da6dba2522412916b031080.json?limit=100&key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d&offset=0"" for 127.0.0.1 at 2014-12-17 09:58:29 +0000
Processing by ProjectsController#show as JSON
  Parameters: {""limit""=>""100"", ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""offset""=>""0"", ""id""=>""283f42764da6dba2522412916b031080""}
  Current user: admin (id=1)
  Rendered projects/show.api.rsb (4.1ms)
Completed 200 OK in 28.2ms (Views: 3.8ms | ActiveRecord: 7.7ms)
Started POST ""/projects/1/memberships.json?key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d"" for 127.0.0.1 at 2014-12-17 09:58:29 +0000
Processing by MembersController#create as JSON
  Parameters: {""membership""=>{""role_ids""=>[5], ""user_id""=>11}, ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""project_id""=>""1""}
  Current user: admin (id=1)
  Rendered common/error_messages.api.rsb (0.2ms)
Completed 422 Unprocessable Entity in 14.1ms (Views: 0.7ms | ActiveRecord: 2.7ms)
Started GET ""/groups.json?limit=100&key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d&offset=0"" for 127.0.0.1 at 2014-12-17 09:58:29 +0000
Processing by GroupsController#index as JSON
  Parameters: {""limit""=>""100"", ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""offset""=>""0""}
  Current user: admin (id=1)
  Rendered groups/index.api.rsb (1.5ms)
Completed 200 OK in 7.3ms (Views: 1.6ms | ActiveRecord: 1.7ms)
Started POST ""/groups/8/users.json?key=ef843075a7a98e8ec902acbc654c86fe33ff3c3d"" for 127.0.0.1 at 2014-12-17 09:58:29 +0000
Processing by GroupsController#add_users as JSON
  Parameters: {""user_id""=>11, ""key""=>""ef843075a7a98e8ec902acbc654c86fe33ff3c3d"", ""id""=>""8""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 7.2ms

ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint ""groups_users_ids""
DETAIL:  Key (group_id, user_id)=(8, 11) already exists.
: INSERT INTO ""groups_users"" (""group_id"", ""user_id"") VALUES (8, 11)):
  app/controllers/groups_controller.rb:99:in `add_users'


* PostgreSQL 9.3
* ruby 2.1.4p265
* rails (4.1.8, 3.2.19, 3.2.0)"
18670,Redmine,Defect,NA,Closed,High,When saving any issue I get RuntimeError ():,Abe Smith,NA,2014-12-21T20:49:00Z,Issues,NA,NA,NA,NA,0,2014-12-17T13:32:00Z,2014-12-21T20:49:00Z,NA,Invalid,2.3.3,"This is from the log.

Processing by IssuesController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""NFM/v8fQPhx9kpFrK54vKHz6FK73ZHdKev5ZMtVlLas="", ""issue""=>{""is_private""=>""0"", ""project_id""=>""63"", ""tracker_id""=>""2"", ""subject""=>""Account Service"", ""description""=>"""", ""status_id""=>""2"", ""assigned_to_id""=>""53"", ""fixed_version_id""=>"""", ""parent_issue_id""=>"""", ""custom_field_values""=>{""2""=>""JIATFS""}, ""story_points""=>""1"", ""release_id""=>"""", ""release_relationship""=>""auto"", ""notes""=>"""", ""private_notes""=>""0"", ""lock_version""=>""27""}, ""time_entry""=>{""hours""=>"""", ""activity_id""=>"""", ""comments""=>""""}, ""last_journal_id""=>""2330"", ""commit""=>""Submit"", ""id""=>""611""}
  Current user: asmith (id=3)
Completed 500 Internal Server Error in 49ms

RuntimeError ():
  app/models/issue.rb:336:in `assign_attributes_with_project_and_tracker_first'
  app/models/issue.rb:456:in `safe_attributes='
  app/controllers/issues_controller.rb:374:in `update_issue_from_params'
  app/controllers/issues_controller.rb:175:in `update'

Version Information:
Environment:
  Redmine version                2.3.3.stable
  Ruby version                   1.9.3-p448 (2013-06-27) [x86_64-linux]
  Rails version                  3.2.13
  Environment                    production
  Database adapter               Mysql2
Redmine plugins:
  redmine_backlogs               v1.0.6
  redmine_ldap_sync              2.0.2.devel
  scrum                          0.8.0

"
18680,Redmine,Defect,NA,Closed,Normal,simultaneous dual-dongle data collection,Salvatore Micheal,NA,2014-12-20T08:29:00Z,Projects,NA,NA,NA,NA,0,2014-12-18T16:39:00Z,2014-12-20T08:29:00Z,NA,Invalid,NA,"dear friends,

i'm attempting to perform what i call data-interferometry on simultaneous processing of split analog signal with two dongles driven by GRC. at one point, as if by magic, both dongles were gathering data simultaneously with one processing real dish signal while the other had no physical connection; a visible discernable difference was detected over many hours of intense observation. here are the image captures of when it normally is not working:
https://www.msu.edu/~micheal/usb-devices.png
https://www.msu.edu/~micheal/dongle-control-diagram.png
https://www.msu.edu/~micheal/output.png
the 1st image is of the attached USB devices to this Linux computer.
the 2nd image is the GRC flow-diagram associated with this endeavor.
the 3rd image reflects the typical non-working output of the SDR processes.

again, the strange factor is that it worked at one point producing waterfall for both dongles .. any positive attention or assistance will be greatly appreciated.

salvatore gerard micheal, kg4ggo, version 3.6.5.1
"
18698,Redmine,Defect,NA,Closed,High,No notifications when involved in an issue,Kai M,NA,2015-08-23T17:01:00Z,Email notifications,NA,NA,NA,NA,0,2014-12-22T12:17:00Z,2015-08-23T16:54:00Z,NA,No feedback,2.6.0,"Since I moved to version 2.6.0, users do not get notifications any more when they were involved in an issue.
Even if the notifcation Settings are: ""Only for things I watch or I'm involved in"" no notification is sent.

For me ""involved"" means, that you should get notifications when you commented an issue (right?). Thus, no need to add yourself to the watchers list.


Versions:
> Redmine version                2.6.0.stable.13644
> Ruby version                   1.8.7-p302 (2010-08-16) [x86_64-linux]
> Rails version                  3.2.21"
18708,Redmine,Defect,NA,Closed,Normal,how to set hyperlink (excel) to redmine,??????? ??????????,NA,2014-12-26T11:35:00Z,Wiki,NA,NA,NA,NA,0,2014-12-24T03:06:00Z,2014-12-26T11:35:00Z,NA,Invalid,NA,"I use a Hyperlink URL http://192.168.0.22/redmine/issues/34433
? First time to log in to this page regularly.
But Hyperlink button 2 times.
URL change to http://192.168.0.22/redmine/
How to solve it?"
18711,Redmine,Defect,NA,Closed,Normal,Respect cross-project subtask setting on issue bulk edit form,Felix Sch?fer,Jean-Philippe Lang,2015-02-07T10:07:00Z,Issues,3.0.0,NA,NA,NA,0,2014-12-24T08:21:00Z,2015-02-07T10:07:00Z,NA,Fixed,2.6.0,r13400 / #14281 has added that the parent issue field on issue new and edit forms respects the cross-project subtask setting when autocompleting issues. This improvement should be added to the issue bulk edit form too.
18734,Redmine,Defect,NA,Closed,High,select / case is missing a break in application.js,Andreas Hestermeyer,Jean-Philippe Lang,2015-01-10T22:09:00Z,Issues,2.6.1,NA,NA,NA,0,2015-01-02T17:20:00Z,2015-01-10T22:09:00Z,NA,Fixed,2.6.0,"In /public/javascripts/application.js the case ""relation"" code is not finished by a break instruction (line number 192 in 2.6.0). Relations might rarely be used as a filter, but when you do, this causes an error."
18743,Redmine,Defect,NA,Closed,Urgent,Better roadmap visibility workflow: implements the capability to hide roadmap per role or user (to better handles a scrum context management),pasquale [:dedalus],NA,2015-01-07T23:41:00Z,Roadmap,NA,NA,NA,NA,0,2015-01-04T14:58:00Z,2015-01-07T23:41:00Z,次のチケットと重複 #7758,Duplicate,NA,"I see various issues\features in redmine bts, but none of them match my goal.
I have a redmine installation that serves both the developer teams (2 different agile team) and some customers.
Using both native visibility workflow in redmine and after creates some cutom plugin I can control with great granularity visibility\mandatory field on developer side and on customer side for all projects.
I have encountered only one problem and this is related to roadmap management: I have multi-projects shared version, because I use version to define sprint and project-backlog.
The problem I have encountered is that also if I can hide private bug of projects to my customers, I cannot hide the shared roadmap.
This for me is a defect because redmine should be more, nativilly, more scrum oriented.
(I see a lot of plugins but none of them match my requirement)

Thanks in advance.
"
18747,Redmine,Defect,NA,Closed,Normal,Automatic log out error message is in another language.,Peter Barbara,NA,2015-01-05T05:44:00Z,NA,NA,NA,NA,NA,0,2015-01-05T04:02:00Z,2015-01-05T05:44:00Z,次のチケットと重複 #17023,Duplicate,2.6.0,"When redmine automatically logs me out, the error message above the login box will sometimes be in a random language. I have seen it in English, Japanese and Spanish.

I haven't seen it happen on my own instance of redmine only here at redmine.org

{{thumbnail(error.png)}}"
18748,Redmine,Defect,NA,Closed,Normal,exporting wiki with child page not work correctly,Qing Li,NA,2015-01-05T05:47:00Z,PDF export,NA,NA,NA,NA,0,2015-01-05T04:21:00Z,2015-01-05T05:47:00Z,次のチケットと重複 #13051,Duplicate,NA,"when I exporting the wiki which content like following:
<pre>
h1=. 直播云????指南

{{include(architecture)}}
{{include(api_list)}}
</pre>

I got the pdf as attachemnt. which don't have included wiki contents.
"
18754,Redmine,Defect,NA,New,Normal,empty svn logentry crashes revision batch reading,Micha? Kr?l,NA,2018-01-03T12:10:00Z,SCM,NA,NA,NA,NA,0,2015-01-05T14:02:00Z,NA,NA,NA,NA,"If svn xml log contains logentry without data the revision reading is interruped and no error message is written to redmine logs.

Revisions are read from xml returned from command:
<pre>
svn log --xml ...
</pre>

Example:
<pre><code class=""xml"">
<?xml version=""1.0"" encoding=""UTF-8""?>
<log>
<logentry
   revision=""2178"">
<author>mkrol</author>
<date>2015-01-02T06:24:51.507749Z</date>
<msg>test commit</msg>
</logentry>
<logentry
   revision=""2177"">
</logentry>
...
</code></pre>

@logentry@ for revision 2177 is empty - there is no @author@, @msg@ and @date@ tags.
But the code assumes that @revision@, @date@ and @msg@ exist in @logentry@. 
This is the code from @lib/redmine/scm/adapters/subversion_adapter.rb@, lines 175-196:
<pre><code class=""ruby"">
            begin
              doc = parse_xml(output)
              each_xml_element(doc['log'], 'logentry') do |logentry|

               (...)

                revisions << Revision.new({:identifier => logentry['revision'],
                              :author => (logentry['author'] ? logentry['author']['__content__'] : """"),
                              :time => Time.parse(logentry['date']['__content__'].to_s).localtime,
                              :message => logentry['msg']['__content__'],
                              :paths => paths
                            })
              end
            rescue
            end
</code></pre>

If @<msg>@ does not exist the @logentry['msg']@ returns @nil@. The call @logentry['msg']['__content__']@ becomes @nil['__content__']@  and exception is thrown (then it is ignored and it is ignored outside loop...).

The existing of @logentry['author']@ is checked before reading @logentry['author']['__content__']@. It should be done before reading @date@ and @msg@ also. For example:
<pre><code class=""ruby"">
                revisions << Revision.new({:identifier => logentry['revision'],
                              :author => (logentry['author'] ? logentry['author']['__content__'] : """"),
                              :time => (logentry['date'] ? Time.parse(logentry['date']['__content__'].to_s).localtime : nil),
                              :message => (logentry['msg'] ? logentry['msg']['__content__'] : """"),
                              :paths => paths
                            })
</code></pre>

Why there are empty revisions in svn log? This is when revision has only files which are not visible for user performing @svn log@ command. Propably it's a rare case.
"
18756,Redmine,Defect,NA,Closed,High,"Since I installed scrum plugin, I cann't acess any redmine pages, the bowser showed ""Internal error""",Lin Ye,NA,2015-12-27T19:50:00Z,NA,NA,NA,NA,NA,0,2015-01-06T01:39:00Z,2015-01-06T03:37:00Z,NA,Invalid,2.6.0,"the bowser showed :
<pre>
Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.
</pre>

Current configuration:
Gem list:
>*** LOCAL GEMS ***
<pre>
aasm (4.0.8)
actionmailer (4.2.0, 3.2.21)
actionpack (4.2.0, 3.2.21)
actionview (4.2.0)
activejob (4.2.0)
activemodel (4.2.0, 3.2.21)
activerecord (4.2.0, 3.2.21)
activeresource (3.2.21)
activesupport (4.2.0, 3.2.21)
arel (6.0.0, 3.0.3)
bigdecimal (1.2.0)
block_helpers (0.3.3)
bourbon (4.1.0)
builder (3.2.2, 3.0.4)
bundler (1.7.10, 1.3.1)
capybara (2.1.0)
childprocess (0.5.5)
coderay (1.1.0)
database_cleaner (1.4.0)
diff-lcs (1.2.5)
dispatcher (0.0.1)
erubis (2.7.0)
faker (1.4.3)
faraday (0.8.9)
faraday_middleware (0.9.1)
ffi (1.9.6)
fuubar (2.0.0)
globalid (0.3.0)
hashie (1.2.0)
headless (1.0.2)
highline (1.6.21)
hike (1.2.3)
hoe (3.13.0)
i18n (0.7.0)
inifile (3.0.0)
io-console (0.4.2)
journey (1.0.4)
jquery-rails (3.1.2)
json (1.8.1, 1.7.7)
loofah (2.0.1)
mail (2.6.3, 2.5.4)
metaclass (0.0.4)
method_source (0.8.2)
mime-types (2.4.3, 1.25.1)
mini_portile (0.6.2)
minitest (5.5.0)
mocha (1.0.0)
multi_json (1.10.1)
multipart-post (1.2.0)
mysql2 (0.3.17)
net-http-persistent (2.8)
net-ldap (0.3.1)
nokogiri (1.6.5)
polyglot (0.3.5)
power_assert (0.2.2)
pry (0.10.1)
pry-nav (0.2.4)
psych (2.0.0)
rack (1.6.0, 1.4.5)
rack-cache (1.2)
rack-openid (1.4.2)
rack-ssl (1.3.4)
rack-test (0.6.2)
rails (4.2.0, 3.2.21)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.5)
rails-html-sanitizer (1.0.1)
railties (4.2.0, 3.2.21)
rake (10.4.2)
rake-compiler (0.9.4)
rakegen (0.6.6)
rbpdf (1.18.4)
rdoc (4.2.0, 4.0.0, 3.12.2)
redcarpet (2.3.0)
request_store (1.0.5)
rmagick (2.13.4)
rspec (3.1.0)
rspec-core (3.1.7)
rspec-expectations (3.1.2)
rspec-mocks (3.1.3)
rspec-rails (3.1.0)
rspec-support (3.1.2)
ruby-hmac (0.4.0)
ruby-openid (2.3.0)
ruby-progressbar (1.7.1)
rubygems-update (2.4.5)
rubyzip (1.1.6)
sass (3.4.9)
selenium-webdriver (2.44.0)
shoulda (3.3.2)
shoulda-context (1.0.2)
shoulda-matchers (1.4.1)
slim (3.0.1)
slop (3.6.0)
sprockets (2.12.3, 2.2.3)
sprockets-rails (2.2.2)
temple (0.7.4)
test-unit (3.0.9)
thor (0.19.1, 0.17.0)
thread_safe (0.3.4)
tilt (1.4.1)
transifex-ruby-fork-jg (0.1.0)
treetop (1.4.15)
tzinfo (1.2.2, 0.3.42)
webrat (0.7.3)
websocket (1.2.1)
xpath (2.0.0)
yard (0.8.7.6)
</pre>
Environment
<pre>
ruby 2.0.0p353 (2013-11-22) [x86_64-linux]
Rails 3.2.21
Redmine 2.6
</pre>

plugins:

<pre>
clipboard_image_paste
redmine_close_button
redmine_code_review
redmine_dashboard
redmine_lightbox2
scrum
</pre>

Log
<pre>
Connecting to database specified by database.yml
Creating scope :sorted. Overwriting existing method User.sorted.
Creating scope :sorted. Overwriting existing method Group.sorted.
Creating scope :system. Overwriting existing method Enumeration.system.
Started GET ""/"" for 192.168.233.1 at 2015-01-06 07:55:26 +0800
Processing by WelcomeController#index as HTML
  Current user: yourlin (id=5)
  Rendered news/_news.html.erb (25.3ms)
  Rendered welcome/index.html.erb within layouts/base (87.2ms)
  Rendered plugins/redmine_code_review/app/views/code_review/_html_header.html.erb (0.7ms)
Missing template, responding with 404
  Rendered common/error.html.erb within layouts/base (0.7ms)
  Rendered plugins/redmine_code_review/app/views/code_review/_html_header.html.erb (0.0ms)
Completed 500 Internal Server Error in 404.7ms

  * ""/opt/redmine/plugins/redmine_lightbox2/app/views""
  * ""/opt/redmine/plugins/redmine_dashboard/app/views""
  * ""/opt/redmine/plugins/redmine_code_review/app/views""
  * ""/opt/redmine/plugins/redmine_close_button/app/views""
  * ""/opt/redmine/plugins/clipboard_image_paste/app/views""
  * ""/opt/redmine/app/views""
):
    11: <%= stylesheet_link_tag 'rtl', :media => 'all' if l(:direction) == 'rtl' %>
    12: <%= javascript_heads %>
    13: <%= heads_for_theme %>
    14: <%= call_hook :view_layouts_base_html_head %>
    15: <!-- page specific tags -->
    16: <%= yield :header_tags -%>
    17: </head>
  lib/redmine/hook.rb:111:in `block in render_on'
  lib/redmine/hook.rb:61:in `block (2 levels) in call_hook'
  lib/redmine/hook.rb:61:in `each'
  lib/redmine/hook.rb:61:in `block in call_hook'
  lib/redmine/hook.rb:58:in `tap'
  lib/redmine/hook.rb:58:in `call_hook'
  lib/redmine/hook.rb:158:in `call_hook'
  app/views/layouts/base.html.erb:14:in `_app_views_layouts_base_html_erb__332707264179082700_38922380'
  app/controllers/application_controller.rb:466:in `block (2 levels) in render_error'
  app/controllers/application_controller.rb:464:in `render_error'
  app/controllers/application_controller.rb:452:in `render_404'
  app/controllers/application_controller.rb:476:in `missing_template'
</pre>"
18769,Redmine,Defect,NA,Closed,Normal,"Reordering roles, trackers or statuses always redirects to the first page",J?r?me BATAILLE,Jean-Philippe Lang,2015-01-10T22:10:00Z,UI,2.6.1,NA,NA,NA,0,2015-01-07T11:23:00Z,2015-01-10T22:10:00Z,NA,Fixed,NA,"Our roles are on two pages, when moving a role higher or lower, on the second page we are always redirected to the first page."
18771,Redmine,Defect,NA,Closed,Urgent,Redmine crashes with ‘cache error - permission denied’,Eitan Har-Shoshanim,NA,2015-01-07T13:53:00Z,NA,NA,NA,NA,NA,0,2015-01-07T12:55:00Z,2015-01-07T13:53:00Z,NA,Invalid,2.6.0,"We recently upgraded to redmine 2.6.0:
<pre>

Environment:
Redmine version 2.6.0.stable
Ruby version 2.0.0-p594 (2014-10-27) [i386-mingw32]
Rails version 3.2.19
Environment production
Database adapter Mysql2
SCM:
Subversion 1.8.10
Git 1.9.5
Filesystem 
Redmine plugins:
redmine_code_review 0.6.4
redmine_issue_templates 0.0.9
redmine_ldap_sync 2.0.4
redmine_logs 0.0.5
redmine_wiki_extensions 0.6.5
</pre>

All this beauty installed on Windows server 2008R2 using the Bitnami Redmine stack.

Since the upgrade, Redmine keeps crashing at very high interval.
I started investigating this and noticed that the logs at the admin interface looks normal.
I started suspecting that it is the underlying 'thin' that causes the problems.
I ran Redmine from the 'C:\Bitnami\redmine-2.6.0-3\use_redmine.bat' (Bitnami's way to ensure all environment variables are set before working) with the following commands:
<pre>

""c:\Bitnami\redmine-2.6.0-3\ruby\bin\ruby.exe"" ""c:\Bitnami\redmine-2.6.0-3\apps\redmine\htdocs\bin\thin"" start -p 3001 -e production -c ""c:\Bitnami\redmine-2.6.0-3\apps\redmine\htdocs"" -a 127.0.0.1 --prefix /redmine 
""c:\Bitnami\redmine-2.6.0-3\ruby\bin\ruby.exe"" ""c:\Bitnami\redmine-2.6.0-3\apps\redmine\htdocs\bin\thin"" start -p 3002 -e production -c ""c:\Bitnami\redmine-2.6.0-3\apps\redmine\htdocs"" -a 127.0.0.1 --prefix /redmine
</pre>

And noticed the following error on the standard error output:
<pre>

cache error: Permission denied - c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/tmp/cache/7AB/822/http%3A%2F%2Fredmine-srv%2Fredmine%2Fplugin_assets%2Fredmine_ldap_sync%2Fstylesheets%2Fldap_sync.css%3F1419771912%3D
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `unlink'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `block in remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1447:in `platform_support'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1438:in `remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:515:in `block in mv'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1558:in `block in fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1574:in `fu_each_src_dest0'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1556:in `fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:508:in `mv'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/core_ext/file/atomic.rb:36:in `atomic_write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/file_store.rb:92:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/strategy/local_cache.rb:140:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:364:in `block in write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:520:in `instrument'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:362:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.19/lib/action_dispatch/http/rack_cache.rb:25:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/metastore.rb:83:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:267:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:232:in `validate'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:181:in `lookup'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/engine.rb:484:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/application.rb:231:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/railtie/configurable.rb:30:in `method_missing'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:64:in `block in call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `each'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:82:in `block in pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `catch'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:55:in `process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:41:in `receive_data'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run_machine'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/backends/base.rb:73:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/server.rb:162:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/controllers/controller.rb:87:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:200:in `run_command'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:156:in `run!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/bin/thin:6:in `<top (required)>'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `load'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `<main>'
cache error: Permission denied - c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/tmp/cache/A4A/FD1/http%3A%2F%2Fredmine-srv%2Fredmine%2Fjavascripts%2Fapplication.js%3F1413918791%3D
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `unlink'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `block in remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1447:in `platform_support'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1438:in `remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:515:in `block in mv'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1558:in `block in fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1574:in `fu_each_src_dest0'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1556:in `fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:508:in `mv'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/core_ext/file/atomic.rb:36:in `atomic_write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/file_store.rb:92:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/strategy/local_cache.rb:140:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:364:in `block in write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:520:in `instrument'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:362:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.19/lib/action_dispatch/http/rack_cache.rb:25:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/metastore.rb:83:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:267:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:232:in `validate'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:181:in `lookup'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/engine.rb:484:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/application.rb:231:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/railtie/configurable.rb:30:in `method_missing'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:64:in `block in call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `each'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:82:in `block in pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `catch'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:55:in `process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:41:in `receive_data'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run_machine'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/backends/base.rb:73:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/server.rb:162:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/controllers/controller.rb:87:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:200:in `run_command'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:156:in `run!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/bin/thin:6:in `<top (required)>'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `load'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `<main>'
cache error: Permission denied - c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/tmp/cache/3B3/541/http%3A%2F%2Fredmine-srv%2Fredmine%2Ffavicon.ico%3F1413918791%3D
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `unlink'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1439:in `block in remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1447:in `platform_support'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1438:in `remove_file'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:515:in `block in mv'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1558:in `block in fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1574:in `fu_each_src_dest0'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:1556:in `fu_each_src_dest'
c:/Bitnami/redmine-2.6.0-3/ruby/lib/ruby/2.0.0/fileutils.rb:508:in `mv'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/core_ext/file/atomic.rb:36:in `atomic_write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/file_store.rb:92:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache/strategy/local_cache.rb:140:in `write_entry'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:364:in `block in write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:520:in `instrument'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.19/lib/active_support/cache.rb:362:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.19/lib/action_dispatch/http/rack_cache.rb:25:in `write'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/metastore.rb:83:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:267:in `store'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:232:in `validate'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:181:in `lookup'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/engine.rb:484:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/application.rb:231:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/railties-3.2.19/lib/rails/railtie/configurable.rb:30:in `method_missing'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:64:in `block in call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `each'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/urlmap.rb:49:in `call'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:82:in `block in pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `catch'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `pre_process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:55:in `process'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:41:in `receive_data'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run_machine'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.4/lib/eventmachine.rb:187:in `run'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/backends/base.rb:73:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/server.rb:162:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/controllers/controller.rb:87:in `start'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:200:in `run_command'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:156:in `run!'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/bin/thin:6:in `<top (required)>'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `load'
c:/Bitnami/redmine-2.6.0-3/apps/redmine/htdocs/bin/thin:16:in `<main>'
</pre>

I know this points out to permissions problem, but I double checked and re-applied proper permissions and this keeps on happening, even when running the command under administrator user.

Does anyone encountered this in the past or have any idea on how to solve this?

Thanks in advance,
Eitan."
18774,Redmine,Defect,NA,Closed,Normal,Precede-Follow relation sets startdate and changes duedate for no reason,Florian Kaiser,NA,2015-01-21T07:14:00Z,Issues,NA,NA,NA,NA,0,2015-01-08T01:12:00Z,2015-01-21T07:14:00Z,NA,Invalid,2.6.0,"Step 1: Create a task
startdate: empty
duedate: 07.01.2015

Step 2: Create a second task
startdate: empty
duedate: 14.01.2015

Step 3: Add a ""follows"" relation to the second task that links to the first task.
For some reason the second task now has a startdate and the duedate is set to 08.01.2015. Why?"
18777,Redmine,Defect,NA,Closed,Normal,"Moving column to top of ""Select Columns"" results in loss of all other column selections",Randy Syring,Jean-Philippe Lang,2015-01-10T22:22:00Z,Issues,2.6.1,NA,NA,NA,0,2015-01-08T05:22:00Z,2015-01-10T22:22:00Z,次のチケットが重複 #18788,Fixed,2.6.0,"Workflow to reproduce:

# choose a parent project that has sub-projects, click in Issues
# by default, six columns are shown
# expand options -> choose ""Project"" -> click right arrow to move it to ""Selected Columns""
# click the double up arrow (or click single up arrow multiple times) to move ""Project"" to the top of ""Selected Columns""
# click Apply

Expected: seven columns with ""Project"" being the first column after the issue id.

Result: only the Project column stays selected.  The page, when it returns, has a column for Project and the issue id, but all the other columns are no longer displayed.

h2. Further Information

After more digging, its worse than just moving it to the top.  Every time you move a column up in ""Selected Columns"" you lose the columns under it as selected when you click apply.

--------------

Environment:
  Redmine version                2.6.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Mercurial                      2.8.2
  Filesystem                     
Redmine plugins:
  redmine_checklists             3.0.2
  redmine_drafts                 0.2.0
"
18781,Redmine,Defect,NA,Closed,Normal,"Redmine::FieldFormat::IntFormat does not accept ""real"" Integer values",Sascha H?bner,Jean-Philippe Lang,2015-01-10T12:06:00Z,Code cleanup/refactoring,3.0.0,NA,NA,NA,0,2015-01-08T09:09:00Z,2015-01-10T12:06:00Z,NA,Fixed,2.5.1,"I had the Problem of setting the value of a custom field in my code
and therefore validating the new (calculated) value.
The CustomField had the format Redmine::FieldFormat::IntFormat.
The new value was a true Integer: 1
But the value was refused with the message that it's not a Number!

The Reason is, that Redmine::FieldFormat::IntFormat validates the value with RegExp:

 value =~ /^[+-]?\d+$/

which will not return true if value is not a String.
I understand, that ""normally"" values of custom fields will be set via forms
and so usually all values will be Strings.

But I think IntFormat's validation should accept real Integers also!"
18787,Redmine,Defect,NA,Closed,High,link to attachement with space in file name in Markdown Wiki,Hans Ginzel,NA,2015-12-10T19:49:00Z,Text formatting,NA,NA,NA,NA,0,2015-01-09T10:13:00Z,2015-01-09T22:19:00Z,NA,Wont fix,2.6.0,"Please, consider nonalphanumeric chars in file names. E.g. `![alt](Attachement with spaces.png)`."
18788,Redmine,Defect,NA,Closed,Normal,Not all columns are saved after their reordering in a custom query,Karel Pi?man,NA,2015-01-10T22:22:00Z,Issues,NA,NA,NA,NA,0,2015-01-09T11:10:00Z,2015-01-10T22:22:00Z,次のチケットと重複 #18777,Duplicate,2.6.0,"When I edit a custom query the way that I move a selected column up, the columns below the selected column are removed from the query as a result.

When the query is being saved it is visible that - by a javascript code probably - only the columns above the moved columns are selected(step3.png).

+Example:+

*1. The original state*

!before.png!

*2. Edit the query*

!step1.png!

*3. Move the last column _Author_ up*

!step2.png!

*4. Save the edited query*

!step3.png!

*5. The result*

!after.png!"
18792,Redmine,Defect,NA,New,Normal,wrong bar length in PDF gantt chart,Kazmi Iwasa,NA,2015-01-09T15:54:00Z,Gantt,NA,NA,NA,NA,0,2015-01-09T15:54:00Z,NA,NA,NA,NA,"In my pdf gantt chart, some task bars which have small progress percentage are painted with wrong length.
They must have short green rectangle, but the results is long green rectangle.

In lib/redmine/helpers/gantt.rb, the green rectangle is painted here:
<pre>
if coords[:bar_progress_end]
  params[:pdf].SetY(params[:top] + 1.5)
  params[:pdf].SetX(params[:subject_width] + coords[:bar_start])
  params[:pdf].SetFillColor(90, 200, 90)
  params[:pdf].RDMCell(coords[:bar_progress_end] - coords[:bar_start], height, """", 0, 0, """", 1)
end
</pre>

If a task have small progress, @coords[:bar_progress_end]@ and @coords[:bar_start]@ may have the same value because they are rounded by this code.
<pre>
# Transforms dates into pixels witdh
coords.keys.each do |key|
  coords[key] = (coords[key] * zoom).floor
end
</pre>

If @coords[:bar_progress_end] - coords[:bar_start]@ was zero, RDMCell() paints long rectangle stretched to the most right side.

Environment:
  Redmine version                2.5.2.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2"
18823,Redmine,Defect,NA,New,Normal,Can't unassign user from issue when field is required,Tomasz Kowalczyk,NA,2015-01-13T12:30:00Z,Issues,NA,NA,NA,NA,0,2015-01-13T11:53:00Z,NA,NA,NA,2.6.1,"I have set up a workflow, part of which is the status transition:

* Confirmed (field ""assignee"" read-only and empty) -> Assigned (field ""assignee"" required),
* Assigned -> Confirmed (same field constraints).

My idea was to restrict Assignee change only in transition *to* status Assigned. Sometimes developers take issues that are not meant to be taken. We have ""Not assigned"" project version, ""Platform"" category and tracker ""Info"", if either of them is set an issue is considered just for information (subtasks status, etc.), not to be acted upon.

The problem is that I can't unassign them and go back to status Confirmed because when I do that only status changes, Assignee remains set (field disappears after selecting Confirmed status from @<select>@). In Confirmed status I can't unassign user because field won't show up or Redmine will complain of field being read only.

I think that not unassigning user looks like a bug, but maybe I'm unaware of achieving desired result."
18832,Redmine,Defect,NA,Closed,Normal,Activity Stream Filter missing on right hand side due to permission,William Schey,Jean-Philippe Lang,2015-01-18T10:10:00Z,Plugin API,3.0.0,NA,NA,NA,0,2015-01-13T22:53:00Z,2015-01-18T10:10:00Z,NA,Fixed,2.6.1,"When adding a plugins events to the activity stream, the permission is declared as part of the acts_as_activity_provider call. Unfortunately, the Redmine::Activity. Fetcher (lib/redmine/activity/fetcher.rb) method, line 41, requires that permission be called the event type name with ""view_"" added to the front.

So, if I added the event type :dmsf_file_revision_accesses then there needs to be a permission called :view_dmsf_file_revision_accesses.

If this permission does not exist, the filter on the right hand side of the activity stream will be missing even though the permission works for the stream itself.

This does not seem to be documented anywhere and is not expected behaviour as the permission is declared as part of the acts_as_activity_provider call.

Thanks.

Regards,
Will
"
18850,Redmine,Defect,NA,Closed,Normal,Multiple repos with same commits is parsed multiple times.,Simen Endsj?,NA,2015-01-15T14:25:00Z,SCM,NA,NA,NA,NA,0,2015-01-15T13:31:00Z,2015-01-15T14:25:00Z,次のチケットと重複 #17931,Duplicate,2.5.2,"We have a setup with a main repo and a repo for each user.
The reason for this is to get updates quickly while users are working on features before the changes are merged into the main repo.

The problem is when other repos are getting the changes merged in.
Even though the commit hashes is equal, Redmine parses them again.
This makes all issues get multiple references to (the same) commits, and all logged time to be logged again.

Is this a bug? And is there a way to get around this issue?"
18851,Redmine,Defect,NA,Closed,Normal,"Broken link on ""Contribute"" page",Andrey Iskousnykh,NA,2015-01-16T02:15:00Z,Documentation,NA,NA,NA,NA,0,2015-01-15T15:18:00Z,2015-01-16T02:15:00Z,NA,Fixed,NA,"There is a link on [[Contribute#Code-Related|""Contribute"" page]] of Developer guide to the nonexistent page. It's in the 1st paragraph: ... @Also read the@ +forum thread+ @for some more specific ideas.@ Link points to the http://www.redmine.org/boards/1/topics/show/4325. The page revision is needed."
18855,Redmine,Defect,NA,Closed,Normal,User with only Move Issue rights in the project can still create issues using mass copy!,Scott Cunningham,Jean-Philippe Lang,2015-02-08T15:57:00Z,Issues permissions,3.0.0,NA,NA,NA,0,2015-01-15T19:52:00Z,2015-02-08T15:57:00Z,NA,Fixed,2.5.2,"I found this bug when I was trying to use a project with a list of issues as a template for other projects (process flow). I assigned members to custom role ""Copy"" which only allows viewing and moving issues. If, however, the user does not change the project (i.e. copy into other project), new issues will be created within the existing project where they do not have rights!

I am running 2.5.2 on a Bitnami stack. I do not have the chance to try 2.6.x at the moment.

Note - we use _task_ instead of _issue_ in our language file.

h4. Custom Role *Copy* settings:
> !01-role-rights.png!

h4. User does not have issue edit rights (correct)
> !02-no-edit-rights.png!

h4. User can copy multiple issues at once (correct)
> !03-multiple-copy-possible.png!

h4. Copy screenshot
> !04-copy-screen.png!

h4. Issues were added to existing project without regard to no Add Issue rights (not correct)
> !05-issues-added-without-rights.png!"
18863,Redmine,Defect,NA,New,Normal,"troubles in search (Redmine 2.5.2.stable, russian text)",Алексей Городецкий,NA,2015-01-16T10:49:00Z,Search engine,NA,NA,NA,NA,0,2015-01-16T10:49:00Z,NA,NA,NA,2.5.2,"When searching in Redmine considered only the first five keywords. Because of this, the results depend on the order of words in the query.

Example:
Search ""то го ро но во до со бо"": Results (761)
Search ""во до со бо то го ро но"": Results (439)

При поиске в Redmine учитывается только первые пять ключевых слов. Из-за этого результаты зависят от порядка слов в запросе.
Пример:

Поиск ""то го ро но во до со бо"": Результаты (761)
Поиск ""во до со бо то го ро но"": Результаты (439)

Environment:
Redmine version 2.5.2.stable
Ruby version 2.0.0-p481 (2014-05-08) [x86_64-linux]
Rails version 3.2.19
Environment production
Database adapter Mysql2
SCM:
Subversion 1.8.8
Git 1.9.0
Filesystem
Redmine plugins:
no plugin installed
"
18865,Redmine,Defect,NA,Closed,Low,Size of text description of the problem,Алексей Городецкий,NA,2016-01-19T03:36:00Z,Issues,NA,NA,NA,NA,0,2015-01-16T11:15:00Z,2016-01-19T03:36:00Z,次のチケットと重複 #20127,Duplicate,2.5.2,"Text description of the problem in redmine truncated without warning. In the description of the saved text, takes no more than approximately 65530 bytes in UTF-8.

Текст описания задачи в redmine усекается без предупреждения. В описание сохраняется текст, занимающий не более примерно 65530 байт в кодировке UTF-8."
18866,Redmine,Defect,NA,New,Normal,MySQL: disappear after 4-Byte UTF-8,Алексей Городецкий,NA,2015-06-22T06:04:00Z,Database,NA,NA,NA,NA,0,2015-01-16T11:37:00Z,2015-06-22T06:03:00Z,"関連している #19742, 次のチケットが重複 #10779, 次のチケットが重複 #10772, 次のチケットが重複 #21679",NA,2.5.2,"When writing tasks text after some characters disappear. For example, after the symbol ?"
18879,Redmine,Defect,NA,Closed,Normal,News Watch email notification doesn't work,Plam Sim,NA,2015-01-18T07:53:00Z,Email notifications,NA,NA,NA,NA,0,2015-01-18T07:29:00Z,2015-01-18T07:53:00Z,次のチケットと重複 #18691,Duplicate,2.6.1,I would like to report that News Watch - email notification for the News section doesn't work in Redmine 2.6.1.
18883,Redmine,Defect,NA,Closed,Normal,Slow rendering of large textile tables,Имя Фамилия,Jean-Philippe Lang,2015-02-18T12:31:00Z,Text formatting,2.6.2,NA,NA,NA,0,2015-01-18T20:19:00Z,2015-02-18T12:31:00Z,NA,Fixed,2.5.3,Large tables are not a page to load. An example of a large table: table 256×256
18891,Redmine,Defect,NA,Closed,Normal,Error after upgrading to lates revision (13915),ChunChang Lo,NA,2015-01-26T03:44:00Z,NA,NA,NA,NA,NA,0,2015-01-19T05:17:00Z,2015-01-26T03:44:00Z,NA,NA,NA,"The error message is as follows:
<pre>
[root@linode redmine]# rake db:migrate RAILS_ENV=""production"" --trace
rake aborted!
NameError: uninitialized constant ActionView::Helpers::ActiveModelHelper
/usr/local/share/gems/gems/actionview-4.2.0/lib/action_view/helpers.rb:40:in `<module:Helpers>'
/usr/local/share/gems/gems/actionview-4.2.0/lib/action_view/helpers.rb:4:in `<module:ActionView>'
/usr/local/share/gems/gems/actionview-4.2.0/lib/action_view/helpers.rb:3:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.0/lib/action_view/base.rb:5:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.0/lib/action_view/view_paths.rb:1:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.0/lib/abstract_controller/rendering.rb:4:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.0/lib/action_controller/base.rb:204:in `<class:Base>'
/usr/local/share/gems/gems/actionpack-4.2.0/lib/action_controller/base.rb:164:in `<module:ActionController>'
/usr/local/share/gems/gems/actionpack-4.2.0/lib/action_controller/base.rb:5:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/action_controller/action_caching.rb:13:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `require'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `<top (required)>'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler/runtime.rb:85:in `require'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler/runtime.rb:85:in `rescue in block in require'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler/runtime.rb:68:in `block in require'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler/runtime.rb:61:in `each'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler/runtime.rb:61:in `require'
/usr/local/share/gems/gems/bundler-1.7.12/lib/bundler.rb:134:in `require'
/var/www/html/redmine/config/application.rb:5:in `<top (required)>'
/usr/share/rubygems/rubygems/core_ext/kernel_require.rb:53:in `require'
/usr/share/rubygems/rubygems/core_ext/kernel_require.rb:53:in `require'
/var/www/html/redmine/Rakefile:5:in `<top (required)>'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/rake_module.rb:28:in `load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:689:in `raw_load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:94:in `block in load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:93:in `load_rakefile'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:77:in `block in run'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'
/usr/local/share/gems/gems/rake-10.4.2/bin/rake:33:in `<top (required)>'
/usr/local/bin/rake:23:in `load'
/usr/local/bin/rake:23:in `<main>'
</pre>
I have no idea about how to fix this.
Help please.
"
18896,Redmine,Defect,NA,Closed,Normal,"Grouping of Boolean field in Query: group not displayed for ""No"" value if the group is in first position",kaz k,Jean-Philippe Lang,2015-02-18T12:34:00Z,Custom fields,2.6.2,NA,NA,NA,0,2015-01-19T08:30:00Z,2015-02-18T12:34:00Z,NA,Fixed,2.5.0,"When I submit the query with ""Group results by"" the boolean field which *is defined as ""required""* , collapse/expand indicator line for ""No"" is not displayed. 
* Tickets are distinguished into 2 groups, one for ""No"" and the other for ""Yes"". OK.
* But collapse/expand indicator line for ""No"" is not displayed. It should be displayed, I think.
** On the other hand, collapse/expand indicator line for ""Yes"" is displayed. OK.

I'd appreciate if this issue is picked up and will be examined/fixed.

Kind regards,

---

* Reported version
Redmine 2.5.0.stable. 
Details are as follows.
# Test redmine (Windows7)
<pre>
Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p231 (2012-05-25) [i386-mingw32]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
</pre>
# Production redmine (Linux)
<pre>
Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               PostgreSQL
</pre> 

---

Note: This phenomena does not happen with a boolean field which is *not* defined as ""required"". In this case, 3 collapse/expand indicator lines are displayed (with misleading labels ( see #18894 ) when this ticket is created).
"
18912,Redmine,Defect,NA,New,Normal,Clicking on a Completed Version doesn't navigate to the Version,James H,NA,2015-01-20T23:24:00Z,Roadmap,NA,NA,NA,NA,0,2015-01-20T19:09:00Z,NA,NA,NA,2.6.0,"If you are using the roadmap and looking at the right bar:
Check the option for ""Show completed versions"".

NOW:
Clicking on a Completed Version doesn't navigate to the Version.
It ends up re-navigating to the roadmap.

When you do not have the option for ""Show Completed Versions"" checked, then it navigates fine to any of the completed versions."
18913,Redmine,Defect,NA,New,Normal,Roadmap View from within Sub-project not complete,James H,NA,2015-01-20T23:26:00Z,Roadmap,NA,NA,NA,NA,0,2015-01-20T19:11:00Z,NA,NA,NA,2.6.0,"I have many versions that are available to the entire project tree.

Viewing the roadmap from within a sub-project causes only several versions to display. Viewing the roadmap from the top project shows all versions correctly and as expected."
18914,Redmine,Defect,NA,New,Normal,Slow rendering pages with many small macros,Имя Фамилия,NA,2015-01-23T00:37:00Z,NA,Candidate for next minor release,NA,NA,NA,0,2015-01-20T20:29:00Z,NA,NA,NA,2.5.0,"Page 2 macros, including another page with 2 macros, and so on ... 16 times is not loaded. The result should not be very large. This is without recursion."
18916,Redmine,Defect,NA,Closed,Normal,Adding Multiple Watchers - Doesn't add when you re-search users.,James H,NA,2015-01-21T07:08:00Z,NA,NA,NA,NA,NA,0,2015-01-20T23:20:00Z,2015-01-21T07:08:00Z,次のチケットと重複 #17579,Duplicate,2.6.0,"When adding watchings by clicking ""add"" in the right bar:
You are shown a menu with checkboxes next to names and a search/filter field.

If you check a checkbox for a name and then change the search/filter and try to check another name, the previous checks do not count and those previously checked names are not added as watchers. Only the last batch of names that you check off (after your last search/filter-ing) will be added.

This seems like a defect. 
I feel like a function like this should be able to remember previously checked checkboxes as you check names and search for more names, or it should just add the user as soon as you check the checkbox and be ""real-time"", that way there is no need for the system to ""remember"" anything.
"
18917,Redmine,Defect,NA,Closed,Normal,Cannot reorder root issues,@ go2null,NA,2015-01-21T05:34:00Z,Issues,NA,NA,NA,NA,0,2015-01-21T01:03:00Z,2015-01-21T05:34:00Z,NA,Wont fix,2.6.0,"I would like to order root issues relative to each other.

I can do the following for children nodes:
<pre><code class=""ruby"">
issue_a.move_to_right_of(issue_b)
</code></pre>

However, the same code does not work for root issues, because they have different scopes (@root_id@).
<pre><code class=""ruby"">
# app/models/issue.rb
47:  acts_as_nested_set :scope => 'root_id', :dependent => :destroy


# lib/plugins/awesome_nested_set/lib/awesome_nested_set/model/movable.rb

9:          def move_possible?(target)
            self != target && # Can't target self
              same_scope?(target) && # can't be in different scopes
              # detect impossible move
              within_bounds?(target.left, target.left) &&
              within_bounds?(target.right, target.right)
          end
</code></pre>

<pre>
Environment:
  Redmine version                2.6.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
</pre>

(_initially posted as message#45150_)"
18918,Redmine,Defect,NA,Closed,Normal,"Grouping label for ""none"" should be changed to ""null"", ""No Value"", or"" (blank) "".",kaz k,Jean-Philippe Lang,2015-02-09T01:39:00Z,Issues,3.0.0,NA,NA,NA,0,2015-01-21T02:31:00Z,2015-02-08T10:39:00Z,NA,Fixed,2.5.0,"This is the brother ticket of #18894. (see #18894-5 ).

In the query with ""Group results by"" a boolean filed, both ""No"" and ""(blank, or to say, not specified)"" are grouped under same name (label) of ""none"" collapse/expand indicator lines.
This happens if the boolean field is not defined as ""required"".

Boolean field which is not defined as ""required"" contains 3 values, ""Yes"", ""No"" and ""(blank, or to say, not specified)"", so it is better to be grouped in different label names.

Could it be changed the label of ""none"" for ""(blank, or to say, not specified)"" value to the other one ?
The candidate strings are ""null"", ""No Value"", or""(blank)"".

* Notes on translation
I am afraid translation texts may be affected when changing the label text strings. For example, ""none"" is translated to ""なし"" in Japanese. If the string is ""null"", it may be translated to ""空"". 

---

* Reported version
Redmine 2.5.0.stable. Details are as follows.
# Test redmine (Windows7)
<pre>
 Environment:
   Redmine version    2.5.0.stable
   Ruby version       1.9.3-p231 (2012-05-25) [i386-mingw32]
   Rails version      3.2.17
   Environment        production
   Database adapter   Mysql2
</pre>
# Production redmine (Linux)
<pre>
 Environment:
   Redmine version    2.5.0.stable
   Ruby version       1.9.3-p484 (2013-11-22) [x86_64-linux]
   Rails version      3.2.17
   Environment        production
   Database adapter   PostgreSQL
</pre>

"
18921,Redmine,Defect,NA,New,Normal,Changing Tracker w/o Boolean to the one w/Boolean ignores default value of Boolean custom field definition.,kaz k,NA,2015-01-21T09:41:00Z,Custom fields,NA,NA,NA,NA,0,2015-01-21T09:26:00Z,NA,NA,NA,2.5.0,"Suppose there are 2 trackers. One (called as A) does *not* have the boolean custom field. The other (called as B) has the boolean custom field.
There is a ticket in the tracker in the tracker A.
When the ticket in tracker A (without the boolean field used) is moved to tracker B (which has the boolean field) while editing the ticket, the boolean field appears in the editing screen (good), but the default value of the boolean field is ignored :-(.
Regardless of the default definition, initial value of the boolean field is as follows.
# Boolean with ""Required"" - Yes
# Boolean without ""Required"" - (null, blank)

It is misleading if the default value of the boolean is ""No"", for example. 
* Users rely on the default value of the boolean of ""No"" and may not take much care the field value because they know the default value is ""No"".
** ""No"" is set initially when they create the ticket in Tracker B . 
* If the user changes the tracker in tracker A to tracker B, does not check the value carefully, and submits the update, the ticket has the value of ""Yes"" which is not intended so.

It is better to assign the default value as an initial value in this case.

I evaluated combinations of the boolean value definitions and behavior of changing the tracker. Details are to be added in the note in this ticket.

I am afraid that the same phenomena happens if a boolean field is added to the tracker then edit existing tickets, because the existing tickets don't have the boolean value before adding it.
 
---

* Reported version
Redmine 2.5.0.stable. 
Details are as follows.
# Test redmine (Windows7)
<pre>
Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p231 (2012-05-25) [i386-mingw32]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
</pre>
# Production redmine (Linux)
<pre>
Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               PostgreSQL
</pre>"
18922,Redmine,Defect,NA,Closed,Normal,rdm-mailhandler.rb should catch EOFError,Go MAEDA,Jean-Philippe Lang,2015-02-18T12:35:00Z,Email receiving,2.6.2,NA,NA,NA,0,2015-01-21T09:45:00Z,2015-02-18T12:35:00Z,NA,Fixed,2.6.1,"rdm-mailhandler.rb should catch EOFError in addition to SystemCallError at source:trunk/extra/mail_handler/rdm-mailhandler.rb@13872#L132.

If communications between rdm-mailhandler.rb and Redmine are terminated while rdm-mailhandler.rb talking to Redmine, Net::HTTP raises EOFError and rdm-mailhandler stops unexpectedly because it does not catch EOFError. The email will be bounced.

{{collapse(error mail from MTA)
<pre>
This is the mail system at host mta.example.com

I'm sorry to have to inform you that your message could not
be delivered to one or more recipients. It's attached below.

For further assistance, please send mail to postmaster.

If you do so, please include this problem report. You can
delete your own text from the attached returned message.

                   The mail system

<redmine@example.com>: Command died
    with status 1: ""/some/where/redmine/extra/mail_handler/rdm-mailhandler.rb
    --url http://redmine.example.com/redmine/ --key **********
    --allow-override=tracker,category,priority --project=someproject
    --unknown-user=accept --no-permission-check"". Command output:
    /usr/share/ruby/2.0/net/protocol.rb:153:in `read_nonblock': end of file
    reached (EOFError)  from /usr/share/ruby/2.0/net/protocol.rb:153:in
    `rbuf_fill'  from /usr/share/ruby/2.0/net/protocol.rb:134:in `readuntil'
    from /usr/share/ruby/2.0/net/protocol.rb:144:in `readline'  from
    /usr/share/ruby/2.0/net/http/response.rb:39:in `read_status_line'  from
    /usr/share/ruby/2.0/net/http/response.rb:28:in `read_new'  from
    /usr/share/ruby/2.0/net/http.rb:1406:in `block in transport_request'  from
    /usr/share/ruby/2.0/net/http.rb:1403:in `catch'  from
    /usr/share/ruby/2.0/net/http.rb:1403:in `transport_request'  from
    /usr/share/ruby/2.0/net/http.rb:1376:in `request'  from
    /some/where/redmine/extra/mail_handler/rdm-mailhandler.rb:36:in `block in
    post_form'  from /usr/share/ruby/2.0/net/http.rb:852:in `start'  from
    /some/where/redmine/extra/mail_handler/rdm-mailhandler.rb:36:in `post_form'
    from /some/where/redmine/extra/mail_handler/rdm-mailhandler.rb:131:in
    `submit'  from
    /some/where/redmine/extra/mail_handler/rdm-mailhandler.rb:178:in `<main>'
</pre>
}}

We can avoid the preceding by this patch. The email will be deferred, not bounced.
"
18926,Redmine,Defect,NA,Closed,Normal,issue_categories in REST API is not working - page not found,Mikl?s Kriv?n,NA,2015-07-25T05:47:00Z,REST API,NA,NA,NA,NA,0,2015-01-21T13:00:00Z,2015-07-25T05:47:00Z,NA,NA,2.5.3,"When I try to call http://server.domain/redmine/projects/1/issue_categories.json?key=my_key the answer is Page Not Found 404

The Log contains this:

ActionController::RoutingError (No route matches [GET] ""/service/projects/1/issue_categories.json""):
  actionpack (3.2.19) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.19) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.19) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.19) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.19) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.19) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.19) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.19) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.19) lib/action_dispatch/middleware/static.rb:63:in `call'
  rack-cache (1.2) lib/rack/cache/context.rb:136:in `forward'
  rack-cache (1.2) lib/rack/cache/context.rb:245:in `fetch'
  rack-cache (1.2) lib/rack/cache/context.rb:185:in `lookup'
  rack-cache (1.2) lib/rack/cache/context.rb:66:in `call!'
  rack-cache (1.2) lib/rack/cache/context.rb:51:in `call'
  railties (3.2.19) lib/rails/engine.rb:484:in `call'
  railties (3.2.19) lib/rails/application.rb:231:in `call'
  railties (3.2.19) lib/rails/railtie/configurable.rb:30:in `method_missing'
  /data/redmine/service/dispatch.fcgi:16:in `call'
  rack (1.4.5) lib/rack/handler/fastcgi.rb:66:in `serve'
  rack (1.4.5) lib/rack/handler/fastcgi.rb:28:in `block in run'
  rack (1.4.5) lib/rack/handler/fastcgi.rb:27:in `each'
  rack (1.4.5) lib/rack/handler/fastcgi.rb:27:in `run'
  /data/redmine/service/dispatch.fcgi:20:in `<main>'

But if I try to call any other REST API functions everything works perfect:

Example http://server.domain/redmine/projects/1/issues.json?key=my_key returns with all issues from project id=1

I have tried the users API as well it worked.

I have tried also with other versions (2.3-stable, 2.4-stable, 2.5-stable and 2.6-stable) the situation is exatle the same.

I have installed everything with SVN checkout and the suggested building procedure.
All of the functionality in redmine works perfect only this REST_API is not available.

Why is it important? Because I have started to use the redmineNB plugin for netbeans and it gives me also the page not found message of course and there is no category info of course. First I was thinking a plugin bug but when I called the REST API manually I have realized that Page Not found answer is real.

I have checked also the rake route definitions and it gave me good result.

$ bundle exec rake routes | grep categories
Your FCGI gem does not contain the FCGI shared library, running pure ruby instead
                    project_issue_categories GET          /projects/:project_id/issue_categories(.:format)                                  issue_categories#index
                                             POST         /projects/:project_id/issue_categories(.:format)                                  issue_categories#create
                  new_project_issue_category GET          /projects/:project_id/issue_categories/new(.:format)                              issue_categories#new
                         edit_issue_category GET          /issue_categories/:id/edit(.:format)                                              issue_categories#edit
                              issue_category GET          /issue_categories/:id(.:format)                                                   issue_categories#show
                                             PUT          /issue_categories/:id(.:format)                                                   issue_categories#update
                                             DELETE       /issue_categories/:id(.:format)                                                   issue_categories#destroy



My environment is:

Environment:
  Redmine version                2.5.3.stable.13899
  Ruby version                   2.0.0-p0 (2013-02-24) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.9
  Git                            1.7.11.3
  Filesystem
Redmine plugins:
  redmine_helpdesk               0.0.12
  redmine_wiki_unc               0.0.3
  scrum                          0.7.0

Do you have any ideas what could be wrong with it?
Thx. for your help"
18928,Redmine,Defect,NA,Closed,Urgent,Incorrect path to uploaded files in redmine 2.6.1,Mad Geniy,NA,2015-01-26T11:32:00Z,Attachments,NA,NA,NA,NA,0,2015-01-21T19:29:00Z,2015-01-22T06:40:00Z,次のチケットが重複 #18948,Invalid,2.6.1,"I use 2.6.1 version of redmine, upgreaded from 1.2.x and with database imported from bitnami redmine stack.
What wrong?
All links in my redmine like ""redmine/attachments/XX/xxx.xx"".
But uplodaded files are in ""redmine/files/xxxx/xx/xxx.xx""
How I can correct it?"
18929,Redmine,Defect,NA,Closed,Urgent,"MailHandler Error: ""\xF5"" from ASCII-8BIT to UTF-8",Maciej Cygan,NA,2015-08-23T17:01:00Z,Email receiving,NA,NA,NA,NA,0,2015-01-21T21:55:00Z,2015-08-23T16:56:00Z,NA,No feedback,2.5.0,"I have recently updated/upgraded our server and this caused our Redmine helpdesk mail system to break. I have already seen Defect #18649, #16122 & #16261 and tried to apply all sugestions to our solution but neither did work. 

Before i have updated our server all was working fine, including cronjob to fetch emails. Now i am getting encoding error.

What i have in production.log:

@@Helpdesk MailHandler Error: ""\xF5"" from ASCII-8BIT to UTF-8
  ^[[1m^[[35mProject Load (0.2ms)^[[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 LIMIT 1
  ^[[1m^[[36mEnabledModule Load (0.2ms)^[[0m  ^[[1mSELECT `enabled_modules`.* FROM `enabled_modules` WHERE `enabled_modules`.`project_id` = 1^[[0m@@

Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p194 (2012-04-20) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.7.10.4
  Filesystem
Redmine plugins:
  redmine_contacts               3.2.15-light
  redmine_contacts_helpdesk      2.2.9-pro
  redmine_git_hosting            0.7.2
  redmine_people                 0.1.8


Because of this we are unable to track our issues that are reported by our customers and i have already spent about 10 hours trying to find what has gone wrong. 

Help much appreciated."
18930,Redmine,Defect,NA,Closed,Normal,session_expiration fails to find active user to set localization for,Josh Miller,NA,2015-10-22T15:13:00Z,I18n,NA,NA,NA,NA,0,2015-01-22T01:07:00Z,2015-01-31T15:38:00Z,NA,Invalid,2.6.1,"Redmine 2.6.1, mysql, amazon linux.

When a session has expired and the user attempts to use Redmine, a 500 error is returned as the session_expiration method is unable to find an active user to set the localization for.

Problem area:

<pre>
  def session_expiration
    if session[:user_id]
      if session_expired? && !try_to_autologin
        set_localization(User.active.find_by_id(session[:user_id]))
        reset_session
        flash[:error] = l(:error_session_expired)
        redirect_to signin_url
      else
        session[:atime] = Time.now.utc.to_i
      end
    end
  end

</pre>

With the error:

<pre>
Started GET ""/"" for x.x.x.x at 2015-01-21 23:37:33 +0000
Processing by WelcomeController#index as HTML
  User Load (0.7ms) SELECT `users`.* FROM `users` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND `users`.`status` = 1 AND `use
rs`.`id` = 12 LIMIT 1
Completed 500 Internal Server Error in 2.1ms

ArgumentError (wrong number of arguments (1 for 0)):
  app/controllers/application_controller.rb:65:in `session_expiration'

</pre>


If a reset_session is called before set_localization, and set_localization is without parameters, the correct behavior occurs, where the user is redirected toa login screen and no 500 error occurs.

<pre>
  def session_expiration
    if session[:user_id]
      if session_expired? && !try_to_autologin
        reset_session
        set_localization
        flash[:error] = l(:error_session_expired)
        redirect_to signin_url
      else
        session[:atime] = Time.now.utc.to_i
      end
    end
  end

</pre>

"
18937,Redmine,Defect,NA,Closed,Normal,Review plugin directory entry for Reports plugin,Mischa The Evil,NA,2015-02-13T05:29:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-01-23T07:08:00Z,2015-01-26T14:25:00Z,NA,Fixed,NA,"See http://www.redmine.org/plugins/reports_tb. There's no:
* website
* code repository
* attached downloads

Please take appropriate action."
18940,Redmine,Defect,NA,Closed,Normal,Filter by custom user field didn´t work,Henry Auffahrt,NA,2017-09-23T12:28:00Z,Custom fields,NA,NA,NA,NA,0,2015-01-23T14:03:00Z,2017-09-23T12:28:00Z,"関連している #9445, 次のチケットと重複 #24769",Duplicate,2.5.3,"I created a custom field in our tickets. This is a custom-user-field. So you can choose all people in a specific role.

Now i want to use this custom field in my global ticket list as a filter. This didn't work, i can only choose myself.

Maybe this is a because of the role concept from redmine? But we really need a functionality. If i add a user through firebug it works nicely."
18943,Redmine,Defect,NA,Resolved,Normal,REST API does not return spent_hours when listing issues,Leonardo Pacheco,NA,2015-02-02T19:27:00Z,REST API,NA,NA,NA,NA,0,2015-01-23T21:53:00Z,NA,関連している #5303,NA,2.6.1,"When you query the REST API for a specific item, it returns spent_hours for that item. When you query the REST API to list all items, it doesn't."
18948,Redmine,Defect,NA,Closed,Normal,"Corrct files directory, incorrect links to files",Mad Geniy,NA,2015-01-25T20:07:00Z,Files,NA,NA,NA,NA,0,2015-01-25T12:43:00Z,2015-01-25T19:13:00Z,次のチケットと重複 #18928,Duplicate,2.6.1,"sh: 1: svn: not found
sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                2.6.1.stable
  Ruby version                   1.8.7-p352 (2011-06-30) [i686-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.7.9.5
  Filesystem
Redmine plugins:
  redmine_checklists             3.0.2

All links in my redmine like ""redmine/attachments/XX/xxx.xx"".
But uplodaded files are in ""redmine/files/xxxx/xx/xxx.xx"""
18949,Redmine,Defect,NA,Closed,Normal,assignee instead of assigned_to,Florian Effenberger,NA,2015-02-04T06:19:00Z,Email receiving,NA,NA,NA,NA,0,2015-01-25T15:44:00Z,2015-02-04T06:19:00Z,NA,Invalid,2.6.0,"One needs to use assignee instead of assigned_to for e-mails as keyword, which is wrong on [[RedmineReceivingEmails]]"
18951,Redmine,Defect,NA,Closed,Normal,'Add' related issues link on issue detail view do nothing,Jonas Schulz,NA,2015-01-26T12:12:00Z,Issues,NA,NA,NA,NA,0,2015-01-26T10:35:00Z,2015-01-26T12:12:00Z,NA,Invalid,2.6.1,"My server setup:

sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                2.6.1.stable.13949
  Ruby version                   1.9.3-p0 (2011-10-30) [i686-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.17
  Git                            1.7.9.5
  Filesystem
Redmine plugins:
  redmine_wiki_extensions        0.6.5

Tested Browser Firefox 35.0, Safari 5.1.7 & IE 9.0.34 on WIN 7 64bit

Description: By clicking on 'Add' link in the 'Related issues' section on issue detail page nothing happened. No error in log was found. The link pointed to issue itself. For example 'https://[server]/issues/3035#' is the link which will called by clicking on 'Add'.

Note: I updated from 2.5.3 to 2.6.1 via svn switch prior this day. So maybe the defect is related to this update."
18953,Redmine,Defect,NA,New,Normal,Bulk edit issues does not update Status drop down,Randy Syring,NA,2015-01-26T22:24:00Z,Issues,NA,NA,NA,NA,0,2015-01-26T22:24:00Z,NA,NA,NA,2.6.0,"When trying to bulk edit issues, I'm seeing that the Status drop down is not getting updated when I change the project.  The project & tracker my issues start out in only has three statuses avaialble.  When I change the project & tracker, I should see seven statuses become available based on the project & tracker selected.  However, I that drop-down is not getting updated.

The status drop-down gets updated correctly if I updated the same issues individually.

<pre>
Environment:
  Redmine version                2.6.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Mercurial                      2.8.2
  Filesystem                     
Redmine plugins:
  redmine_checklists             3.0.2
  redmine_drafts                 0.2.0
</pre>"
18958,Redmine,Defect,NA,Closed,Urgent,Population of dependent list field values,Kiran Kumar,NA,2015-01-29T09:06:00Z,Issues,NA,NA,NA,NA,0,2015-01-27T11:47:00Z,2015-01-29T09:06:00Z,関連している #19875,Invalid,2.5.0,"While raising a Defect, the field values(list box) should be populated based on the other field value selection. Example: Field1(Platform) ( Values: Windows, Linux, Solaris,etc.,) Field2(Version) ( Values: Windows=>2000,2003 and Linux=>2.4,2.6 and Solaris=>2.8,2.9,2.10)

If user selects Windows in Field1, Field2 should only be populated with 2000 & 2003.
If user selects Linux in Field1, Field2 should only be populated with 2.4 & 2.6
If user selects Solaris in Field1, Field2 should only be populated with 2.8,2.9,2.10."
18961,Redmine,Defect,NA,Closed,Low,{{macro_list}} error when choose markdown as wiki language,shuangchang tian,Jean-Philippe Lang,2015-02-18T12:35:00Z,Text formatting,2.6.2,NA,NA,NA,0,2015-01-28T02:18:00Z,2015-02-18T12:35:00Z,NA,Fixed,2.6.1,"I choose markdown as wiki language . When I call <pre>{{macro_list}}</pre>, ""thumbnail"" doesn't display the example code ,bug a error message.

!macroerror.png!"
18976,Redmine,Defect,NA,Closed,Normal,redmine.repositories & redmine.auth_sources passwords are not hashed,pAno Nymous,NA,2015-01-31T15:09:00Z,Security,NA,NA,NA,NA,0,2015-01-29T19:02:00Z,2015-01-31T15:09:00Z,NA,Invalid,2.5.1,"passwords saved in redmine.repositories and redmine.auth_sources are not hashed

Environment details are:
 Redmine version 2.5.1.stable
 Ruby version 1.9.3-p125 (2012-02-16) [i386-mingw32]
 Rails version 3.2.17
 Environment production
 Database adapter Mysql2

I raised this in the forum and it doesn't seem to be a know issue:
http://www.redmine.org/boards/2/topics/45073
"
18977,Redmine,Defect,NA,Closed,Normal,UTF-8 encoded subject extracted from email,Andrey Ni,NA,2015-01-30T08:15:00Z,Email receiving,NA,NA,NA,NA,0,2015-01-30T07:33:00Z,2015-01-30T08:15:00Z,次のチケットと重複 #16859,Duplicate,2.6.0,"When issue is created from email and email subject consist of multiple lines encoded in base64 only the first line of the subject is shown in 'Issues'.

It happens because of collapse_adjacent_encodings function.
I don't know Ruby so I can not explain exactly what is wrong with the code, but I do know that 2 lines like this
=?UTF-8?B?0J/RgNC+0YjRgyDRgNCw0LfQvtCx0YDQsNGC0YzRgdGPINC4IA==?= 
=?UTF-8?B?0L/RgNC40L3Rj9GC0Ywg0YHRgNC+0YfQvdGL0LUg0LzQtdGA0YssINCyIA==?= 
can NOT be joined together as commentary to the function says.
Cause if you try to decode from base64 concatenation of this strings the result will be decoded first string, not the concatenation of decoded first and second strings (decode(str1+str2)=decode(str1) and decode(str1+str2)!=decode(str1)+decode(str2) as you would assume). I believe it's because the base64 decoding function ignores everything after '=' symbol. ('=' or '==' in base64 strings are added when last octet decodes to 2 or 1 bytes correspondingly)

Environment:
  Redmine version                2.6.0.stable
  Ruby version                   2.0.0-p598 (2014-11-13) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2"
18979,Redmine,Defect,NA,Closed,Normal,404 error on file with filenames originally in Cyrillic,Mad Geniy,NA,2015-01-30T13:26:00Z,Attachments,NA,NA,NA,NA,0,2015-01-30T08:34:00Z,2015-01-30T08:59:00Z,NA,Cant reproduce,2.6.1,"sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
Redmine version 2.6.1.stable
Ruby version 1.9.3-p551 (2014-11-13) [i686-linux]
Rails version 3.2.21
Environment production
Database adapter Mysql2
SCM:
Subversion 1.6.17
Git 1.7.9.5
Filesystem
Redmine plugins:
no plugin installed

I have an 404 error when attempting to download files that names are in Cyrillic."
19015,Redmine,Defect,NA,Closed,Normal,./config/locales/th.yml illegal input sequence at position 2871,Arseniy Terekhin,NA,2015-02-03T19:29:00Z,NA,NA,NA,NA,NA,0,2015-02-03T18:57:00Z,2015-02-03T19:23:00Z,NA,Invalid,2.6.1,"I'm sure, @/trunk/config/locales/th.yml@ has invalid utf-8 encoding:
<pre>
iconv -f UTF-8 ./config/locales/th.yml -o /dev/null
iconv: illegal input sequence at position 2871
</pre>"
19017,Redmine,Defect,NA,Closed,Normal,Wiki PDF Export: <pre> not rendered with monospaced font,Marcel M?ller,Toshi MARUYAMA,2015-12-06T15:02:00Z,PDF export,3.2.0,NA,NA,NA,0,2015-02-03T23:44:00Z,2015-12-06T12:24:00Z,NA,NA,2.6.1,"In redmine < pre > tags are rendered with a monospaced font. When exporting a wiki with a < pre > element, this element is not rendered with a monospaced font, loosing the intended ""formatting"".

Simple example:
!PdfExportHtmlVsPdf.png!"
19020,Redmine,Defect,NA,Closed,Low,Sign out hook,vignesh Palanisamy,NA,2015-02-04T10:53:00Z,NA,NA,NA,NA,NA,0,2015-02-04T08:46:00Z,2015-02-04T10:53:00Z,NA,Invalid,NA,"I had plugin which help to integrate my foo application with redmine. And my foo application is running on seperate session.

I want to sign out my foo application while clicking the signout in redmine. I don't know how to do it? please help me.

"
19024,Redmine,Defect,NA,Closed,Normal,link_to in Redmine::Hook::ViewListener omits url root,Jakob Gillich,Jean-Philippe Lang,2015-02-07T13:08:00Z,Plugin API,3.0.0,NA,NA,NA,0,2015-02-04T11:01:00Z,2015-02-07T08:33:00Z,NA,Fixed,NA,"Linking to a controller action omits the configured url root (@RAILS_RELATIVE_URL_ROOT@ environment variable).

For example, put the following code in a plugin & set @RAILS_RELATIVE_URL_ROOT=/redmine@:
<pre>
link_to ""Test"", { :controller => 'my', :action => 'plugin' }
# => <a href=""/my/plugin"">Test</a>
# Should be: href=""/redmine/my/plugin""
</pre>

There are quite a few others that seem to have the same problem:
https://github.com/peelman/my_projects/issues/5
https://stackoverflow.com/questions/25315103/link-to-omits-redmine-root

I am not sure if this is only reproducible under specific environments (at least the my_projects author doesn't seem to have this problem); I tried both the Bitnami Installer on Windows and the @sameersbn/redmine@ Docker container. You should get the same results with the following steps:

# Download https://github.com/peelman/my_projects
# On Windows: Install Redmine using Bitnami and put the plugin in the plugins folder
 On Linux: Install Docker & fig, put ""this"":https://gist.github.com/jgillich/97c88a99092c37e5d327 in the addon folder and type @fig up@.
# Open Redmine, create a project and go to the @Home@ page.
# Observe that all links generated by the plugin don't include the relative URL.
"
19030,Redmine,Defect,NA,Closed,Normal,"Links to completed versions on the roadmap page might lead to a ""403 not authorized page""",Felix Sch?fer,Jean-Philippe Lang,2015-02-08T16:06:00Z,UI,3.0.0,NA,NA,NA,0,2015-02-04T17:25:00Z,2015-02-08T16:06:00Z,NA,Fixed,2.6.1,"On the roadmap page without showing the completed versions, all completed versions in the ""Completed versions"" foldout are linked to the version's page. The current user might not have the permission to view that version though (in the case of shared version), leading the user to a 403 page."
19033,Redmine,Defect,NA,Closed,Normal,Filters that utilize date/time ignore user's UTC offset,Zach N,NA,2016-05-07T13:07:00Z,NA,NA,NA,NA,NA,0,2015-02-04T20:29:00Z,2016-05-07T13:07:00Z,"関連している #20473, 関連している #16482, 次のチケットと重複 #22320",NA,2.5.2,"h2. Description:

Using any filter that uses date/time, such as ""Today,"" ""Yesterday,"" is Date, etc. ignores the UTC offset of the user.
Attached is a screenshot. In the screenshot is an issue with the date, 2/3/2015 @ 1807 CST. Converting this date to UTC would make it 2/4/2015 0007 UTC.

The server is set to UTC time. The Redmine config is using ""local"" for timezone. The user in the example has their UTC offset set to -6 or Central Standard Time.

h2. Expected:

I expect any filter using date/time to take into account the time offset the user has provided within their account profile.


h2. Instillation Info:

Environment:
  Redmine version                2.5.2.stable
  Ruby version                   1.9.3-p547 (2014-05-14) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Mercurial                      2.1
  Cvs                            1.12.13
  Git                            1.9.0
  Filesystem                     
Redmine plugins:
  redmine_time_tracker           0.5"
19039,Redmine,Defect,NA,Closed,Normal,Mail notification is formatting dates with changer's locale,Rafael Vargas,Jean-Philippe Lang,2015-02-09T12:06:00Z,I18n,3.0.0,NA,NA,NA,0,2015-02-05T14:31:00Z,2015-02-08T10:35:00Z,NA,Fixed,2.6.0,"Our installation default language is PT-BR but some users have EN configured as user language for their personal accounts.

The date formats are:  @pt-BR: ""DD/MM/YYYY""@ and @en: ""MM/DD/YYYY""@

When someone makes a change in the dates (start date/due date) using Redmine in EN, the email notifications for those users using PT-BR come almost completely localized with the exception of the dates that are coming in the changers locale format.

This can lead to problems with dates like 10/mar/2015 which will be formatted as 10/03/2015 for PT-BR and 03/10/2015 for EN.

The dates seem to be correctly saved in the database as opening the issue in the browser shows the dates correctly localized.

My environment is as follows:
<pre>
Environment:
  Redmine version                2.6.0.stable
  Ruby version                   2.1.1-p76 (2014-02-24) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      1.3.1
  Cvs                            1.12.13
  Git                            1.8.0
  Filesystem                     
Redmine plugins:
  redmine_better_gantt_chart     0.9.0

"
19040,Redmine,Defect,NA,Closed,Normal,Potential DB deadlocks on concurrent issue creation,Serghei Zagorinyak,Jean-Philippe Lang,2015-02-20T05:30:00Z,Database,3.0.0,NA,NA,NA,0,2015-02-05T15:55:00Z,2015-02-08T16:03:00Z,"関連している #18860, 関連している #6579",Fixed,NA,"We're running Redmine 2.5.0 with approx 120 users backed by an MS SQL database. The problem we have encountered is that from time to time issue creation fails because of DB deadlocks.
To reproduce this we created a python script that would start 7 threads and fire POST requests to create new issues in Redmine. Pretty soon 6 out of 7 threads were dead because of deadlocks on issue validation. 

@TinyTds::Error: Transaction (Process ID 227) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.: EXEC sp_executesql N'SELECT [issues].* FROM [issues] WHERE [issues].[parent_id] = 22244 ORDER BY [lft] ASC'
  Issue Load (5027.7ms)  EXEC sp_executesql N'SELECT [issues].* FROM [issues] WHERE [issues].[parent_id] = 22244 ORDER BY [lft] ASC'@

After that we turned on READ_COMMITTED_SNAPSHOT option in DB that allows to read transaction data even if it hasn't been committed yet, and this helped us move one step forward: deadlocks began to happen on INSERTs when new issues were to be created. Still it didn't help to solve the problem.

Is it possible to soften lock conditions or reduce transaction sizes as obviously concurrency suffers from that?"
19050,Redmine,Defect,NA,Closed,Normal,"missing features like datepicker or ""Preview"" does not work",Ladislav Nesnera,NA,2015-02-07T06:13:00Z,NA,NA,NA,NA,NA,0,2015-02-07T00:11:00Z,2015-02-07T06:13:00Z,NA,Invalid,2.6.1,"I have updated by svn to 2.6-stable release. Everything looks well except feature like DatePicker or ""Preview"" does not work. Missing some jQuery libraries?"
19059,Redmine,Defect,NA,New,Normal,Wrong number of issues for a version in the roadmap,Filou Centrinov,NA,2017-12-01T14:43:00Z,Roadmap,NA,NA,NA,NA,0,2015-02-08T17:44:00Z,NA,関連している #19187,NA,2.6.1,"Using a version for an open project that contains also archived subprojects cause problems with the shown number of issues for that version.

Issues from archived subprojects are also counted in the roadmap version but this is very confusing because they are not listed. The roadmap should only count issues from open projects.

!{width: 90%}roadmap_invisible_issues.png(version contains two issues but only one is shown)!"
19060,Redmine,Defect,NA,Closed,Normal,Project Sorting by Name is broken in v2.6.x,Evgeniy Kostenko,NA,2015-02-09T05:00:00Z,Projects,NA,NA,NA,NA,0,2015-02-09T00:46:00Z,2015-02-09T05:00:00Z,NA,Duplicate,2.6.1,"Same problems as in #18018 - projects not sorted by names (mostly latin symbols in names). And after ""Project.rebuild_tree!"" in rails/console production - total mess with sorting, even worst than before."
19063,Redmine,Defect,NA,Closed,Normal,Your session has expired. Please log in again.,wennan ma,NA,2015-02-09T12:24:00Z,NA,NA,NA,NA,NA,0,2015-02-09T10:02:00Z,2015-02-09T12:24:00Z,NA,Invalid,2.6.1,"My server Crash.then i restart server and restart redmine.but i can't login.

Error Message is ""Your session has expired. Please log in again.""

I delete ./tmp dir and clear my browser still doesn't login"
19081,Redmine,Defect,NA,Closed,High,Email notification problem,prakash bagsariya,NA,2015-02-11T07:34:00Z,Email notifications,NA,NA,NA,NA,0,2015-02-11T06:37:00Z,2015-02-11T07:34:00Z,NA,Invalid,2.6.1,not get email notification
19088,Redmine,Defect,NA,Closed,Normal,from or updated_on filters not working on issues Rest API  ?,fabien otafcc,NA,2015-09-05T09:10:00Z,REST API,NA,NA,NA,NA,0,2015-02-11T16:07:00Z,2015-09-05T09:10:00Z,NA,NA,2.5.1,"On redmine 2.5.1 stable, but also on 2.4.2, I try to filter issues on their updated_date.

I saw #8842 and tried ?from>= but no change.

Other element about my environment is : use of mysql.

eg :
<pre>

/issues.json?from<=2014-02-12
/issues.json?from>=2014-02-12
/issues.json?updated_on>2016-02-12
/issues.json?updated_on<2014-02-12
/issues.json?updated_on%3C2014-02-12T00:00:00Z

</pre>

All return the same payload : all issues, which have a similar updated_on date : ""updated_on"":""2015-02-10T14:56:02Z""


<pre>
{""issues"":[{""id"":18,""project"":{""id"":52,""name"":""Google Plus API""},""tracker"":{""id"":3,""name"":""Support""},""status"":{""id"":1,""name"":""New""},""priority"":{""id"":2,""name"":""Normal""},""author"":{""id"":16,""name"":""Talia Greenfelder""},""assigned_to"":{""id"":5,""name"":""Jaskolski Inc (00000000-0000-0000-0000-000000000002)""},""subject"":""Esse est perferendis porro et"",""description"":""Nam possimus quaerat velit aperiam nobis quia autem. Quisquam perspiciatis quia est."",""start_date"":""2015-02-10"",""done_ratio"":0,""created_on"":""2015-02-10T14:56:01Z"",""updated_on"":""2015-02-10T14:56:02Z""},...],""total_count"":18,""offset"":0,""limit"":25 

}

</pre>



Extract fromp mysql dump :

<pre>

-- MySQL dump 10.13  Distrib 5.5.41, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: redmine_default
-- ------------------------------------------------------
-- Server version	5.5.41-0+wheezy1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


INSERT INTO `issues` VALUES (1,3,54,'Quod laboriosam sed aut aut','Et ex molestiae aspernatur dolorum hic sit. Sint placeat nobis et reiciendis. Qui magnam quia sit aut id ea qui. Qui voluptatem adipisci ex id enim.',NULL,NULL,1,4,2,NULL,9,2,'2015-02-10 15:55:34','2015-02-10 15:55:35','2015-02-10',0,NULL,NULL,1,1,2,0,NULL)





/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `issues` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tracker_id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL,
  `subject` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `due_date` date DEFAULT NULL,
  `category_id` int(11) DEFAULT NULL,
  `status_id` int(11) NOT NULL,
  `assigned_to_id` int(11) DEFAULT NULL,
  `priority_id` int(11) NOT NULL,
  `fixed_version_id` int(11) DEFAULT NULL,
  `author_id` int(11) NOT NULL,
  `lock_version` int(11) NOT NULL DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  `updated_on` datetime DEFAULT NULL,
  `start_date` date DEFAULT NULL,
  `done_ratio` int(11) NOT NULL DEFAULT '0',
  `estimated_hours` float DEFAULT NULL,
  `parent_id` int(11) DEFAULT NULL,
  `root_id` int(11) DEFAULT NULL,
  `lft` int(11) DEFAULT NULL,
  `rgt` int(11) DEFAULT NULL,
  `is_private` tinyint(1) NOT NULL DEFAULT '0',
  `closed_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `issues_project_id` (`project_id`),
  KEY `index_issues_on_status_id` (`status_id`),
  KEY `index_issues_on_category_id` (`category_id`),
  KEY `index_issues_on_assigned_to_id` (`assigned_to_id`),
  KEY `index_issues_on_fixed_version_id` (`fixed_version_id`),
  KEY `index_issues_on_tracker_id` (`tracker_id`),
  KEY `index_issues_on_priority_id` (`priority_id`),
  KEY `index_issues_on_author_id` (`author_id`),
  KEY `index_issues_on_created_on` (`created_on`),
  KEY `index_issues_on_root_id_and_lft_and_rgt` (`root_id`,`lft`,`rgt`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;




</pre>

Same things happens with .xml serialisation
<pre>
 /issues.xml?updated_on<2014-02-12T00:00:00Z
</pre> 

Is the bug mysql-related ? I am convinced by the test test_index_should_allow_timestamp_filtering that it should work.

h2. Updated-on for related tickets

Another related thing, but I think it is an usage issue from my part : updated_on for issues that are related to other issues is not updated when new related issues are connected.

Eg my use case is : I would like to list ""Macro"" issues by desc date, with my ""macro"" Issue date depending on when   a ticket was added as related to my Macro issue, and not when the macro Issue was last edited.






"
19091,Redmine,Defect,NA,Closed,Normal,SCM integration broken with JRuby (partial fix),Matthew Bloch,NA,2015-05-13T04:02:00Z,SCM,NA,NA,NA,NA,0,2015-02-12T01:19:00Z,2015-05-13T04:02:00Z,NA,Wont fix,2.6.1,"When running Redmine (2.6.1) under JRuby (1.7.19), the SCM integration is broken due to a long-standing problem with JRuby and IO.popen's ""r+"" mode (described at https://github.com/jruby/jruby/issues/779).  

It shows up in the front-end as a 500 error and the external command reporting ""Bad file descriptor"".

As far as I understand it this can't be fixed without some changes to Java, but we can avoid triggering the bug by not using the r+ mode unnecessarily.

In lib/redmine/scm/adapters/abstract_adapter.rb:254 in the ""shellout"" method we have this code:

            mode = ""r+""
            IO.popen(cmd, mode) do |io|
              io.set_encoding(""ASCII-8BIT"") if io.respond_to?(:set_encoding)
              io.close_write unless options[:write_stdin]
              block.call(io) if block_given?
            end

but we can avoid the JRuby bug in many situations by changing this to:

            mode = options[:write_stdin] ? ""r+"" : ""r""
            IO.popen(cmd, mode) do |io|
              io.set_encoding(""ASCII-8BIT"") if io.respond_to?(:set_encoding)
              block.call(io) if block_given?
            end

i.e. not using ""r+"" mode when we don't need to - I think this code is equivalent.

As far as I can tell only GitAdapter.revisions needs the :write_stdin option, and we could eliminate that one usage by pushing all the revisions onto the command line instead.

I hope that makes sense."
19095,Redmine,Defect,NA,Closed,Normal,PDF is broken on iOS,Marcel M?ller,NA,2015-06-28T10:01:00Z,PDF export,2.6.6,NA,NA,NA,0,2015-02-12T17:48:00Z,2015-06-28T10:01:00Z,関連している #20142,Fixed,2.6.1,"When viewing a pdf which was exported in redmine on an iOS device (iPhone / iPad) it's dimensions are messed up and scrolling (in safari) is not possible.

Windows:
!pdfOnWindows.png!

iOS:
!pdfOnIos.png!


Can't upload the pdf (as it's too large), but here's a link: https://dl.dropboxusercontent.com/u/46574377/Test.pdf
"
19105,Redmine,Defect,NA,Confirmed,Normal,[Plugin directory] ratings link in plugin show view is pointing to missing anchor,Mischa The Evil,Jean-Philippe Lang,2017-06-02T07:38:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-02-14T06:31:00Z,NA,次のチケットが重複 #21345,NA,NA,"This can be fixed by adding the @ratings@ id to the @h3@ heading (@<h3 id=""ratings"">User ratings</h3>@)."
19111,Redmine,Defect,NA,Closed,Normal,"Bad spelling in Spanish ""mail_body_reminder""",Toshi MARUYAMA,NA,2015-02-15T12:18:00Z,Translations,3.0.0,NA,NA,NA,0,2015-02-15T12:15:00Z,2015-02-15T12:18:00Z,NA,Fixed,NA,"https://github.com/redmine/redmine/pull/50

> ""t?"" should never, ever, be used. Only ""ti""

<pre><code class=""diff"">
diff --git a/config/locales/es.yml b/config/locales/es.yml
--- a/config/locales/es.yml
+++ b/config/locales/es.yml
@@ -661,7 +661,7 @@ es:
   mail_body_account_information_external: ""Puede usar su cuenta %{value} para conectarse.""
   mail_body_lost_password: 'Para cambiar su contrase?a, haga clic en el siguiente enlace:'
   mail_body_register: 'Para activar su cuenta, haga clic en el siguiente enlace:'
-  mail_body_reminder: ""%{count} peticion(es) asignadas a t? finalizan en los pr?ximos %{days} d?as:""
+  mail_body_reminder: ""%{count} peticion(es) asignadas a ti finalizan en los pr?ximos %{days} d?as:""
   mail_subject_account_activation_request: ""Petici?n de activaci?n de cuenta %{value}""
   mail_subject_lost_password: ""Tu contrase?a del %{value}""
   mail_subject_register: ""Activaci?n de la cuenta del %{value}""
</code></pre>"
19117,Redmine,Defect,NA,Closed,High,XSS Vulnerability in Flash rendering,Jan from Planio www.plan.io,NA,2015-12-07T10:00:00Z,Security,NA,NA,NA,NA,0,2015-02-16T21:31:00Z,2015-10-07T21:32:00Z,NA,Fixed,NA,"h3. Summary


There one one confirmed and several potential XSS vulnerabilities in
Redmine's flash rendering.

h3. Description

When rendering flash messages, Redmine unconditionally marks the
rendered messages as html_safe. This leads to all html special
characters in the flash message to be rendered as HTML unless they are
manually escaped beforehand.

In several places in Redmine, the message is not sufficiently escaped
and allows the rendering of raw, user-supplied values.

Example exploit:

Given a user with the following string configured as the email address
(which is accepted by the mail validations):

    ""><script>alert('Vulnerable!')</script>""a@a.bc

When that user sends himself a test mail using the admin/test_mail
action, the configured email is pushed unescaped in the flash message,
resulting in the included javascript to be executed.

This can be used in a targeted attack as a reflected XSS to perform
actions as an administrator.

The attached patch also fixes other places where potentially unsafe
information is passed in a flash message, including an issue similar to
the one described above concerning mail registration.

This vulnerability is in Redmine since at least 2.3, possibly much
longer. It is advised to backport the patch to all supported versions of
Redmine and to release updated versions.

h3. Credits

This issue was discovered by Holger Just of Planio.

h3. Solution

Attach the patch against current Redmine trunk (redmine:r14014) attached to this
mail."
19120,Redmine,Defect,NA,Closed,Normal,Wrap parent task title on the issue list,Felix Sch?fer,Jean-Philippe Lang,2015-02-18T12:44:00Z,UI,2.6.2,NA,NA,NA,0,2015-02-17T13:36:00Z,2015-02-18T12:44:00Z,NA,Fixed,2.6.1,"The parent task titles on the issue list are not wrapped, which might cause the parent task column to get very wide, although there might be only a few entries for a full issue list page."
19121,Redmine,Defect,NA,New,Normal,Mismath of feature and documentation in activities (time tracking) custom field,Toshi MARUYAMA,NA,2017-06-02T09:03:00Z,Documentation,NA,NA,NA,NA,0,2015-02-17T15:26:00Z,NA,"関連している #21061, 関連している #25773",NA,NA,"message#45181

> [[RedmineCustomFields#Fields-for-Activities-time-tracking]] says :

>> Data in time tracking activity custom fields can be used and/or will be displayed in the Timelog report and the Project settings. See also #4077 for some details about this nifty feature.

I don't know it is regression or wrong documentation."
19128,Redmine,Defect,NA,Closed,Normal,Searching for a number that happens to be an issue id,Tyghe Vallard,NA,2015-02-18T17:49:00Z,NA,NA,NA,NA,NA,0,2015-02-18T17:03:00Z,2015-02-18T17:20:00Z,NA,Invalid,NA,"If you search for a number in the search box it takes you directly to the issue id if there is an issue id for that number.

It should take you to a results page if there are search results that match that number

I've created the scenario on the demo site
http://demo.redmine.org/projects/search-issue/issues

The first issue is created and the issue id is 80815
The second issue is created and subject is set to 'Subject contains 80815'

Using the search box if you enter in 80815 it will take you directly to Issue 80815 instead of showing a results page for both issues.

I know that you can wrap the text in the search box with quotes such as ""80815"" which will then bring up a search results page with only the second issue, but should it not also contain the first issue in those results?

I'm also not sure why you should even have to wrap the search text in quotes to get it to search for text anyways.

I'm not sure what version the demo site is, but here is the info page from our Redmine instance

<pre>
Environment:
  Redmine version                2.6.1.stable
  Ruby version                   2.0.0-p451 (2014-02-24) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  redmine_dmsf                   1.4.8 stable
</pre>

Let me know if I'm doing something wrong or if more information is needed"
19132,Redmine,Defect,NA,Closed,Normal,DEPRECATION WARNING: db/migrate/001_setup.rb,Toshi MARUYAMA,Jean-Philippe Lang,2015-02-19T18:41:00Z,Database,NA,NA,NA,NA,0,2015-02-19T05:13:00Z,2015-02-19T18:38:00Z,NA,Fixed,NA,"https://travis-ci.org/marutosi/redmine-bb/jobs/51242421#L416

> DEPRECATION WARNING: You attempted to assign a value which is not explicitly `true` or `false` to a boolean column. Currently this value casts to `false`. This will change to match Ruby's semantics, and will cast to `true` in Rails 5. If you would like to maintain the current behavior, you should explicitly handle the values you would like cast to `false`. (called from up at /home/travis/build/marutosi/redmine-bb/db/migrate/001_setup.rb:291)"
19133,Redmine,Defect,NA,New,Normal,PDF Export loses {{toc}},Toshi MARUYAMA,NA,2015-02-20T08:20:00Z,PDF export,NA,NA,NA,NA,0,2015-02-19T07:03:00Z,NA,次のチケットが重複 #21729,NA,3.0.0,"On trunk r14031:

!toc-lost.png!"
19151,Redmine,Defect,NA,Closed,Normal,Upgrade from 2.6 to 3.0 failed.,Feng  Yu,NA,2016-11-29T10:51:00Z,Database,NA,NA,NA,NA,0,2015-02-23T04:02:00Z,2015-02-23T17:10:00Z,NA,Invalid,3.0.0,"When I use this command ``bundle exec rake db:migrate RAILS_ENV=production``, it's crashed.

Here is what I see:

```
root@iotdemo:/usr/local/redmine# bundle exec rake db:migrate RAILS_ENV=production
rake aborted!
ArgumentError: The scope body needs to be callable.
/usr/local/rvm/gems/ruby-2.1.5/gems/activerecord-4.2.0/lib/active_record/scoping/named.rb:143:in `scope'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile/patches/issue_patch.rb:33:in `block in included'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile/patches/issue_patch.rb:29:in `class_eval'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile/patches/issue_patch.rb:29:in `included'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile/patches/issue_patch.rb:50:in `include'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile/patches/issue_patch.rb:50:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `block in require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/redmine/plugins/redmine_agile/lib/redmine_agile.rb:26:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `block in require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/redmine/plugins/redmine_agile/init.rb:55:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `block in require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/redmine/lib/redmine/plugin.rb:155:in `block in load'
/usr/local/redmine/lib/redmine/plugin.rb:146:in `each'
/usr/local/redmine/lib/redmine/plugin.rb:146:in `load'
/usr/local/redmine/config/initializers/30-redmine.rb:21:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:268:in `load'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:268:in `block in load'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:268:in `load'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/engine.rb:652:in `block in load_config_initializer'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/notifications.rb:166:in `instrument'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/engine.rb:651:in `load_config_initializer'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/engine.rb:616:in `block (2 levels) in <class:Engine>'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/engine.rb:615:in `each'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/engine.rb:615:in `block in <class:Engine>'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:30:in `instance_exec'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:30:in `run'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:55:in `block in run_initializers'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:44:in `each'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:44:in `tsort_each_child'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/initializable.rb:54:in `run_initializers'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/application.rb:352:in `initialize!'
/usr/local/redmine/config/environment.rb:14:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `block in require'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-2.1.5/gems/activesupport-4.2.0/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/application.rb:328:in `require_environment!'
/usr/local/rvm/gems/ruby-2.1.5/gems/railties-4.2.0/lib/rails/application.rb:443:in `block in run_tasks_blocks'
Tasks: TOP => db:migrate => environment
(See full trace by running task with --trace)
```

And when I change my ruby version to 2.2 use rvm, also this problem. Please help, thanks."
19161,Redmine,Defect,NA,Closed,Normal,500 Internal error:  sorting for column mail at Administration/User,Grischa Zengel,Jean-Philippe Lang,2015-03-21T09:31:00Z,UI,3.0.2,NA,NA,NA,0,2015-02-23T22:59:00Z,2015-03-21T09:31:00Z,NA,Fixed,3.0.0,https://redmine/redmine/users?sort=mail will show an error.
19163,Redmine,Defect,NA,Closed,Normal,Bulk edit form shows additional custom fields,Grischa Zengel,Jean-Philippe Lang,2015-04-25T09:32:00Z,Custom fields,3.0.2,NA,NA,NA,0,2015-02-24T00:08:00Z,2015-04-25T09:32:00Z,NA,Fixed,NA,"I have a project with one tracker.
For this tracker are only 2 custom fields enabled.
The most custom fields are for all projects.

If I look in field permissions for all roles and this tracker I only see 2 custom fields.
If create a new issue and edit this issue I see only 2 custom fields.

In bulk edit I see 4 custom fields. I don't see a reason why exactly these 2 are there.

# Field: class=""bool_cf"" id=""issue_custom_field_values_6""
# Field: class=""string_cf"" id=""issue_custom_field_values_16""
# Field: class=""string_cf"" id=""issue_custom_field_values_31""
# Field: class=""string_cf"" id=""issue_custom_field_values_32""

1+2 are additional
3+4 are in this tracker
"
19165,Redmine,Defect,NA,Closed,Normal,LDAP managment with REDMINE - Password expired,S?bastien ZAJAC,NA,2015-03-29T05:26:00Z,LDAP,NA,NA,NA,NA,0,2015-02-24T10:47:00Z,2015-03-29T05:26:00Z,次のチケットと重複 #18934,Duplicate,2.3.2,"There is a way to perform LDAP authentication with REDMINE
In case of LDAP password expired, is there a way (or a pluggin) to give the capability to the user to change his password through the REDMINE interface ?

Thanks a lot"
19166,Redmine,Defect,NA,Closed,High,User activity: changes made to tickets are not shown,Benedikt Huss,NA,2015-03-01T00:14:00Z,Activity view,NA,NA,NA,NA,0,2015-02-24T10:49:00Z,2015-03-01T00:14:00Z,関連している #19168,Invalid,3.0.0,In Redmine 3.0.0 changes made to tickets are not shown in the user activity. There are only created displayed that were created by the user.
19168,Redmine,Defect,NA,Closed,High,Activity: changes made to tickets are shown multiple times,Benedikt Huss,Jean-Philippe Lang,2015-04-25T09:33:00Z,Activity view,3.0.2,NA,NA,NA,0,2015-02-24T12:18:00Z,2015-04-25T09:33:00Z,関連している #19166,Fixed,3.0.0,"I have been making the following changes for a ticket in one step:

- change done ratio from 90 to 100
- changed the assigned user
- changed the state

After saving the changes, the ticket is listed three times in my user activity. When I only change two properties, it is listed twice.

"
19172,Redmine,Defect,NA,Closed,Normal,"""gem update bundler"" suggestion for ""`x64_mingw` is not a valid platform""",Lukas Pirl,Jean-Philippe Lang,2015-03-08T11:37:00Z,Gems support,3.0.1,NA,NA,NA,0,2015-02-24T18:54:00Z,2015-03-08T11:37:00Z,次のチケットが重複 #19192,Fixed,3.0.0,"I just tried to install Redmine 3.0.0 on Debian 7.8 and

  bundle install --without development test rmagick

died with

<pre>
`x64_mingw` is not a valid platform. The available options are: [:ruby, :ruby_18, :ruby_19, :ruby_20, :mri, :mri_18, :mri_19, :mri_20,
:rbx, :jruby, :mswin, :mingw, :mingw_18, :mingw_19, :mingw_20
</pre>

After I removed all occurrences of @x64_mingw@ from the Gemfile, @bundle install@ completed without an error.

I run @ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]@."
19173,Redmine,Defect,NA,New,Normal,Trac Migrate Script with Redmine 3.0,Robert V,NA,2016-07-08T04:31:00Z,Importers,NA,NA,NA,NA,0,2015-02-24T20:43:00Z,NA,関連している #20943,NA,3.0.0,"I have a basic Redmine 3.0 installation, using the redmine migrate_from_trac script

<pre>
mysql  Ver 15.1 Distrib 5.5.41-MariaDB, for Linux (x86_64) using readline 5.1
ruby 2.0.0p353 (2013-11-22) [x86_64-linux]
Rails 4.2.0
</pre>
CentOS 7 install, using EPEL's ruby version.
<pre>
[root@ticket redmine]# ./bin/about 

sh: svn: command not found
sh: darcs: command not found
sh: hg: command not found
sh: cvs: command not found
sh: bzr: command not found
Environment:
  Redmine version                3.0.0.stable
  Ruby version                   2.0.0-p353 (2013-11-22) [x86_64-linux]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.7

</pre>

<pre>
[root@ticket redmine]# rake redmine:migrate_from_trac RAILS_ENV=""production""
rake aborted!
NoMethodError: undefined method `set_inheritance_column' for TracMigrate::TracAttachment(Table doesn't exist):Class
/usr/local/share/gems/gems/activerecord-4.2.0/lib/active_record/dynamic_matchers.rb:26:in `method_missing'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:121:in `<class:TracAttachment>'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:119:in `<module:TracMigrate>'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:25:in `block (2 levels) in <top (required)>'
Tasks: TOP => redmine:migrate_from_trac
(See full trace by running task with --trace)
[root@ticket redmine]# 

</pre>

And again with --trace:

<pre>
[root@ticket redmine]# rake redmine:migrate_from_trac RAILS_ENV=""production"" --trace
** Invoke redmine:migrate_from_trac (first_time)
** Invoke environment (first_time)
** Execute environment
** Execute redmine:migrate_from_trac
rake aborted!
NoMethodError: undefined method `set_inheritance_column' for TracMigrate::TracAttachment(Table doesn't exist):Class
/usr/local/share/gems/gems/activerecord-4.2.0/lib/active_record/dynamic_matchers.rb:26:in `method_missing'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:121:in `<class:TracAttachment>'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:119:in `<module:TracMigrate>'
/var/www/redmine/lib/tasks/migrate_from_trac.rake:25:in `block (2 levels) in <top (required)>'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:240:in `call'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:240:in `block in execute'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:235:in `each'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:235:in `execute'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:179:in `block in invoke_with_call_chain'
/usr/share/ruby/monitor.rb:211:in `mon_synchronize'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:172:in `invoke_with_call_chain'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/task.rb:165:in `invoke'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:150:in `invoke_task'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:106:in `block (2 levels) in top_level'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:106:in `each'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:106:in `block in top_level'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:115:in `run_with_threads'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:100:in `top_level'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:78:in `block in run'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/share/gems/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'
/usr/local/share/gems/gems/rake-10.4.2/bin/rake:33:in `<top (required)>'
/usr/local/bin/rake:23:in `load'
/usr/local/bin/rake:23:in `<main>'
Tasks: TOP => redmine:migrate_from_trac

</pre>"
19174,Redmine,Defect,NA,Needs feedback,Normal,db migrate error from old version to 2.6,Jasen Burkett,Jean-Philippe Lang,2015-03-26T11:41:00Z,NA,Candidate for next minor release,NA,NA,NA,0,2015-02-24T23:12:00Z,NA,NA,NA,NA,"I did the typical mysqldump to get all the data from an existing (VERY OLD) redmine install that is being used.

I sucessfully imported the old data into a new redmine (newest version) clean install on a different server.

However now when I go to the page redmine.ardemgaz.com it no longer works (redmine is broke).

In the production.log file I am getting this error everytime I go to the page.
    Started GET ""/"" for 10.2.2.67 at 2015-02-24 21:55:23 +0000
Processing by WelcomeController#index as HTML
  Current user: anonymous
Completed 500 Internal Server Error in 2.7ms

NoMethodError (undefined method `passwd_changed_on' for #<AnonymousUser:0x00000005ed6520>):
  app/controllers/application_controller.rb:150:in `force_logout_if_password_changed'    

When I imported the new data, I have not been able to do the following:
    rake db:migrate RAILS_ENV=production    

because I get an error... here is the first part of that error....

    rake aborted!
StandardError: An error has occurred, all later migrations canceled:

undefined method `inherit_members_changed?' for #<Project:0x000000032977c0>/var/lib/gems/1.9.1/gems/activemodel-3.2.21/lib/active_model/attribute_methods.rb:407:in `method_missing'
/var/lib/gems/1.9.1/gems/activerecord-3.2.21/lib/active_record/attribute_methods.rb:149:in `method_missing'    

I seriously need some help here.

Thank you in advance"
19181,Redmine,Defect,NA,Closed,Normal,"Something wrong with sl.yml file: expects it to return a hash, but does not",Ivan Cenov,NA,2016-12-25T10:22:00Z,Translations,NA,NA,NA,NA,0,2015-02-25T09:00:00Z,2016-12-25T10:22:00Z,NA,Invalid,2.6.2,"When opening Administration.Settings Internal error 500 arises. Here is the log:
<pre>
Started GET ""/settings"" for 192.168.20.155 at 2015-02-25 09:47:29 +0200
Processing by SettingsController#index as HTML
  Current user: imc (id=3)
  Rendered settings/_general.html.erb (15.6ms)
  Rendered settings/_display.html.erb (7843.8ms)
  Rendered common/_tabs.html.erb (7984.4ms)
  Rendered settings/edit.html.erb within layouts/admin (7984.4ms)
Completed 500 Internal Server Error in 8093.8ms

ActionView::Template::Error (can not load translations from e:/data/redmine/config/locales/sl.yml: expects it to return a hash, but does not):
    3: <div class=""box tabular settings"">
    4: <p><%= setting_select :ui_theme, Redmine::Themes.themes.collect {|t| [t.name, t.id]}, :blank => :label_default, :label => :label_theme %></p>
    5: 
    6: <p><%= setting_select :default_language, lang_options_for_select(false) %></p>
    7: 
    8: <p><%= setting_check_box :force_default_language_for_anonymous %></p>
    9: 
  lib/redmine/i18n.rb:167:in `init_translations'
  lib/redmine/i18n.rb:181:in `lookup'
  lib/redmine/i18n.rb:98:in `block in languages_options'
  lib/redmine/i18n.rb:97:in `select'
  lib/redmine/i18n.rb:97:in `languages_options'
  lib/redmine/i18n.rb:103:in `block in languages_options'
  lib/redmine/i18n.rb:102:in `languages_options'
  app/helpers/application_helper.rb:1041:in `lang_options_for_select'
  app/views/settings/_display.html.erb:6:in `block in _app_views_settings__display_html_erb___883592265_43148952'
  app/views/settings/_display.html.erb:1:in `_app_views_settings__display_html_erb___883592265_43148952'
  app/views/common/_tabs.html.erb:22:in `block in _app_views_common__tabs_html_erb__542797332_42179844'
  app/views/common/_tabs.html.erb:21:in `each'
  app/views/common/_tabs.html.erb:21:in `_app_views_common__tabs_html_erb__542797332_42179844'
  app/helpers/application_helper.rb:328:in `render_tabs'
  app/views/settings/edit.html.erb:3:in `_app_views_settings_edit_html_erb___546118604_40738836'
  app/controllers/settings_controller.rb:28:in `index'
</pre>
There is something bad with Slovenian language file sl.yml.
Affected version is 2.6.2, but older versions suffer too. After removing sl.yml, /settings page appeared normally."
19185,Redmine,Defect,NA,Closed,Normal,Update Install/Upgrade guide for 3.x version and get gid of DEPRECATION WARNING: You didn't set config.secret_key_base,Pavel Potcheptsov,Jean-Philippe Lang,2015-04-28T06:45:00Z,Documentation,3.0.2,NA,NA,NA,0,2015-02-25T13:56:00Z,2015-04-25T10:15:00Z,関連している #20292,NA,3.0.0,"Need to add section for *3.x install* and *upgrade to 3.x* where change such text
<pre>
Run the following command from your new Redmine root directory:

bundle exec rake generate_secret_token

This will generate a file (config/initializers/secret_token.rb) with a random secret used to secure session data.
</pre>
to something like:
- follow official ""guide"":http://guides.rubyonrails.org/upgrading_ruby_on_rails.html#config-secrets-yml
- or just create secrets.yml file with such content:
<pre>
production:
  secret_key_base:
</pre>
- run *rake secret* and copy/paste output after *secret_key_base:*
Otherwise you'll get *DEPRECATION WARNING: You didn't set config.secret_key_base* in your production.log"
19187,Redmine,Defect,NA,New,Normal,Roadmap links in subproject,Dmc NSG,NA,2017-12-01T14:40:00Z,Roadmap,NA,NA,NA,NA,0,2015-02-25T17:30:00Z,NA,"関連している #15248, 関連している #19059",NA,2.6.2,"I have redmine with Project1 and Subproject2. There are two versions in Project1: Ver1 and Ver2, both shared with subprojects. 
Then I have two users: Admin1 and User2. 
Admin can view everything. User2 is assigned to Subproject2. 
There are 2 issues in Project1/Ver1, 3 in Project1/Ver2 and 4 in Subproject2/Ver1. 

For User2 links in roadmap are broken. They all link to Project1. Numbers are wrong too, this particular user should see only 4 issues, and not everything from Project1 - 9 issues. Links points to Project1 so they give 403 for that user. 

I think that version.issue count should include permissions. Links should point to right context which is actual project. 
Or maybe there should be more links for more cotexts like: 
9 issues   (0 closed ? 9 open) - Project1 
4 issues   (0 closed ? 4 open) - Subproject1/Ver2

Right now this place constantly gives 403 error, users are not allowed to view parent project, they expect to see their context (smaller number of issues and query from actual project)."
19189,Redmine,Defect,NA,Closed,Normal,Multiple users cannot access the same page.,Geraldine Chollet,NA,2015-03-23T10:04:00Z,Performance,NA,NA,NA,NA,0,2015-02-26T02:25:00Z,2015-03-23T10:04:00Z,NA,Invalid,NA,"We are  just a few Redmine users, however, only 1 user can access any page at a given time. If another user tries to access the same page (issues, overview, etc.) the browser shows a spinning wheel and never finishes loading ""connecting..."". If the user leaves the page, then it loads for the other user. Can anyone give me some guidance on what setting we missed? 

We are running Redmine on Windows not Linux."
19192,Redmine,Defect,NA,Closed,Normal,"""rake"" command is showing error, `x64_mingw` is not a valid platform.",Taejin Park,NA,2015-03-05T01:11:00Z,NA,NA,NA,NA,NA,0,2015-02-26T08:43:00Z,2015-03-05T01:11:00Z,次のチケットと重複 #19172,Duplicate,3.0.0,"ruby ver : ruby 2.2.0p0 (2014-12-25 revision 49005) [x86_64-linux-gnu]

I setting redmine 3.0.

But, I commanded ""rake generate_secret_token""

Showing this error.

`x64_mingw` is not a valid platform. The available options are: [:ruby, :ruby_18, :ruby_19, :ruby_20, :mri, :mri_18, :mri_19, :mri_20, :rbx, :jruby, :mswin, :mingw, :mingw_18, :mingw_19, :mingw_20]

Help me!!!!!"
19193,Redmine,Defect,NA,New,Normal,Custom Field definition inconsistency,Kiran Kumar,NA,2015-02-27T13:15:00Z,Issues,NA,NA,NA,NA,0,2015-02-26T09:19:00Z,NA,"次のチケットが重複 #12940, 次のチケットが重複 #15408, 次のチケットが重複 #20257, 次のチケットが重複 #12954",NA,2.5.0,"The custom fields allow us to create a field as 'required' and also allow us to set the visibility per role. But it still mandates the field entry for other users to whom it is not visible.

This behavior is inconsistent. Please correct it at the earliest as we need such a customization for our project."
19197,Redmine,Defect,NA,Closed,Normal,Missing notification if assignee was a group,Federico Di Dio,Jean-Philippe Lang,2015-09-09T11:23:00Z,Email notifications,2.6.3,NA,NA,NA,0,2015-02-26T14:43:00Z,2015-03-08T10:41:00Z,関連している #2694,Fixed,NA,"If the old assignee of an issue is a group, no mail is sent to notify change of assignee.
The feature was clearly intended to be there, as there are explicit checks for this case.

Attached a patch for trunk."
19214,Redmine,Defect,NA,Closed,Normal,"Set the option ""inherited members"" on projects through REST API",Henry Auffahrt,NA,2015-03-02T07:51:00Z,REST API,NA,NA,NA,NA,0,2015-02-27T10:32:00Z,2015-02-27T14:36:00Z,NA,Invalid,2.6.1,"I create automatically with the rest api a lot of projects in Redmine.

But we have the problem that for every project we need to set manually the option ""inherited members from parent projects"" (i don´t know exactly the right spelling). This is very disappointing.

I use for this the PHP Class vom @kbsali@ --> https://github.com/kbsali/php-redmine-api

This is the snippet how we create a project:

<pre><code php>$client->api('project')->create(array(
                'name'     => $project_name,
                'identifier' => $project_identifier,
                'tracker_ids' => $tracker_ids,
                'parent_id' => $parent_projekt_id));
</code></pre>

This work´s nicely. But i want to add something like this:
<pre><code php>'inherited members' => true
  'inherited members' => 1
  'inherited members' => '1'
</code></pre>

@kbsali@ told me that as far as he can see this is not supported through the Redmine API.

Here my respone in the github Project vom kbsali for the php class --> https://github.com/kbsali/php-redmine-api/issues/95"
19227,Redmine,Defect,NA,Closed,Normal,Users.xml broken,Jens Peter Kempkes,NA,2015-03-07T08:50:00Z,REST API,NA,NA,NA,NA,0,2015-03-01T12:37:00Z,2015-03-07T08:50:00Z,次のチケットと重複 #19065,Duplicate,2.6.0,"I put a request on users.xml. 

User that logged in for the last time on redmine 2.1 get a xml-well-formated last_log_in timestamp. the users who logged in with redmine  2.6.0.stable (we recently upgraded) get a broken one.

Example of https://server/redmine/users.xml
<pre>
<users total_count=""34"" offset=""0"" limit=""25"" type=""array"">
<user>
	<id>109</id>
	<login>some_forgotten_user</login>
	<firstname>Name</firstname>
	<lastname>Name</lastname>
	<mail>emailaddress</mail>
	<created_on>2013-06-18T09:16:21Z</created_on>      
	<last_login_on>2014-08-25T12:34:48Z</last_login_on>
</user>
<user>
<id>155</id>
	<login>a newly used user</login>
	<firstname>Name</firstname>
	<lastname>Name</lastname>
	<mail>emailaddres</mail>
	<created_on>2014-09-01 09:21:59 UTC</created_on>
	<last_login_on>2015-02-27 09:51:50 UTC</last_login_on>
</user>

</pre>

User ID 155, last_login_on seems not to be xml well-formated. User 109 who did not log in since we applied the upgrade is still ok. 

What's wrong?"
19229,Redmine,Defect,NA,Reopened,High,redmine.org plugin page only shows latest version compatibility,Tobias Fischer,Jean-Philippe Lang,2015-03-07T20:00:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-03-01T15:14:00Z,2015-03-01T21:50:00Z,関連している #21379,Wont fix,NA,"The Redmine plugin page (e.g. http://www.redmine.org/plugins/redmine_lightbox2) only shows the compatibility of the latest version:

!redmine_lightbox2_screenshot.png!

This is probably confusing for users who still have redmine 2.6 in use and are searching for plugins compatible with redmine 2.6.
They don't get a hint, that there are older versions of the plugin which are compatible with redmine 2.6
This user experience could be improved if the compatible redmine version numbers of earlier plugin versions would be printed out as well.
For example like this:

!redmine_lightbox2_screenshot__mockup.png!"
19230,Redmine,Defect,NA,Closed,Normal,plugin redmine_tags,Abdulhalim Baysal,NA,2016-07-26T17:29:00Z,NA,NA,NA,NA,NA,0,2015-03-02T01:45:00Z,2015-03-02T01:50:00Z,NA,Invalid,3.0.0,"is not working with Redmine 3.0

Error during installation
NoMethodError: undefined method `<<' for nil:NilClass"
19234,Redmine,Defect,NA,Closed,Normal,Problem with prefilled issue forms and custom fields,Marco Scholl,NA,2015-03-31T06:35:00Z,Custom fields,NA,NA,NA,NA,0,2015-03-02T12:12:00Z,2015-03-07T08:39:00Z,NA,Wont fix,3.0.0,"we have a big problem. we prefill the issue form with this url

https://host/projects/name/issues/new?issue[custom_field_values][1]=customfield&issue[assigned_to_id]=1

since redmine 3 this will no longer work."
19243,Redmine,Defect,NA,Closed,Low,Ambiguous date format options (eg. 03/03/2015) in settings,Ewan Makepeace,Jean-Philippe Lang,2015-03-07T11:02:00Z,Administration,3.1.0,NA,NA,NA,0,2015-03-03T06:27:00Z,2015-03-07T09:13:00Z,NA,Fixed,2.5.2,"Today I decided that my dates were back to front (US M/D/Y rather than my preferred D/M/Y) and I went in search of the option to change this. It is March 3rd today and these are my options:

!options.jpg!

Needless to say I have no idea what to choose!"
19248,Redmine,Defect,NA,New,Low,gantt's pdf line end mark's position,Binhai Liu,NA,2015-03-03T11:54:00Z,Gantt,NA,NA,NA,NA,0,2015-03-03T08:52:00Z,NA,NA,NA,3.0.0,"the line end's mark appears between the end date -1 and the end day,
it's better to display it between the end day and the end date + 1.

by modify ../redmine/helpers/gantt.rb

def pdf_task

Environment:
Redmine version 3.0.0.stable

"
19254,Redmine,Defect,NA,Closed,Normal,Ruby requirements in installation instructions not updated,Henning Kr?ger,NA,2015-03-06T02:02:00Z,Documentation,NA,NA,NA,NA,0,2015-03-03T13:54:00Z,2015-03-04T02:12:00Z,NA,Fixed,3.0.0,"When upgrading to Redmine 3.0.0 we found out that the table with the required Ruby versions (http://www.redmine.org/projects/redmine/wiki/RedmineInstall#Ruby-interpreter) is outdated. In my opinion all released versions should be covered by the table. Like mentioned in the news (http://www.redmine.org/news/95) Redmine 3.0.0 requires ruby 1.9.3. It looks like the row ""current trunk"" already contains the correct data for Redmine 3.0.0.
Or maybe i just interpreted the table wrong?"
19259,Redmine,Defect,NA,Closed,Normal,POPAuthenticationError: Command is not valid in this state,John Nguyen,NA,2015-03-29T08:08:00Z,Email receiving,NA,NA,NA,NA,0,2015-03-03T18:01:00Z,2015-03-29T08:08:00Z,NA,Invalid,2.6.2,"When attempting to retrieve email via POP3, I came across an error Net::POPAuthenticationError: -ERR Command is not valid in this state.

The command I used was:
rake redmine:email:receive_pop3 RAILS_ENV=""production"" host=exch.abc.local username=redmine@abc.local password=password123

I haved tried many different variations but after looking at the Ruby on Rails documentation, the host was replaced with address then my error no longer appear:
rake redmine:email:receive_pop3 RAILS_ENV=""production"" address=exch.abc.local username=redmine@abc.local password=password123"
19269,Redmine,Defect,NA,Closed,Normal,ActionView::Template::Error (undefined method `project_activity_path'),T Otsuka,NA,2015-03-05T15:48:00Z,Issues,NA,NA,NA,NA,0,2015-03-04T10:36:00Z,2015-03-05T15:48:00Z,NA,Invalid,3.0.0,"When viewing an issue detail page, the internal error occurred as follows:

<pre>
Started GET ""/redmine/issues/1"" for 127.0.0.1 at 2015-03-04 09:17:21 +0000
Processing by IssuesController#show as HTML
  Parameters: {""id""=>""1""}
  Current user: admin (id=1)
  Rendered issues/_action_menu.html.erb (27.3ms)
  Rendered issues/show.html.erb within layouts/base (66.5ms)
Completed 500 Internal Server Error in 164ms

ActionView::Template::Error (undefined method `project_activity_path' for #<#<Class:0x007f81aca870e8>:0x007f81aca69b10>):
    27: <%= render_issue_subject_with_tree(@issue) %>
    28: </div>
    29:         <p class=""author"">
    30:         <%= authoring @issue.created_on, @issue.author %>.
    31:         <% if @issue.created_on != @issue.updated_on %>
    32:         <%= l(:label_updated_time, time_tag(@issue.updated_on)).html_safe %>.
    33:         <% end %>
  app/helpers/application_helper.rb:431:in `time_tag'
  app/helpers/application_helper.rb:425:in `authoring'
  app/views/issues/show.html.erb:30:in `_app_views_issues_show_html_erb___2317040810410115667_70097461988680'
  app/controllers/issues_controller.rb:118:in `block (2 levels) in show'
  app/controllers/issues_controller.rb:115:in `show'
</pre>

Where the @project_activity_path@ method is defined?

My environment information output by @ruby bin/about@ is listed below.

<pre>
Environment:
  Redmine version                3.0.0.stable.14045
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem
Redmine plugins:
  no plugin installed
</pre>"
19271,Redmine,Defect,NA,Closed,Normal,Configuration of which versions are shown in version-format custom fields should not affect issue query filter,Sebastian Paluch,Jean-Philippe Lang,2015-09-26T10:14:00Z,Custom fields,3.2.0,NA,NA,NA,0,2015-03-04T14:26:00Z,2015-09-26T10:14:00Z,関連している #8572,Fixed,3.0.0,"The feature implemented as #8572 is great. It allows to limit to what values custom field can be set when issue is edited, e.g. allow to assign custom field only to open versions. 

Unfortunately, this settings is affecting values that are shown for the custom field when building issue search query. This makes it impossible to search issues e.g. for closed or locked versions and makes entire feature a bit useless."
19273,Redmine,Defect,NA,Closed,Normal,acts_as_searchable.rb only seems to be case insensitive if postgresql,Marc Tardif,NA,2015-04-27T12:20:00Z,Search engine,NA,NA,NA,NA,0,2015-03-04T20:14:00Z,2015-03-07T08:22:00Z,関連している #20042,Invalid,3.0.0,"In acts_as_searchable.rb, I see the following code:

<pre><code class=""ruby"">
          def search_token_match_statement(column, value='?')
            if Redmine::Database.postgresql?
              if Redmine::Database.postgresql_unaccent?
                ""unaccent(#{column}) ILIKE unaccent(#{value})""
              else
                ""#{column} ILIKE #{value}""
              end
            else
              ""#{column} LIKE #{value}""
            end
          end
</code></pre>

It seems that the last else statement should read something like @""LOWER(#{column}) LIKE #{value.lowercase}""@. I believe that's what Redmine pre-3 did."
19283,Redmine,Defect,NA,Needs feedback,Normal,send_notification visible in journal_details after redmine update,Peter Mathis,NA,2015-04-03T09:04:00Z,Issues,NA,NA,NA,NA,0,2015-03-05T15:18:00Z,NA,関連している #15612,NA,2.6.2,"after update my redmine from 2.3.x to 2.6.x the field ""send_notification"" is saved to journal_details and visible in my history. strangely this field contains the markup from my notification email ... how can this happen?"
19312,Redmine,Defect,NA,Closed,Normal,"Searching for ""ALL"" does not show Empty results",Markus May,NA,2015-03-10T20:45:00Z,Issues,NA,NA,NA,NA,0,2015-03-09T14:27:00Z,2015-03-10T20:45:00Z,NA,Invalid,2.3.0,"We do search for the target version, but I believe this to be true for all fields:

TargetVersion <> SPECIFIC VERSION = 3922 entries
TargetVersion = ALL = 2880 entries
TargetVersion = NONE = 1208 entries
TargetVersion = SPECIFIC_VERSION = 166 entries

This leads me to the assumption, that ALL is not showing the NONE values."
19313,Redmine,Defect,NA,Closed,Normal,Attached inline images with non-ascii file name can not be seen when text formatting is Markdown,Go MAEDA,Jean-Philippe Lang,2015-04-06T07:21:00Z,Text formatting,2.6.3,NA,NA,NA,0,2015-03-09T16:21:00Z,2015-03-15T11:10:00Z,NA,Fixed,3.0.0,"If you attatch an image with non-ascii name such as ""caf?.jpg"" to an issue and make an attempt to display as inline image, you will fail if text formatting is Markdown.

The cause of the defect is that Markdown formatter generates escaped file name. ApplicationController#parse_inline_attachments (source:trunk/app/helpers/application_helper.rb@14003#L637) expects a file name without escaping.

Textile:
<pre>
!caf?.jpg!   =>   <img src=""caf?.jpg"" alt="""" />
</pre>

Markdown:
<pre>
![](caf?.jpg)   =>   <img src=""caf%C3%A9.jpg"" alt="""">
</pre>

Quick workaround is the following:

<pre><code class=""diff"">
Index: app/helpers/application_helper.rb
===================================================================
--- app/helpers/application_helper.rb	(revision 14066)
+++ app/helpers/application_helper.rb	(working copy)
@@ -634,7 +634,7 @@
       text.gsub!(/src=""([^\/""]+\.(bmp|gif|jpg|jpe|jpeg|png))""(\s+alt=""([^""]*)"")?/i) do |m|
         filename, ext, alt, alttext = $1.downcase, $2, $3, $4
         # search for the picture in attachments
-        if found = Attachment.latest_attach(attachments, filename)
+        if found = Attachment.latest_attach(attachments, CGI.unescape(filename))
           image_url = download_named_attachment_url(found, found.filename, :only_path => only_path)
           desc = found.description.to_s.gsub('""', '')
           if !desc.blank? && alttext.blank?
</code></pre>
"
19317,Redmine,Defect,NA,Closed,Normal,"redmine_2.4.6+ruby1.8.7+agile_1.3.8  incompatible ,some 500 internal errors",yankun wu,NA,2015-03-10T05:09:00Z,Plugin API,NA,NA,NA,NA,0,2015-03-10T04:52:00Z,2015-03-10T05:09:00Z,NA,Invalid,2.4.6,"I had installed redmine_2.4.6 with ruby1.8.7 under ubuntu 12.04.
Then we add agile_1.3.8 ,something goes wrong here !
when use ruby 1.8.7 ,go with 
ruby redmine-2.4.6/script/rails server thin -e production -d 
it works,but when click on agile borad ,then 500 internal errors .
log:

<pre>
*Started GET ""/settings/plugin/redmine_agile"" for 192.168.4.100 at Tue Mar 10 10:48:52 +0800 2015
Processing by SettingsController#plugin as HTML
  Parameters: {""id""=>""redmine_agile""}
  ^[[1m^[[36m (0.1ms)^[[0m  ^[[1mSELECT MAX(`settings`.`updated_on`) AS max_id FROM `settings` ^[[0m
  ^[[1m^[[35mUser Load (0.2ms)^[[0m  SELECT `users`.* FROM `users` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND `users`.`status` = 1 AND `users`.`id` = ? LIMIT 1  [[""id"", 1]]
  Current user: admin (id=1)
  Rendered plugins/redmine_agile/app/views/settings/agile/_general.html.erb (3.6ms)
  Rendered settings/plugin.html.erb within layouts/admin (5.3ms)
Completed 500 Internal Server Error in 11.1ms

ActionView::Template::Error (interning empty string):
    6: ^M
    7: <p>^M
    8:   <label><%= l(:label_agile_board_default_fields) %></label>^M
    9:   <%= select_tag 'settings[default_columns]', options_for_select(AgileQuery.new(:column_names => RedmineAgile.default_columns).available_columns.collect{|column| [column.caption, column.name]}, RedmineAgile.default_columns), :multiple => true, :include_blank => true, :size => 10, :style => ""width:150px"" %>^M
    10: </p>^M
    11: ^M
    12: <p>^M
  app/models/user.rb:219:in `to_sym'
  app/models/user.rb:219:in `to_proc'
  app/models/query.rb:441:in `column_names='
  app/models/query.rb:210:in `initialize'
  app/views/settings/plugin.html.erb:6:in `_app_views_settings_plugin_html_erb___795848594__634660558'
  app/views/settings/plugin.html.erb:4:in `_app_views_settings_plugin_html_erb___795848594__634660558'
*
</pre>

I search on googles ,some good people said ,they use ruby 1.9 ,success .
So I Install ruby-rvm ,change ruby1.8.7 to ruby1.9.3
when I start the server, not success, with log 

<pre>
*=> Booting Thin
=> Rails 3.2.19 application starting in production on http://0.0.0.0:3000
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/core_ext/class/attribute.rb:81:in `block (2 levels) in model_object=': wrong number of arguments (1 for 0) (ArgumentError)
        from /home/sono-1204/redmine-2.4.6/app/controllers/test/comments_controller.rb:20:in `<class:CommentsController>'
        from /home/sono-1204/redmine-2.4.6/app/controllers/test/comments_controller.rb:18:in `<top (required)>'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:251:in `require'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:251:in `block in require'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:236:in `load_dependency'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:251:in `require'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:359:in `require_or_load'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:313:in `depend_on'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.2.19/lib/active_support/dependencies.rb:225:in `require_dependency'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/engine.rb:444:in `block (2 levels) in eager_load!'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/engine.rb:443:in `each'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/engine.rb:443:in `block in eager_load!'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/engine.rb:441:in `each'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/engine.rb:441:in `eager_load!'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/application/finisher.rb:53:in `block in <module:Finisher>'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/initializable.rb:30:in `instance_exec'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/initializable.rb:30:in `run'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/initializable.rb:55:in `block in run_initializers'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/initializable.rb:54:in `each'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/initializable.rb:54:in `run_initializers'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/application.rb:136:in `initialize!'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/railtie/configurable.rb:30:in `method_missing'
        from /home/sono-1204/redmine-2.4.6/config/environment.rb:14:in `<top (required)>'
        from /home/sono-1204/redmine-2.4.6/config.ru:3:in `require'
        from /home/sono-1204/redmine-2.4.6/config.ru:3:in `block in <main>'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/builder.rb:51:in `instance_eval'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/builder.rb:51:in `initialize'
        from /home/sono-1204/redmine-2.4.6/config.ru:in `new'
        from /home/sono-1204/redmine-2.4.6/config.ru:in `<main>'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/builder.rb:40:in `eval'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/builder.rb:40:in `parse_file'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/server.rb:200:in `app'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/commands/server.rb:46:in `app'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/server.rb:304:in `wrapped_app'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/rack-1.4.5/lib/rack/server.rb:254:in `start'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/commands/server.rb:70:in `start'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/commands.rb:55:in `block in <top (required)>'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/commands.rb:50:in `tap'
        from /usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-3.2.19/lib/rails/commands.rb:50:in `<top (required)>'
        from /home/sono-1204/redmine-2.4.6/script/rails:6:in `require'
        from /home/sono-1204/redmine-2.4.6/script/rails:6:in `<main>'*

</pre>

maybe there are someway to solve this problem ,thanks.


"
19320,Redmine,Defect,NA,Closed,Normal,Spent time (last 7 days) in My page not updated,Ga?tan Dardy,Jean-Philippe Lang,2015-03-14T16:00:00Z,My page,3.0.1,NA,NA,NA,0,2015-03-10T11:25:00Z,2015-03-14T16:00:00Z,NA,Fixed,3.0.0,"When adding spent time for a task, the area Spent Time in My Page is not updated (new line not shown).
However, using the link in order to show the full list displays the right informations.
Maybe only the widget is concerned.

Best regards"
19321,Redmine,Defect,NA,Closed,Normal,"MinGW thin and puma: non ASCII wiki page causes ""Internal server error""",Eugene B,NA,2015-10-28T17:44:00Z,Wiki,NA,NA,NA,NA,0,2015-03-10T11:37:00Z,2015-03-25T22:06:00Z,"関連している #19374, 次のチケットが重複 #19609, 次のチケットが重複 #19978",Wont fix,3.0.0,"We were using 2.4.1 Bitnami installation for about a year with no problems. After 3.0.0 release we have switched to this new version to be sure we are using current Redmine branch, and our installation is not so outdated. We are using Bitnami 3.0.0 installer for windows platforms.

We have found a problem, that if a wiki page contains russian word ""Информация"" (tranlation: Information) written with capital letter only! If this word is present in wiki page name (no matter if it is first word in wiki page name or it will be one of the next words) it will lead to ""Internal server error"" while trying to access a page.

For example:
""Справочная информация"" - this wiki page name opens normal
""Справочная Информация"" - this wiki page name will lead to ""Internal server error"" error message

""информация по учетным записям трекеров контейнерных линий"" - this wiki page name opens normal
""Информация по учетным записям трекеров контейнерных линий"" - this wiki page name will lead to ""Internal server error"" error message

All other wiki pages, tasks, everyting works correct. We have run migration two times:
this way
rake db:migrate RAILS_ENV=production
and this way:
set RAILS_ENV=production
rake db:migrate

migration reports no errors.

Later we noticed, that actually a broken page exists, and we can open it by changing letter ""И"" from capital to ""и"" at the browser address line. We had so far only 5 problem pages, and we renamed them all to use small ""и"" letter at the wiki page name. This is of course a workaround, and problem exists.

To confirm error, we have installed clean Redmine 3.0.0 instance from bitname at another PC and tried to make a wiki page there using ""Информация"" word, mistake is the same. So I think its not a DB migration error, its most likely error in Redmine itself (or probably some conflict with software that bitnami intaller uses)

"
19323,Redmine,Defect,NA,Closed,Normal,"Incorrect links generated in emails if host setup uses other port ("":"" symbol)",Eugene B,Jean-Philippe Lang,2015-03-14T16:02:00Z,Email notifications,3.0.1,NA,NA,NA,0,2015-03-10T13:02:00Z,2015-03-14T16:02:00Z,"関連している #20192, 次のチケットが重複 #19611",Fixed,3.0.0,"We were using 2.4.1 Bitnami installation for about a year with no problems. After 3.0.0 release we have switched to this new version to be sure we are using current Redmine branch, and our installation is not so outdated. We are using Bitnami 3.0.0 installer for windows platforms.

We have found a problem, that email links to task, that redmine provides within email body are broken. Our Redmine installation is availble on the address: http://10.0.0.1:81/redmine/ and according to this, at redmine settings, host is set as ""10.0.0.1:81/redmine/""

But at the e-mail, link is the following: ""http://10.0.0.1/issues/2460"" while it should be ""http://10.0.0.1:81/redmine/issues/2460"" we have double checked, and we have found, that after "":"" symbol at the host line, the rest is cut off and not included at the hyperlink.

When host setting was ""10.0.0.1/redmine"" the hyptrlink was ""http://10.0.0.1/redmine/issues/2460"" the only missing thing was the port. after we set host again with port, we got the link ""http://10.0.0.1/issues/2460"" again. So it seems redmine ignores the rest of the host address string after "":"" symbol."
19334,Redmine,Defect,NA,Closed,Normal,Error 500 when uploading file with umlaut in filename from Mac,Benedikt Huss,NA,2015-03-11T10:12:00Z,Database,NA,NA,NA,NA,0,2015-03-10T21:49:00Z,2015-03-11T10:12:00Z,NA,Invalid,3.0.0,"When I try to add a file that has umlauts in its filename, the file upload returns error 500

@ruby 2.2.0p0 (2014-12-25 revision 49005) [x86_64-linux]@

@ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xCC\x88uft....' for column 'filename' at row 1: INSERT INTO `attachments` (`filesize`, `author_id`, `filename`, `content_type`, `created_on`, `disk_directory`, `disk_filename`, `digest`) VALUES (104227, 2, 'FileWith?.png', 'image/png', '2015-03-10 21:25:52.322050', '2015/03', '150310212552_2ee9c348b107f4bb61a9c636081148c7.png', '53487d81c5beb80ef2f4e3658f4326da')):
  app/controllers/attachments_controller.rb:90:in `upload'@"
19336,Redmine,Defect,NA,Closed,Low,SCM url cannot change if repository is not empty,xuchun sang,NA,2015-03-12T06:18:00Z,SCM,NA,NA,NA,NA,0,2015-03-11T03:56:00Z,2015-03-11T13:33:00Z,NA,Wont fix,2.6.0,"svn url error target

Redmine 2.6.0 Feign death，Redmine can't enter.

Environment:
  Redmine version                2.6.0.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [i386-mingw32]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.0
  Filesystem                     
Redmine plugins:
  projects_treeview              0.0.3-78"
19348,Redmine,Defect,NA,Closed,Low,Project name is missing for versions from sub-projects,Sebastian Paluch,Jean-Philippe Lang,2015-03-15T15:08:00Z,Roadmap,2.6.3,NA,NA,NA,0,2015-03-11T14:44:00Z,2015-03-15T15:08:00Z,NA,Fixed,2.6.2,"In r13325 a change has been done to remove project name for not shared versions but now when showing a Roadmap including sub-projects, sub-project name is not added to not shared versions from sub-projects and it is not clear what the versions are for.

!roadmap.png!

I don't know for what use cases the change was done but it seems that wrong logic operator has been used, AND should be used instead OR.

<pre>
  def format_version_name(version)	
    if !version.shared? && version.project == @project
      h(version)
    else
      h(""#{version.project} - #{version}"")
</pre>"
19354,Redmine,Defect,NA,Closed,Normal,Unexpected milliseconds in JSON time attributes,Alex Last,Jean-Philippe Lang,2015-03-15T15:09:00Z,REST API,3.0.1,NA,NA,NA,0,2015-03-11T20:20:00Z,2015-03-15T15:09:00Z,NA,Fixed,NA,"our original request #5901 was about exposing Redmine version through REST API so that clients would know what functionality is supported by the server.
that request is still relevant, but I decided to submit a smaller feature request about date formats.

Redmine 3.x broke backward compatibility - the date format used in REST responses is different from Redmine 2.6:

> From redmine 2.6.0: ""updated_on"":""2015-01-23T00:15:24Z""
> From redmine 3.0.0: ""updated_on"":""2015-01-29T10:06:19.000Z""

one of our users submitted this bug report: https://github.com/taskadapter/redmine-java-api/pull/175

if we could query Redmine to see its version, we could pick the right date format instead of guessing... now we will have to check ""are there 3 more digits after this and before that?""..

but a better option would be querying Redmine to see what date format it uses for long dates and short dates - because this is what the library actually cares about.
"
19356,Redmine,Defect,NA,Closed,Normal,"The SCM server disconnection, click the repository redmine crashes",xuchun sang,NA,2015-03-12T06:05:00Z,SCM,NA,NA,NA,NA,0,2015-03-12T02:23:00Z,2015-03-12T04:32:00Z,NA,Invalid,2.6.0,"production.log
<pre>
Output was:
 <?xml version=""1.0"" encoding=""UTF-8""?>
<lists>
<list
   path=""http://192.168.1.11/svn/person"">

  Rendered common/error.html.erb within layouts/base (0.0ms)
Completed 404 Not Found in 3378.2ms (Views: 42.0ms | ActiveRecord: 15.0ms)
Started GET ""/redmine/projects/mira2-sr/documents"" for 127.0.0.1 at 2015-03-12 02:12:26 +0800
</pre>"
19360,Redmine,Defect,NA,Closed,Normal,the wrong mail in one of the redmine account will cause all mail stop sending,alin huang,NA,2015-03-12T08:15:00Z,Email notifications,NA,NA,NA,NA,0,2015-03-12T07:54:00Z,2015-03-12T08:15:00Z,次のチケットと重複 #8157,Duplicate,2.6.1,"one of redmine account has wrong mail, which meas the mail is not exist. and the email notifications config of this account is ""for any event on all my projects"". this situation will cause all mail stop sending

"
19363,Redmine,Defect,NA,Closed,Normal,"""User is invalid"" error is returned when adding user to group twice",Alex Last,Jean-Philippe Lang,2015-03-15T19:47:00Z,REST API,NA,NA,NA,NA,0,2015-03-12T22:28:00Z,2015-03-14T11:07:00Z,NA,Invalid,3.0.0,"this operation used to be safe (idempotent) for Redmine 2.6.x.
now this fails for Redmine 3.0.0.

I am using this test:
https://github.com/taskadapter/redmine-java-api/blob/master/src/test/java/com/taskadapter/redmineapi/UserIntegrationTest.java

method addingUserToGroupTwiceDoesNotGiveErrors()

"
19365,Redmine,Defect,NA,Closed,Normal,Cannot select from appropriate statuses when copying ticket,Maxim Kru?ina,NA,2015-04-04T11:09:00Z,Issues workflow,NA,NA,NA,NA,0,2015-03-12T23:10:00Z,2015-04-04T11:09:00Z,次のチケットと重複 #14696,Duplicate,3.0.0,"I'm copying ticket in my custom Tracker.
When copying, I can only select from current and default statuses, nothing else.
When ticket is created (copied), I can edit again and then select from complete list of statuses."
19368,Redmine,Defect,NA,Closed,Normal,Creating an issue without tracker_id attribute ignores custom field values,Alex Last,Jean-Philippe Lang,2015-03-14T16:04:00Z,REST API,3.0.1,NA,NA,NA,0,2015-03-13T06:29:00Z,2015-03-14T16:04:00Z,NA,Fixed,3.0.0,"this is a regression in 3.0.0 from 2.6.x:

when creating new issues via REST API (specifically, I am using Redmine Java API library), I see 
the standard JSon payload I used with Redmine 2.6.x is not accepted anymore:

{""issue"":
  {""subject"":""test for custom multi fields - set multiple values"",
   ""project_id"":369,
   ""start_date"":null,
   ""custom_field_values"":{""3"":[""V1"",""V3""]}
  }
}

the server ignores values V1, V3 and assigns default V2 value to that multi-line custom field.

see test setMultiValuesForMultiLineCustomField()   in
https://github.com/taskadapter/redmine-java-api/blob/master/src/test/java/com/taskadapter/redmineapi/IssueManagerTest.java"
19374,Redmine,Defect,NA,Closed,Normal,MinGW thin and puma: Internal server error occoures when attachment file name contains non ASCII,Shine Lee,NA,2015-10-28T17:46:00Z,NA,NA,NA,NA,NA,0,2015-03-13T11:14:00Z,2015-03-13T16:16:00Z,"関連している #19321, 次のチケットが重複 #19398, 次のチケットが重複 #19450, 次のチケットが重複 #19467, 次のチケットが重複 #19610, 次のチケットが重複 #19600, 次のチケットが重複 #20024, 次のチケットが重複 #19963",Wont fix,NA,"I download redmine from https://bitnami.com/redirect/to/50832/bitnami-redmine-3.0.0-0-windows-installer.exe .
The bug is descriped in the attachments.

mysql: 5.5.42
redmine: 3.0 
ruby: 2.0.0p594 (2014-10-27) [i386-mingw32]
windows server 2008
"
19375,Redmine,Defect,NA,Closed,Normal,redmine_dmsf  install show  mini_portile_0.6.0 Could not find,xuchun sang,NA,2015-03-17T08:33:00Z,NA,NA,NA,NA,NA,0,2015-03-13T15:29:00Z,2015-03-13T16:23:00Z,NA,Invalid,2.6.1,"apps\redmine\htdocs\plugins\redmine_dmsf>rake redmine
:plugins:migrate RAILS_ENV=production
(in D:/redmine-2.6.0-1/apps/redminedocs)
Could not find mini_portile-0.6.0 in any of the sources
Run `bundle install` to install missing gems.

"
19381,Redmine,Defect,NA,Closed,Normal,Wrong syntax for wiki macros in wiki_syntax_detailed.html,Go MAEDA,Jean-Philippe Lang,2015-03-15T11:03:00Z,Documentation,2.6.3,NA,NA,NA,0,2015-03-14T10:02:00Z,2015-03-15T11:03:00Z,関連している #19002,Fixed,3.0.0,"Preceding '!' in samples are unnecessary. For example, @!{{include(Foo)}}@ should be @{{include(Foo)}}@.

Here is a patch to to fix this."
19382,Redmine,Defect,NA,Closed,Normal,at ticket-view no more filter after update from v2.5.1 to v2.6.2,Sven Niwolik,NA,2015-03-14T17:02:00Z,NA,NA,NA,NA,NA,0,2015-03-14T16:49:00Z,2015-03-14T17:02:00Z,NA,Invalid,NA,"I have updated two identical versions from v2.5.1 to v2.6.2 and get the same error shown in the attached image after updating each.

My config is as following:

Environment:
  Redmine version                2.6.2.stable
  Ruby version                   2.1.2-p95 (2014-05-08) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2

SCM:
  Git                            1.7.1
  Filesystem

Redmine plugins:
  redmine_dashboard              2.2
  redmine_lightbox               0.0.1"
19396,Redmine,Defect,NA,Closed,High,Some services not running normally after stopped,Wannika Onn-wong,NA,2015-03-16T19:19:00Z,Issues,NA,NA,NA,NA,0,2015-03-16T10:43:00Z,2015-03-16T19:19:00Z,NA,Invalid,2.6.1,"I stopped all services in Bitnami Redmine Stack 2.6.1-0 and start all after 10 second both services redmineThin1 and redmineThin2 must stopped, 
Can you help me find this error.

Thank you
-----------------
The system run on windows server 2008R2  64 bit 
and Bitnami Redmine Packet: bitnami-redmine-2.6.1-1-windows-installer"
19403,Redmine,Defect,NA,Closed,Normal,Mistake in Polish Translation file.,Maciej G.,Jean-Philippe Lang,2015-10-04T14:25:00Z,Translations,3.2.0,NA,NA,NA,0,2015-03-17T08:45:00Z,2015-10-04T14:25:00Z,"関連している #2001, 次のチケットが重複 #8287",Fixed,NA,"In Polish Translation (config/locale/pl.yml) file there is mistake (at least) in two keys repeated in all recent versions of Redmine includeing 3.0.1.

Two values need to be changed because of inproper use of the variables %{count} and %{count}.

They corrected values shoud look like:
<pre>
mail_subject_reminder: ""Uwaga na terminy, masz zagadnienia do obs?u?enia w ci?gu nast?pnych %{days} dni! (%{count})"" 
mail_body_reminder: ""Wykaz przypisanych do Ciebie zagadnie?, kt?rych termin wypada w ci?gu nast?pnych %{days} dni""
</pre>

Discovered that mistake with my workmate.
"
19405,Redmine,Defect,NA,Closed,Normal,Setting config.logger.level in additional_environment.rb has no effect,Scott Macpherson,Jean-Philippe Lang,2015-04-25T09:34:00Z,Rails support,3.0.2,NA,NA,NA,0,2015-03-17T11:07:00Z,2015-04-25T09:34:00Z,NA,Fixed,3.0.1,"Since version 3.0.0 my production log files contain INFO messages and higher, despite setting a Logger level of @::WARN@ in @additional_environment.rb@.

Using the advice provided in [[RedmineInstall#Logging-configuration]] my @config/additional_environment.rb@ contains the following two lines:

<pre>
config.logger = Logger.new(Rails.root.join(""log"",Rails.env + "".log""),3,5*1024*1024)
config.logger.level = Logger::WARN
</pre>

Environment:

<pre>Redmine version    3.0.1.stable
Ruby version       2.2.1-p85 (2015-02-26) [x86_64-linux]
Rails version      4.2.0
Environment        production
Database adapter   PostgreSQL</pre>"
19410,Redmine,Defect,NA,Closed,Normal,Export to PDF problem while exporting Arabic text to pdf,vijay krishna,NA,2015-03-30T10:52:00Z,PDF export,NA,NA,NA,NA,0,2015-03-18T03:50:00Z,2015-03-30T10:52:00Z,NA,Invalid,2.6.2,"We have a problem in exporting arabic text in issues list to pdf report using redmine version 2.5.1. 
We upgraded to version 2.6.2 including rbpdf 1.18.3 and ""DejaVuSans"" font Arabic locale.
Still we are facing the same issue."
19413,Redmine,Defect,NA,Closed,Normal,ANSI Windows coding 1251(Russian) unreadable then Redmine perfom diff sourse code operation,Dmitry Skibarko,NA,2015-03-19T01:55:00Z,SCM,NA,NA,NA,NA,0,2015-03-18T12:36:00Z,2015-03-18T13:18:00Z,NA,Invalid,NA,"SVN repository and Redmine 2.6.1 good integrated and works.
Source code in SVN repository have ANSI Windows coding 1251.
If using redmine try see differences for selected file the
russian text in source is not readable. See attaced picture."
19419,Redmine,Defect,NA,Closed,Normal,MinGW Ruby 2.2: NameError: uninitialized constant ActionView::Helpers::ActiveModelHelper,j j,NA,2015-10-28T12:35:00Z,NA,NA,NA,NA,NA,0,2015-03-19T09:01:00Z,2015-04-11T03:56:00Z,"関連している #19952, 次のチケットが重複 #20285",Wont fix,NA,"I'm setting up to my computer
I'm at Step 5 - Session store secret generation
when i type 
bundle exec rake generate_secret_token
then error like:

rake aborted!
Name error: uninitialized constant ActionView::Helpers::ActionModeHelper
C:/Ruby22/redmine/config/application.rb:5:in '<top<required>>'
C:/Ruby22/redmine/Rakefile :5:in 'require'
C:/Ruby22/redmine/Rakefile :5:in '<top<required>>'
LoadError: cannot load such file -- actionpack-action_caching
C:/Ruby22/redmine/config/application.rb:5:in '<top<required>>'
C:/Ruby22/redmine/Rakefile :5:in 'require'
C:/Ruby22/redmine/Rakefile :5:in '<top<required>>'
<See full trace by running task with --trace>

You can see clearly in my attached file"
19430,Redmine,Defect,NA,Closed,Urgent,"Create new issue/task/feature/user..., it will occurrence 502 Proxy Error",Shi Wang,NA,2015-03-20T07:55:00Z,NA,NA,NA,NA,NA,0,2015-03-20T07:34:00Z,2015-03-20T07:47:00Z,NA,Invalid,NA,"my step is:
1. i install redmine --> create new project (OK) --> create issue(e.g.: issue_01)/task/user(user_01) (it will appear above error message) --> i refresh the web --> issue_01 and user_01 have existed.

and i cannot found those log file, such as: mongrel.log

*please help me, thank you!*

Error Message:
Proxy Error

The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request POST /redmine/projects/test_01/issues.

Reason: Error reading from remote server"
19434,Redmine,Defect,NA,Closed,Normal,Redmine ceased running.  502 Bad Gateway error shows.,Tom Neff,NA,2015-03-21T22:03:00Z,NA,NA,NA,NA,NA,0,2015-03-20T18:52:00Z,2015-03-21T22:03:00Z,NA,Invalid,NA,"My system:
* Ubuntu 14.04
* Environment:
  Redmine version                2.5.2.stable
  Ruby version                   2.1.1-p76 (2014-02-24) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
* SCM:
  Subversion                     1.8.8
  Mercurial                      2.8.2
  Git                            1.9.1
  Filesystem                     
* Redmine plugins:
  redmine_contacts               3.2.17
  redmine_monitoring_controlling 0.1.1
  redmine_wktime                 1.7

Everything has been working great for 6 months.  Yesterday my system locked and I rebooted.  When I tried to get back into Redmine, I got ""502 Bad Gateway"" error.

I have two instances of Redmine on my system and one still runs.  The info above is from the instance still running.  They were setup to be functionally identical but serving different audiences.

I can hardly spell Ruby or Rails so any guidance concerning them will need to be detailed."
19435,Redmine,Defect,NA,Closed,Normal,"PDF's are being uploaded with wrong mimetype ""application/force-download"" instead of ""application/pdf""",Tobias Fischer,NA,2015-03-23T00:57:00Z,Attachments,NA,NA,NA,NA,0,2015-03-20T19:52:00Z,2015-03-23T00:57:00Z,NA,Cant reproduce,3.0.1,"Starting with Redmine 3.0 all PDF attachments beeing uploaded are stored in the database with the wrong mimetype ""application/force-download"" instead of ""application/pdf"".

This is my redmine3 dev installation which I run on a mac:

<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [universal.x86_64-darwin14]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.19
  Cvs                            1.12.13
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  redmine_lightbox2              0.2.2
</pre>

This happens for drag&drop uploads as well as for ""normal"" file uploads to tickets.

It seems as if this also results in the following webrick warning when trying to download a PDF attachment:

<pre>
[2015-03-20 19:37:04] WARN  Could not determine content-length of response body. Set content-length of the response or set Response#chunked = true
</pre>
This warning also appears for images when beeing downloaded."
19443,Redmine,Defect,NA,Closed,Normal,Email notification sent when assignee changes (if assignee was a group) even if 'Assignee updated' option on the Email notifications tab is unchecked,Deoren Moor,NA,2015-04-15T07:58:00Z,Email notifications,NA,NA,NA,NA,0,2015-03-21T20:43:00Z,2015-04-15T07:58:00Z,NA,Invalid,2.6.3,"The changes applied to resolve #19197 (r14049) apparently introduced a bug that results in email notifications sent even if the Email notification setting is configured to mute those notifications.

Here is our setup:

We have a project called ""Unassigned"" where all incoming issues are stored. They're assigned to a group for processing. A member of that group then takes those unassigned tickets and will reassign to the appropriate technician.

When we ran 2.6.1 with these Email notification settings:

<pre>
[x] Issue added
[ ] Issue updated
    [x] Note added
    [ ] Status updated
    [ ] Assignee updated
    [ ] Priority updated
[x] News added
[x] Comment added to a news
[x] Document added
[x] File added
[x] Message added
[x] Wiki page added
[x] Wiki page updated
</pre>

everyone in the group was notified of the new issue, but nothing past that, regardless of whether a Note was added to the issue when it was moved. 

Now after the upgrade to 2.6.3 with the same Email notification settings the group is notified when the issue is reassigned. From what I can tell this only occurs if a comment is added."
19444,Redmine,Defect,NA,Closed,Normal,Fix typo in wiki_syntax_detailed.html,Go MAEDA,NA,2015-04-19T13:09:00Z,Documentation,2.6.4,NA,NA,NA,0,2015-03-22T05:45:00Z,2015-04-19T13:09:00Z,NA,Fixed,NA,"I think the sentence ""Place _you_ code"" in code highlight example in wiki_syntax_detailed.html should be ""Place _your_ code."""
19450,Redmine,Defect,NA,Closed,Normal,Unable to download files named by Chinese words,yong cui,NA,2015-03-26T14:15:00Z,NA,NA,NA,NA,NA,0,2015-03-23T08:33:00Z,2015-03-23T09:03:00Z,次のチケットと重複 #19374,Duplicate,3.0.1,"Install Redmine with ""bitnami-redmine-3.0.1-0-windows-installer.exe"".After uploading files named by Chinese words successfully,I found it unable to download them.On the server I found the files that certified sucessful uploadings.It is funny that,sometimes,file with even Chinese words could be download,and the odd one failed."
19460,Redmine,Defect,NA,Closed,Normal,svn: E200031: sqlite: attempt to write a readonly database,ChunChang Lo,NA,2015-03-24T11:35:00Z,NA,NA,NA,NA,NA,0,2015-03-24T02:26:00Z,2015-03-24T11:35:00Z,NA,Invalid,NA,"something wrong with the redmine svn repository?
"
19462,Redmine,Defect,NA,Closed,Normal,Dont show Issues from closed projects,mcfedr mcfedr,NA,2015-04-05T06:27:00Z,Issues,NA,NA,NA,NA,0,2015-03-24T11:38:00Z,2015-04-05T06:27:00Z,次のチケットと重複 #12066,Duplicate,NA,I have closed several projects - they have issues that are assigned to me and there is no way to remove these from the list of my issues
19467,Redmine,Defect,NA,Closed,Normal,Downloading attachments will be wrong if the file names contain more than two chinese characters,micro bead,NA,2015-03-26T14:15:00Z,NA,NA,NA,NA,NA,0,2015-03-24T12:45:00Z,2015-03-24T14:56:00Z,次のチケットと重複 #19374,Duplicate,NA,"If the file names contain more than two chinese characters, downloading attachments will be wrong, and http 500 error will be occured.
Would anybody help me? 
thx"
19469,Redmine,Defect,NA,Closed,Normal,Redmine 3.0.1 is not starting on Ubuntu 14.04.2,suvjunmd suvjunmd,NA,2015-04-09T00:43:00Z,NA,NA,NA,NA,NA,0,2015-03-24T22:46:00Z,2015-03-25T04:03:00Z,次のチケットと重複 #19409,Duplicate,3.0.1,"I installed Redmine 3.0.1 on Ubuntu 14.04.2, but when trying to access it I get the message: *""Web application could not be started""*. Running the command *""gem update bundler""* did not help. Below is the complete error message:
<pre>
Web application could not be started
Redmine requires Bundler 1.5.0 or higher (you're using 1.3.5).
Please update with 'gem update bundler'. (SystemExit)
  /usr/share/redmine-3.0.1/Gemfile:4:in `abort'
  /usr/share/redmine-3.0.1/Gemfile:4:in `eval_gemfile'
  /usr/lib/ruby/vendor_ruby/bundler/dsl.rb:30:in `instance_eval'
  /usr/lib/ruby/vendor_ruby/bundler/dsl.rb:30:in `eval_gemfile'
  /usr/lib/ruby/vendor_ruby/bundler/dsl.rb:9:in `evaluate'
  /usr/lib/ruby/vendor_ruby/bundler/definition.rb:19:in `build'
  /usr/lib/ruby/vendor_ruby/bundler.rb:148:in `definition'
  /usr/lib/ruby/vendor_ruby/bundler.rb:116:in `setup'
  /usr/lib/ruby/vendor_ruby/bundler/setup.rb:17:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/vendor_ruby/phusion_passenger/loader_shared_helpers.rb:245:in `block in run_load_path_setup_code'
  /usr/lib/ruby/vendor_ruby/phusion_passenger/loader_shared_helpers.rb:348:in `running_bundler'
  /usr/lib/ruby/vendor_ruby/phusion_passenger/loader_shared_helpers.rb:243:in `run_load_path_setup_code'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:100:in `preload_app'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'
Application root
/var/www/redmine
Environment (value of RAILS_ENV, RACK_ENV, WSGI_ENV and PASSENGER_ENV)
production
Ruby interpreter command
/usr/bin/ruby
User and groups
uid=33(www-data) gid=33(www-data) groups=33(www-data)
Environment variables
APACHE_RUN_DIR = /var/run/apache2
APACHE_PID_FILE = /var/run/apache2/apache2.pid
PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
APACHE_LOCK_DIR = /var/lock/apache2
LANG = C
APACHE_RUN_USER = www-data
APACHE_RUN_GROUP = www-data
APACHE_LOG_DIR = /var/log/apache2
PWD = /var/www/redmine
PASSENGER_DEBUG_DIR = /tmp/passenger.spawn-debug.XXXXOLo6fv
USER = www-data
LOGNAME = www-data
SHELL = /usr/sbin/nologin
HOME = /var/www
IN_PASSENGER = 1
PYTHONUNBUFFERED = 1
NODE_PATH = /usr/share/passenger/node
RAILS_ENV = production
RACK_ENV = production
WSGI_ENV = production
NODE_ENV = production
PASSENGER_APP_ENV = production
SERVER_PROTOCOL = HTTP/1.1
SERVER_ADDR = 192.168.1.102
REMOTE_ADDR = 192.168.1.105
REQUEST_URI = /
SERVER_PORT = 80
SERVER_NAME = 192.168.1.102
SERVER_SOFTWARE = Apache/2.4.7 (Ubuntu)
SERVER_ADMIN = support@redmine.local
REMOTE_PORT = 2912
DOCUMENT_ROOT = /var/www/redmine/public
QUERY_STRING = 
REQUEST_METHOD = GET
GEM_PATH = /var/lib/gems/1.9.1:/var/www/.gem/ruby/1.9.1:/usr/share/rubygems-integration/1.9.1:/usr/share/rubygems-integration/all
GEM_HOME = /var/lib/gems/1.9.1
Ulimits
Unknown
System memory usage
             total       used       free     shared    buffers     cached
Mem:           496        343        153          5         35        218
-/+ buffers/cache:         88        407
Swap:          987          0        987
General Ruby interpreter information
RUBY_VERSION = 1.9.3
RUBY_PLATFORM = i686-linux
RUBY_ENGINE = ruby
RubyGems version = 1.8.23
Ruby configuration (RbConfig::CONFIG)
DESTDIR = 
MAJOR = 1
MINOR = 9
TEENY = 1
PATCHLEVEL = 484
INSTALL = /usr/bin/install -c
EXEEXT = 
prefix = /usr
ruby_install_name = ruby1.9.1
RUBY_INSTALL_NAME = ruby1.9.1
RUBY_SO_NAME = ruby-1.9.1
exec = exec
ruby_pc = ruby-1.9.pc
PACKAGE = ruby
BUILTIN_TRANSSRCS =  newline.c
USE_RUBYGEMS = YES
MANTYPE = doc
NROFF = /usr/bin/nroff
vendorhdrdir = /usr/include/ruby-1.9.1/vendor_ruby
sitehdrdir = /usr/include/ruby-1.9.1/site_ruby
rubyhdrdir = /usr/include/ruby-1.9.1
UNIVERSAL_INTS = 
UNIVERSAL_ARCHNAMES = 
configure_args =  '--build=i686-linux-gnu' '--prefix=/usr' '--includedir=/usr/include' '--mandir=/usr/share/man' '--infodir=/usr/share/info' '--sysconfdir=/etc' '--localstatedir=/var' '--libexecdir=/usr/lib/ruby1.9.1' '--srcdir=.' '--disable-maintainer-mode' '--disable-dependency-tracking' '--disable-silent-rules' '--enable-frame-address' '--enable-pthread' '--enable-shared' '--disable-rpath' '--disable-install-doc' '--with-vendordir=/usr/lib/ruby/vendor_ruby' '--with-sitedir=/usr/local/lib/site_ruby' '--program-suffix=1.9.1' '--with-soname=ruby-1.9.1' '--enable-ipv6' '--with-dbm-type=gdbm_compat' '--with-tklib=tk8.5' '--with-tcllib=tcl8.5' '--with-tcl-include=/usr/include/tcl8.5' '--with-tk-include=/usr/include/tcl8.5' '--with-tcl-lib=/usr/lib/i386-linux-gnu' '--with-tk-lib=/usr/lib/i386-linux-gnu' '--with-bundled-sha1' '--with-bundled-md5' '--with-bundled-rmd160' 'build_alias=i686-linux-gnu' 'CFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Wall -fno-strict-aliasing' 'LDFLAGS=-Wl,-Bsymbolic-functions -Wl,-z,relro -L/build/buildd/ruby1.9.1-1.9.3.484/debian/lib' 'CPPFLAGS=-D_FORTIFY_SOURCE=2' 'CXXFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Wall -fno-strict-aliasing'
vendordir = /usr/lib/ruby/vendor_ruby
sitedir = /usr/local/lib/site_ruby
ruby_version = 1.9.1
sitearch = i686-linux
arch = i686-linux
RI_BASE_NAME = ri
ridir = /usr/share/ri
rubylibprefix = /usr/lib/ruby
MAKEFILES = Makefile
PLATFORM_DIR = 
THREAD_MODEL = pthread
SYMBOL_PREFIX = 
EXPORT_PREFIX = 
COMMON_HEADERS = 
COMMON_MACROS = 
COMMON_LIBS = 
MAINLIBS = 
ENABLE_SHARED = yes
DLDLIBS =  -lc
SOLIBS = -lpthread -lrt -ldl -lcrypt -lm 
LIBRUBYARG_SHARED = -lruby-1.9.1
LIBRUBYARG_STATIC = -lruby-1.9.1-static
LIBRUBYARG = -lruby-1.9.1
LIBRUBY = libruby-1.9.1.so.1.9.1
LIBRUBY_ALIASES = libruby-1.9.1.so.1.9 libruby-1.9.1.so
LIBRUBY_SO = libruby-1.9.1.so.1.9.1
LIBRUBY_A = libruby-1.9.1-static.a
RUBYW_INSTALL_NAME = 
rubyw_install_name = 
LIBRUBY_DLDFLAGS = -Wl,-soname,libruby-1.9.1.so.1.9
LIBRUBY_LDSHARED = gcc -shared
EXTDLDFLAGS = 
warnflags = -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
debugflags = -ggdb
optflags = -O3
cxxflags =  -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
cflags =  -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
cppflags = -D_FORTIFY_SOURCE=2
NULLCMD = :
INSTALLDOC = nodoc
CAPITARGET = nodoc
RDOCTARGET = nodoc
EXECUTABLE_EXTS = 
ARCHFILE = 
LIBRUBY_RELATIVE = no
EXTOUT = .ext
PREP = miniruby
TEST_RUNNABLE = yes
setup = Setup
EXTSTATIC = 
STRIP = strip -S -x
TRY_LINK = 
LIBPATHENV = LD_LIBRARY_PATH
RPATHFLAG = 
LIBPATHFLAG =  -L%s
LINK_SO = 
LIBEXT = a
DLEXT2 = 
DLEXT = so
LDSHAREDXX = g++ -shared
LDSHARED = gcc -shared
CCDLFLAGS = -fPIC
STATIC = 
ARCH_FLAG = 
DLDFLAGS = 
ALLOCA = 
POSTLINK = :
WERRORFLAG = -Werror
CHDIR = cd -P
RMALL = rm -fr
RMDIRS = rmdir --ignore-fail-on-non-empty -p
RMDIR = rmdir --ignore-fail-on-non-empty
CP = cp
RM = rm -f
PKG_CONFIG = pkg-config
DOXYGEN = 
DOT = 
MAKEDIRS = /bin/mkdir -p
MKDIR_P = /bin/mkdir -p
INSTALL_DATA = /usr/bin/install -c -m 644
INSTALL_SCRIPT = /usr/bin/install -c
INSTALL_PROGRAM = /usr/bin/install -c
SET_MAKE = 
LN_S = ln -s
NM = nm
DLLWRAP = 
WINDRES = 
OBJCOPY = :
OBJDUMP = objdump
ASFLAGS = 
AS = as
AR = ar
RANLIB = ranlib
try_header = 
COUTFLAG = -o 
OUTFLAG = -o 
CPPOUTFILE = -o conftest.i
GNU_LD = yes
GCC = yes
EGREP = /bin/grep -E
GREP = /bin/grep
CPP = gcc -E
CXXFLAGS = -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Wall -fno-strict-aliasing
CXX = g++
OBJEXT = o
CPPFLAGS = -D_FORTIFY_SOURCE=2 -D_FILE_OFFSET_BITS=64 -D_FORTIFY_SOURCE=2
LDFLAGS = -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -L/build/buildd/ruby1.9.1-1.9.3.484/debian/lib -rdynamic -Wl,-export-dynamic
CFLAGS = -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Wall -fno-strict-aliasing -fPIC
CC = gcc
target_os = linux
target_vendor = pc
target_cpu = i686
target = i686-pc-linux-gnu
host_os = linux-gnu
host_vendor = pc
host_cpu = i686
host = i686-pc-linux-gnu
RUBYW_BASE_NAME = rubyw
RUBY_BASE_NAME = ruby
build_os = linux-gnu
build_vendor = pc
build_cpu = i686
build = i686-pc-linux-gnu
RUBY_RELEASE_DATE = 2013-11-22
RUBY_PROGRAM_VERSION = 1.9.3
BASERUBY = ruby
target_alias = 
host_alias = 
build_alias = i686-linux-gnu
LIBS = -lpthread -lrt -ldl -lcrypt -lm 
ECHO_T = 
ECHO_N = -n
ECHO_C = 
DEFS = -D_FILE_OFFSET_BITS=64
mandir = /usr/share/man
localedir = /usr/share/locale
libdir = /usr/lib
psdir = /usr/share/doc/ruby
pdfdir = /usr/share/doc/ruby
dvidir = /usr/share/doc/ruby
htmldir = /usr/share/doc/ruby
infodir = /usr/share/info
docdir = /usr/share/doc/ruby
oldincludedir = /usr/include
includedir = /usr/include
localstatedir = /var
sharedstatedir = /usr/com
sysconfdir = /etc
datadir = /usr/share
datarootdir = /usr/share
libexecdir = /usr/lib/ruby1.9.1
sbindir = /usr/sbin
bindir = /usr/bin
program_transform_name = s&$&1.9.1&;s&^&&
exec_prefix = /usr
PACKAGE_URL = 
PACKAGE_BUGREPORT = 
PACKAGE_STRING = 
PACKAGE_VERSION = 
PACKAGE_TARNAME = 
PACKAGE_NAME = 
PATH_SEPARATOR = :
SHELL = /bin/bash
rubylibdir = /usr/lib/ruby/1.9.1
archdir = /usr/lib/ruby/1.9.1/i686-linux
sitelibdir = /usr/local/lib/site_ruby/1.9.1
sitearchdir = /usr/local/lib/site_ruby/1.9.1/i686-linux
vendorlibdir = /usr/lib/ruby/vendor_ruby/1.9.1
vendorarchdir = /usr/lib/ruby/vendor_ruby/1.9.1/i686-linux
topdir = /usr/lib/ruby/1.9.1/i686-linux
Ruby load path ($LOAD_PATH)
/usr/local/lib/site_ruby/1.9.1
/usr/local/lib/site_ruby/1.9.1/i686-linux
/usr/local/lib/site_ruby
/usr/lib/ruby/vendor_ruby/1.9.1
/usr/lib/ruby/vendor_ruby/1.9.1/i686-linux
/usr/lib/ruby/vendor_ruby
/usr/lib/ruby/1.9.1
/usr/lib/ruby/1.9.1/i686-linux
Ruby loaded libraries ($LOADED_FEATURES)
enumerator.so
/usr/lib/ruby/1.9.1/i686-linux/enc/encdb.so
/usr/lib/ruby/1.9.1/i686-linux/enc/trans/transdb.so
/usr/lib/ruby/1.9.1/rubygems/defaults.rb
/usr/lib/ruby/1.9.1/i686-linux/rbconfig.rb
/usr/lib/ruby/1.9.1/rubygems/deprecate.rb
/usr/lib/ruby/1.9.1/rubygems/exceptions.rb
/usr/lib/ruby/vendor_ruby/rubygems/defaults/operating_system.rb
/usr/lib/ruby/1.9.1/rubygems/custom_require.rb
/usr/lib/ruby/1.9.1/rubygems.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger.rb
/usr/lib/ruby/1.9.1/i686-linux/etc.so
/usr/lib/ruby/1.9.1/fileutils.rb
/usr/lib/ruby/1.9.1/tmpdir.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tmpio.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info/operating_system.rb
/usr/lib/ruby/vendor_ruby/1.9.1/i686-linux/passenger_native_support.so
/usr/lib/ruby/vendor_ruby/phusion_passenger/native_support.rb
/usr/lib/ruby/1.9.1/i686-linux/socket.so
/usr/lib/ruby/1.9.1/socket.rb
/usr/lib/ruby/1.9.1/thread.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/ruby_core_enhancements.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tmpdir.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/preloader_shared_helpers.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/constants.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/public_api.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/debug_logging.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/loader_shared_helpers.rb
/usr/lib/ruby/1.9.1/i686-linux/fcntl.so
/usr/lib/ruby/vendor_ruby/phusion_passenger/message_channel.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/message_client.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils/native_support_utils.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils/unseekable_socket.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler/thread_handler.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler.rb
/usr/lib/ruby/1.9.1/i686-linux/stringio.so
/usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tee_input.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/rack/thread_handler_extension.rb
/usr/lib/ruby/vendor_ruby/phusion_passenger/analytics_logger.rb
/usr/lib/ruby/1.9.1/i686-linux/pathname.so
/usr/lib/ruby/1.9.1/pathname.rb
/usr/lib/ruby/1.9.1/rubygems/user_interaction.rb
/usr/lib/ruby/1.9.1/rubygems/config_file.rb
/usr/lib/ruby/1.9.1/rubygems/version.rb
/usr/lib/ruby/vendor_ruby/bundler/rubygems_integration.rb
/usr/lib/ruby/1.9.1/rubygems/requirement.rb
/usr/lib/ruby/1.9.1/rubygems/dependency.rb
/usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb
/usr/lib/ruby/vendor_ruby/bundler/gem_path_manipulation.rb
/usr/lib/ruby/1.9.1/rubygems/platform.rb
/usr/lib/ruby/1.9.1/rubygems/specification.rb
/usr/lib/ruby/vendor_ruby/bundler/gem_helpers.rb
/usr/lib/ruby/vendor_ruby/bundler/match_platform.rb
/usr/lib/ruby/vendor_ruby/bundler/rubygems_ext.rb
/usr/lib/ruby/vendor_ruby/bundler/version.rb
/usr/lib/ruby/vendor_ruby/bundler.rb
/usr/lib/ruby/vendor_ruby/bundler/settings.rb
/usr/lib/ruby/1.9.1/rubygems/path_support.rb
/usr/lib/ruby/1.9.1/i686-linux/digest.so
/usr/lib/ruby/1.9.1/digest.rb
/usr/lib/ruby/1.9.1/i686-linux/digest/sha1.so
/usr/lib/ruby/1.9.1/set.rb
/usr/lib/ruby/vendor_ruby/bundler/definition.rb
/usr/lib/ruby/vendor_ruby/bundler/dependency.rb
/usr/lib/ruby/vendor_ruby/bundler/ruby_dsl.rb
/usr/lib/ruby/vendor_ruby/bundler/dsl.rb
/usr/lib/ruby/vendor_ruby/bundler/source.rb
/usr/lib/ruby/1.9.1/uri/common.rb
/usr/lib/ruby/1.9.1/uri/generic.rb
/usr/lib/ruby/1.9.1/uri/ftp.rb
/usr/lib/ruby/1.9.1/uri/http.rb
/usr/lib/ruby/1.9.1/uri/https.rb
/usr/lib/ruby/1.9.1/uri/ldap.rb
/usr/lib/ruby/1.9.1/uri/ldaps.rb
/usr/lib/ruby/1.9.1/uri/mailto.rb
/usr/lib/ruby/1.9.1/uri.rb
/usr/lib/ruby/1.9.1/rubygems/remote_fetcher.rb
/usr/lib/ruby/1.9.1/rubygems/errors.rb
/usr/lib/ruby/1.9.1/rubygems/text.rb
/usr/lib/ruby/1.9.1/rubygems/spec_fetcher.rb
/usr/lib/ruby/vendor_ruby/bundler/source/rubygems.rb
</pre>"
19486,Redmine,Defect,NA,Closed,Normal,Parent task field isn't preserved when copying issue,Maxim Kru?ina,NA,2015-04-12T07:30:00Z,Issues,NA,NA,NA,NA,0,2015-03-25T21:12:00Z,2015-04-12T07:30:00Z,次のチケットと重複 #12893,Duplicate,3.0.0,"It should be pre-filled by value from original issue, but the field is blank"
19487,Redmine,Defect,NA,Closed,Normal,Cannot select from all issue states when copying issue,Maxim Kru?ina,NA,2015-03-25T21:34:00Z,Issues,NA,NA,NA,NA,0,2015-03-25T21:33:00Z,2015-03-25T21:34:00Z,NA,NA,3.0.0,"When copyiing an issue, I cannot select from all appropriate states like when creating new ticket in the same project (tracker).
For some reason, there is pre-selected state from original ticket, but I can change it only to default state of actual tracker"
19496,Redmine,Defect,NA,Closed,Normal,error when searching a keyword (not an ticket id) from the homepage,Top Kool,NA,2015-03-29T23:36:00Z,NA,NA,NA,NA,NA,0,2015-03-26T19:28:00Z,2015-03-29T23:35:00Z,NA,Invalid,3.0.1,"Started GET ""/search?utf8=%E2%9C%93&q=problem"" for <masked> at 2015-03-26 19:17:53 +0100
Processing by SearchController#index as HTML
  Parameters: {""utf8""=>""?"", ""q""=>""problem""}
  Current user: <masked> (id=8)
Completed 500 Internal Server Error in 60ms

NoMethodError (undefined method `search_result_ranks_and_ids' for #<Class:0x006ae1b93b74b8>):
  lib/redmine/search.rb:127:in `block in load_result_ids'
  lib/redmine/search.rb:125:in `each'
  lib/redmine/search.rb:125:in `load_result_ids'
  lib/redmine/search.rb:115:in `block in load_result_ids_from_cache'
  lib/redmine/search.rb:114:in `load_result_ids_from_cache'
  lib/redmine/search.rb:99:in `result_ids'
  lib/redmine/search.rb:70:in `result_count'
  app/controllers/search_controller.rb:65:in `index
"
19516,Redmine,Defect,NA,Closed,Normal,"Issue ""preceeds"" error: If B follows A, B starting date !=< ending date of A, should be Bs !< Ae",David Gessel,NA,2015-03-30T02:10:00Z,Issues planning,NA,NA,NA,NA,0,2015-03-29T23:21:00Z,2015-03-30T02:10:00Z,次のチケットと重複 #3195,Duplicate,2.5.2,"It is perfectly logical and reasonable to plan to start issue B the same day issue A is resolved.  There's no reason to enforce in planning a ""A's done! Everybody go home early!"" rule.  It should be entirely practical to plan to resolve 100 sequential issues on a single day, though perhaps a bit optimistic even just for the overhead of closing them out.

Somewhat more ambitiously, one could argue that the end should not be fewer days after the start than the total anticipated hours / number of people assigned / whichever is less (hours planned to work | 24 hours per day).

"
19517,Redmine,Defect,NA,Closed,Normal,Copy issue with new project,Mohamed EL MOKHTARI,NA,2015-03-30T22:31:00Z,Issues,NA,NA,NA,NA,0,2015-03-30T01:01:00Z,2015-03-30T14:35:00Z,関連している #16941,NA,3.0.1,"When an issue is copied from another one (using the copy option at the top-right corner of the page), if the project change, all fields are preserved except categorie that is reset to New."
19523,Redmine,Defect,NA,Closed,Normal,problem in exporting Arabic text to csv,vijay krishna,NA,2015-04-18T05:39:00Z,I18n,NA,NA,NA,NA,0,2015-03-30T11:29:00Z,2015-04-18T05:39:00Z,"関連している #7037, 次のチケットと重複 #11116",Duplicate,2.6.2,"We have problem in exporting arabic text to excel in csv format using english locale.
we have changed ""general_csv_encoding: UTF-8"" in en.yml config file. Please help on this."
19529,Redmine,Defect,NA,Closed,High,downloaded files are truncated to 64Kb (or simply a 500 error) on second download,Antoine Beaupr?,NA,2015-12-13T08:34:00Z,SCM,NA,NA,NA,NA,0,2015-03-30T23:29:00Z,2015-12-13T08:34:00Z,NA,No feedback,2.5.1,"We have had a weird bug on our recently-upgraded Redmine server. It could be two bugs, but the symptoms seem so closely related that I feel they should be filed as one for now.

The problem is we can't download files *twice* from the ""repository"" tab reliably. For files larger than 64KB, they get truncated to 64KB the second time. Nothing really interesting shows up in the logs:

<pre>
Started GET ""/projects/civicrm-saas-traduction/repository/revisions/master/raw/l10n/fr_CA/civicrm.po"" for X.X.X.X at 2015-03-30 17:10:14 -0400
Processing by RepositoriesController#raw as HTML
  Parameters: {""id""=>""civicrm-saas-traduction"", ""rev""=>""master"", ""path""=>""l10n/fr_CA/civicrm.po""}
  Current user: XXXXXXX (id=X)
  Rendered text template (0.0ms)
Sent data civicrm.po  (4.7ms)
Completed 200 OK in 807.8ms (Views: 4.5ms | ActiveRecord: 327.4ms)


Started GET ""/projects/civicrm-saas-traduction/repository/revisions/master/raw/l10n/fr_CA/civicrm.po"" for X,X,X,X at 2015-03-30 17:10:28 -0400
Processing by RepositoriesController#raw as */*
  Parameters: {""id""=>""civicrm-saas-traduction"", ""rev""=>""master"", ""path""=>""l10n/fr_CA/civicrm.po""}
  Current user: anonymous
  Rendered text template (0.0ms)
Sent data civicrm.po  (0.8ms)
Completed 200 OK in 33.1ms (Views: 0.7ms | ActiveRecord: 23.1ms)
</pre>

The above is downloading the same ""larger than 64KB"" file twice. No error shows up in the production.log on the second try, but the file is truncated. Note that this works across user, and the phenomenon goes away after a while (say ~24h? need to be confirmed).

Now here's an example of a file *smaller* than 64KB:

<pre>
Started GET ""/projects/kt-sa-debian-upgrades/repository/revisions/master/entry/predict-os-2015-03-19.png"" for 70.83.139.100 at 2015-03-30 17:10
:54 -0400
Processing by RepositoriesController#entry as HTML
  Parameters: {""id""=>""kt-sa-debian-upgrades"", ""rev""=>""master"", ""path""=>""predict-os-2015-03-19.png""}
  Current user: anarcat (id=3)
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
  Rendered text template (0.0ms)
Sent data predict-os-2015-03-19.png  (1.7ms)
Completed 200 OK in 592.4ms (Views: 1.4ms | ActiveRecord: 273.7ms)
Creating scope :sorted. Overwriting existing method Group.sorted.

Started GET ""/projects/kt-sa-debian-upgrades/repository/revisions/master/entry/predict-os-2015-03-19.png"" for 70.83.139.100 at 2015-03-30 17:11
:02 -0400
Processing by RepositoriesController#entry as */*
  Parameters: {""id""=>""kt-sa-debian-upgrades"", ""rev""=>""master"", ""path""=>""predict-os-2015-03-19.png""}
  Current user: anonymous
Completed 500 Internal Server Error in 35.9ms

ArgumentError (invalid byte sequence in UTF-8):
  lib/redmine/core_ext/string.rb:9:in `count'
  lib/redmine/core_ext/string.rb:9:in `is_binary_data?'
  app/controllers/repositories_controller.rb:199:in `is_entry_text_data?'
  app/controllers/repositories_controller.rb:175:in `entry_and_raw'
  app/controllers/repositories_controller.rb:161:in `entry'

</pre>

The first attempt works, the second attempt completely fails with the above 500 error.

<pre>
Environment:
  Redmine version                2.5.1.stable (2.5.1-2~bpo70+5 from Debian, upgraded from 1.4)
  Ruby version                   1.9.3-p194 (2012-04-20) [x86_64-linux]
  Rails version                  3.2.6
  Environment                    production
  Database adapter               MySQL (5.5.41-0+wheezy1)
SCM:
  Subversion                     1.6.17
  Mercurial                      2.2.2
  Cvs                            1.12.13
  Git                            1.9.1
  Filesystem
Redmine plugins:
  redmine_bootstrap_kit          0.2.0
  redmine_git_hosting            0.7.10
  redmine_openid_selector        0.0.1
  redmine_stealth                0.6.0

</pre>"
19532,Redmine,Defect,NA,Closed,Normal,duplicate update entries in activity list,Fabien Camous,NA,2015-03-31T08:51:00Z,Activity view,NA,NA,NA,NA,0,2015-03-31T08:45:00Z,2015-03-31T08:51:00Z,NA,Duplicate,3.0.0,"since I moved to redmine 3.0, I'm getting strange duplicate rows in the activity list. I first thought it was only impacting the project where I've enabled redmine_agile plugin but in reality it impact all projects.

I've tried to search in redmine existing defect list but with no luck; I've looked in the database and I can't see duplicate rows, so I assume the display is duplicated at runtime.

any though ?

!activitylist.PNG!

journals table for issue 2333
!journals_unique.PNG!

journal_details for journal entry id 16636
!journal_details.PNG!

<pre>
Environment:
  Redmine version                3.0.0.stable.14068
  Ruby version                   2.2.0-p0 (2014-12-25) [x86_64-linux]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.8
  redmine_cors                   0.0.1
  redmine_email_images           0.1.1
  redmine_image_clipboard_paste  1.0.0
</pre>

"
19538,Redmine,Defect,NA,Closed,Normal,Keywords in commit messages: journal entries are created even if nothing was changed,Lukas Pirl,Jean-Philippe Lang,2015-04-25T09:21:00Z,SCM,2.6.4,NA,NA,NA,0,2015-03-31T20:30:00Z,2015-04-25T09:21:00Z,NA,Fixed,2.6.0,"Regarding [[RedmineSettings#Referencing-issues-in-commit-messages|Referencing issues in commit messages]]:

Assume I have configured the keyword ""@feedback@"" to set an issue status to @feedback@.
Further, issue @#42@ is already set to @feedback@.
Now I commit with a message ""@feedback #42@"".

*Actual result:* The issue is updated with the journal entry ""@Applied in changeset …@"".

*Desired result:* Since in fact nothing changes/was applied, the issue should not get an additional journal entry."
19539,Redmine,Defect,NA,Closed,Normal,Create project,Richard Fugisse,NA,2015-04-01T01:55:00Z,Projects,NA,NA,NA,NA,0,2015-03-31T22:29:00Z,2015-04-01T01:55:00Z,NA,Invalid,3.0.1,"When i created a new project with trackers selected the Redmine show message error:
trackers is invalid

But all trackers exists."
19547,Redmine,Defect,NA,Closed,Normal,bulk update issues error,地? 蒋,NA,2015-04-30T12:24:00Z,Issues,NA,NA,NA,NA,0,2015-04-02T04:08:00Z,2015-04-30T12:24:00Z,NA,No feedback,2.6.0,"When i update my issues in bulk,I receive the following error:
Proxy Error
The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request?POST?/redmine/issues/bulk_update.
Reason:?Error reading from remote server
"
19553,Redmine,Defect,NA,Closed,Normal,"When create by copying the issue, status can not be changed to default",Hirokazu Onozato,Jean-Philippe Lang,2015-04-25T09:38:00Z,Issues,3.0.2,NA,NA,NA,0,2015-04-03T19:00:00Z,2015-04-25T09:38:00Z,次のチケットが重複 #19565,Fixed,3.0.1,"If create a issue in the following procedure, the status is not correctly registered.

* Copy an issue. (At this point, the status is ""Assigned"")
* Change to other status. (Change to ""New"")
* Pressed to the Create button. Issue is created.
* Created issue status is registered in the pre-changed status. (Registered status is ""Assigned"")

"
19569,Redmine,Defect,NA,Closed,Urgent,Field permissions not working properly with inherited memberships,Ricard F,Jean-Philippe Lang,2015-04-25T09:45:00Z,Permissions and roles,2.6.4,NA,NA,NA,0,2015-04-08T10:26:00Z,2015-04-25T09:45:00Z,次のチケットと重複 #25258,Fixed,3.0.0,"I have a tree of projects, were groups and permissions are assigned in the top of the tree and projects inherit members.

I have several fields (custom and non-custom) which are not required, but required in several Status.

I haven't figured how to 100% reproduce it, but when assigning a user in several groups, and those groups different roles (ex. group developers, groups project managers, with role developer and project manager), the required fields depending on the status are no longer REQUIRED.

Configuration of the fields permission workflow is exactly the same in the role developer and project manager. On the Fields permissions Workflow I can see the ""Required"" keyword on the fields when filtering by role ""all"".

This issue is quite important as we depend on giving permissions to that structure."
19577,Redmine,Defect,NA,Closed,Normal,Open redirect vulnerability with back_url param,Jan from Planio www.plan.io,Jean-Philippe Lang,2015-12-08T06:39:00Z,Security,2.6.7,NA,NA,NA,0,2015-04-09T12:50:00Z,2015-09-13T16:45:00Z,NA,Fixed,NA,"h2. Summary

The valid_back_url? method used e.g. after a login to redirect the user
back to where they came from doesn't properly validate passed URLs
resulting in an open redirect vulnerability which can be used for
phishing and other attacks.

After the redirect to the untrusted site, phishers may then steal the
user’s credentials and then use these credentials to access the
legitimate web site. Because the server name in the modified link is
identical to the original site, phishing attempts have a more
trustworthy appearance.

h2. Description

When redirecting the user back after a successful login,
redirect_back_or_default is trying to validate the passed URL to ensure
that the target of the HTTP 302 redirect is valid.

However, the valid_back_url? method used to validate the URL doesn't
take some cases into account which can result in a redirect to an
arbitrarily chosen host.

Example exploit:

    http : // redmine. example. com/login? back_url=@attacker. com

This URL results in a redirect to

    http : // redmine. example. com @attacker. com

which results in a request to http : // attacker. com with
redmine. example. com passed as a basic auth user.

h2. Credits

This issue was discovered by Yassine ABOUKIR  of
http://yassineaboukir.com/. The patch was developed by Holger Just of
Planio.

h2. Solution

The attached patch fixes this vulnerability. It adapts the
valid_back_url? method to a method called validate_back_url which
returns the validated and cleaned up URL which can be used by the
redirect method.

The patch cleanly applies against the current trunk as well as previous
Redmine versions (including 2.5, 2.6, and 3.0)
"
19581,Redmine,Defect,NA,Closed,High,_redmine_session cookie security flaw,Marcelo Dalmao,NA,2015-04-11T08:08:00Z,Accounts / authentication,NA,NA,NA,NA,0,2015-04-09T17:34:00Z,2015-04-11T08:08:00Z,NA,Invalid,NA,"Once logged in redmine , simply look for the cookie is generated and then use it to log in from another browser, without knowing your user name and password . It's a big security breach because anyone with access to copy the cookie , you can logging of that user without any approval of the person and without being detected."
19588,Redmine,Defect,NA,Closed,Normal,Invalid column size for language pt-BR,Jos? Cavalcanti,NA,2015-06-25T23:53:00Z,Database,NA,NA,NA,NA,0,2015-04-10T16:05:00Z,2015-04-10T16:23:00Z,関連している #20176,Invalid,3.0.1,"I installed Redmine 3.0.1 recently with default language pt-BR, no problem during the instalation. However, when logging in the first time I got error 500. Looking logs I found:
<pre>
Mysql2::Error: Data too long for column 'language' at row 1
</pre>

I saw the table users and confirmed the size of column language is 2, but the language I was trying to put is 'pt-BR' (size 4).

After that I got another errors on non-created tables like `settings`


Full error log:

<pre>
Mysql2::Error: Data too long for column 'language' at row 1: INSERT INTO `users` (`firstname`, `lastname`, `mail`, `language`, `login`, `hashed_password`, `admin`, `created_on`, `updated_on`) VALUES ('Administrator', 'Admin', 'tec.ic.gc@phoebustecnologia.com.br', 'pt-br', 'admin', '594e6525619e6b4f20c0f523c95b0f0830b9c013', 1, '2015-04-10 10:49:29.979955', '2015-04-10 10:49:29.979955')
Mysql2::Error: Unknown column 'roles.builtin' in 'where clause': SELECT  1 AS one FROM `roles` WHERE `roles`.`builtin` = 0 LIMIT 1
Started GET ""/redmine/"" for 127.0.0.1 at 2015-04-10 10:54:23 -0300
Processing by WelcomeController#index as HTML
Mysql2::Error: Table 'bitnami_redmine.settings' doesn't exist: SHOW FULL FIELDS FROM `settings`
Completed 500 Internal Server Error in 0ms

ActiveRecord::StatementInvalid (Mysql2::Error: Table 'bitnami_redmine.settings' doesn't exist: SHOW FULL FIELDS FROM `settings`):
  app/models/setting.rb:186:in `check_cache'
  app/controllers/application_controller.rb:100:in `user_setup'


Started GET ""/redmine/"" for 127.0.0.1 at 2015-04-10 10:56:31 -0300
Processing by WelcomeController#index as HTML
Mysql2::Error: Table 'bitnami_redmine.settings' doesn't exist: SHOW FULL FIELDS FROM `settings`
Completed 500 Internal Server Error in 16ms

ActiveRecord::StatementInvalid (Mysql2::Error: Table 'bitnami_redmine.settings' doesn't exist: SHOW FULL FIELDS FROM `settings`):
  app/models/setting.rb:186:in `check_cache'
  app/controllers/application_controller.rb:100:in `user_setup'
</pre>"
19599,Redmine,Defect,NA,New,Normal,Redmine does not honnor RFC822 4.4.3 reply-to field in incoming emails,Mark Solly,NA,2015-05-10T06:08:00Z,Email receiving,NA,NA,NA,NA,0,2015-04-13T04:35:00Z,NA,NA,NA,NA,"Many modern (or just well-configured) SMTP servers will block a user from impersonating another email address by re-writing the 'from' header into the 'reply-to' header and setting 'from' as the actual sending account name. This caused a problem for me when creating tickets from the email issued by a website contact form. The notifications would go to the wrong address and the user account would not be created.

I'm not clear on weather the responsibility for this should lie with Redmine or Mail::Message but I've patched my Redmine installation with the following code at the start of the receive(email) method in app/models/mail_handler.rb.

If I knew more about Redmine I'd try to make a plugin that solved the issue, perhaps someone else can.

I've verified this problem exists in trunk and 2.6.3.stable.

This is my fix:
<pre><code class=""ruby"">
  # Processes incoming emails
  # Returns the created object (eg. an issue, a message) or false
  def receive(email)
    @email = email
    sender_email = email.from.to_a.first.to_s.strip

    #RFC822 Sections 4.4.3 and 4.4.4 say that if the reply-to field exists, mail should not be sent to the address in the 'from' field.
    #Correct handling of 'reply-to' is required for SMTP servers that do not allow senders to fake the 'from' field.
    #Website contact forms transmitted through a gmail SMTP server are a good example.
    if email['reply-to'].present?
        replyto_email = email['reply_to'].to_s.strip
        logger.info ""Email contains a reply-to field. Will attempt to use '"" + replyto_email + ""' instead of '"" + sender_email + ""'""
        sender_email = replyto_email
    end
</code></pre>

"
19600,Redmine,Defect,NA,Closed,Normal,can't open attcment files that have hebrow file names,moran kaye,NA,2015-05-26T15:43:00Z,Attachments,NA,NA,NA,NA,0,2015-04-13T10:01:00Z,2015-05-26T12:06:00Z,次のチケットと重複 #19374,Duplicate,NA,"when  I try to open an attcment files that has hebrow file name
I get ah error the website can not be desplayed in IE11
"
19602,Redmine,Defect,NA,Needs feedback,Normal,Non-Reporter role cannot see issue list,Huynh Duy,NA,2015-06-30T06:41:00Z,Issues permissions,NA,NA,NA,NA,0,2015-04-13T11:02:00Z,NA,関連している #20206,NA,2.6.5,"I have upgraded Redmine from 2.2.2 to 3.0.1. I do step by step as http://www.redmine.org/projects/redmine/wiki/RedmineUpgrade guide. Everything is ok but when I login by my account (with role 'developer') I cannot see an issue list but I can see an issue detail.
Then I logout my developer account and login by another account  (role 'reporter'). In reporter-account I can see the issue list. I try to assign new task to my developer account but it still doesn't work.

I have changed something such as: I copied 'reporter' role and set its to my developer-account, or changed my developer-account to others role, but not anything changes except 'reporter' role, it's still not show the issue list.Finally I have changed my config to show sql query, I execute this query and it return many data rows. 

My environment
CentOS 6.6 (Final)
Environment:
  Redmine version                3.0.1
  Ruby version                   1.9.3
  Rails version                  4.2.0
  Environment                    production
  Database adapter               SQLite
  Subversion                     2.2.2
Redmine plugins:
  redmine_better_gantt_chart
  redmine_mentions
  redmine_flowdocks"
19606,Redmine,Defect,NA,Closed,Normal,Issue Estimated Time not updated on tracker change,Stephane Evr,Jean-Philippe Lang,2015-04-25T09:49:00Z,Issues,3.0.2,NA,NA,NA,0,2015-04-13T14:51:00Z,2015-04-25T09:49:00Z,NA,Fixed,3.0.1,"The problem occurs when the issue tracker is changed to another which does not have the estimated time field activated:

- Create a main issue with a tracker which has the ""Estimated time"" field
- Create a subtask with a tracker which has also the the ""Estimated time"" field and set it to X hours
- Change the tracker of this subtask to another which does not have the the ""Estimated time"" field activated
- Go to the parent task

Result: Estimated time on the parent task is still X hours

From my searches, I can see that the issue estimated time is not changed in DB. It won't change to null, but remain to X hours."
19610,Redmine,Defect,NA,Closed,Normal,"Attached files with cyrillic ""И"" in the name",Ivan Petrov,NA,2015-04-19T16:47:00Z,Attachments,NA,NA,NA,NA,0,2015-04-13T21:35:00Z,2015-04-14T07:54:00Z,次のチケットと重複 #19374,Duplicate,3.0.1,"If I upload file to attach and it contains cyrillic (russian) letter ""И"" (ASCII code 200) in its name, then this file would be impossible to download later - I click on it and I get ""internal server error"".

Is that a bug? Is there a workaroud?

@Environment:
  Redmine version                3.0.0.stable
  Ruby version                   2.0.0-p594 (2014-10-27) [i386-mingw32]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2@"
19611,Redmine,Defect,NA,Closed,Normal,Hostname with port via colon gets shrinked in e-mail notifications,Ivan Petrov,NA,2015-04-19T16:15:00Z,Email notifications,NA,NA,NA,NA,0,2015-04-13T21:44:00Z,2015-04-14T04:49:00Z,次のチケットと重複 #19323,Duplicate,3.0.0,"I successfully installed Redmine, I specified the hostname like @myserver:12321@ in the settings and it works.

But when I get e-mail notifications, I cannot follow the links in them, because they look like this: @myserver/issues/43@ but they should look like this: @myserver:12321/issues/43@ - so everithing after colon and colon itself disappeared, like it was escaped or something.

Why is this? What should I do to make links in e-mail notifications be correct?

@Environment:
Redmine version 3.0.0.stable
Ruby version 2.0.0-p594 (2014-10-27) [i386-mingw32]
Rails version 4.2.0
Environment production
Database adapter Mysql2@"
19623,Redmine,Defect,NA,Closed,Normal,"While moving to trash, Duplicate issue also moving to trash",kmsrikant kmsrikant,NA,2015-04-14T15:41:00Z,Issues,NA,NA,NA,NA,0,2015-04-14T15:20:00Z,2015-04-14T15:41:00Z,NA,Invalid,NA,"Let say there are 2 same bugs(x & y) logged in the tracker then one bug we made it as #y duplicated by #x.  After that #y moved to trash.  In this case both the bug is moving to trash.

Expected Result: bug #x should not move to trash."
19627,Redmine,Defect,NA,Closed,Normal,Cannot set task.Parent = Grandparent,Ewan Makepeace,NA,2016-01-17T03:40:00Z,Issues,NA,NA,NA,NA,0,2015-04-15T09:54:00Z,2016-01-17T03:40:00Z,次のチケットと重複 #13654,Duplicate,3.0.3,"To reproduce:

# Create a task A
# Creata another task B and set A as parent: B -> A
# Create a third task C and set B as parent  C -> B -> A

Suppose B and  C were both supposed to be children of A:

# Edit C, change the parent field to refer to A instead of B
# Save fails.
# Edit C, change the parent field to nothing.
# Save succeeds
# Edit C, change the parent field to A
# Save succeeds

So it is only possible to make C a child of A by first removing it from B. There seems to be no justification for this?"
19628,Redmine,Defect,NA,Needs feedback,Low,Padding in Issue textarea,Guillaume Jousse,NA,2015-05-15T06:24:00Z,UI,NA,NA,NA,NA,0,2015-04-15T12:12:00Z,NA,NA,NA,NA,"Would be nice to have some padding in the textarea : 

stylesheets/jstoolbar.css

Line 4 
.jstEditor textarea, .jstEditor iframe {
    padding: 8px;
}

Many Thanks"
19654,Redmine,Defect,NA,Closed,Normal,Howto move from localhost/redmine to localhost,Nika Bondar,NA,2015-04-17T17:38:00Z,NA,NA,NA,NA,NA,0,2015-04-17T16:25:00Z,2015-04-17T17:38:00Z,NA,Invalid,NA,"I searched in forums, but saw only about sub-url guids. 
So I try to move redmine from http://localhost/redmine to http://localhost/.

I used http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_25x_on_Ubuntu_1404_with_Apache2_Phusion_Passenger_MySQL_and_Subversion this tutorial thoe."
19656,Redmine,Defect,NA,Closed,Normal,Activities do not correspont to project when adding time from my page.,Zer Guz,Jean-Philippe Lang,2015-05-30T10:39:00Z,Time tracking,3.1.0,NA,NA,NA,0,2015-04-17T19:33:00Z,2015-05-30T10:39:00Z,関連している #20117,Fixed,2.6.5,"Steps to reproduce:
* Go to ""My page"" and chose ""Log time"".
* Chose a project that has a non-default list of activities.
* Try to chose an activity -> it shows the default list of activities that does not correspond to the chosen project.

This problem does not occur when logging directly from an issue, as the project is already chosen for you."
19657,Redmine,Defect,NA,Closed,Normal,Can't reorder activities after disabling activities on a project,Zer Guz,Jean-Philippe Lang,2015-09-30T20:38:00Z,Administration,3.2.0,NA,NA,NA,0,2015-04-17T19:45:00Z,2015-09-30T20:37:00Z,関連している #20117,Fixed,3.0.0,"Steps to reproduce:
* Add an activity item -> it appears in the bottom of the list.
* Try to move this last item one level up -> it doesn't move.

Moving the item directly to the top works. Then you can move it one level down and up. Only the last item won't move one level up."
19660,Redmine,Defect,NA,New,Low,Issue relation removal is not displayed properly on the issue histsory,Benoit Duffez,NA,2015-09-23T16:41:00Z,Issues,NA,NA,NA,NA,0,2015-04-19T13:16:00Z,NA,関連している #1005,NA,NA,"This is a very minor issue, but when adding an issue relation, the log shows something like:

    Related to Bug #689: blah blah blah blah

Removing this relation gives something like:

    Related to deleted (Bug #689: blah blah blah blah)

I think it would be better to change this to:

    -Related to Bug #689: blah blah blah blah-

It would indicate clearly that the issue was related to #xyz but it's no longer the case anymore.

Seen with:

* Redmine 3.0.1
* Linux 3.17 x86_64
* Ruby 1.9.3-p551"
19679,Redmine,Defect,NA,Needs feedback,High,One user reseave values in head of other users,Petr Losa,NA,2015-04-22T11:48:00Z,Issues,NA,NA,NA,NA,0,2015-04-22T10:59:00Z,NA,NA,NA,2.5.1,"We have a problem with rewrite data if one user save and other user resave data.

Scenario:
1. First user create new issue. Set *Status* to *new* and set *Done* to *0%*
2. Second user in diferent browser on diferent computer open this issue and nothin do it, only open this issue.
3. The first user change *Done* from *0%* to *20%* and save it.
4. Second user perform refresh (F5) in browser. After refresh update *Version* from *1.0* to *1.2* and *there is the problem*. With the change *Version* is changed also *Done* from *20%* back to *0%*

We simulated this problem several times. I know, we have version 2.5.1, is this bug repaired in newer version?"
19693,Redmine,Defect,NA,New,Normal,Context menu is unaware of the field permissions,匿名ユーザー,NA,2015-06-13T06:59:00Z,Issues,NA,NA,NA,NA,0,2015-04-23T07:42:00Z,2015-04-25T09:44:00Z,NA,NA,3.0.1,"User can see the field via context menu even if that field is not visible for that user.
Steps to reproduce: Create a custom filed with visibility set for Manager only. Log in as member and from the issue list, right click on the issue to see the hidden field."
19700,Redmine,Defect,NA,Closed,Normal,User not in a specified public project could add issues to the project,icdc user,NA,2015-04-24T05:55:00Z,NA,NA,NA,NA,NA,0,2015-04-24T05:38:00Z,2015-04-24T05:55:00Z,NA,Invalid,NA,"We use Redmine to set up a project management website. And now we encounter a problem, maybe the concepts are obscured.

We create a public project P, and user A is not in this project. When user A logins in, he could view project P, which is understandable.
But we find user A can also add issues to project A without any authority.

Is this a bug? Or should we change project P to a private one? Thank you!"
19705,Redmine,Defect,NA,Closed,High,Cannot sort issues by custom field,Zack Shahan,NA,2015-04-24T18:47:00Z,NA,NA,NA,NA,NA,0,2015-04-24T16:30:00Z,2015-04-24T18:47:00Z,NA,Invalid,NA,"When attempting to sort issues, all columns will sort except custom fields.  When attempting to sort via a custom field, I get a 500 error.

<pre>
Completed 500 Internal Server Error in 74ms (ActiveRecord: 5.2ms)

ArgumentError (wrong number of arguments (0 for 1..2)):
  app/models/issue_query.rb:343:in `issues'
  app/controllers/issues_controller.rb:70:in `index'
</pre>


<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.1.4-p265 (2014-10-27) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            2.3.3
  Filesystem
Redmine plugins:
  advanced_roadmap_v2            2.4.0
  redmine_bootstrap_kit          0.2.3
  redmine_category_watchers      0.0.1
  redmine_checklists             3.1.1
  redmine_ckeditor               1.1.0
  redmine_dashboard              2.5.0
  redmine_issue_reminder         0.0.1
  redmine_jenkins                1.0.1
  redmine_journal_folder         0.0.1
  redmine_wiki_extensions        0.7.0
  redmine_wiki_lists             0.0.4
  redmine_workflow_hidden_fields 0.2.0
  view_customize                 1.1.2
</pre>"
19721,Redmine,Defect,NA,Needs feedback,Normal,Upgrade from 2.6.4 to 3.0.2 fails with Mysql2::Error: Table 'email_addresses' already exists:,Deoren Moor,NA,2015-05-13T16:23:00Z,Database,NA,NA,NA,NA,0,2015-04-28T06:07:00Z,NA,NA,NA,3.0.2,"I started with a working Redmine 2.6.4 installation on an Ubuntu 12.04 LTS box with Ruby 1.8.7. These are the steps I took in my attempt to upgrade to Redmine 3.0.2:

# @apt-get install ruby1.9.3 -y@
# @apt-get remove ruby1.8 ruby1.8-dev -y@
# @cd /opt/redmine@
# @svn sw http://svn.redmine.org/redmine/tags/3.0.2@
# @sed -i 's/adapter: mysql/adapter: mysql2/g' /opt/redmine/config/database.yml@
# @gem install bundle@
# @bundle update@
# @rm -f config/initializers/secret_token.rb@
# @bundle exec rake generate_secret_token@
# @bundle exec rake db:migrate RAILS_ENV=production --trace@
# @bundle exec rake tmp:cache:clear@
# @bundle exec rake tmp:sessions:clear@
# @chown -R www-data /opt/redmine@
# @chmod +x /opt/redmine/extra/mail_handler/rdm-mailhandler.rb@

I didn't make it past step 10:

@bundle exec rake db:migrate RAILS_ENV=production --trace@
<pre>
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
** Invoke db:load_config (first_time)
** Execute db:load_config
** Execute db:migrate
== 20141029181752 AddTrackersDefaultStatusId: migrating =======================
-- add_column(:trackers, :default_status_id, :integer)
   -> 0.0211s
== 20141029181752 AddTrackersDefaultStatusId: migrated (0.0843s) ==============

== 20141029181824 RemoveIssueStatusesIsDefault: migrating =====================
-- remove_column(:issue_statuses, :is_default)
   -> 0.0170s
== 20141029181824 RemoveIssueStatusesIsDefault: migrated (0.0172s) ============

== 20141109112308 AddRolesUsersVisibility: migrating ==========================
-- add_column(:roles, :users_visibility, :string, {:limit=>30, :default=>""all"", :null=>false})
   -> 0.0176s
== 20141109112308 AddRolesUsersVisibility: migrated (0.0179s) =================

== 20141122124142 AddWikiRedirectsRedirectsToWikiId: migrating ================
-- add_column(:wiki_redirects, :redirects_to_wiki_id, :integer)
   -> 0.0183s
-- change_column(:wiki_redirects, :redirects_to_wiki_id, :integer, {:null=>false})
   -> 0.0195s
== 20141122124142 AddWikiRedirectsRedirectsToWikiId: migrated (0.0467s) =======

== 20150113194759 CreateEmailAddresses: migrating =============================
-- create_table(:email_addresses)
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

Mysql2::Error: Table 'email_addresses' already exists: CREATE TABLE `email_addresses` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11) NOT NULL, `address` varchar(255) NOT NULL, `is_default` tinyint(1) DEFAULT 0 NOT NULL, `notify` tinyint(1) DEFAULT 1 NOT NULL, `created_on` datetime NOT NULL, `updated_on` datetime NOT NULL) ENGINE=InnoDB/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `query'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `block in execute'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:473:in `block in log'
/var/lib/gems/1.9.1/gems/activesupport-4.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:467:in `log'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `execute'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/mysql2_adapter.rb:231:in `execute'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:208:in `create_table'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:462:in `create_table'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:662:in `block in method_missing'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:632:in `block in say_with_time'
/usr/lib/ruby/1.9.1/benchmark.rb:280:in `measure'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:632:in `say_with_time'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:652:in `method_missing'
/opt/redmine/db/migrate/20150113194759_create_email_addresses.rb:3:in `change'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:606:in `exec_migration'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:590:in `block (2 levels) in migrate'
/usr/lib/ruby/1.9.1/benchmark.rb:280:in `measure'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:589:in `block in migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:292:in `with_connection'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:588:in `migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:765:in `migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:995:in `block in execute_migration_in_transaction'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:1043:in `ddl_transaction'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:994:in `execute_migration_in_transaction'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:956:in `block in migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:952:in `each'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:952:in `migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:820:in `up'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/migration.rb:798:in `migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/tasks/database_tasks.rb:137:in `migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.1/lib/active_record/railties/databases.rake:44:in `block (2 levels) in <top (required)>'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:240:in `call'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:240:in `block in execute'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:235:in `each'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:235:in `execute'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:179:in `block in invoke_with_call_chain'
/usr/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:172:in `invoke_with_call_chain'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/task.rb:165:in `invoke'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:150:in `invoke_task'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:106:in `block (2 levels) in top_level'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:106:in `each'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:106:in `block in top_level'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:115:in `run_with_threads'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:100:in `top_level'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:78:in `block in run'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/var/lib/gems/1.9.1/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'
/var/lib/gems/1.9.1/gems/rake-10.4.2/bin/rake:33:in `<top (required)>'
/usr/local/bin/rake:19:in `load'
/usr/local/bin/rake:19:in `<main>'
Tasks: TOP => db:migrate
</pre>

@bundle list@

<pre>
Gems included by the bundle:
  * actionmailer (4.2.1)
  * actionpack (4.2.1)
  * actionpack-action_caching (1.1.1)
  * actionpack-xml_parser (1.0.2)
  * actionview (4.2.1)
  * activejob (4.2.1)
  * activemodel (4.2.1)
  * activerecord (4.2.1)
  * activesupport (4.2.1)
  * arel (6.0.0)
  * builder (3.2.2)
  * bundler (1.9.4)
  * coderay (1.1.0)
  * daemon_controller (1.2.0)
  * erubis (2.7.0)
  * globalid (0.3.5)
  * i18n (0.7.0)
  * jquery-rails (3.1.2)
  * json (1.8.2)
  * loofah (2.0.1)
  * mail (2.6.3)
  * mime-types (2.5)
  * mini_portile (0.6.2)
  * minitest (5.6.1)
  * mysql2 (0.3.18)
  * net-ldap (0.3.1)
  * nokogiri (1.6.6.2)
  * passenger (4.0.57)
  * protected_attributes (1.0.9)
  * rack (1.6.0)
  * rack-openid (1.4.2)
  * rack-test (0.6.3)
  * rails (4.2.1)
  * rails-deprecated_sanitizer (1.0.3)
  * rails-dom-testing (1.0.6)
  * rails-html-sanitizer (1.0.2)
  * railties (4.2.1)
  * rake (10.4.2)
  * rbpdf (1.18.5)
  * rdoc (4.2.0)
  * redcarpet (3.1.2)
  * request_store (1.0.5)
  * rmagick (2.13.4)
  * ruby-openid (2.3.0)
  * sprockets (3.0.3)
  * sprockets-rails (2.2.4)
  * thor (0.19.1)
  * thread_safe (0.3.5)
  * tzinfo (1.2.2)
  * yard (0.8.7.6)
</pre>"
19729,Redmine,Defect,NA,Closed,High,create task from message,arsen tamazyan,NA,2015-04-28T15:49:00Z,Issues,NA,NA,NA,NA,0,2015-04-28T14:25:00Z,2015-04-28T15:49:00Z,NA,Invalid,NA,"Receiving messages works. But when I create a task, not all items are filled in. But I fill out all the items in the message."
19740,Redmine,Defect,NA,Closed,Normal,"""Truncate emails after one of these lines"" setting is not working",Deoren Moor,NA,2015-07-14T02:13:00Z,Email receiving,3.1.0,NA,NA,NA,0,2015-04-29T16:51:00Z,2015-07-14T02:13:00Z,"関連している #16962, 関連している #12025, 関連している #15716",Fixed,3.0.2,"This may be related to the problem reported on #19737, but along with the improper handling of Outlook emails the Truncate option doesn't appear to be working. I've tested using Outlook emails, Exchange webmail and Mozilla Thunderbird.

So far the Truncate option is respected when:

* Using Outlook and responding after converting to Plaintext
* Using Exchange web and leaving in HTML format
* Using Exchange web and converting to Plaintext
* Using Mozilla Thunderbird and leaving in HTML format
* Using Mozilla Thunderbird and converting to Plaintext

So far the problem appears to be limited to Outlook email replies in HTML format."
19741,Redmine,Defect,NA,Closed,Normal,RedmineInstall: Step 9 not correct for Redmine 3.x,@ go2null,NA,2015-05-08T03:34:00Z,Documentation,NA,NA,NA,NA,0,2015-04-29T22:25:00Z,2015-05-08T03:34:00Z,NA,NA,3.0.0,"Need a new bullet.

<pre>
* with Redmine 3.x:

<pre>bundle exec ruby bin/rails server webrick -e production</pre>
</pre>"
19786,Redmine,Defect,NA,New,Normal,'%' and '_' are treated as SQL wildcards in issue filter,Go MAEDA,NA,2015-05-08T06:43:00Z,Issues,NA,NA,NA,NA,0,2015-05-08T06:43:00Z,NA,NA,NA,3.0.2,"Please see the following screenshot. ""m_nag%r"" matches ""manager"". Is this an expected behavior?

!issue-filter-screenshot.png!"
19789,Redmine,Defect,NA,Closed,Urgent,redmine 使用?接性大姨?，老是突然很?，所有人都不能??一直?在?里，然后突然又好了,charles feng,NA,2015-05-08T11:20:00Z,NA,NA,NA,NA,NA,0,2015-05-08T10:25:00Z,2015-05-08T11:20:00Z,NA,NA,2.6.0,"有?候 1-30分? 不能??，且?常出?。 有没有大神?到?同?的??。

?件???送，mongrel 服?器 都用了 网上的主流解决方案我都???了 ?是不行"
19791,Redmine,Defect,NA,New,Normal,"If user using customized theme with special characters in folder name, the generated stylesheet's URL won't be valid",Jethro Yu,NA,2015-05-10T18:58:00Z,Themes,NA,NA,NA,NA,0,2015-05-08T12:01:00Z,NA,NA,NA,2.6.3,"I report this because the special case can cause error in my plugin, redmine_issue_reminder

h1. Overview Description:

If user use folder named ""circle space"" in redmine for customized theme, the generated page can use:

<pre>
    <link href=""/themes/circle%20space/stylesheets/application.css"" media=""all"" rel=""stylesheet"" type=""text/css"">
</pre>

But **not**:

<pre>
    <link href=""/themes/circle space/stylesheets/application.css"" media=""all"" rel=""stylesheet"" type=""text/css"">
</pre>

h1. href syntax : is it okay to have space in file name?

""HTML: href syntax : is it okay to have space in file name - Stack Overflow"":http://stackoverflow.com/questions/4172579/html-href-syntax-is-it-okay-to-have-space-in-file-name

> If user using customized theme with special characters in folder name, the generated stylesheet's URL is not valid 
> 
> The href attribute should contain a *valid URL[1]*. Since *space characters are not allowed[2]* in URLs, you have to *encode them[3]*.

h1. The Patch

The patch only escapes String but not Symbol, so it may be not a full solution.

h1. logs

<pre>
sh: 1: svn: not found
sh: 1: darcs: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                2.6.3.stable
  Ruby version                   2.0.0-p598 (2014-11-13) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Mercurial                      2.8.2
  Git                            1.9.1
  Filesystem
Redmine plugins:
  clipboard_image_paste          1.9
  progressive_projects_list      1.0.0
  redmine_bootstrap_kit          0.1
  redmine_didyoumean             1.2.0
  redmine_graphs                 0.1.0
  redmine_image_clipboard_paste  1.0.0
  redmine_issue_reminder         3.0.0
  redmine_issue_templates        0.1.0
  redmine_keyboard_shortcuts     0.0.1
  redmine_lightbox               0.0.8
  redmine_stealth                0.6.0
  redmine_zenedit                0.0.2
  scrum                          0.9.1
  sidebar_hide                   0.0.7
</pre>


fn1. http://en.wikipedia.org/wiki/URL#Syntax

fn2. http://stackoverflow.com/questions/497908/are-urls-allowed-to-have-a-space-in-them

fn3. http://www.w3schools.com/TAGS/ref_urlencode.asp
"
19795,Redmine,Defect,NA,Closed,Normal,Broken link to syntax help,Sergey Chernov,NA,2015-06-02T17:00:00Z,UI,NA,NA,NA,NA,0,2015-05-08T15:06:00Z,2015-06-02T17:00:00Z,NA,Invalid,3.0.2,instead of a link to the syntax help it whows plain text '/help/en/wiki_syntax.html'.
19796,Redmine,Defect,NA,Closed,Normal,New issue status does not appear in workflow and can't be used,Sergey Chernov,NA,2015-05-11T12:51:00Z,Issues workflow,NA,NA,NA,NA,0,2015-05-08T15:07:00Z,2015-05-09T10:00:00Z,NA,Invalid,3.0.2,"Redmine version                3.0.2.stable
  Ruby version                   2.2.2-p95 (2015-04-13) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               PostgreSQL"
19811,Redmine,Defect,NA,New,Normal,Attachment back_url in login,Anton Antilopa,NA,2015-06-10T07:05:00Z,Attachments,NA,NA,NA,NA,0,2015-05-11T14:52:00Z,NA,NA,NA,3.0.2,"When user needs to be authenticated to download an attachment, he/she logs in as usual, but because the @back_url@ points to a file download instead of a HTML page, the login form stays visible.

This is confusing some users. I believe the page should be refreshed automatically to show the @welcome#index@.

Is this fixable? For now I just extended the @attachment#show@ to also work for binary files (show the download link), but it doesn't look very good and it doesn't fix the @attachment#download@ links in @back_url@, only the @attachment#show@ ones.

{{collapse(Environment)
<pre>
  Redmine version                3.0.2.stable
  Ruby version                   1.9.3-p194 (2012-04-20) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2</pre>
}}
"
19812,Redmine,Defect,NA,Needs feedback,Normal,Chinese characters crashes Redmine 3.0.,Gerardo Delgado,NA,2015-05-12T20:14:00Z,Issues,NA,NA,NA,NA,0,2015-05-11T18:13:00Z,NA,NA,NA,3.0.0,"Whenever the below Chinese characters are entered into a post in Redmine it crashes the web portal. Not sure if this is an issue with local YAML localization or additional settings need to be enabled to prevent this.

"
19814,Redmine,Defect,NA,Closed,Normal,Carga masiva de datos,Esteban Torres,NA,2015-05-12T02:07:00Z,Database,NA,NA,NA,NA,0,2015-05-11T23:03:00Z,2015-05-12T02:07:00Z,NA,Invalid,2.3.3,"Tengo instalado Redmine con los siguientes datos, y necesito hacer una carga masiva de datos desde Excel de acuerdo a los campos personalizados que tengo, por favor su ayuda con una soluci?n. Gracias

Environment:
  Redmine version                2.3.3.stable
  Ruby version                   1.9.3-p448 (2013-06-27) [x86_64-linux]
  Rails version                  3.2.13
  Environment                    production
  Database adapter               Mysql2"
19815,Redmine,Defect,NA,Closed,Normal,Bulk issue copy copies subtasks and attachments even if option is unchecked,Oleg Fedotkin,Jean-Philippe Lang,2015-05-30T10:09:00Z,Issues,2.6.6,NA,NA,NA,0,2015-05-12T10:56:00Z,2015-05-30T10:09:00Z,NA,Fixed,NA,"When I'm bulk editing issues, doesn't matter if I checked ""copy subtasks"" checkbox, they will be copied anyway. I guess it's because

<%= hidden_field_tag 'copy_subtasks', '0' %>
<p>
  <label for='copy_subtasks'><%= l(:label_copy_subtasks) %></label>
  <%= check_box_tag 'copy_subtasks', '1', false %>
</p>

Form passes copy_subtasks parameter anyway. And in controller there's ""present"" check on copy_subtasks param. But both '0' and '1' value are present."
19820,Redmine,Defect,NA,Closed,Normal,SCM diff view  crashes on some commits in Redmine 3.0.3,Beno?t Courtine,NA,2016-01-03T17:55:00Z,SCM,NA,NA,NA,NA,0,2015-05-12T16:07:00Z,2015-05-12T18:39:00Z,NA,Invalid,3.0.3,"I just migrated a Redmine instance from 2.5.1 to 3.0.3, and discovered a regression. We use git as SCM.

In the SCM view, the file diff page crashes (internal server error) on several commits (the same page with the same commit is correct in version 2.5.1).

I could neither find the reason of this crash nor the common point of the crashing commits (the problem concerns only a few number of commits).

Here is the error log when the crash occurs:

<pre>
Processing by RepositoriesController#diff as HTML
  Parameters: {""id""=>""my-project"", ""rev""=>""6a1965444b30020730416f4aa9540874fc4e6d02"", ""path""=>""batchs/src/main/java/com/company/File.java""}
  Current user: bcourtine (id=26)
Read fragment views/repositories/diff/3/c673bdad9f8b301a97c9dfcb0656c093 (19.9ms)
Read fragment views/repositories/diff/3/c673bdad9f8b301a97c9dfcb0656c093/5bbdde9de6be260b043673887b4894a5 (0.2ms)
  Rendered common/_diff.html.erb (5.2ms)
  Rendered repositories/diff.html.erb within layouts/base (10.7ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 11.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    1: <% diff = Redmine::UnifiedDiff.new(
    2:             diff, :type => diff_type,
    3:             :max_lines => Setting.diff_max_lines_displayed.to_i,
    4:             :style => diff_style) -%>
  lib/redmine/unified_diff.rb:31:in `initialize'
  app/views/common/_diff.html.erb:1:in `new'
  app/views/common/_diff.html.erb:1:in `_app_views_common__diff_html_erb___96846821702686826_70363864763580'
  app/views/repositories/diff.html.erb:16:in `block in _app_views_repositories_diff_html_erb___4167826210359697366_70363864619900'
  app/views/repositories/diff.html.erb:15:in `_app_views_repositories_diff_html_erb___4167826210359697366_70363864619900'
</pre>"
19821,Redmine,Defect,NA,Closed,Normal,Failed to upgrade to latest Redmine version,Azim Zakhidov,NA,2015-05-23T09:12:00Z,Database,NA,NA,NA,NA,0,2015-05-12T20:20:00Z,2015-05-23T09:12:00Z,NA,Invalid,3.0.3,"We are trying to update from Redmine v2 to latest v3

after running db:migrate scripts we got the errors of the missing users.mail column

we had to comment out the whole db/migrate/20150113213922_remove_users_mail.rb otherwise migration was breaking the redmine"
19834,Redmine,Defect,NA,Closed,Normal,Login shows internal host/IP to internet public,Jorge S.,NA,2015-05-23T09:13:00Z,Security,NA,NA,NA,NA,0,2015-05-13T22:09:00Z,2015-05-23T09:13:00Z,NA,Invalid,3.0.3,"When setting Require Authentication under Authentication, when you log out, you are redirected to login page, whose URL is:

https://tracker.xxxx.com.ar/login?back_url=http%3A%2F%2Ftracker.intranet.xxxx.com.ar%2F

In another installation, I see also:

https://tracker.xxxx.com.ar/login?back_url=http%3A%2F%2F192.168.1.4%2F

(The private IP).

It must be noted that BOTH installations run with Nginx as Reverse Proxy.

In my case, Nginx is listening on port 80 and based on the host redirects to my server which has Apache2 + Redmine working."
19835,Redmine,Defect,NA,Closed,Normal,Newlines stripped from CVS commit messages,Jim Naslund,Jean-Philippe Lang,2015-06-13T13:11:00Z,SCM,3.0.4,NA,NA,NA,0,2015-05-14T01:22:00Z,2015-06-13T13:11:00Z,NA,Fixed,3.0.3,"I noticed this in 3.0.3 but I think the issue was introduced with ""this"":https://github.com/redmine/redmine/commit/2d1866d966d94c688f9cb87c5bf3f096dffac844#diff-d761ec446fc6d854f73974c4206a7e40R171 change.

This is on Linux with the 3.0.3 tarball, rails 4.2.1, ruby 2.2.2-p95, CVS 1.12.13 and mysql 5.6.24 with the msyql2 adapter.

A quick fix that seems to work is:
<pre>
diff --git a/lib/redmine/scm/adapters/cvs_adapter.rb b/lib/redmine/scm/adapters/cvs_adapter.rb
index 92be438..8aceca6 100644
--- a/lib/redmine/scm/adapters/cvs_adapter.rb
+++ b/lib/redmine/scm/adapters/cvs_adapter.rb
@@ -260,7 +260,7 @@ module Redmine
                   #                  version.line_minus = 0
                   #                end
                 else
-                  commit_log << line unless line =~ /^\*\*\* empty log message \*\*\*/
+                  commit_log << line << ""\n"" unless line =~ /^\*\*\* empty log message \*\*\*/
                 end
               end
             end
</pre>
but I'm not sure if something should be done with the encoding."
19840,Redmine,Defect,NA,Closed,Normal,Missing validation for description size of versions,Bruno Orcha Garc?a,Jean-Philippe Lang,2015-05-30T10:11:00Z,Project settings,2.6.6,NA,NA,NA,0,2015-05-14T15:24:00Z,2015-05-30T10:11:00Z,NA,Fixed,2.6.5,"We're using redmine 2.6.5. When you're creating a new version from the prjoect settings and try to write a log description (greatest of 255 characters) an internal error is shown.

Reviewing logs an error in the database appears with the message: ""@value too long for type character varying(255)@""

It appears that the maximum size of the description of the versions is not checked."
19842,Redmine,Defect,NA,Closed,High,"User allowed to manage public queries in any project, can create public query visible to everyone for ALL projects",Maria Tikhonova,Jean-Philippe Lang,2015-07-05T12:34:00Z,Issues,3.0.4,NA,NA,NA,0,2015-05-14T17:38:00Z,2015-07-05T12:34:00Z,NA,Fixed,NA,"If user is allowed to manage public queries in some project, from this project he will be able to create query:
- visible to any users
- for any project

in the same time.

Those options must be mutually exclusive."
19844,Redmine,Defect,NA,Closed,Normal,Roles are not aligned on new member form,James H,Jean-Philippe Lang,2015-06-17T20:20:00Z,UI,3.0.4,NA,NA,NA,0,2015-05-14T21:51:00Z,2015-06-17T20:11:00Z,NA,Fixed,NA,"The new interface for adding new members to a project is harder to use than the previous version because of the way it displays the list of users and members.

Our system has more than 30 roles and many users. The list of users and roles gets placed into the boxes and the formatting is such that the checkboxes are not aligned or grouped with anything and so it does not stay with its label.
e.g. you can have a checkbox on one line and the label for that checkbox will be on the line below that (or split up, etc.).

I propose that if you want to keep the current interface, at least separate or ""block"" the label + checkbox together so they are always displayed together as a ""unit"".
Or revert back to a similar style as the last interface."
19884,Redmine,Defect,NA,Closed,Normal,address column in WHERE clause is ambiguous,Future Link Corporation pkgsrc team,NA,2015-05-20T05:05:00Z,NA,NA,NA,NA,NA,0,2015-05-19T22:21:00Z,2015-05-20T05:05:00Z,次のチケットと重複 #19485,Duplicate,NA,"See: source:trunk/app/models/user.rb#L133

Easy to reproduce in 3.0.3:

# Commit to repo;
# View Repository tab in project;
# Application throws 500 error;

{{collapse(Click to expand error...)
Started GET ""/projects/my_sweet_project/repository"" for 127.0.0.1 at 2015-05-19 15:47:25
-0400
Processing by RepositoriesController#show as HTML
  Parameters: {""id""=>""my_sweet_project""}
  Current user: bofh (id=69)
Mysql2::Error: Column 'address' in where clause is ambiguous: SELECT  DISTINCT `users`.* FROM `users` INNER JOIN `email_addresses` ON `email_addresses`.`user_id` = `users`.`id` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND (LOWER(address) IN ('pkgsrc@futurelinkcorporation.com'))  ORDER BY `users`.`id` ASC LIMIT 1
Completed 500 Internal Server Error in 264ms (ActiveRecord: 17.9ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Column 'address' in where clauseis ambiguous: SELECT  DISTINCT `users`.* FROM `users` INNER JOIN `email_addresses` ON `email_addresses`.`user_id` = `users`.`id` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND (LOWER(address) IN 'pkgsrc@futurelinkcorporation.com'
))  ORDER BY `users`.`id` ASC LIMIT 1):
  app/models/user.rb:445:in `find_by_mail'
  app/models/repository.rb:324:in `find_committer_user'
  app/models/changeset.rb:98:in `before_create_cs'
  app/models/repository/git.rb:218:in `save_revision'
  app/models/repository/git.rb:207:in `block (2 levels) in save_revisions'
  app/models/repository/git.rb:204:in `block in save_revisions'
  app/models/repository/git.rb:203:in `each'
  app/models/repository/git.rb:203:in `save_revisions'
  app/models/repository/git.rb:153:in `fetch_changesets'
  app/controllers/repositories_controller.rb:114:in `show'
}}

Patch attached. Note: I'm not a Ruby programmer. There might be better ways to fix this."
19898,Redmine,Defect,NA,Closed,Normal,Plugin Issue : Plugin redmine_Save_spent_time_entries not working for redmine 3.0,Ami Desai,NA,2015-05-21T08:26:00Z,Plugin API,NA,NA,NA,NA,0,2015-05-21T07:35:00Z,2015-05-21T08:26:00Z,NA,Invalid,3.0.3,"Redmine does not provide any facility to save the spent time queries. So, i used this with Redmine's previous version and it worked amazingly fine.


But as i am trying to shift to Redmine 3.0.3 (currently latest) version, it throws this error:
ArgumentError (wrong number of arguments (1 for 0)):
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/scoping/named.rb:24:in `all'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/relation/delegation.rb:94:in `public_send'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/relation/delegation.rb:94:in `block in method_missing'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/relation.rb:302:in `scoping'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/relation/delegation.rb:94:in `method_missing'
  plugins/redmine_save_spent_time_queries/lib/spent_time_patch.rb:121:in `block (2 levels) in index_with_group'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/mime_responds.rb:215:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/mime_responds.rb:215:in `respond_to'
  plugins/redmine_save_spent_time_queries/lib/spent_time_patch.rb:116:in `index_with_group'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/abstract_controller/base.rb:198:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/rendering.rb:10:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:117:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:117:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:505:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:505:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:92:in `_run_callbacks'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:776:in `_run_process_action_callbacks'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/abstract_controller/callbacks.rb:19:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/rescue.rb:29:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/notifications.rb:164:in `block in instrument'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/notifications.rb:164:in `instrument'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/abstract_controller/base.rb:137:in `process'
  vendor/bundle/ruby/2.0.0/gems/actionview-4.2.1/lib/action_view/rendering.rb:30:in `process'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal.rb:196:in `dispatch'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_controller/metal.rb:237:in `block in action'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/routing/route_set.rb:74:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/routing/route_set.rb:43:in `serve'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/journey/router.rb:43:in `block in serve'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/journey/router.rb:30:in `each'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/journey/router.rb:30:in `serve'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/routing/route_set.rb:819:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-openid-1.4.2/lib/rack/openid.rb:98:in `call'
  vendor/bundle/ruby/2.0.0/gems/request_store-1.0.5/lib/request_store/middleware.rb:9:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/etag.rb:24:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/conditionalget.rb:25:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/head.rb:13:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-xml_parser-1.0.1/lib/action_dispatch/xml_params_parser.rb:16:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/flash.rb:260:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/session/abstract/id.rb:225:in `context'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/session/abstract/id.rb:220:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/cookies.rb:560:in `call'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/query_cache.rb:36:in `call'
  vendor/bundle/ruby/2.0.0/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:88:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:88:in `_run_callbacks'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/callbacks.rb:81:in `run_callbacks'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/rack/logger.rb:38:in `call_app'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/rack/logger.rb:20:in `block in call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/tagged_logging.rb:68:in `block in tagged'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/tagged_logging.rb:26:in `tagged'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/tagged_logging.rb:68:in `tagged'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/rack/logger.rb:20:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/request_id.rb:21:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/methodoverride.rb:22:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/runtime.rb:18:in `call'
  vendor/bundle/ruby/2.0.0/gems/activesupport-4.2.1/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  vendor/bundle/ruby/2.0.0/gems/actionpack-4.2.1/lib/action_dispatch/middleware/static.rb:113:in `call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/sendfile.rb:113:in `call'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/engine.rb:518:in `call'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/application.rb:164:in `call'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/railtie.rb:194:in `public_send'
  vendor/bundle/ruby/2.0.0/gems/railties-4.2.1/lib/rails/railtie.rb:194:in `method_missing'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/urlmap.rb:66:in `block in call'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/urlmap.rb:50:in `each'
  vendor/bundle/ruby/2.0.0/gems/rack-1.6.0/lib/rack/urlmap.rb:50:in `call'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:82:in `block in pre_process'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `catch'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:80:in `pre_process'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:55:in `process'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/connection.rb:41:in `receive_data'
  vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.3-x86-mingw32/lib/eventmachine.rb:187:in `run_machine'
  vendor/bundle/ruby/2.0.0/gems/eventmachine-1.0.3-x86-mingw32/lib/eventmachine.rb:187:in `run'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/backends/base.rb:73:in `start'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/server.rb:162:in `start'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/controllers/controller.rb:87:in `start'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:200:in `run_command'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/lib/thin/runner.rb:156:in `run!'
  vendor/bundle/ruby/2.0.0/gems/thin-1.6.1-x86-mingw32/bin/thin:6:in `<top (required)>'
  bin/thin:16:in `load'
  bin/thin:16:in `<main>'


Please kindly do help either to update the plugin as per latest redmine version or implement the same in Redmine's core functionality as it is extremely needed component."
19902,Redmine,Defect,NA,Closed,Normal,can i send email through proxy ?,patrick wu,NA,2015-05-21T12:51:00Z,NA,NA,NA,NA,NA,0,2015-05-21T11:27:00Z,2015-05-21T12:51:00Z,NA,Invalid,NA,"the redmine  server is under the local area network ,so it can't connect the email server directly ,can i config the proxy server at somewhere ?"
19904,Redmine,Defect,NA,New,Normal,"There is no option ""Move issue"" in Roles and permission menu",Kirill B,NA,2015-07-18T10:35:00Z,Documentation,NA,NA,NA,NA,0,2015-05-21T12:20:00Z,NA,NA,NA,3.0.2,"We've installed new version of Red Mine recently. Before that we had possibility to move issues between different projects while editing it. Now we can't move them -- there is no *Project* combo-box (see 2.png) . Check box ""Move issue"" diapered from Roles and permission menu(see 1.png).

<pre>
Environment:
  Redmine version                3.0.2.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.10
</pre>"
19905,Redmine,Defect,NA,Closed,Normal,Problem in migrate from 2.3 to 3.0.3,colin han,NA,2015-05-21T13:29:00Z,NA,NA,NA,NA,NA,0,2015-05-21T12:56:00Z,2015-05-21T13:28:00Z,関連している #15564,NA,3.0.3,"I installed redmine 3.0.3 and it got well (of course ).

then i dump the database in 2.3 and start upgrade. following upgrade guide.

at the step of migrate the database 


> bundle exec rake db:migrate RAILS_ENV=production --trace

an error occured

```

$ bundle exec rake db:migrate RAILS_ENV=production --trace
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
** Invoke db:load_config (first_time)
** Execute db:load_config
** Execute db:migrate
== 20130602092539 CreateQueriesRoles: migrating ===============================
-- create_table(:queries_roles, {:id=>false})
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

Mysql2::Error: Table 'queries_roles' already exists: CREATE TABLE `queries_roles` (`query_id` int(11) NOT NULL, `role_id` int(11) NOT NULL) ENGINE=InnoDB/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `query'
/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `block in execute'
/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract_adapter.rb:466:in `block in log'
/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract_adapter.rb:460:in `log'
/home/yuzhi.hyz/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:299:in `execute'

...

```

i don't know why and what to do next

If i ignore the error msg and continue the upgrade steps , run the server 

the production log

```

$ cat production.log
Started GET ""/"" for 127.0.0.1 at 2015-05-21 16:55:21 +0800
Processing by WelcomeController#home as HTML
  Current user: anonymous
Completed 500 Internal Server Error in 94ms

NoMethodError (undefined method `passwd_changed_on' for #<AnonymousUser:0x00000005f09e48>):
  app/controllers/application_controller.rb:150:in `force_logout_if_password_changed'

```

what should i do to solve the problem?


"
19914,Redmine,Defect,NA,New,Normal,Conflicting Fields Permission X Workflow X Subtask,Enderson Maia,NA,2015-05-21T20:36:00Z,Issues workflow,NA,NA,NA,NA,0,2015-05-21T20:36:00Z,NA,関連している #5490,NA,2.6.0,"I have a particular situation where I can't close a Issue that has some subtasks.

In the Issue Workflow, I have ""New"" -> ""In Progress"" -> ""Closed"", and you can't go from New -> Closed without passing through ""In Progress"".

I have a ""Field permission"" configuration where the field ""Due date"" is Required, then the status is ""In Progress"".

I implemented this configuration when having some issues already in the state ""In Progress"" with a parent task.

A parent task's ""Due Date"" is the last date of its subtasks.

My situation is I have a Parent issue in ""New"" state , with all subtasks closed and without a ""Due Date"". When I try to put my parent task ""In Progress"" so I can then, ""Close"" it. I'm not allowed 'cause I need to put a ""Due date"" in it, and I can't fill a due date in a Parent task.

The Redmine version I'm using in production is 2.6.0-stable.

Let me know if you need more information."
19920,Redmine,Defect,NA,Closed,Normal,Time entry view : Reports tab issue,Ami Desai,NA,2016-12-11T09:06:00Z,Time tracking,NA,NA,NA,NA,0,2015-05-22T12:34:00Z,2016-12-11T09:06:00Z,NA,Invalid,NA,"Reports tab in time entry sometimes does not show entire data for spent time.

For example, if i search data for date range across months, like starting from october 2014 till March 2015. And then if i select ""Days"" in details for report, i just get data till January.


What about rest 2 months? This was just example, the same happens in various cases.
"
19924,Redmine,Defect,NA,Closed,Normal,Adding subtask takes very long,Sebastian Paluch,Jean-Philippe Lang,2016-06-12T14:11:00Z,Performance,3.3.0,NA,NA,NA,0,2015-05-22T15:46:00Z,2016-06-12T14:11:00Z,NA,Fixed,3.0.1,"One of our project have a parent task to group 1192 subtasks...

Showing the tasks details takes about 21s, most of it is in issues/show.html.erb.

<pre>
Started GET ""/redmine/issues/4821"" for 127.0.0.1 at 2015-05-22 14:51:31 +0200
Processing by IssuesController#show as HTML
  Parameters: {""id""=>""4821""}
  Current user: XXX (id=10)
  Rendered issues/_action_menu.html.erb (0.0ms)
  Rendered issues/_action_menu.html.erb (0.0ms)
  Rendered attachments/_form.html.erb (0.0ms)
  Rendered issues/_edit.html.erb (0.0ms)
  Rendered plugins/redmine_agile/app/views/agile_boards/_issues_sidebar.html.erb (0.0ms)
  Rendered plugins/redmine_agile/app/views/agile_charts/_agile_charts.html.erb (0.0ms)
  Rendered issues/_sidebar.html.erb (0.0ms)
  Rendered issues/show.html.erb within layouts/base (20747.9ms)
  Rendered plugins/sidebar_hide/app/views/sidebar/_hideButton_partial.html.erb (0.0ms)
Completed 200 OK in 21341ms (Views: 19312.7ms | ActiveRecord: 1747.2ms)
</pre>

Adding new subtasks takes even more than 80s, most of it in ActiveRecord. This is real problem.
<pre>
Started GET ""/redmine/projects/XXX/issues?query_id=1617"" for 127.0.0.1 at 2015-05-22 14:46:10 +0200
Processing by IssuesController#index as HTML
  Parameters: {""query_id""=>""1617"", ""project_id""=>""XXX""}
  Current user: XXX (id=154)
  Rendered queries/_filters.html.erb (93.6ms)
  Rendered queries/_columns.html.erb (15.6ms)
  Rendered mailer/_issue.text.erb (0.0ms)
  Rendered mailer/issue_add.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/_issue.html.erb (15.6ms)
  Rendered mailer/issue_add.html.erb within layouts/mailer (15.6ms)
Redirected to http://XXX/redmine/issues/22455
Completed 302 Found in 84240ms (ActiveRecord: 75192.0ms)
</pre>

The group that is using it claims this was working fine in Redmine 2.x.

Now, we are running Bitnami 3.0.1 installation:
<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.0.0-p594 (2014-10-27) [i386-mingw32]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            1.9.5
  Filesystem
Redmine plugins:
  inside_avatar                  1.0.2
  parent_issue_filter            1.0.1
  redmine_agile                  1.3.8
  redmine_spent_time_column      2.1.0
  redmine_version_fixed_issues   1.0.0
  sidebar_hide                   0.0.7
</pre>"
19925,Redmine,Defect,NA,New,Normal,Arabic settings page - Icons are not aligned correctly,Ouss Orange,NA,2015-06-21T15:09:00Z,I18n,NA,NA,NA,NA,0,2015-05-22T23:45:00Z,NA,NA,NA,3.0.3,Icons in the Setting Page in the Arabic interface are not aligned correctly they appear behind text. It looks like the it is a .css file issue.
19947,Redmine,Defect,NA,New,Normal,Browse repository in sub projects,Frederic Cand,NA,2015-06-25T12:20:00Z,SCM,NA,NA,NA,NA,0,2015-05-26T15:50:00Z,NA,NA,NA,NA,"It is currently (3.0.2) impossible to browse a repository in subprojects, whereas it is possible to refer to changesets in subprojects (in wiki pages, issues, etc).

Example :
# setup project ""A"" with repository ""R""
# setup project ""B"", under project ""A"", without a repository
# go to project ""A"", you have the ""repository"" tab
# go to project ""B"", you don't have the ""repository"" tab, but you can refer to a changeset of the repository ""R"""
19956,Redmine,Defect,NA,Closed,Normal,Connection leak on svn/redmine integration,Bruno Orcha Garc?a,Jean-Philippe Lang,2015-05-30T10:19:00Z,SCM extra,2.6.6,NA,NA,NA,0,2015-05-27T13:21:00Z,2015-05-30T10:19:00Z,NA,Fixed,NA,"In our systems we have detected a large number of open connections from the Apache web server of our redmine, which reached the limit of allowed connections from our postgresql, forcing us to restart the Apache server periodically.
After some monitoring we have discovered the reason, it appears to be a connection leak in the perl module for the integration between redmine and subversion. The database connection is being opened so soon and it's possible returning from the function without closing that connection."
19957,Redmine,Defect,NA,Closed,Normal,acts_as_versioned not compatible with ActiveRecord 4.2.1,taha mohammed el kahlaoui,Jean-Philippe Lang,2015-06-13T13:10:00Z,Rails support,3.0.4,NA,NA,NA,0,2015-05-27T13:55:00Z,2015-06-13T13:10:00Z,"関連している #19959, 関連している #24348",Fixed,3.0.3,Method type_cast is now renamed to type_cast_from_database.
19976,Redmine,Defect,NA,Needs feedback,Normal,Redmine can't work with 3000 projects,Andrey Druz,NA,2015-06-27T01:40:00Z,Performance,NA,NA,NA,NA,0,2015-05-30T23:43:00Z,NA,関連している #21611,NA,2.6.1,"I using redmine with 3000 projects.

If I trying to enter Issues redmine query database this query.
Its taking around 8 seconds and I get 500 error (max query time in redmine is 5 seconds).

<pre>
SELECT COUNT(*) 
FROM [691_daronet_projects_test].[691_daronet_projects].[issues] 
INNER JOIN [691_daronet_projects_test].[691_daronet_projects].[issue_statuses] ON [issue_statuses].[id] = [issues].[status_id] INNER JOIN [691_daronet_projects_test].[691_daronet_projects].[projects] ON [projects].[id] = [issues].[project_id] 
WHERE (((projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM [691_daronet_projects_test].[691_daronet_projects].enabled_modules em WHERE em.name='issue_tracking')) AND ((projects.is_public = 1 AND ((issues.author_id = 10 OR issues.assigned_to_id IN (10,24,27)))) OR (projects.id IN (6,8,26,27,32,40,58,59,60,62,63,71,72,75,76,81,82,83,84,85,86,88,89,91,92,96,97,98,99,101,102,103,105,111,112,113,115,116,117,123,128,129,131,132,134,135,138,141,142,143,144,146,151,153,154,156,158,162,164,165,166,167,168,171,174,175,176,177,178,189,190,192,195,196,199,200,201,202,203,204,205,207,209,210,211,212,213,215,216,217,218,219,220,221,222,223,224,226,228,230,231,232,233,236,237,239,241,244,245,247,249,251,252,253,254,255,258,259,262,263,264,265,266,270,271,273,274,275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560,1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240,3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3259,3260,3261,3262,3263,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300,3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360,3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3467,3468,3470) AND ((issues.author_id = 10 OR issues.assigned_to_id IN (10,24,27)))) OR (projects.id IN (6,8,21,27,77,92,196,199,204,205,209,210,211,212,213,216,218,219,220,221,222,223,224,225,226,227,252,255,258,259,261,262,270,271,273,274,275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560,1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240,3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3259,3260,3261,3262,3263,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300,3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360,3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463) AND ((issues.is_private = 0 OR issues.author_id = 10 OR issues.assigned_to_id IN (10,24,27)))) OR (projects.id IN (116,176,227) AND ((issues.is_private = 0 OR issues.author_id = 10 OR issues.assigned_to_id IN (10,24,27)))) OR projects.id IN (168,247,249)))) AND ((issues.status_id IN (SELECT id FROM [691_daronet_projects_test].[691_daronet_projects].issue_statuses WHERE is_closed=0)))
</pre>


<pre>
Redmine 2.6.1.stable
Environment:
  Redmine version                2.6.1.stable
  Ruby version                   1.9.3-p448 (2013-06-27) [i386-mingw32]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               SQLServer
SCM:
  Filesystem
</pre>"
19978,Redmine,Defect,NA,Closed,Normal,The problem with Russian letter 'И' in the Wiki,Дмитрий Фролов,NA,2015-08-08T12:21:00Z,Wiki,NA,NA,NA,NA,0,2015-05-31T16:00:00Z,2015-08-08T12:19:00Z,次のチケットと重複 #19321,Duplicate,3.0.3,"If you create a section in the Wiki that contains the Russian letter 'И', when it occurs an error 'Internal server error'.
The problem only occurs in version 3.0.3.

Example:

[[Изделия]]
[[ПРИЛОЖЕНИЯ]]"
19981,Redmine,Defect,NA,Closed,Normal,can‘t start web application,jane lee,NA,2015-06-01T07:31:00Z,NA,NA,NA,NA,NA,0,2015-06-01T05:42:00Z,2015-06-01T07:31:00Z,NA,Invalid,NA,"I install redmine on openSUSE ENV.
when i visit url. display infomation bellow ,if we restart apache2 , it's ok, but sometimes later this error occure again .!!


/usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/lib/phusion_passenger/preloader_shared_helpers.rb:99:in `initialize': No such file or directory - ""/tmp/passenger.1.0.2449/generation-1/backends/preloader.27801"" (Errno::ENOENT)
	from /usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/lib/phusion_passenger/preloader_shared_helpers.rb:99:in `new'
	from /usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/lib/phusion_passenger/preloader_shared_helpers.rb:99:in `run_main_loop'
	from /usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/helper-scripts/rack-preloader.rb:151:in `<module:App>'
	from /usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
	from /usr/lib64/ruby/gems/2.0.0/gems/passenger-4.0.18/helper-scripts/rack-preloader.rb:28:in `<main>'"
19989,Redmine,Defect,NA,Closed,Normal,two enoding in files in repo,Sergey Vershinin,NA,2015-06-01T13:05:00Z,NA,NA,NA,NA,NA,0,2015-06-01T12:31:00Z,2015-06-01T13:03:00Z,NA,Wont fix,3.0.3,"hi

i have repositories which have a files with different encoding - cp1251 and cp866.

i set a ""settings_repositories_encodings"" to ""cp866,cp1251"" (see screen)

In result i have a correct diff with files with cp866 encoding only. 

"
20018,Redmine,Defect,NA,Confirmed,Normal,Duplicate activities in time entry report of project specific TimeEntryActivity,Stephane Evr,NA,2017-05-30T11:48:00Z,Time tracking,NA,NA,NA,NA,0,2015-06-04T15:04:00Z,NA,関連している #21056,NA,3.2.2,"When using the report tool by Activity, it appears that some activities are repeated in the list, instead of being aggregated. The activities concerned are all used in several projects.

Example:

h2. Observed:

<pre>
Activity	Total
X	        3
X	        4
Y	        5
Y	        6
Z	        7
</pre>

h2. Expected:

<pre>
Activity	Total
X	        7
Y	        11
Z	        7

</pre>





If we apply the filter by projects, then by activities, there are no duplicates, everything works fine:

<pre>
Project Activity   Total
1       X          3
1       Y          5
2       X          4
2       Y          6
2       Z          7

</pre>

"
20019,Redmine,Defect,NA,Needs feedback,Normal,Setting the default columns for the issue list does not work,Christina Warmann,NA,2015-07-04T04:38:00Z,Administration,NA,NA,NA,NA,0,2015-06-04T15:57:00Z,NA,NA,NA,3.0.3,The arrow Buttons to move available columns to selected and vice versive do not work. Any idea?
20027,Redmine,Defect,NA,Closed,Normal,SVN - Repository access / loading broken,Werner _,NA,2015-06-05T14:13:00Z,SCM,NA,NA,NA,NA,0,2015-06-05T12:14:00Z,2015-06-05T13:26:00Z,NA,Invalid,3.0.3,"I have updated redmine from 3.0.1 to 3.0.3 and since then displaying local source respositories is broken.

In my setup redmine and the SVN repositories are on the same host. Therefore I used to add repositories using file://, like:

@file:///C:/myfolder/svn/repo1@


This used to work fine, since 3.0.3 I do get the error:

<pre>
The entry or revision was not found in the repository.
</pre>

The log says:
@svn: E020024: Error resolving case of  ?file:\\\c:\myfolder\svn\repo"" --no-auth-cache --non-interactive?@



I am not sure where the error could be located. I have taken a look at the latest changesets (http://www.redmine.org/projects/redmine/repository/changes/tags/3.0.3/app/models/repository.rb) but did not see anything suspicious - but maybe thats the wrong place to look. I am not an experienced redmine developer ;)


Environment:
* Redmine version                3.0.3.stable
* Ruby version                   1.9.3-p551 (2015-05-04) [java]
* Rails version                  4.2.1
* Environment                    production
* Database adapter               MySQL

SCM:
* Subversion                     1.8.13
* Filesystem                     






"
20029,Redmine,Defect,NA,Needs feedback,Normal,mails are not formatting in redmine 3.X either mardown or textile defined,PICCORO LenzMcKAY,NA,2015-07-04T06:23:00Z,Email notifications,NA,NA,NA,NA,0,2015-06-05T15:07:00Z,NA,NA,NA,3.0.1,"recently used redmine 3.0.0 does not send the mails notifications in format defined at configuration.

the mails arrived as plain text but with the format without procesed, example:

1) define the header in configurations as textile and also define the header as:

<pre>
h1.  This its a notification
</pre>

2) when i receive the email the result was:
<pre>
h1. This its a notificacion

Redmine test email
</pre>

3) espected result:


h1. This its a notification

Redmine test email
...

Same behavior if used markdown"
20034,Redmine,Defect,NA,Needs feedback,High,Custom queries cannot be edit after creation,Daniele Renda,NA,2017-02-20T12:30:00Z,Issues permissions,NA,NA,NA,NA,0,2015-06-07T21:18:00Z,NA,NA,NA,3.0.3,"I created a custom query in a project with a role that permit of course custom queries. In the query I checked the ""for all projects"" checkbox.

After the creation, I'm not able anymore to edit the query; every time I try to change it I've a 403 forbidden error.

I think this is a regression, in fact with old 2.5.1 redmine version all worked fine.

"
20042,Redmine,Defect,NA,Needs feedback,Normal,A test fail when running it with PostgreSQL,Vincent Robert,NA,2015-06-15T09:56:00Z,NA,NA,NA,NA,NA,0,2015-06-08T11:41:00Z,NA,関連している #19273,Cant reproduce,3.0.3,"When running the test suite with PostgreSQL, this test fails:

<pre><code class=""ruby"">
Minitest::Assertion: ""Bug #16: Special chars: ??"" not found in ""[#<Issue id: 15, tracker_id: 1, project_id: 1, subject: ""Special chars: ??"", description: nil, due_date: nil, category_id: nil, status_id: 1, assigned_to_id: nil, priority_id: 5, fixed_version_id: nil, author_id: 2, lock_version: 0, created_on: ""2015-04-27 10:19:13"", updated_on: ""2015-04-27 10:19:13"", start_date: nil, done_ratio: 0, estimated_hours: nil, parent_id: nil, root_id: 15, lft: 1, rgt: 2, is_private: false, closed_on: nil>]""
test/unit/search_test.rb:159:in `test_search_should_be_case_insensitive_with_accented_characters'
</code></pre>"
20041,Redmine,Defect,NA,Closed,Normal,User with no access to page /users can see other users.,Ivan Chensky,NA,2015-06-08T13:56:00Z,NA,NA,NA,NA,NA,0,2015-06-08T11:41:00Z,2015-06-08T13:50:00Z,NA,Invalid,NA,"So, for ex. my page:
https://redmine.org/users/129477

1. I have no access to see https://redmine.org/users/
2. I can access to pages of other user by this pages: 
https://redmine.org/users/1
https://redmine.org/users/2
https://redmine.org/users/3
https://redmine.org/users/..."
20065,Redmine,Defect,NA,Closed,Normal,user not able to set Status,Silent Bugs,NA,2015-06-10T14:17:00Z,Issues,NA,NA,NA,NA,0,2015-06-10T14:13:00Z,2015-06-10T14:17:00Z,NA,Invalid,2.6.1,"User is not anymore able to set Status although is Manager.
Other users do not have this problem."
20068,Redmine,Defect,NA,Closed,Normal,[Gemfile] Wrong bundler syntaxis used in platforms declaration for tzinfo-data gem,Mischa The Evil,NA,2015-06-28T10:33:00Z,NA,NA,NA,NA,NA,0,2015-06-11T05:38:00Z,2015-06-28T10:33:00Z,NA,Invalid,3.0.3,"source:/trunk/Gemfile@14300#L18 declares the platforms as:
<pre>gem 'tzinfo-data', platforms: [:mingw, :x64_mingw, :mswin, :jruby]</pre>

which should[1] be declared as:
<pre>gem 'tzinfo-data', platforms => [:mingw, :x64_mingw, :mswin, :jruby]</pre>

So this little patch:
<pre><code class=""diff"">
Index: Gemfile
===================================================================
--- Gemfile	(revision 14300)
+++ Gemfile	(working copy)
@@ -15,7 +15,7 @@
 gem ""actionpack-xml_parser""
 
 # Windows does not include zoneinfo files, so bundle the tzinfo-data gem
-gem 'tzinfo-data', platforms: [:mingw, :x64_mingw, :mswin, :jruby]
+gem 'tzinfo-data', platforms => [:mingw, :x64_mingw, :mswin, :jruby]
 gem ""rbpdf"", ""~> 1.18.5""
 
 # Optional gem for LDAP authentication
</code></pre>

would fix issues like for example mentioned in message#47553.

fn1. per http://bundler.io/v1.9/man/gemfile.5.html#PLATFORMS-platforms-
"
20098,Redmine,Defect,NA,Needs feedback,Normal,Issue query filters are removed when updating an issue through the context menu,Vincent Robert,NA,2015-06-27T08:59:00Z,Issues,NA,NA,NA,NA,0,2015-06-16T10:43:00Z,NA,NA,NA,3.0.3,"Issue filters are reset after updating an issue through the context menu. I think the filters should remain after the action.

How to reproduce:
- select some filters in @/issues@ page and apply them
- right click on an issue to open the context menu
- update an attribute
The page is reloaded and filters are reset to defaults."
20099,Redmine,Defect,NA,Closed,Normal,subtask can't listed under the father issue,Mine Red,NA,2015-07-13T05:43:00Z,NA,NA,NA,NA,NA,0,2015-06-16T11:12:00Z,2015-07-13T05:43:00Z,次のチケットと重複 #7907,Duplicate,3.0.2,"when i created some subtasks in a issue, it display in ""Issues"" interface is incorrect, part of subtasks can't listed under their father issue. please kindly help check.
!Untitled.png!"
20101,Redmine,Defect,NA,Closed,Normal,Referencing keywords should ignore capitalization,Steffen Triple X,NA,2015-07-16T04:25:00Z,NA,NA,NA,NA,NA,0,2015-06-16T14:44:00Z,2015-06-28T10:47:00Z,NA,Invalid,3.0.3,"The referencing keywords in the admin settings are in lower case. When a user commit to svn with a starting upper case, no link in the repository view created, only in the ticket view."
20105,Redmine,Defect,NA,Closed,Urgent,!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO,C. R.,NA,2015-06-17T20:07:00Z,NA,NA,NA,NA,NA,0,2015-06-16T18:37:00Z,2015-06-17T20:07:00Z,NA,Invalid,3.0.3,"I've tried to install redmine on a current debian with thin and nginx.
Requests to the Url result in 502 Bad Gateway.

The thin log looks like this:

<pre>
root@srv:/srv/nginx/foo/redmine# tail -f /var/log/thin/redmine.0.log
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO
!! Unexpected error while processing request: uninitialized constant Rack::URLMap::PATH_INFO

</pre>"
20116,Redmine,Defect,NA,Closed,Normal,The HTML symbols are escaped,jonathan ben,NA,2015-06-17T20:08:00Z,Gantt,NA,NA,NA,NA,0,2015-06-17T12:12:00Z,2015-06-17T20:08:00Z,NA,Invalid,2.6.5,"when i load the Roadmap, it's looks below.

the html code below:
<pre>

<div class=""gantt_subjects"">
<div class=""project-name"" style=""position: absolute;top:44px;left:4px;width:326px;""><span class=""icon icon-projects "">
<a href=""/projects/lailaihui"">test</a></span></div><div class=""issue-subject"" id=""issue-3"" style=""position: absolute;top:64px;left:24px;width:306px;"" title=""test"">
<span class="" icon icon-issue""><img alt=""Person"" class=""gravatar"" height=""10"" src=""/plugin_assets/redmine_people/images/person.png?1434458109"" title=""Assignee: test"" width=""10"" />
<a href=""/issues/3"" class=""issue tracker-1 status-1 priority-2 priority-default"">tttt #3</a>: tttttttttttttttt</span>
</div><div class=""milestones-label"" style=""position: absolute;top:84px;left:24px;width:306px;"">

&lt;span class=&#x27;icon icon-milestones&#x27;&gt;Milestones&lt;/span&gt;

</div><div class=""milestone-name"" style=""position: absolute;top:104px;left:44px;width:286px;"">

&lt;span class=&#x27;icon icon-milestone&#x27;&gt;&lt;a href=&quot;/milestones/3&quot;&gt;testtestetest&lt;/a&gt;&lt;/span&gt;

</div><div class=""version-name"" id=""version-1"" style=""position: absolute;top:124px;left:24px;width:306px;""><span
</pre>

i think the problem is : *& lt;* and *& gt;*  symbols is escaped?"
20117,Redmine,Defect,NA,Closed,Normal,Activities set as inactive missing in spent time report filter,Zer Guz,Jean-Philippe Lang,2015-09-30T20:03:00Z,Time tracking,3.2.0,NA,NA,NA,0,2015-06-17T12:59:00Z,2015-09-30T20:03:00Z,"関連している #19656, 関連している #19657",Fixed,3.0.3,"Steps to reproduce:
* In Administration -> Enumerations -> Activities, mark some activities as not active.
* You can have however these activities activated in certain projects. So it is possible that someone will log time using by default non-active activities.
* Go to Projects -> Overall spent time.
* Add Activity filter. Note that it will let you select only the by-default-active activities. <- *Problem*
* All activities should be shown in the filter. <- *Expected behavior*
* Even if you pick, by the Project filter, a particular project, it will not let you select activities that are particularly activated for this project.
* However, if you go to time report from a particular project, the activities filter will be customized correctly as per project settings.

I suspect that these (different) issues have the same root cause:
* #19656 Activities do not correspont to project when adding time from my page.
* #19657 Can't move one level up the last activity item.
"
20120,Redmine,Defect,NA,Closed,Urgent,Username can not be validated when creating an account,C. R.,NA,2015-07-17T10:10:00Z,NA,NA,NA,NA,NA,0,2015-06-17T15:56:00Z,2015-06-19T23:01:00Z,NA,Invalid,3.0.3,"When trying to register a new account, the username can not be validated, the system insists that the field is empty.
Occurs when running redmine on webrick from the console and when running redmine with nginx using passenger.

<pre>
Environment:
  Redmine version                3.0.3.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Filesystem                     
Redmine plugins:
  redmine_contacts               4.0.0
</pre>"
20123,Redmine,Defect,NA,Closed,Normal,Can't sort by multiple fields when sorting by parent,Sebastian Paluch,NA,2015-07-17T13:15:00Z,Issues,NA,NA,NA,NA,0,2015-06-18T08:49:00Z,2015-07-17T13:15:00Z,次のチケットと重複 #10048,Duplicate,3.0.1,"It seems that the issue sort order set when creating custom query does not work when ""Parent task"" is involved.
Take a look on attached query screen shoot. It is a query that sorts first by ""Parent task"" to show hierarchy and then by ""Update"" field. The marked issues 21047 and 21069 have the same parent as others but much older date and should be listed at the end.

Also the change introduced in #2871 does not seem to work.

<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.0.0-p594 (2014-10-27) [i386-mingw32]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  inside_avatar                  1.0.2
  parent_issue_filter            1.0.1
  redmine_agile                  1.3.8
  redmine_spent_time_column      2.1.0
  redmine_version_fixed_issues   1.0.0
  sidebar_hide                   0.0.7
</pre>"
20127,Redmine,Defect,NA,Closed,Normal,The description column in the issues table is too short (MySQL),Future Link Corporation pkgsrc team,Jean-Philippe Lang,2016-10-10T10:23:00Z,Issues,3.4.0,NA,NA,NA,0,2015-06-18T17:42:00Z,2016-10-10T10:23:00Z,"関連している #16143, 関連している #24006, 関連している #14626, 次のチケットが重複 #18865, 次のチケットが重複 #7779, 次のチケットが重複 #19869, 次のチケットが重複 #24397",Fixed,3.0.3,"The @description@ column in the +issues+ table has a data type of @TEXT@, which has a limit of 65k. We recommend changing this data type to @LONGTEXT@, as was done for the @comment@ field in the +changesets+ table. As you've done this for the repository commits (#16143) already, please make this change. Otherwise, Redmine throws a 500 error on creating issues with long descriptions."
20139,Redmine,Defect,NA,Closed,Low,Two dead links in wiki,Robert Schneider,Mischa The Evil,2015-06-21T10:24:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-06-21T08:29:00Z,2015-06-21T10:24:00Z,NA,NA,NA,The two last links of on the page [[RedmineUpgrade#Related-Resources]] do not work anymore and could be removed.
20141,Redmine,Defect,NA,Closed,Normal,Sync #wiki_format_provider plugin API shortcut with changes to Redmine::WikiFormatting.register from r12450 and r14313,Mischa The Evil,Jean-Philippe Lang,2015-06-21T18:30:00Z,Plugin API,3.1.0,NA,NA,NA,0,2015-06-21T09:55:00Z,2015-06-21T18:30:00Z,NA,Fixed,NA,"Two changes were made to @Redmine::WikiFormatting.register@ which are not yet reflected in the shortcut method provided by the plugin API (@Redmine::Plugin#wiki_format_provider@, source:/trunk/lib/redmine/plugin.rb@14359#L365). The changes were integrated via the following two changesets:
* r12450 (version:2.5.0): added option for formatter label
* r14313 (version:3.1.0): addition of (HTML) @parser@ argument and addition of default @Formatter@, @Helper@, @HtmlParser@ names.

Please update the API to match the current signature of @Redmine::WikiFormatting.register@.
"
20143,Redmine,Defect,NA,New,Low,Mailhandler cannot handle 4-byte characters,Ragnar Nevries,NA,2015-12-15T09:57:00Z,Database,NA,NA,NA,NA,0,2015-06-21T20:18:00Z,NA,"関連している #19742, 次のチケットが重複 #10772",NA,3.0.2,"When receiving an e-mail containing a 4-byte character (an apple-emoji in the example), the mail-handler dies with

Mysql2::Error: Incorrect string value: '\xF0\x9F\x98\x89' for column 'description' at row 1: INSERT INTO `issues` (`project_id`, `author_id`, `priority_id`, `tracker_id`, `status_id`, `subject`, `description`, `start_date`, `updated_on`, `created_on`, `lock_version`) VALUES (15, 4, 2, 3, 1, 'Emoticon test', 'Here comes an emoji: ?~_~X~I', '2015-06-21', '2015-06-21 18:05:05', '2015-06-21 18:05:05', 0)

and no ticket is created."
20159,Redmine,Defect,NA,Closed,Normal,Disallow users to delete a version referenced by a custom field,Noya B,Jean-Philippe Lang,2015-06-27T11:02:00Z,Project settings,3.1.0,NA,NA,NA,0,2015-06-23T15:00:00Z,2015-06-27T11:02:00Z,NA,Fixed,NA,"Redmine disallows users to delete a version targeted on an issue. However, verification is not done if the version is referenced throw a custom field. It results on a crash trying to show an issue that ""uses"" the deleted target.

* Bug seen in version 2.5.1.
* Patch applied on:
<pre>
commit 0cac2b85b325e00c861b2c9a0e94407ed0bb077b
Author: Toshi MARUYAMA <marutosijp2@yahoo.co.jp>
Date:   Sun Jun 21 09:51:52 2015 +0000

    Merged r14360 from trunk to 2.6-stable (#20142)
    
    update Gemfile to require rbpdf ~>1.18.6.
    
    git-svn-id: http://svn.redmine.org/redmine/branches/2.6-stable@14362 e93f8b46-1217-0410-a6f0-8f06a7374b81
</pre>
* diff:
<pre>
diff --git a/app/controllers/versions_controller.rb b/app/controllers/versions_controller.rb
index bc3852f..b8056ec 100644
--- a/app/controllers/versions_controller.rb
+++ b/app/controllers/versions_controller.rb
@@ -146,7 +146,7 @@ class VersionsController < ApplicationController
   end
 
   def destroy
-    if @version.fixed_issues.empty?
+    if @version.fixed_issues.empty? and !@version.referenced_by_a_custom_field?
       @version.destroy
       respond_to do |format|
         format.html { redirect_back_or_default settings_project_path(@project, :tab => 'versions') }
diff --git a/app/models/version.rb b/app/models/version.rb
index ed5b628..3df4caa 100644
--- a/app/models/version.rb
+++ b/app/models/version.rb
@@ -168,6 +168,13 @@ class Version < ActiveRecord::Base
     @closed_issues_count
   end
 
+  def referenced_by_a_custom_field?
+    !CustomValue.where(""custom_field_id IN (SELECT id
+                                            FROM #{CustomField.table_name}
+                                            WHERE field_format='version')
+                        AND value = ?"", id).empty?
+  end
+
   def wiki_page
     if project.wiki && !wiki_page_title.blank?
       @wiki_page ||= project.wiki.find_page(wiki_page_title)
</pre>"
20176,Redmine,Defect,NA,Closed,Normal,Defect on user table migrate code,Jonatas Wesley Gon?alves,NA,2015-06-27T12:11:00Z,Database,NA,NA,NA,NA,0,2015-06-25T23:49:00Z,2015-06-27T12:11:00Z,関連している #19588,Invalid,3.0.3,"There´s a problem with the definitions of the *column language* of the table users.

The limit of the column size is set to 2, but when you using brazilian portuguese the 
language acronym contains 5 letters, 'pt-BR' or 'pt-br'.

Then when i try to run *bundle exec rake db:migrate* an exception pops on the window.

A don´t know if this bug exists in another version or affects another language, but i almost break my head trying to find the solution.

<pre>
<code class=""ruby"">
    create_table ""users"", :force => true do |t|
      t.column ""login"", :string, :limit => 30, :default => """", :null => false
      t.column ""hashed_password"", :string, :limit => 40, :default => """", :null => false
      t.column ""firstname"", :string, :limit => 30, :default => """", :null => false
      t.column ""lastname"", :string, :limit => 30, :default => """", :null => false
      t.column ""mail"", :string, :limit => 60, :default => """", :null => false
      t.column ""mail_notification"", :boolean, :default => true, :null => false
      t.column ""admin"", :boolean, :default => false, :null => false
      t.column ""status"", :integer, :default => 1, :null => false
      t.column ""last_login_on"", :datetime
      t.column ""language"", :string, :limit => 2, :default => """"
      t.column ""auth_source_id"", :integer
      t.column ""created_on"", :timestamp
      t.column ""updated_on"", :timestamp
    end
</code>
</pre>

h2. Solution

change to 5 the limit of the column language

<pre>
<code class=""ruby"">
 t.column ""language"", :string, :limit => 5, :default => """"
</code>
</pre>

"
20210,Redmine,Defect,NA,Closed,Normal,Issue closed_on date is not reset after issue is reopened,Serghei Zagorinyak,NA,2015-07-04T11:24:00Z,Issues,NA,NA,NA,NA,0,2015-06-30T10:47:00Z,2015-07-04T11:24:00Z,関連している #824,Invalid,2.5.0,"If you set an Issue's status to final, like Done or Canceled, and then decide to reopen the issue (change status to non-final), it will still have @closed_on@ date filled in DB, which is going to be irrelevant, as the issue is now open."
20214,Redmine,Defect,NA,Closed,Normal,Can not assign an issue to a user with limitted Issues visibility,Sergey Semenov,NA,2015-07-25T14:54:00Z,Issues permissions,NA,NA,NA,NA,0,2015-06-30T17:30:00Z,2015-07-25T14:54:00Z,NA,Invalid,3.0.1,"Steps to reproduce:

1. Create a Role ""Clerk"" with issues visibility ""Issues created by or assigned to the user""
2. Add a user ""Vasili"" to a project with the role ""Clerk""
3. Login as another user which has Create issue capability
4. Create an issue and assign it to the user Vasili

Expected result: Can assign the issue to Vasili
Actual result: There is no Vasili presented in the Assigne drop-down list

P.S. I an issue is created by Vasili then its name appers in Assigne list"
20229,Redmine,Defect,NA,New,Normal,labels of 24month PDF print of gantt-chart are not readable,Uwe Wahser,NA,2015-07-30T06:12:00Z,Gantt,NA,NA,NA,NA,0,2015-07-02T15:30:00Z,NA,NA,NA,2.4.2,"When transforming a 24-month gantt-chart into a pdf, the labels are not readable, because they are too long. 

Suggestion: Print labels vertically instead of horiyontally for the pdf-print."
20251,Redmine,Defect,NA,New,Normal,test/ui/timelog_test_ui.rb always fail on trunk,Toshi MARUYAMA,NA,2015-07-25T10:15:00Z,NA,NA,NA,NA,NA,0,2015-07-06T13:38:00Z,NA,NA,NA,NA,"On trunk r14391:
https://travis-ci.org/marutosi/redmine-bb/jobs/69082004#L2202

<pre>
  1) Failure:
Redmine::UiTest::TimelogTest#test_changing_project_should_update_activities
 [/home/travis/build/marutosi/redmine-bb/test/ui/timelog_test_ui.rb:41]:
Failed assertion, no message given.
</pre>"
20252,Redmine,Defect,NA,New,Normal,Email notifications of issue updates do not process text formatting on custom long text,the fury,NA,2015-07-22T20:14:00Z,Email notifications,NA,NA,NA,NA,0,2015-07-06T15:55:00Z,NA,NA,NA,3.0.3,"Redmine's email notifications do not have wiki formatting on custom fields. The description is formatted, so for example lists are bulleted or numbered, but any custom long text fields which have ""text formatting"" checked are still sent as plain text (i.e. as the user typed it)

* Ubuntu server 14.04.2 LTS
* MySQL 5.5.43-0ubuntu0.14.04.1
* Ruby 2.2.0p0 revision 49005
* Rails 4.2.2
* Redmine 3.0.3 r14369
* Plugins:
** Wiki graphviz plugin
** Wiki extensions plugin
** Plugin I wrote for some extra wiki formatting macros

"
20257,Redmine,Defect,NA,Closed,Normal,Read-only essential custom field at the time of ticket editing,n endo,NA,2017-02-19T03:55:00Z,Custom fields,NA,NA,NA,NA,0,2015-07-07T04:50:00Z,2017-02-19T03:55:00Z,次のチケットと重複 #19193,Duplicate,3.0.0,"You set required for the custom field X of X tracker.
Set the read-only from the ""authority to the field"" for the custom field X of X tracker.

When you create a ticket to the new, because the default value is set in the custom field X, you can create a ticket without a problem.

Edit the ticket, when you have selected the X tracker, for the custom field A, to not set a default value, it can not be created ticket.

This is, What specification? Or would bug?"
20270,Redmine,Defect,NA,Closed,Normal,Undefined method value_was for TimeEntryCustomField,S B,NA,2015-07-08T12:06:00Z,Custom fields,NA,NA,NA,NA,0,2015-07-08T10:47:00Z,2015-07-08T12:06:00Z,NA,Invalid,3.0.3,"When trying to use a plugin (WorkTime from r-labs.org/) I have an internal error only if I have a time entry custom field.
I post the bug here because the error occured in Redmine core and not in plugin code.
I also posted the bug on r-lab bugtraker : http://www.r-labs.org/issues/1385.

<pre>
Started GET ""/redmine/work_time/show/my-project-id?day=8&month=7&prj=false&user=7&year=2015"" for 10.1.4.22 at 2015-07-08 09:17:40 +0200
Processing by WorkTimeController#show as HTML
  Parameters: {""day""=>""8"", ""month""=>""7"", ""prj""=>""false"", ""user""=>""7"", ""year""=>""2015"", ""id""=>""my-project-id""}
  Current user: myuserid (id=7)
  Rendered plugins/redmine_work_time/app/views/work_time/_select_project.html.erb (17.8ms)
  Rendered plugins/redmine_work_time/app/views/work_time/_select_user.html.erb (1.7ms)
  Rendered plugins/redmine_work_time/app/views/work_time/_user_month_table.html.erb (33.9ms)
  Rendered plugins/redmine_work_time/app/views/work_time/_user_day_table.html.erb (17.5ms)
  Rendered plugins/redmine_work_time/app/views/work_time/show.html.erb within layouts/base (73.9ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 9.8ms)

ActionView::Template::Error (undefined method `value_was' for #<TimeEntryCustomField:0x0000000b448c60>):
    166:       nil
    167:     end
    168:   %>
    169:      <td><%= custom_field_tag ""new_time_entry[""+issue_id.to_s+""][0]"", cf %></td>
    170:   <% end %>
    171: </tr>
    172: <%
  lib/redmine/field_format.rb:615:in `possible_custom_value_options'
  lib/redmine/field_format.rb:484:in `select_edit_tag'
  lib/redmine/field_format.rb:454:in `edit_tag'
  app/helpers/custom_fields_helper.rb:73:in `custom_field_tag'
</pre>
It seems that a custom field of type TimeEntryCustomField does not have the value_was method.

My configuration :
<pre>
Environment:
  Redmine version                3.0.3.stable
  Ruby version                   1.9.3-p448 (2013-06-27) [x86_64-linux]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.17
  Git                            1.7.10.4
  Filesystem                     
Redmine plugins:
  redmine_base_deface            0.0.1
  redmine_custom_workflows       0.1.0
  redmine_latex_mathjax          0.1.0
  redmine_maintenance_mode       2.0.1
  redmine_work_time              0.3.0
  redmine_workflow_enhancements  0.4.0
</pre>
"
20282,Redmine,Defect,NA,Closed,Normal,Error message when editing a child project without add project/subprojects permissions,James H,Jean-Philippe Lang,2015-10-09T08:40:00Z,Project settings,3.0.6,NA,NA,NA,0,2015-07-09T21:02:00Z,2015-10-09T08:40:00Z,"次のチケットが重複 #21168, 次のチケットが重複 #25146",Fixed,3.0.3,"If a user whose role permissions excludes the ability to ""create subprojects"" tries to edit the project settings of a project that is a sub-project of another project, it does not allow you to make any changes and states that ""Subproject of is invalid""

!subprojecterror.png!"
20296,Redmine,Defect,NA,Closed,Normal,Double full stops in Japanese,Masaki Nukaga,NA,2015-07-26T19:27:00Z,Translations,3.2.0,NA,NA,NA,0,2015-07-12T08:11:00Z,2015-07-26T19:27:00Z,NA,Fixed,NA,I think it's typo.
20324,Redmine,Defect,NA,Closed,Normal,wiki site (debian installation guide) needs update,Florian S.,NA,2015-07-17T08:07:00Z,Documentation,NA,NA,NA,NA,0,2015-07-16T12:46:00Z,2015-07-17T01:07:00Z,NA,NA,NA,"http://www.redmine.org/projects/redmine/wiki/InstallRedmineOnDebianStableApacheMysqlPassenger

the point 2.7 is for redmine 2.x - the command for 3.x should be placed here, too. new installations will be at redmine's 3.x branch (I think).
Maybe you can update the wiki site."
20356,Redmine,Defect,NA,New,Normal,Wiki gets destroyed after rename,George Tudosi,NA,2015-09-07T08:23:00Z,Wiki,NA,NA,NA,NA,0,2015-07-16T16:15:00Z,NA,"関連している #5450, 次のチケットが重複 #20525",NA,NA,"Steps to reproduce the bug:

1. Create projects A and B, turn on Wiki modules for both projects.
2. Create a root Wiki page in A with arbitrary contents.
3. Click ?Rename“ and move it to B.
4. In A, click ?Wiki“ tab. You're automatically redirected to Wiki of B. This is the first part of the issue.
5. Grant access to A to any user, but don't grant access to B. Now she will get 404 trying to view Wiki of A. This is the second part.

It seems that Wiki of A no longer exists. Turning Wiki module of A off and then on doesn't solve the issue. Renaming the Wiki back to A works fine, but then there's no Wiki in B, and so on.

Unfortunately, I don't know the exact version of Redmine I'm using, and have no privileges to discover it. I think it's relatively fresh, and I know that it's running on PostgreSQL 8.x or 9.x. The system is FreeBSD 9.2-RELEASE-p15 (GENERIC) #0: Mon Nov  3 20:31:29 UTC 2014."
20358,Redmine,Defect,NA,New,Normal,"In some situation, my plugin render view hook twice",致遠 詹,NA,2015-08-12T05:34:00Z,Plugin API,NA,NA,NA,NA,0,2015-07-17T06:18:00Z,NA,NA,NA,2.6.2,"I wrote a plugin for my company and
I referenced offical redmine plugin develop tutorial to add hook with my plugin.
I do something like this :
@
class MyPluginHook < Redmine::Hook::ViewListener
    render_on :view_projects_show_left, :partial => ""polls/project_overview""
end
@
It worked fined until I modified some features.
I got the information for log that this hook rendered two time
,so the whole page turn into a mess.
After restarting apache (I use apache 2.2 & passenger)
Everything is fined again, but sometimes it happened again.
By sometimes, this may happen after issue updating."
20360,Redmine,Defect,NA,Closed,Normal,Project copy does not copy custom field settings,Sebastian Paluch,Jean-Philippe Lang,2015-10-09T08:43:00Z,Custom fields,2.6.8,NA,NA,NA,0,2015-07-17T08:34:00Z,2015-10-09T08:43:00Z,次のチケットが重複 #20559,Fixed,2.6.5,"When making a project copy by going to /redmine/projects/template/copy custom field check boxes on the new project form are not set, all are unchecked. After project copy all custom field values are lost."
20361,Redmine,Defect,NA,Closed,Normal,Project copy does not update custom field of version type values,Sebastian Paluch,Jean-Philippe Lang,2015-09-20T14:50:00Z,Custom fields,3.2.0,NA,NA,NA,0,2015-07-17T08:42:00Z,2015-09-20T14:50:00Z,NA,Fixed,3.0.1,"Making copy of a template project where there are versions created, is a custom field of version type and some issues have the custom field set to template project version. After such copy versions and issues are copied correctly but the custom field is still pointing to versions defined in original template project instead to newly created one.

<pre>
Environment:
  Redmine version                3.0.1.stable
  Ruby version                   2.0.0-p594 (2014-10-27) [i386-mingw32]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  inside_avatar                  1.0.2
  parent_issue_filter            1.0.1-1
  redmine_agile                  1.3.8
  redmine_spent_time_column      2.1.0
  redmine_version_fixed_issues   1.0.0
  sidebar_hide                   0.0.7
</pre>"
20367,Redmine,Defect,NA,New,Normal,I catch internal server error when I try commit a edit message.,Masaki Nukaga,Jean-Philippe Lang,2015-07-18T04:50:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-07-18T04:33:00Z,NA,NA,NA,NA,"I try commit a edit message with png file, I catch error (see attach file)

OS X Yosemite 10.10.3
It occurred here → http://www.redmine.org/issues/20296"
20380,Redmine,Defect,NA,Closed,Normal,Cannot assign users to projects with IE set to compatibility mode,Uli Hecht,Jean-Philippe Lang,2017-02-22T06:21:00Z,UI,2.6.8,NA,NA,NA,0,2015-07-21T09:21:00Z,2015-10-09T09:26:00Z,"次のチケットが重複 #20777, 次のチケットが重複 #20474",Fixed,2.6.6,"I'm not able to assign users to projects anymore in Internet Explorer 11 (didn't test older IE versions). It still works in Firefox (didn't test other browsers). The user selection dialog opens, but nothing happens when I click the ""Add"" button after having selected user and role.

<pre>
Environment:
  Redmine version                3.0.4.stable.14445
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem
Redmine plugins:
  no plugin installed
</pre>

I have an older version of redmine running on a different server (3.0.3.stable.14274) which is not affected."
20392,Redmine,Defect,NA,Closed,Normal,Error: nil:NilClass - Error querying any task of a specific project.,Adriano Ceccarelli,NA,2015-07-23T14:13:00Z,Issues,NA,NA,NA,NA,0,2015-07-22T17:05:00Z,2015-07-23T14:12:00Z,NA,Cant reproduce,NA,"h2. Error

Error querying any task of a specific project.
Was closed, reopen it and the error persisted.

h2. Production.log

<pre>
  Rendered issues/show.html.erb within layouts/base (1316.7ms)
Completed 500 Internal Server Error in 1602.3ms

ActionView::Template::Error (undefined method `project' for nil:NilClass):
    1: <% changesets.each do |changeset| %>
    2:     <div class=""changeset <%= cycle('odd', 'even') %>"">
    3:     <p><%= link_to_revision(changeset, changeset.repository,
    4:                             :text => ""#{l(:label_revision)} #{changeset.format_identifier}"") %><br />
    5:         <span class=""author""><%= authoring(changeset.committed_on, changeset.author) %></span></p>
    6:     <div class=""wiki"">
  app/helpers/application_helper.rb:113:in `link_to_revision'
  app/views/issues/_changesets.html.erb:3:in `block in _app_views_issues__changesets_html_erb__3878030136385139792_67352140'
  app/views/issues/_changesets.html.erb:1:in `each'
  app/views/issues/_changesets.html.erb:1:in `_app_views_issues__changesets_html_erb__3878030136385139792_67352140'
  app/views/issues/show.html.erb:113:in `_app_views_issues_show_html_erb__989878426512223363_35076440'
  app/controllers/issues_controller.rb:128:in `block (2 levels) in show'
  app/controllers/issues_controller.rb:125:in `show'
</pre>


h2. Environment

<pre>
Environment:
  Redmine version                2.6.1.stable
  Ruby version                   1.9.3-p194 (2012-04-20) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.17
  Git                            1.7.10.4
  Filesystem
Redmine plugins:
  a_common_libs                  1.1.3
  custom_menu                    1.0.0
  parent_issue_filter            1.0.1
  redmine_auto_percent           0.0.1
  redmine_custom_reports         0.1.4
  redmine_daily_scrum            0.0.1
  redmine_documents              1.0.0
  redmine_drafts                 0.2.0
  redmine_impasse                1.2.2
  redmine_importer               1.2.2
  redmine_issue_history_tabs     0.0.3
  redmine_issue_templates        0.0.9
  redmine_issue_templates_notes  2.0.0
  redmine_issue_wiki_journal     0.9.0
  redmine_meeting_room_calendar  2.1.3
  redmine_percent_done_configuration 0.1.23x
  redmine_pivot_table            0.0.2
  redmine_questions              0.0.5
  redmine_send_mails             0.3.23xBeta
  redmine_spent_time             2.6.6
  redmine_tags                   2.1.0
  redmine_time_tracker           0.4
  redmine_wiki_extensions        0.6.5
  redmine_wiki_lists             0.0.5
  redmine_wiki_templates         0.1.1
  redmine_workload               0.0.1
  sidebar_hide                   0.0.7
</pre>"
20396,Redmine,Defect,NA,Closed,Normal,"User login prompt: Sorry, you do not have access to this page",管 恩玉,NA,2015-07-23T09:24:00Z,Accounts / authentication,NA,NA,NA,NA,0,2015-07-23T08:31:00Z,2015-07-23T09:24:00Z,NA,Invalid,2.0.3,"User login prompt: Sorry, you do not have access to this page，This is only an account in its different browsers on your computer appears, browsers such as IE, chrome, etc., but you can change the password after landing, and landed next time such a problem."
20403,Redmine,Defect,NA,Closed,Normal,error_no_default_issue_status,sugimoto m,NA,2015-07-24T15:48:00Z,Issues,NA,NA,NA,NA,0,2015-07-24T15:35:00Z,2015-07-24T15:48:00Z,NA,Invalid,3.0.4,"I installed redmine redmine-3.0.4-1 and the database copied from old one.
I confirmed the old tickets is able to list on new redmine.
However,on new redmine I can't create new ticket with error_no_default_issue_status.
In addition, I can create new tickets as copy from old ticket, but I can't select other statuses.

I investigated MySQL table ""issue_statuses"", I found there is not ""is_default"" field that old redmine has.

So, I guess that is the cause, but I can't resolve it.
How do I resolve it?"
20407,Redmine,Defect,NA,Closed,Normal,Monospace font-family values are differ between application.css and scm.css,Go MAEDA,Jean-Philippe Lang,2015-09-12T12:53:00Z,UI,3.1.1,NA,NA,NA,0,2015-07-26T13:05:00Z,2015-09-12T12:53:00Z,関連している #20372,Fixed,NA,"Monospace font-family values are differ between application.css and scm.css.
Sorry, This is my mistake I made in #20372.

Please merge this patch."
20425,Redmine,Defect,NA,Closed,Normal,fn1. not working in tickets,Robert Schneider,NA,2015-08-02T09:05:00Z,Text formatting,NA,NA,NA,NA,0,2015-07-28T14:58:00Z,2015-08-02T09:05:00Z,関連している #6269,NA,3.1.0,"In issues fn links don't work. In Redmine Guide ([[RedmineInstall#Ruby-interpreter|example]]) it is working, but not in issues. The foot note itself is rendered correctly but the link is not. 

Example: 

<pre><code>This is a test. [1]

fn1. Here is the footnote.
</code></pre>

will be this:

This is a test. [1]

fn1. Here is the footnote.


So @[1]@ looks like [1]. It is not replaced by a link to the foot note (with blue foreground color)."
20438,Redmine,Defect,NA,Closed,Normal,Subject filter doesn't work with non ASCII uppercase symbols,Alexandr Raz,Jean-Philippe Lang,2015-08-02T10:32:00Z,Issues,3.2.0,NA,NA,NA,0,2015-07-29T18:07:00Z,2015-08-02T10:32:00Z,関連している #3536,Fixed,3.0.4,"If you search by containing cyrillic uppercase symbols, you get empty result. The query for search looks like 

@when ""~""
      sql = ""LOWER(#{db_table}.#{db_field}) LIKE '%#{self.class.connection.quote_string(value.first.to_s.downcase)}%'""@

but ruby function downcase wokrs only with latin symbols.

We add special private method:

@def like_operator(content)
        if Redmine::Database.postgresql?
          ""ILIKE '%#{content}%' ""
        else
          ""LIKE LOWER(#{content})""
        end
      end@

and override method sql_for_field 

@when ""~""
            sql = ""LOWER(#{db_table}.#{db_field}) #{like_operator(self.class.connection.quote_string(value.first.to_s.downcase))}""
          when ""!~""
            sql = ""LOWER(#{db_table}.#{db_field}) NOT #{like_operator(self.class.connection.quote_string(value.first.to_s.downcase))}""@

"
20440,Redmine,Defect,NA,New,Normal,Colon character on Wiki pages title doesn´t work,Cassiano Monteiro,NA,2015-08-28T01:51:00Z,Wiki,NA,NA,NA,NA,0,2015-07-29T19:22:00Z,NA,NA,NA,3.0.0,"Tried to create a wiki page with the colon character on its title, and it doesn´t render properly, as seen below:

<pre>
h1. Wiki

[[Test with colon :]]

[[Test without colon]]
</pre>

Result:

!screenshot.png!

Tested on the online demo version 3.0.0.devel.14065."
20449,Redmine,Defect,NA,Closed,Normal,search problem,海 黄,NA,2015-07-31T12:48:00Z,Issues,NA,NA,NA,NA,0,2015-07-31T09:01:00Z,2015-07-31T12:48:00Z,NA,Invalid,NA,"when we searching issues in the redmine, some projects' issues can be search out, some others projects' issues can't and get a Internal error. Below is the error logs, do anyone know what's wrong with it and how to fix it.
thanks!

Completed 200 OK in 1370.3ms (Views: 389.4ms | ActiveRecord: 682.6ms)
Started GET ""/projects/b751/issues/new"" for 127.0.0.1 at 2015-07-31 13:30:37 +0800
Processing by IssuesController#new as HTML
  Parameters: {""project_id""=>""b751""}
  Current user: DING.COM (id=19)
  Rendered plugins/redmine_multi_column_custom_fields/app/views/issues/_form_custom_fields.html.erb (109.1ms)
  Rendered issues/_attributes.html.erb (794.8ms)
  Rendered plugins/redmine_multiprojects_issue/app/views/issues/_projects_list.html.erb (3.0ms)
[1;32mDeface: [ERROR][0m The original source for 'add-multiple-projects-to-issue-form' has changed, this override should be reviewed to ensure it's still valid.
  Rendered issues/_form.html.erb (2185.1ms)
  Rendered issues/new.html.erb within layouts/base (2188.1ms)
Completed 500 Internal Server Error in 2237.1ms

ActionView::Template::Error (undefined method `h' for #<ViewsIssueHook:0xa9955b8>):
    30:   });
    31: </script>
    32: 
    33: <%= call_hook(:view_issues_form_details_bottom, { :issue => @issue, :form => f }) %><% end %><% heads_for_wiki_formatter %>
  lib/redmine/hook.rb:61:in `block (2 levels) in call_hook'
  lib/redmine/hook.rb:61:in `each'
  lib/redmine/hook.rb:61:in `block in call_hook'
  lib/redmine/hook.rb:58:in `tap'
  lib/redmine/hook.rb:58:in `call_hook'
  lib/redmine/hook.rb:158:in `call_hook'
  app/views/issues/_form.html.erb:33:in `block in _7d2cc83e84c2c9b5c240af8d8d9421fc'
  app/helpers/application_helper.rb:1048:in `labelled_fields_for'
  app/views/issues/_form.html.erb:1:in `_7d2cc83e84c2c9b5c240af8d8d9421fc'
  app/views/issues/new.html.erb:11:in `block in _1689e607405267736566660b46014f2a'
  app/helpers/application_helper.rb:1041:in `labelled_form_for'
  app/views/issues/new.html.erb:5:in `_1689e607405267736566660b46014f2a'
  app/controllers/issues_controller.rb:143:in `block (2 levels) in new'
  app/controllers/issues_controller.rb:142:in `new'"
20456,Redmine,Defect,NA,Closed,Normal,3.1-stable/3.1.0: missing commits (omitted from being merged from trunk),Mischa The Evil,Jean-Philippe Lang,2015-09-19T09:30:00Z,NA,3.1.1,NA,NA,NA,0,2015-08-01T10:10:00Z,2015-09-19T09:30:00Z,関連している #11253,Fixed,3.1.0,"This was reported initially by _Ryosuke Hirai_ in #11253-38:
> it seems that issue_query.rb @ Revistion 14406 was not applied to the source code of 3.1.0. I could not find this part after downloading.

After I read that I started another round of commit hunting. I have summed up the issues I found ? and how I found them, using some ASCII-""art"". See below.
I'll start with a to-do section which list the commits that needs to be merged in 3.1-stable, the commits that can/should be merged in 3.1-stable and the commits that shouldn't be merged into 3.1-stable since they are related to issues that are explicitly targeted to 3.2.0 at the time of writing this.
Then I start a section which compares the commits on trunk versus the commits (backports/merges) on 3.1-stable which in the end provides a list of commits applied on trunk but not on 3.1-stable, which I in turn used to specify which commits belong to what and what should be done them. That itself is what I used to fill in the to-do section.
Note that I also include a third 'legend' section to make sure that my ""art"" can be understood ;-)...

<pre>
------------------------------
1. To do on 3.1-stable branch:
------------------------------

  * To merge...........: r14405, r14406, r14407, r14408, r14409, r14410, r14454
  * Merge-able.........: r14390, r14391, r14411, r14412, r14413, r14414, r14415, r14416
  * Shouldn't be merged: r14458, r14468, r14469, r14470, r14471


------------------------------
2. Commits scheme & reasoning:
------------------------------

v -> TRUNK
|
|
|
O -> r14378
|\
| \
v  --------->--------- O -> r14379, 3.1 STABLE BRANCH CREATION
v                       \
|                        ---->v
|                             |
8 ->   X14380, X14381, X14388,| X14389, r14390, r14391, X14392, X14394,
       X14396, r14405, r14406,| r14407, r14408, r14409, r14410, r14411,
       r14412, r14413, r14414,| r14415, r14416, X14417, X14428, X14429,
  --<< X14430, X14437, X14440,| X14443, X14446, X14448, X14450, X14451,
 /     r14454, X14455, X14419,| X14420, r14458, X14459, X14460, X14461,
/      r14468, r14469, r14470,| r14471                                  <<------<-
|                             |                                                  |\   
v                             v                                                  ^ ->  ((r => X) == (MARKED AS CONFIRMED AS MERGED
|                             |                                                  |/                  FROM TRUNK TO 3.1-STABLE))
|     --------------------->> | >>---------------------------------------------->-
|     |                       |
|     |                       8   -> r14382, r14385, r14393, r14395, r14397, r14400, r14403,
|     ^                              r14418, r14421, r14422, r14431, r14432, r14433, r14438,
|     ^                              r14441, r14444, r14447, r14449, r14452, r14453, r14456,
|     |                              r14462, r14463, r14464,                                  >>----
v     |                                                                                            |
v     ----------------------<<   Merged r14461, Merged r14460, Merged r14459, Merged r14455,       |  
|                                Merged r14450, Merged r14451, Merged r14448, Merged r14446,       O -> MERGE COMMITS, FROM TRUNK
|                                Merged r14443, Merged r14440, Merged r14437, Merged r14430,       O    TO 3.1-STABLE
|                                Merged r14429, Merged r14428, Merged r14420, Merged r14419,       |
|                                Merged r14417, Merged r14388, Merged r14389, Merged r14396,       |
|                                Merged r14394, Merged r14392, Merged r14380, Merged r14381,  <<----
|
|
v
v -> WRAPUP & CONCLUSION: COMMITS ON TRUNK AFTER 3.1-STABLE BRANCH CREATION, THAT ARE NOT MERGED INTO 3.1-STABLE
v
|
8 --> r14390, r14391,                                  --->>> NOT EXPLICIT 3.1.0, BUT IT WAS PROBABLY INTENDED FOR 3.1.X THOUGH
|
8 --> r14405, r14406, r14407, r14408, r14409, r14410,  --->>> EXPLICIT 3.1.0, #11253 AND RELATED
|
8 --> r14411, r14412, r14413, r14414,                  --->>> UNKNOWN, CAN BE BACK-PORTED TO 3.1: ""CODE (LAYOUT) CLEANUP & HTTP => HTTPS""
|
8 --> r14415, r14416,                                  --->>> UNKNOWN, MIGHT BE BACK-PORTABLE TO 3.1: ""TRAVIS CHANGES, #20251""
|
8 --> r14454,                                          --->>> EXPLICIT 3.1.0, ""BG LOCALE REORDER"", #11253 AND RELATED
|
8 --> r14458, r14468, r14469, r14470, r14471           --->>> EXPLICIT 3.2.0


----------
3. Legend:
----------

  *  -, >, >>, <, <<, ^, v: DIRECTION MARKERS
  *                      O: BRANCHPOINT, COMMIT
  *                      8: MULTIPLE COMMITS
  *                    -->: MULTIPLE COMMITS SPECIFICATION
  *                     ->: COMMENT
  *                     =>: == REPLACED BY
  *                 --->>>: CONCLUSION INDICATOR

</pre>

I'll leave the scheduling decision (strict: 3.2.0, lenient: 3.1.1) to the committers.

Please note that this issue brings me to issue #18134 again, and in particular to the questions I raised in its note #18134-5 (before ""The examples:""). If SCM-provided merge tracking features are used and maintained correctly, issues like this one and previous #18174 could have been spotted right on with some higher certainty. Just my two cents...

Kind regards, Mischa.
"
20465,Redmine,Defect,NA,Needs feedback,Normal,MailHandler: ignoring email with Auto-Submitted:auto-generated header,Benoit BRETON,NA,2015-12-04T23:31:00Z,Email receiving,NA,NA,NA,NA,0,2015-08-03T13:39:00Z,NA,関連している #16190,NA,3.1.0,"I think there's a little bug in the processing file ""mail_handler.rb"" a line 84. 

It should be replaced:

???? 'Auto-Submitted' => / \ Aauto- (Replied | generated) /,
by
???? 'Auto-Submitted' => / \ ^ self (Replied | generated) /,"
20466,Redmine,Defect,NA,Closed,Normal,Broken email notification layout in Outlook,Benedikt Huss,NA,2015-09-10T17:28:00Z,Email notifications,3.1.1,NA,NA,NA,0,2015-08-03T14:31:00Z,2015-08-31T09:29:00Z,"関連している #16535, 関連している #8335, 次のチケットが重複 #20549, 次のチケットが重複 #20637",Fixed,3.1.0,"In #16535 a new style for emails was introduced. Obviously, this new style was not applied to reminder mails. Every textline is displayed on a white background with absolutely no margins, while the email body background is light gray.

It just looks broken at the momement.

"
20468,Redmine,Defect,NA,Closed,Normal,Clicking on username results in 500 internal error after upgrade,angie brandt,NA,2015-08-15T16:27:00Z,NA,NA,NA,NA,NA,0,2015-08-04T03:05:00Z,2015-08-15T16:27:00Z,NA,Invalid,3.1.0,"I just made the switch to redmine 3.1.0 and everything works great except for clicking on the username link. 

example: http://redmine.dummysite.com/users/90  results in 500 internal error. 

Log  below:
<pre>
Started GET ""/users/1"" for 104.5.4.92 at 2015-08-04 00:46:11 +0000
Processing by UsersController#show as HTML
  Parameters: {""id""=>""1""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 7.4ms)


NoMethodError (undefined method `find_events' for #<Class:0x0000000c0197b0>):
  lib/redmine/activity/fetcher.rb:91:in `block (2 levels) in events'
  lib/redmine/activity/fetcher.rb:90:in `each'
  lib/redmine/activity/fetcher.rb:90:in `block in events'
  lib/redmine/activity/fetcher.rb:89:in `each'
  lib/redmine/activity/fetcher.rb:89:in `events'
  app/controllers/users_controller.rb:75:in `block (2 levels) in show'
  app/controllers/users_controller.rb:73:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
20470,Redmine,Defect,NA,New,Normal,Markdown Emphasis in a word didn't work properly.,Ren? van Dorst,NA,2015-08-04T10:39:00Z,Text formatting,NA,NA,NA,NA,0,2015-08-04T10:39:00Z,NA,NA,NA,3.1.0,"I was trying Markdown in 3.1.0.

Accourding to http://daringfireball.net/projects/markdown/syntax#em it is posiable to use emphasis inside a word.

Qoute:
<pre>You can use whichever style you prefer; the lone restriction is that the same character must be used to open and close an emphasis span.

Emphasis can be used in the middle of a word:

un*frigging*believable
</pre>

My Markdown code:
<pre>
un*frigging*believable

un_frigging_believable

un***frigging***believable

un__frigging__believable

un___frigging__believable
</pre>

HTML output:

<pre><code class=html><p>un*frigging*believable</p>

<p>un_frigging_believable</p>

<p>un*<strong>frigging</strong>*believable</p>

<p>un_<em>frigging</em>_believable</p>

<p>un_<strong>frigging</strong>believable</p>

<p>*this text is surrounded by literal asterisks*</p></code></pre>

HTML output should be:

<pre><code class=html><p>un<em>frigging</em>believable</p>

<p>un<em>frigging</em>believable</p>

<p>un<em><strong>frigging</strong></em>believable</p>

<p>un<strong>frigging</strong>believable</p>

<p>un_<strong>frigging</strong>believable</p>

<p>*this text is surrounded by literal asterisks*</p></code></pre>


Environment:
  Redmine version                3.1.0.stable.14476
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem
Redmine plugins:
  no plugin installed
"
20472,Redmine,Defect,NA,New,Normal,Filtered API calls delete CORS,Tommaso Visconti,NA,2015-08-04T17:51:00Z,REST API,NA,NA,NA,NA,0,2015-08-04T17:51:00Z,NA,NA,NA,2.6.0,"This is a strange behaviour of the API. I'm using rack-cors to enable API consuming by other apps (Ember.js).

When using various endpoints (/issues.json, time_entries.json, projects.json) everything is ok.

With this specific call, CORS headers aren't added to the response and the browser blocks the request with the ""famous"" error: @No 'Access-Control-Allow-Origin' header is present on the requested resource@
The call is:

<pre>
/time_entries.json?user_id=<ID>
or
/time_entries.json?user_id=me
</pre>

The only added header is:

<pre>
X-Rack-CORS: preflight-hit; no-origin
</pre>

If I change the param with something not recognized by redmine (e.g. ?wrong_param=me), everything works well (the response isn't filtered). So the problem seems to be related to the filtering of the time entries by user.
Maybe with this particular filtering redmine creates a different response which avoid the rack-cors action?

The correct headers, added by rack-cors, should be:

<pre>
Access-Control-Allow-Origin: http://localhost:4200
Access-Control-Allow-Methods: GET, POST, DELETE, PUT, OPTIONS, HEAD
Access-Control-Max-Age: 0
Access-Control-Allow-Credentials: true
X-Rack-CORS: hit
</pre>"
20479,Redmine,Defect,NA,New,Normal,Undocumented pagination support for API,Tommaso Visconti,NA,2015-08-05T10:55:00Z,Documentation,NA,NA,NA,NA,0,2015-08-05T10:55:00Z,NA,NA,NA,NA,"It's not documented the possibility to use the @page@ param instead of the @offset@ param.

The @ApplicationController.api_offset_and_limit@ method automatically calculate the offset if the @page@ param is present"
20490,Redmine,Defect,NA,Closed,Normal,WARNING: Can't mass-assign protected attributes for User,Pavel Potcheptsov,Jean-Philippe Lang,2015-09-12T13:12:00Z,Administration,3.1.1,NA,NA,NA,0,2015-08-06T12:54:00Z,2015-09-12T13:12:00Z,NA,Fixed,3.1.0,"I got this warning when untick _Administrator_ in user's settings.
I also thought that I will be asked for password as required by new Sudo mode, but I haven't been asked.
<pre>
WARNING: Can't mass-assign protected attributes for User: login
	lib/redmine/safe_attributes.rb:84:in `safe_attributes='
	app/controllers/users_controller.rb:135:in `update'
	lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
20499,Redmine,Defect,NA,New,Normal,Bangla charater of PDF,Anis Alamgir,NA,2015-08-09T08:36:00Z,PDF export,NA,NA,NA,NA,0,2015-08-09T07:37:00Z,NA,関連している #13575,NA,1.3.2,"I'm using *Bangla* language in Redmine 1.3.2.stable (MySQL) (on *Ubuntu 12.04*).
But when I try to open pdf file of a Issue then it's showing broken text.
Please check the attached pdf file to see the bug and show me how to fix it.

Thanks
"
20501,Redmine,Defect,NA,Closed,Normal,Empty divs when there are no custom fields on the issue form,Amol HATWAR,Jean-Philippe Lang,2015-08-18T09:06:00Z,Issues,3.2.0,NA,NA,NA,0,2015-08-09T14:48:00Z,2015-08-18T09:06:00Z,NA,Fixed,3.1.0,"The DOM is getting polluted with unnecessary ``splitcontent`` divs for ``custom_field_values`` even when there are absolutely none defined. This limits theming splitcontent divs as it renders empty boxes...

Patch to get rid of the free extra divs is attached."
20513,Redmine,Defect,NA,New,Normal,Unloadable plugin convention breaks with Rails 4.2.3,Pierre Pretorius,NA,2017-12-10T13:10:00Z,Plugin API,4.0.0,NA,NA,NA,0,2015-08-11T18:20:00Z,NA,NA,NA,3.1.0,"The RM documentation and existing plugins use the Rails *unloadable* statement.  This doesn't work as expected with Redmine 3.1.  I have quite a bit of experience with Rails and building RM plugins so please do not disregard this without an investigation.

The following steps illustrate and reproduce the problem:

1) Create a fresh new Redmine:
<pre>
git clone https://github.com/redmine/redmine.git
cd redmine
git checkout 3.1-stable

nano config/database.yml
bundle exec rake generate_secret_token
bundle exec rake db:migrate
</pre>

2) Create a fresh new plugin:
<pre>
rails g redmine_plugin polls
rails g redmine_plugin_model polls poll name:string

bundle exec rake redmine:plugins:migrate
</pre>

3) Add any code reference to this new *unloadable* Poll model.  A quick ways is to add the following to plugins/polls/init.rb:

<pre>
Rails.application.config.to_prepare do
  Poll.new
end
</pre>

4) At this point when Rails need to do code reloading it will fail with a message indicating it expected plugin/polls/app/models/poll.rb to define Poll.  Try it by doing the following:

* Run the rails server and open any page served by it in your browser.

* Edit the any .rb file.  An example is to add a newline to plugins/polls/app/models/poll.rb.

* Click any link in the page opened in the first step.  You will get: *_Unable to autoload constant Poll, expected /home/pierre/redmine/plugins/polls/app/models/poll.rb to define it._*

If you remove the *unloadable* in the plugin Poll model this problem disappears.  Note that a very large amount of RM plugins currently use unloadable and causes this issue.  My environment after performing these 4 steps:
<pre>
Environment:
  Redmine version                3.1.0.stable
  Ruby version                   2.1.3-p242 (2014-09-19) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  polls                          0.0.1
</pre>"
20523,Redmine,Defect,NA,Closed,Normal,Edit.js bug,匿名ユーザー,NA,2015-08-15T16:32:00Z,NA,NA,NA,NA,NA,0,2015-08-12T11:52:00Z,2015-08-15T16:32:00Z,NA,Invalid,3.1.0,"I just do a redmine migration from 2.4.2 to redmine 3.1 on a new server working on Debian Jessie.

Migration as done correctly.

When I create a new demand, All of my ""Description Message"" and ""Subject"" are cleared when I change ""Status"" of this Issue -> Status go to New, and Subject and Description text area go to empty, like a new issue.
This append the first time only, if i redo a change of status, everything is ok.

If i try to create a new issue, same problem.
If i go to a issue and i try to change Status, first time it doesn't work, second time OK...

I'm running under Debian Jessie with apache+passenger

<pre>
Environment:
  Redmine version                3.1.0.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
20533,Redmine,Defect,NA,Closed,Normal,DEPRECATION WARNING: `#timestamps` was called without specifying an option for `null`.,Go MAEDA,Jean-Philippe Lang,2015-08-15T11:22:00Z,Rails support,NA,NA,NA,NA,0,2015-08-14T12:46:00Z,2015-08-15T11:22:00Z,NA,Fixed,NA,"I got the following warning while migrating database.
This is caused by a migration file 'db/migrate/20150730122707_create_imports.rb' which was added in r14493.

<pre>
== 20150730122707 CreateImports: migrating ====================================
-- create_table(:imports)
DEPRECATION WARNING: `#timestamps` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in change at /Users/maeda/redmines/redmine-trunk/db/migrate/20150730122707_create_imports.rb:10)
</pre>"
20547,Redmine,Defect,NA,New,Normal,Exporting CSV with multiple tabs open can export wrong view,David Shanahan,NA,2015-08-17T15:47:00Z,NA,NA,NA,NA,NA,0,2015-08-17T15:47:00Z,NA,NA,NA,NA,"If you have multiple issue indexes open and export one to CSV, the tab you most recently opened will be exported NOT the tab you chose to export.

I tested this on the demo Redmine as well. To reproduce:

1. Open a tab of the ""Issues"" view (tab 1)
2. Export CSV
3. Open a second tab of the ""Issues"" view (tab 2), apply different filters/options
4. Return to tab 1 and export CSV again
5. Observe that the second export actually contains content from tab 2, not tab 1."
20548,Redmine,Defect,NA,Closed,Normal,Installin in win2k8,Oscar  Mandiola,NA,2015-08-17T16:57:00Z,NA,NA,NA,NA,NA,0,2015-08-17T16:17:00Z,2015-08-17T16:56:00Z,NA,Invalid,3.1.0,"i got this error installing:

@ The Apache service named 
    
   reported the following error: >>> 
   httpd.exe: Syntax error on line 72 of C:/Bitnami/redmine-3.1.0-0/apache2/conf/httpd.conf: Cannot load modules/mod_access_compat.so into server: Error al iniciar la aplicaci\xf3n; la configuraci\xf3n en paralelo no es correcta. Consulte el registro de even 
@"
20549,Redmine,Defect,NA,Closed,Low,Background Color of Emails,Thomas Brinegar,NA,2015-08-17T17:07:00Z,Email notifications,NA,NA,NA,NA,0,2015-08-17T16:19:00Z,2015-08-17T17:07:00Z,次のチケットと重複 #20466,Duplicate,3.1.0,"We recently upgraded from Redmine 2.1 to 3.1 and noticed that all emails have an odd off-white background with nested sections having a white background.  Any way to set this so that the background is all just solid white?  Here is an example of this:

!screenshot.png!"
20551,Redmine,Defect,NA,Closed,Normal,"Typo ""coma"" (correct: ""comma"")",Toshi MARUYAMA,Jean-Philippe Lang,2015-10-20T20:31:00Z,Code cleanup/refactoring,3.2.0,NA,NA,NA,0,2015-08-18T02:28:00Z,2015-10-20T20:31:00Z,関連している #950,Fixed,NA,"On trunk r14506:

h2. 1. label_coma_char

Introduced by r14494 (#950):

<pre>
./config/locales/en.yml-963-  label_fields_separator: Field separator
./config/locales/en.yml-964-  label_fields_wrapper: Field wrapper
./config/locales/en.yml-965-  label_encoding: Encoding
./config/locales/en.yml:966:  label_coma_char: Coma
./config/locales/en.yml-967-  label_semi_colon_char: Semi colon
./config/locales/en.yml-968-  label_quote_char: Quote
./config/locales/en.yml-969-  label_double_quote_char: Double quote
</pre>

h2. 2. :lastname_coma_firstname

<pre>
./app/models/user.rb-47-        :order => %w(lastname firstname id),
./app/models/user.rb-48-        :setting_order => 4
./app/models/user.rb-49-      },
./app/models/user.rb:50:    :lastname_coma_firstname => {
./app/models/user.rb-51-        :string => '#{lastname}, #{firstname}',
./app/models/user.rb-52-        :order => %w(lastname firstname id),
./app/models/user.rb-53-        :setting_order => 5
</pre>

h2. 3. lib/redmine/wiki_formatting/macros.rb

<pre>
./lib/redmine/wiki_formatting/macros.rb-92-        #   invoked without a block of text.  
./lib/redmine/wiki_formatting/macros.rb-93-        #
./lib/redmine/wiki_formatting/macros.rb-94-        # Examples:
./lib/redmine/wiki_formatting/macros.rb:95:        # By default, when the macro is invoked, the coma separated list of arguments
./lib/redmine/wiki_formatting/macros.rb-96-        # is split and passed to the macro block as an array. If no argument is given
./lib/redmine/wiki_formatting/macros.rb-97-        # the macro will be invoked with an empty array:
./lib/redmine/wiki_formatting/macros.rb-98-        #
</pre>"
20554,Redmine,Defect,NA,Closed,Normal,Use AWS-RDS database for redmine,karthik japs,NA,2015-08-23T05:20:00Z,Database,NA,NA,NA,NA,0,2015-08-18T11:22:00Z,2015-08-23T05:20:00Z,NA,Invalid,NA,There is any possible to connect AWS-RDS with Redmine ?
20556,Redmine,Defect,NA,New,Normal,Redirect to HTTPS,Dennis Olsson,Jean-Philippe Lang,2017-05-04T16:05:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-08-18T14:13:00Z,NA,関連している #25764,NA,NA,"http://www.redmine.org/account/register and other sensitive pages should (IMHO) redirect to HTTPS when passwords are involved. Even better would be to redirect all traffic, since session cookies are involved and impersonation is trivial if you are in the right/wrong position/place.

Adding as a defect since HTTPS is configured on the server."
20559,Redmine,Defect,NA,Closed,Normal,Project copy does not copy custom field settings,Laurent Breuillard,NA,2015-08-18T17:27:00Z,Projects,NA,NA,NA,NA,0,2015-08-18T17:00:00Z,2015-08-18T17:27:00Z,次のチケットと重複 #20360,Duplicate,2.6.5,"When making a project copy by going to /redmine/projects/template/copy custom field check boxes on the new project form are not set, all are unchecked. After project copy all custom field values are lost.

Copy the defect #20360 for the release 2.6.5 where I have the same issue.

Env:
<pre>
Environment:
  Redmine version                2.6.5.stable
  Ruby version                   2.1.6-p336 (2015-04-13) [x86_64-linux]
  Rails version                  3.2.21
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
20564,Redmine,Defect,NA,Closed,Normal,"Issue status field is blank, and can't be edited in ""Issue update"" form",Leonid Titov,NA,2015-09-09T12:53:00Z,Issues,NA,NA,NA,NA,0,2015-08-19T10:12:00Z,2015-09-09T12:53:00Z,NA,Invalid,2.6.6,"When I try to update or file new issue using the we, the ""Status"" field is empty and can't be edited.
Please refer to attached screenshot.
At the same time I can successfully edit issue status via issue list (any report, for instance - ""My issues"").
I have found this issue after upgrade from 2.3 to 2.6.6.stable.14512
Here are details about my Redmine installation:

Redmine 2.6.6.stable.14512
Default administrator account changed 	True
Attachments directory writable 	True
Plugin assets directory writable (./public/plugin_assets) 	True
RMagick available (optional) 	True
ImageMagick convert available (optional) 	True

Environment:
  Redmine version                2.6.6.stable.14512
  Ruby version                   2.0.0-p643 (2015-02-25) [x86_64-linux]
  Rails version                  3.2.22
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  mail_references                0.0.1
  openid_fix                     0.1.0
  redmine_change_issue_author    0.0.1
  redmine_omniauth_google        0.0.1
  redmine_tagging                0.1.2

Here are fragment from my production.log after trying to update issue using ""Update issue web-form"":

2015-08-19 11:11:54 +0300 (14949) Started PUT ""/projects/import/issues/update_form.js?id=3561"" for fdfs at 2015-08-19 11:11:54 +0300
2015-08-19 11:11:54 +0300 (14949) Processing by IssuesController#update_form as JS
2015-08-19 11:11:54 +0300 (14949)   Parameters: {""utf8""=>""?"", ""authenticity_token""=>""dfsfs"", ""issue""=>{""is_private""=>""0"", ""project_id""=>""42"", ""tracker_id""=>""1"", ""subject""=>""fdsfsfs"", ""description""=>""fsdfsd"", ""author_id""=>""3"", ""status_id""=>""2"", ""priority_id""=>""4"", ""assigned_to_id""=>"""", ""parent_issue_id""=>"""", ""start_date""=>"""", ""due_date""=>"""", ""estimated_hours""=>"""", ""done_ratio""=>""0"", ""custom_field_values""=>{""1""=>"""", ""2""=>"""", ""3""=>""""}, ""tags""=>"""", ""notes""=>"""", ""private_notes""=>""0"", ""lock_version""=>""1""}, ""time_entry""=>{""hours""=>"""", ""activity_id""=>"""", ""comments""=>""""}, ""last_journal_id""=>""6010"", ""id""=>""3561"", ""project_id""=>""import""}
2015-08-19 11:11:54 +0300 (14949) Settings cache cleared.
2015-08-19 11:11:54 +0300 (14949)   Current user: leon_ti (id=3)
2015-08-19 11:11:54 +0300 (14949)   Rendered issues/_form_custom_fields.html.erb (1.5ms)
2015-08-19 11:11:54 +0300 (14949)   Rendered issues/_attributes.html.erb (69.7ms)
2015-08-19 11:11:54 +0300 (14949)   Rendered plugins/redmine_change_issue_author/app/views/issues/_attributes.html.erb (78.9ms)
2015-08-19 11:11:54 +0300 (14949)   Rendered plugins/redmine_tagging/app/views/tagging/_issue_tagcloud.erb (25.0ms)
2015-08-19 11:11:54 +0300 (14949)   Rendered issues/_form.html.erb (124.3ms)
2015-08-19 11:11:54 +0300 (14949)   Rendered issues/update_form.js.erb (128.8ms)
2015-08-19 11:11:54 +0300 (14949) Completed 200 OK in 214.9ms (Views: 130.4ms | ActiveRecord: 15.4ms)

"
20565,Redmine,Defect,NA,Closed,Low,Search and get a 404 page when adding a new project,diguang xiao,Jean-Philippe Lang,2015-09-20T13:50:00Z,Search engine,3.2.0,NA,NA,NA,0,2015-08-19T12:44:00Z,2015-09-20T13:50:00Z,NA,Fixed,3.1.0,"Steps to recurrence the problem:

# Goto page /projects/new (Add a new project)
# Click the Search link on the top-right of the page (Or just input some key word and press Enter key)
# Now, you got a 404 page

Reason, in this scenario, search is linked to /projects//search instead of /search."
20582,Redmine,Defect,NA,Closed,Normal,Redmine Timesheets Application - Installation,Balasubramaniyan Baskaran,NA,2015-08-21T01:13:00Z,NA,NA,NA,NA,NA,0,2015-08-20T16:24:00Z,2015-08-21T01:13:00Z,NA,Invalid,2.4.2,"I'm trying to install Redmine Timesheets Application plugin as mentioned in the link below:

https://www.redmine.org/plugins/redmine_app_timesheets

But I was not able to find the option Order management in the redmine.

As anyone guide me to solve this issue."
20583,Redmine,Defect,NA,Closed,Normal,Setting Category/Version as a required field causes error in projects without categories/versions,Robert Barnebeck,Jean-Philippe Lang,2015-10-24T08:23:00Z,Issues workflow,3.2.0,NA,NA,NA,0,2015-08-20T16:49:00Z,2015-10-24T08:23:00Z,関連している #18004,Fixed,2.5.3,"When I go to ""Administration"" --> ""Workflow"" --> ""Fields permissions"", then I can set the ""Category"" as required. The effect now is, that when I create or edit an issue, the field ""Category"" is required.

But if the project has no defined categories, this validation accidently tells me, that no category is selected. In my opinion the validation should only check in projects, where one ore more categories are present."
20591,Redmine,Defect,NA,Closed,Normal,PDF export does not determine picture (.png) height correctly,Marwijn Hessel,NA,2015-11-07T14:09:00Z,PDF export,2.6.8,NA,NA,NA,0,2015-08-21T14:03:00Z,2015-11-07T14:09:00Z,NA,Fixed,3.1.0,"When exporting a redmine page as PDF. Somehow the height of pictures (.png) is not determined correctly. When there are more pictures on a page, in the PDF export these are laying on top of each other (see example in attachment)."
20597,Redmine,Defect,NA,New,Normal,Ajax indicator is displayed below modal boxes,Nicolas Rodriguez,NA,2015-08-26T06:15:00Z,UI,NA,NA,NA,NA,0,2015-08-23T06:19:00Z,NA,NA,NA,NA,"z-index should be set to a higher value than 100 to be displayed correcly.
"
20598,Redmine,Defect,NA,New,Normal,Plugin ratings with zero stars not possible,Jan from Planio www.plan.io,Jean-Philippe Lang,2015-09-06T18:51:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-08-23T11:41:00Z,NA,NA,NA,NA,"I tried giving the ""Custom Workflows"":http://www.redmine.org/plugins/custom-workflows plugin a zero-star rating because of my security concerns. Unfortunately, my rating was not saved. When I repeated the rating with 1 star, it was saved.

Assigning this directly to you, Jean-Philippe, because I think no one else can fix this, or is the code for the plugin directory available somewhere?"
20619,Redmine,Defect,NA,Closed,Normal,When incomming mail has invalid journal id the mail is ignored,Erlend ter Maat,NA,2015-08-27T00:51:00Z,Email receiving,NA,NA,NA,NA,0,2015-08-26T08:48:00Z,2015-08-27T00:51:00Z,NA,NA,3.1.0,"Incomming mail - replies to issue notifications - may contain an email header with a journal id.

In some cases the journal-id does not exist in the database. I asume this can be due to system crash or some other kind of inconsistency.

When the journal ID is not found in the database the email is ignored and processing continues the next mail.

I think better handling would be to at least process the email as a new issue, then it would be noticed in the webinterface at the moment of sending, instead of when the sender complains about an unnoticed email message.

Please add dispatch_to_default to the receive_XXX_reply functions at app/models/mail_handler.rb

This affects all versions."
20621,Redmine,Defect,NA,Closed,Normal,Internal Server Error when creating/copying issues,Jurgen Reniers,NA,2015-09-09T09:45:00Z,Issues,NA,NA,NA,NA,0,2015-08-26T15:41:00Z,2015-09-09T09:45:00Z,NA,Invalid,3.1.0,"I have upgraded from Redmine 2.5.2 to 3.1.0 and I'm currently running into an Internal Server Error when creating/copying issues. The @log/production.log@ shows:

<pre>
NameError (undefined method `_run_save_callbacks' for class `Issue'):
  app/models/issue.rb:175:in `create_or_update'
  app/controllers/issues_controller.rb:141:in `create'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

*Configuration Info*

<pre>
Environment:
  Redmine version                3.1.0.stable
  Ruby version                   1.9.3-p392 (2013-02-22) [i686-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.17
  Cvs                            1.12.13
  Git                            1.7.10.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.10
  redmine_better_gantt_chart     0.9.0
  redmine_checklists             3.1.1
  redmine_github_hook            2.2.0
  redmine_gitlab_hook            0.1.3
  redmine_issue_templates        0.1.0
  redmine_mylyn_connector        2.8.2.stable
  redmine_spent_time             3.0.2
  redmine_stealth                0.6.0
  redmine_testlinklink           1.0.0
  redmine_wiki_extensions        0.7.0
  redmine_wiki_lists             0.0.6
</pre>"
20628,Redmine,Defect,NA,Closed,Normal,Standard field (Due Date) for Redmine not showing as required.,Rafael Neves,NA,2015-10-16T07:14:00Z,Issues workflow,NA,NA,NA,NA,0,2015-08-27T19:40:00Z,2015-10-16T07:14:00Z,次のチケットと重複 #11887,Duplicate,2.6.2,"I´m using Redmine 2.6.2. Logged as admin user, standard field (Due Date) not required when adding a new issue, despite having set up as required on workflow field permission.

I mean, When logged as other user (not admin) it works fine  (appears an red asterisk besides Due Date field), but i need to prevent ALL users to not forget to fill due date, even they are admin users.  Is that a bug ? Possible to fix it ?

Thanks!"
20630,Redmine,Defect,NA,New,Normal,Repeat table header in wiki exports,Antonio Exp?sito,NA,2015-08-28T09:46:00Z,PDF export,NA,NA,NA,NA,0,2015-08-28T09:46:00Z,NA,NA,NA,NA,"In wiki export to pdf, there is no way to indicate that the header has to be repeated on every page.

!Table_wiki.png!


If found this, but it doesn't work with Redmine:

http://txstyle.org/doc/15/tables
2) HTML5 requires the use of a <thead> tag. A <tfoot> tag is optional.

*The <thead> tag is added when |^. above and |-. below the heading are used.*

|^.
|_. First Header |_. Second Header |
|-.
| Content Cell | Content Cell |
| Content Cell | Content Cell |

The <tfoot> tag is added when |~. above and |-. below the footer are used.

|~.
|\2=. A footer, centered & across two columns |
|-.
| Content Cell | Content Cell |
| Content Cell | Content Cell |"
20636,Redmine,Defect,NA,Closed,Normal,Internal error when you submit and invalid character,Alberto Menendez Romero,NA,2015-12-14T11:41:00Z,Issues,NA,NA,NA,NA,0,2015-08-30T04:08:00Z,2015-12-14T11:41:00Z,NA,No feedback,3.0.4,"System doesn't validate the charset in the description field. This might carry on to Internal error when you submit something like ? (with invalid tilde).

Error details:
-------------------------------
Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

Back
------------------

Thanks."
20637,Redmine,Defect,NA,Closed,High,#16353 broke email notification layout in Outlook,Sebastian Paluch,NA,2015-08-31T08:56:00Z,Email notifications,NA,NA,NA,NA,0,2015-08-30T18:21:00Z,2015-08-31T00:36:00Z,次のチケットと重複 #20466,Duplicate,3.1.0,"The new notification email format/layout introduced in #16535 does not work in Outlook, the outer div is not centered and has no background color while other spans do.


!email.png!"
20638,Redmine,Defect,NA,Closed,Normal,Plugins not working with Redmine 3.1.0,4zNzTRvC K6yjVLSX,NA,2015-08-31T00:38:00Z,NA,NA,NA,NA,NA,0,2015-08-30T21:24:00Z,2015-08-31T00:38:00Z,NA,Invalid,NA,"When trying to install the 'scrum' plugin.
I ran rake, as instructed:
rake redmine:plugins:migrate RAILS_ENV=test
the output:
Migrating scrum (Scrum Redmine plugin)...

However, it does not show in Administration, Plugins.
And also the /plugin/<name> folder structure is not used between /site/,/apps/ when trying to find resources:

Showing /srv/www/vhosts/redmine-test.domain.name/site/app/views/layouts/base.html.erb where line #14 raised:
Missing partial scrum_hooks/_head with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :rsb]}. Searched in:
  * ""/srv/www/vhosts/redmine-test.domain.name/site/app/views""

Perhaps I am missing some instructions here?
http://www.redmine.org/projects/redmine/wiki/Plugins
"
20646,Redmine,Defect,NA,New,Normal,Maximum attachment size displayed/labeled incorrectly,mathew murphy,NA,2015-09-14T18:54:00Z,UI,NA,NA,NA,NA,0,2015-08-31T23:22:00Z,NA,NA,NA,NA,"I set maximum attachment size to 5000KB in Settings, since I wanted a maximum of 5MB.

However, the 'new issue' form displays the maximum size as 4.88MB.

I can see three possibilities here:

1. The form should say 4.77MiB, but is calculating incorrectly.
2. The form should say 5MB.
3. The settings field should be relabeled to specify that the maximum file size is in KiB, not KB.

Since I use Linux and OS X, and generally care about how file sizes relate to disk space (which hardware manufacturers measure in base 10), my preference would be for KB/MB/GB throughout.

However, you might want to go with KiB/MiB/GiB for the benefit of Windows users, unless Microsoft has fixed the display of file sizes in Windows 10.

Link for the unconvinced: <http://lpar.ath0.com/2008/07/15/si-unit-prefixes-a-plea-for-sanity/>"
20648,Redmine,Defect,NA,New,Normal,"Users' ""Last connection"" is not updated correctly.",kaz k,NA,2016-06-15T14:32:00Z,Accounts / authentication,Candidate for next major release,NA,NA,NA,0,2015-09-01T05:00:00Z,NA,NA,NA,NA,"In the User Profile, there are following two date fields.
* Registered on: 2015-01-01 (value is an example)
* Last connection: 2015-09-01 (value is an example)

For some users, ""Last connection"" is not correct. Although the user logs in Redmine, ""Last connection"" date is not updated.
In our system, for example, a user logged in on August 31, 2015. But ""Last connection"" date is still ""August 22, 2015"".

It is also true in the Administration=>Users listing.

We are using this field to determine if the user is active or not. So We hope this field is correct.

Thank you all, in advance.

* Reported version
Redmine 2.5.0.stable. 
Details are as follows.
<pre>
Environment:
  Redmine version                2.5.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               PostgreSQL
</pre>
"
20662,Redmine,Defect,NA,Closed,Normal,db:migrate fails in upgrade from 3.0.3 to 3.1.0 fails (Bitnami),Gustavo Regal,NA,2015-09-03T14:41:00Z,Database,NA,NA,NA,NA,0,2015-09-02T17:23:00Z,2015-09-03T01:26:00Z,NA,NA,3.1.0,"I had 3.0.3 running OK (Bitnami Windows download).
Tried to upgrade to 3.1.0.

Backed up 3.0.3 MySQL DB and restored it to 3.1.0.
Run rake db:migrate and got the following error.

<pre>
F:\Bitnami\redmine-3.1.0-0\apps\redmine\htdocs>bundle exec rake db:migrate RAILS
_ENV=production --trace
DL is deprecated, please use Fiddle
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
** Invoke db:load_config (first_time)
** Execute db:load_config
** Execute db:migrate
== 20150528092912 CreateRolesManagedRoles: migrating ==========================
-- create_table(:roles_managed_roles, {:id=>false})
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

Mysql2::Error: Table 'roles_managed_roles' already exists: CREATE TABLE `roles_m
anaged_roles` (`role_id` int(11) NOT NULL, `managed_role_id` int(11) NOT NULL) E
NGINE=InnoDBF:/Bitnami/redmine-3.1.0-0/apps/redmine/htdocs/vendor/bundle/ruby/2.
0.0/gems/activerecord-4.2.3/lib/active_record/connection_adapters/abstract_mysql
_adapter.rb:305:in `query'
</pre>

Is it a bug in migration script or have I done something wrong?

Thanks in advance."
20683,Redmine,Defect,NA,Closed,Normal,redmine for svn problem,欣洋 曹,NA,2015-09-06T10:26:00Z,SCM,NA,NA,NA,NA,0,2015-09-06T09:50:00Z,2015-09-06T10:26:00Z,次のチケットと重複 #20655,Duplicate,NA,"My question is as follows, I redmine and SVN integration, configure SVN client no problem, the configuration repository is also no problem, but when I was a little repository 500 mistakes,"
20693,Redmine,Defect,NA,New,Normal,GIT: No files/differences on git merge commit,Anatol Bollinger,NA,2015-09-08T11:52:00Z,SCM,NA,NA,NA,NA,0,2015-09-08T11:41:00Z,NA,次のチケットが重複 #8741,NA,3.0.3,"When shown in Redmine Git revisions created by merge commits do not have any files/change entries.
Regular commits do have these entries.
@git diff <commit>@ on the command line (and in a worktree) shows the changes.

Repositories have been created with @git clone --mirror .. @ and are updated by @git remote -v update --prune@



"
20699,Redmine,Defect,NA,New,Normal,ldap error - not permitted to logon at this workstation,Alexander Ryabinovskiy,NA,2017-12-13T12:15:00Z,LDAP,NA,NA,NA,NA,0,2015-09-08T18:22:00Z,NA,NA,NA,3.1.0,"I configured ""LDAP authentication"" for our Active Directory.
On Windows 2003 server x68 and Windows 2012 server x64 login attempts ends with the error (logged using WireShark):
<pre>
LDAPMessage bindResponse(1) invalidCredentials (80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 531, vece)
</pre>
which means ""not permitted to logon at this workstation"". The solution is to add AD server to ""userWorkstations"" list of each domain user, and it works. But it is a bad solution and our administrators does not accept this.
This behavior was commented a year ago:
#1913#note-29"
20703,Redmine,Defect,NA,Closed,Normal,ldap filter can`t contain non-english characters,Alexander Ryabinovskiy,NA,2015-12-23T16:13:00Z,LDAP,NA,NA,NA,NA,0,2015-09-09T15:06:00Z,2015-12-23T16:13:00Z,関連している #13728,NA,3.1.0,"I can`t save LDAP filter with non-english (russian) characters, because validation fails. But our AD groups contains it. For example:

Filter: (&(objectClass=user)(memberOf=CN=Программисты,OU=All groups,DC=organization,DC=local))"
20730,Redmine,Defect,NA,Closed,Normal,Fix tokenization of phrases with non-ascii chars,Jens Kr?mer,Jean-Philippe Lang,2015-10-09T09:37:00Z,Search engine,3.0.6,NA,NA,NA,0,2015-09-13T05:56:00Z,2015-10-09T09:37:00Z,NA,Fixed,NA,"\w only matches ASCII characters, we should either use @[:alnum:]@ instead or simply match all non-@""@ characters for the phrase. Test case included.
"
20736,Redmine,Defect,NA,Closed,Normal,production configuration not read from database.yml,Miroslav Za?ko,NA,2015-09-14T02:57:00Z,NA,NA,NA,NA,NA,0,2015-09-13T18:00:00Z,2015-09-14T02:57:00Z,NA,Invalid,3.1.0,"I have strange problem with configuration of 3.1-stable in file database.yml there are 3 exactly same configurations: production,development & test
If I print out content of database_config after read from file in <redmineroot>/Gemfile, there are test & development configurations read from config/database.yml nothing for production.
{""production""=>nil, ""development""=>{""adapter""=>""postgresql"", ""database""=>""redmine_dev"", ""host""=>""localhost"", ""username""=>""redmine"", ""password""=>""redmine""}, ""test""=>{""adapter""=>""postgresql"", ""database""=>""redmine_test"", ""host""=>""localhost"", ""username""=>""redmine"", ""password""=>""redmine""}}

I'm trying to run
<pre>
bundle install --without development test
</pre>"
20761,Redmine,Defect,NA,Closed,Normal,Fix typo of Japanese translation for notice_gantt_chart_truncated,Go MAEDA,NA,2015-09-16T12:57:00Z,Translations,2.6.7,NA,NA,NA,0,2015-09-16T11:32:00Z,2015-09-16T12:57:00Z,NA,Fixed,NA,"There is a typo in Japanse translation for notice_gantt_chart_truncated.
""超えたたため"" must be ""超えたため"" (it has extra ""た"").

<pre><code class=""diff"">
Index: config/locales/ja.yml
===================================================================
--- config/locales/ja.yml	(revision 14597)
+++ config/locales/ja.yml	(working copy)
@@ -194,7 +194,7 @@
   notice_unable_delete_version: バージョンを削除できません
   notice_unable_delete_time_entry: 作業時間を削除できません
   notice_issue_done_ratios_updated: チケットの進捗率を更新しました。
-  notice_gantt_chart_truncated: ガントチャートは、最大表示項目数(%{max})を超えたたため切り捨てられました。
+  notice_gantt_chart_truncated: ガントチャートは、最大表示項目数(%{max})を超えたため切り捨てられました。

   error_can_t_load_default_data: ""デフォルト設定がロードできませんでした: %{value}""
   error_scm_not_found: リポジトリに、エントリ/リビジョンが存在しません。
</pre>"
20769,Redmine,Defect,NA,New,Normal,Issues with formatting of == (equality operator),Mehmet Soyturk,NA,2015-10-16T12:41:00Z,Text formatting,NA,NA,NA,NA,0,2015-09-17T11:03:00Z,NA,NA,NA,NA,"This operator might have special meaning in textile, but I didn't not find it in the documents. When I input this as plain textile text or as inline code (betwee @ characters), sometimes it disappears.

This is annoying, because = = is the equality operator in many programming languages.

I will paste this text below:
<pre>
@x == y && a == b@
@x == y && a == b@

== abc ==

=== abc ===

= abc =

x == y & a == b

x == y

a == b

@x == y && a == b@
@x == y && a == b@
</pre>

After pasting:

@x == y && a == b@
@x == y && a == b@

== abc ==

=== abc ===

= abc =

x == y & a == b

x == y

a == b

@x == y && a == b@
@x == y && a == b@"
20775,Redmine,Defect,NA,Closed,Normal,redmine_plugins_importer,欣洋 曹,NA,2015-09-18T06:20:00Z,NA,NA,NA,NA,NA,0,2015-09-18T04:39:00Z,2015-09-18T06:20:00Z,NA,Invalid,3.1.0,"When I install redmine_importer plug-in, hint I mistake, everybody to help me take a look at how to solve this problem, thanks"
20776,Redmine,Defect,NA,Closed,High,Redmine in a sub-URI does not work,Anton Wiedermann,NA,2015-09-18T14:12:00Z,NA,NA,NA,NA,NA,0,2015-09-18T09:17:00Z,2015-09-18T09:54:00Z,NA,Invalid,3.1.0,"I'm trying to run Redmine 3.1-stable on an Apache httpd together with some other apps to support the development. To make tools comfortably accessible I want all of them to run on the same port 80. VirtualHost running passenger runs on port 3000 without any problems, and I can work with Redmine there. I have httpd proxy defined for @/redmine@ and that works fine but even after defining @Redmine::Utils::relative_url_root = ""/redmine""@ Redmine does not work correctly. Resources load fine (css, js) but links inside application are not prefixed.

I tried several approaches and (desperately) their combinations from [[HowTo Install Redmine in a sub-URI]] but nothing works. There are other resources referenced from the page which I tried as well without any success. I have also searched for issues on redmine.org and tried few things/patches from there and still no luck.

{{collapse(version information)
<pre>
  Redmine version          3.1.0.stable.14601
  Ruby version             2.2.3-p173 (2015-08-18) [x86_64-linux]
  Rails version            4.2.4
  Database adapter         Mysql2
</pre>
}}

There are many discussions around this but all seem to be several years old so either I'm missing something or this is bug reintroduced?"
20777,Redmine,Defect,NA,Closed,Normal,Add button not working with Internet Explorer,Philip Parsons,NA,2015-10-25T12:13:00Z,UI,NA,NA,NA,NA,0,2015-09-18T12:36:00Z,2015-09-18T13:34:00Z,次のチケットと重複 #20380,Duplicate,3.1.0,"Trying to add new members to a project or add new watchers to an issue.  Nothing happens when I click the add button.  Other buttons (cancel etc) work fine.

Redmine 3.1.0stable, IE9."
20779,Redmine,Defect,NA,Closed,Normal,git exited with non-zero status: 128,[ Desperados ],NA,2015-10-17T09:57:00Z,SCM,NA,NA,NA,NA,0,2015-09-18T21:42:00Z,2015-10-17T09:57:00Z,NA,Invalid,2.6.6,"I noticed this error in yesterday, but I don't know since I have it
however, the problem is that some repositories are not updated, others are ok
I tried to update from 2.6.5 to 2.6.6 but nothing changes

my about:

<pre>Environment:
  Redmine version                2.6.6.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  3.2.22
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem
Redmine plugins:
  redmine_charts2                0.2.1
  redmine_code_review            0.6.3
  redmine_contacts               3.4.4
  redmine_custom_css             0.1.4
  redmine_jstoolbar_ext          0.2.0
  redmine_jstoolbar_ext_coderay  0.1.0
  redmine_jstoolbar_ext_images   0.1.0
  redmine_lightbox2              0.1.3
  redmine_people                 0.1.8
  redmine_release_notes          1.3.1
  redmine_wiki_extensions        0.6.5</pre>

and some parts of production.log:

<pre>Started GET ""/projects/bbox/repository"" for 192.168.10.196 at 2015-09-18 21:40:59 +0200
Processing by RepositoriesController#show as HTML
  Parameters: {""id""=>""bbox""}
  Setting Load (0.2ms)  SELECT `settings`.* FROM `settings` WHERE `settings`.`name` = 'session_lifetime' LIMIT 1
  Setting Load (0.2ms)  SELECT `settings`.* FROM `settings` WHERE `settings`.`name` = 'session_timeout' LIMIT 1
   (0.2ms)  SELECT MAX(`settings`.`updated_on`) AS max_id FROM `settings`
  User Load (0.3ms)  SELECT `users`.* FROM `users` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND `users`.`status` = 1 AND `users`.`id` = 19 LIMIT 1
  Current user: mauro (id=19)
   (0.1ms)  SELECT MAX(`contacts_settings`.`updated_on`) AS max_id FROM `contacts_settings`
  Setting Load (0.1ms)  SELECT `settings`.* FROM `settings` WHERE `settings`.`name` = 'force_default_language_for_loggedin' LIMIT 1
  Project Load (0.1ms)  SELECT `projects`.* FROM `projects` WHERE `projects`.`identifier` = 'bbox' LIMIT 1
  Repository Load (0.1ms)  SELECT `repositories`.* FROM `repositories` WHERE `repositories`.`project_id` = 1 AND (is_default = 1) LIMIT 1
Shelling out: 'git' --version --no-color
Shelling out: 'git' '--git-dir' '/srv/git/bbox.git' '-c' 'core.quotepath=false' '-c' 'log.decorate=no' 'branch' '--no-color' '--verbose' '--no-abbrev'
  SQL (0.1ms)  SELECT `enabled_modules`.`name` FROM `enabled_modules` WHERE `enabled_modules`.`project_id` = 1
  Setting Load (0.1ms)  SELECT `settings`.* FROM `settings` WHERE `settings`.`name` = 'autofetch_changesets' LIMIT 1
   (0.1ms)  SELECT COUNT(*) FROM `changesets` WHERE `changesets`.`repository_id` = 32
Shelling out: 'git' '--git-dir' '/srv/git/bbox.git' '-c' 'core.quotepath=false' '-c' 'log.decorate=no' 'log' '--no-color' '--encoding=UTF-8' '--raw' '--date=iso' '--pretty=fuller' '--parents' '--stdin' '--reverse'
git log error: git exited with non-zero status: 128</pre>"
20788,Redmine,Defect,NA,New,Low,REST API with JSON content missing some keys,邵 岸,NA,2016-03-28T08:16:00Z,REST API,Candidate for next minor release,NA,NA,NA,0,2015-09-21T05:46:00Z,NA,NA,NA,2.6.7,"if an issue IS NOT private，using ""GET /issues/<this_issue_id>.xml"" can get ""<is_private>false</is_private>"" in the response;but if using ""GET /issues/<this_issue_id>.json"", there is no ""is_private"" key fonud in the response.

and the similar:
if a project IS NOT public，using ""GET /projects/<this_project_id>.xml"" can get ""<is_public>false</is_public>"" in the response;but if using ""GET /issues/<this_project_id>.json"", there is no ""is_public"" key fonud in the response.


Environment:
  Redmine version                2.6.6.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [x86_64-linux]
  Rails version                  3.2.22
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.10
  Filesystem                     
Redmine plugins:
  redmine_cas                    1.2.1"
20793,Redmine,Defect,NA,Closed,Normal,Perl authentication is not working,Daniel M?ller,NA,2015-10-19T12:29:00Z,NA,NA,NA,NA,NA,0,2015-09-21T10:36:00Z,2015-10-16T06:41:00Z,NA,Invalid,3.1.1,"I was able to install Redmine 3.1.0 on an Ubuntu server (15.04). Now, I want to integrate hgweb (Mercurial). the configuration of Apache is easy:
<pre>
        PerlLoadModule Apache::Redmine
        ScriptAlias /hg  ""/var/www/html/hg/hgweb.cgi""
        <Location /hg >
            AuthType Basic
            AuthName ""Redmine Mercurial Repository""
            AuthUserFile /dev/null
            Require valid-user
            #Redmine auth
            PerlAccessHandler Apache::Authn::Redmine::access_handler
            PerlAuthenHandler Apache::Authn::Redmine::authen_handler
            RedmineDSN ""DBI:mysql:database=redmine;host=localhost""
            RedmineDbUser ""redmine""
            RedmineDbPass ""redmine""
            #RedmineCacheCredsMax 10
        </Location>
</pre>
hgweb is working well if I comment out the redmine auth parts. If I try to authenticate with redmine I always get an _401 Unauthorized_ message.
Apache error.log:
<pre>
[Wed Sep 16 17:23:47.447109 2015] [auth_basic:error] [pid 14574:tid 139847437932288] [client x.x.x.x:45706] AH01618: user transporter not found: /hg/
[Wed Sep 16 17:23:53.075982 2015] [auth_basic:error] [pid 14574:tid 139847446324992] [client x.x.x.x:45712] AH01618: user transporter not found: /hg/
[Wed Sep 16 17:23:57.296066 2015] [auth_basic:error] [pid 14574:tid 139847356380928] [client x.x.x.x:45712] AH01618: user transporter not found: /hg/
[Wed Sep 16 17:24:01.422917 2015] [auth_basic:error] [pid 14574:tid 139847347988224] [client x.x.x.x:45712] AH01618: user transporter not found: /hg/
</pre>

I can login into my redmine installation with the used username and password, but it's not working over the pearl module.

I also checked a test directory with simple html files <pre>Alias /test/ ""/var/www/html/test/""
<Directory "" /var/www/html/test/"">
    Order allow,deny
    Allow from all
    Require all granted
</Directory>
<Location /test >
    AuthType Basic
    AuthName ""Redmine Test Portal""
    AuthUserFile /dev/null
    Require valid-user
    PerlAccessHandler Apache::Authn::Redmine::access_handler
    PerlAuthenHandler Apache::Authn::Redmine::authen_handler
    RedmineDSN ""DBI:mysql:database=redmine;host=localhost""
    RedmineDbUser ""redmine""
    RedmineDbPass ""redmine""
    #RedmineCacheCredsMax 10
</Location>
</pre>


<pre>Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed</pre>

See: message#48315"
20799,Redmine,Defect,NA,Needs feedback,Normal,Incorrect language when set to Portuguese Brazilian,Fernando Possebon,NA,2015-10-20T04:13:00Z,I18n,NA,NA,NA,NA,0,2015-09-21T17:53:00Z,NA,NA,NA,3.1.1,"I'm using the Redmine 3.1.1 version and when I set the default language or the user language preference to Portuguese Brazilian, the Redmine loads the Portuguese language.

I looked at database on settings table, to check if the information was written correct there, and there is stored the value pt-BR.

I looked at config/locales folders and there is a pt-BR.yml file there, with all values.

I did a test: renamed the pt.yml (Portuguese Portugal) and restarted the Redmine application. After the rename, Redmine starts in English. 

That's means that even the language is set to pt-BR, Redmine looks for the pt.yml file."
20809,Redmine,Defect,NA,Closed,Normal,database definition,christina ba,NA,2015-09-27T13:41:00Z,Database,NA,NA,NA,NA,0,2015-09-22T17:44:00Z,2015-09-27T13:41:00Z,NA,Invalid,3.0.3,where may i find some database documentation and data definition for redmine?
20811,Redmine,Defect,NA,Closed,Normal,long <pre> lines are missing from PDF export of wiki pages,Simon Deziel,NA,2015-11-07T14:09:00Z,PDF export,2.6.8,NA,NA,NA,0,2015-09-22T18:41:00Z,2015-11-07T14:09:00Z,NA,Fixed,3.1.1,"Put the following pre block in a wiki page:

<pre>
mkdir -m 0700 ~root/.ssh
cat << EOF >> ~root/.ssh/authorized_keys
ssh-rsa AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA= jdoe@example.com
EOF
</pre>

Export it as a PDF and notice it skipped the ""AAAA... jdoe@example.com"" part leaving only this:

<pre>
mkdir -m 0700 ~root/.ssh
cat << EOF >> ~root/.ssh/authorized_keys
ssh-rsa



EOF
</pre>

The ssh-rsa key is a 4096 bit one so it results in a long string of 739 chars total."
20826,Redmine,Defect,NA,Closed,Normal,redmine for mysql error,欣洋 曹,NA,2015-09-25T03:50:00Z,NA,NA,NA,NA,NA,0,2015-09-24T04:28:00Z,2015-09-24T11:01:00Z,NA,Invalid,NA,"I reinstalled mysql and mysql2, mysql - client database is created, but once I start redmine error, the question is what meaning, for help."
20831,Redmine,Defect,NA,Closed,Normal,journal_details table reverted value and old_value back to String on update from 2.6.0 to 3.1.1,John Janus,NA,2016-01-12T13:01:00Z,Database,NA,NA,NA,NA,0,2015-09-24T16:00:00Z,2015-10-22T07:14:00Z,"関連している #15483, 次のチケットが重複 #23741",Invalid,3.1.1,"I recently upgraded our redmine installation from 2.6.0 to 3.1.1.
Since then it has not been possible to edit descriptions.
The log shows the following error:

Mysql2::Error: Data too long for column 'value' at row 1: INSERT INTO `journal_details` (`property`, `prop_key`, `old_value`, `value`, `journal_id`) VALUES ('attr', 'description', '<long description here>',2068)
The same error message appears for old_value.

I found Defect #15483, which describes a similar problem.
A quick check in the database shows, that the type for old_value and value is indeed varchar(255).
BUT in the database for the 2.6.0 version, those columns had varchar(255) as type as well, though editing a description was possible there.

Version 2.6.0 was installed without prior data on a windows server with the bitnami stack (mysql as database).
3.1.1 was installed on a linux server with mariadb 10.0.20. the database was dumped from the windows mysql server and read into the mariadb without problems.
"
20859,Redmine,Defect,NA,Closed,Normal,bundle install fails on redmine 3.1.1 on Amazon EC2 linux,ikuru k,NA,2015-09-30T22:29:00Z,Ruby support,NA,NA,NA,NA,0,2015-09-26T16:43:00Z,2015-09-30T22:29:00Z,NA,Invalid,3.1.1,"So I was trying to install redmine on a AMazon EC2 instance, and noticed that bundle install threw an error.

Had to
@$ sudo gem install io-console@
to resolve the issue. ANd everything was fine afterwards.

First time even touching ruby and rails,
but this should be listed on the Gemfile if it is a pre-requisite, right?"
20871,Redmine,Defect,NA,New,Low,"CHROME, Using Scroll Wheel for Multi-select List Custom Fields is not User-Friendly",James H,NA,2015-09-28T22:41:00Z,UI,NA,NA,NA,NA,0,2015-09-28T22:41:00Z,NA,NA,NA,3.0.3,"h2. General Background:

I have created several custom fields that are of the ""List"" type. I have enabled multiple selections for them and so when I use them in an issue, they look like a scroll-able box with a list of options.
The box does not behave in a user-friendly way when using Chrome. This applies to Chrome Browser only, Firefox and IE seems to be okay...

h2. Problem Description:

The box itself shows 4 options at a time with a vertical scrollbar to the right. When there are a lot more than 4 available options, you are required to scroll through the list.
Currently, when you *click on the scrollbar arrows* (up or down) it scrolls through about *2 lines at a time*. This is okay.
On the other hand, when you use the *mousewheel* to scroll through the list, it looks like it scrolls through about *6 lines at a time*. This is NOT OKAY because it tends to completely skip through 2 of the options and I never see them until I click on the arrows to scroll.

On other browsers, the scrollwheel scrolls through 3 lines at a time (the normal default for mouse wheel) as expected, which is Okay."
20879,Redmine,Defect,NA,Closed,Normal,Database slowdowns without indexes,Sean Hagen,NA,2015-09-30T00:35:00Z,Database,NA,NA,NA,NA,0,2015-09-29T21:51:00Z,2015-09-30T00:34:00Z,NA,Invalid,2.5.2,"We're using Redmine for our internal issue tracking system.

Yesterday the site started to get super slow, until it just stopped responding. The CPU on the server was pegged at 100%, and eventually the server would run out of memory and crash.

I created an index on 'enabled_modules' 

<pre>create index em_name on enabled_modules (name(255));</pre>

 and on 'issue_reads' 

<pre>create index ir_issues_users on issue_reads (issue_id,user_id);</pre>

Now the same query that was killing the server completes in 1.3 seconds.

I also noticed that the query joins the same table (issue_reads) twice, once with a LEFT OUTER JOIN and once with a LEFT JOIN -- each time with the exact same ON conditions. Not sure if that's intentional.

I've attached the MySQL describe output from before the indexes and after.

Redmine version: v2.5.2
MySQL version ( mysql --version ): Ver 14.14 Distrib 5.1.73, for redhat-linux-gnu (x86_64) using readline 5.1
"
20882,Redmine,Defect,NA,Closed,Normal,% done: progress bar blocked at 80 in the issue list,J?r?me BATAILLE,Jean-Philippe Lang,2016-04-04T14:38:00Z,UI,3.3.0,NA,NA,NA,0,2015-09-30T17:46:00Z,2016-04-03T13:54:00Z,NA,Fixed,NA,"It's because of a css right padding in /public/stylesheets/rtl.css :

<pre><code class=""css"">
/***** Tables *****/
table.list td {padding-left:0px; padding-right:10px;}
</code></pre>

A fix :
<pre><code class=""css"">
table.list table.progress td {
	padding-right:0px;
}
</code></pre>


"
20900,Redmine,Defect,NA,Closed,Normal,Email not truncated when use deleted,Ivan Yiu,NA,2017-09-21T15:29:00Z,Accounts / authentication,NA,NA,NA,NA,0,2015-10-05T04:16:00Z,2017-09-21T15:29:00Z,NA,Invalid,NA,"I have some user deleted before. Try to create user with previously entered user's email and got the error ""Email has already been taken"".

Checked that the email_addresses table still have the old mail and id info. but the ID is already deleted from the users table."
20908,Redmine,Defect,NA,Closed,Normal,rails dependency is too strict,Antonio Terceiro,NA,2015-10-06T01:24:00Z,NA,NA,NA,NA,NA,0,2015-10-05T22:27:00Z,2015-10-06T01:24:00Z,NA,Wont fix,3.1.1,"I maintain Redmine in Debian. Currently the Gemfile specifies a specific rails version, instead of a minimum required version. This makes it really hard to maintain packages. Please consider the attached patch, which specifies a minimum required version (4.2.4), but will also work with anything newer than that."
20910,Redmine,Defect,NA,New,Normal,Wiki HTML export bugs,Serguei Tarassov,NA,2015-10-06T12:15:00Z,Wiki,NA,NA,NA,NA,0,2015-10-06T12:13:00Z,NA,関連している #550,NA,2.4.2,"When exporting HTM from Wiki (from index page) the resulting document has following errors :
* TOC items hierarchy is not supported, only one-level list is exported
* images links are incomplete with ""/redmine/xxx"". Full path to images is expected to see them."
20915,Redmine,Defect,NA,Needs feedback,Normal,email notification isn't send to,nikhil singh,NA,2015-10-29T06:47:00Z,Email notifications,NA,NA,NA,NA,0,2015-10-06T18:12:00Z,NA,NA,NA,NA,email notification isn't send to
20987,Redmine,Defect,NA,Closed,Normal,"""h3(#my_anchor). My title"" does not work",Stefan Lindner,NA,2018-01-03T11:55:00Z,Text formatting,NA,NA,NA,NA,0,2015-10-14T10:01:00Z,2015-11-02T13:11:00Z,NA,NA,3.1.1,"The wiki for """" at http://www.redmine.org/projects/redmine/wiki/RedmineTextFormatting#Headings says:
<pre>
Redmine assigns an anchor to each of those headings thus you can link to them with ""#Heading"", ""#Subheading"" and so forth.
You can add another anchor to a title : h3(#my_anchor). My title
</pre>

But this leads to
<pre>
<h3 id=""my_anchor"">My title<a href=""#My_title"">...</a>
</pre>

and not to

<pre>
<h3>My title<a href=""#my_anchor"">...</a>
</pre>

It generates an id  property not a link anchor."
20988,Redmine,Defect,NA,Closed,Normal,% done field shown on issue show subtree even if deactivated for that tracker,Felix Sch?fer,Jean-Philippe Lang,2016-03-12T11:02:00Z,UI,3.2.1,NA,NA,NA,0,2015-10-14T12:16:00Z,2016-03-12T11:02:00Z,NA,Fixed,NA,"The issue subtasks, i.e. the list of subtasks shown below the description on a single issue view, will show the progress bar even in the %-done is deactivated for the tracker of that subtask."
20993,Redmine,Defect,NA,Closed,Low,auto-importing GPG signature file,Monty Cantsin,NA,2015-10-15T04:31:00Z,Email receiving,NA,NA,NA,NA,0,2015-10-15T01:31:00Z,2015-10-15T04:27:00Z,次のチケットと重複 #3413,Duplicate,NA,"When replying to a Redmine mail by e-mail, with a GPG signed mail, redmine automatically adds the attached signature file (siganture.asc) to the respective issue/task of the project.

For users using GPG signed e-mails by default, this ads a lot of unnecessary editing, - deleting of signature.asc files, - in Redmine.

Would be nice to have a filter within redmine that recognizes such files."
20994,Redmine,Defect,NA,Closed,High,You can not change the priority of the parent issue,n endo,NA,2017-12-11T17:36:00Z,Issues,NA,NA,NA,NA,0,2015-10-15T03:25:00Z,2015-10-15T20:20:00Z,次のチケットと重複 #20992,Duplicate,3.1.1,"We're using Redmine3.1
Priority setting it is in the ""Independent of subtasks.""

It is no longer automatically calculated from the subtasks, but it can not be changed manually.
it read-only.

Is this would be specifications? What bugs?"
21011,Redmine,Defect,NA,Closed,Normal,Watchers can not be deleted from a ticket,Thorsten H.,NA,2016-08-30T06:20:00Z,Issues,NA,NA,NA,NA,0,2015-10-17T01:05:00Z,2016-08-30T06:20:00Z,関連している #14325,Invalid,3.1.1,"Watchers can not be deleted from a ticket if Redmine 3.1.1 on Apache (mod_fcgi)/Passenger runs;
Over @/usr/bin/ruby bin/rails server webrick -e production@ watchers can be delete from a ticket
"
21013,Redmine,Defect,NA,Needs feedback,Normal,Links not formatted in documents,Kai B?se,NA,2015-11-02T15:38:00Z,Text formatting,NA,NA,NA,NA,0,2015-10-17T22:37:00Z,NA,NA,NA,3.1.1,"Using Documents, links with different display text get not formatted.

Text Used:
<pre>
**Technische Dokumentation**

1. Server und Enviroment
 * document#2
 * document#3
2. Extensions
 * ""Extension Builder"":https://docs.typo3.org/typo3cms/extensions/extension_builder

""Redmine web site"":http://www.redmine.org
</pre>

Please find attached screenshot.

Env Informarmation:
<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [i386-linux-gnu]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
21023,Redmine,Defect,NA,Closed,Normal,Data inconsistency when inserting time entry after editing activities list (no check for enumerator present in database),Sergey Startsev,NA,2015-10-29T15:07:00Z,Issues,NA,NA,NA,NA,0,2015-10-19T13:59:00Z,2015-10-29T15:07:00Z,NA,Fixed,3.0.3,"steps:
open 2 browser windows (user and admin actions emulation):
window 1 (W1) - issue page
window 2 (W2) - enumerators administration page or project actions settings

# W1: open an issue page end press edit button to insert spent time
# W2: delete global action (in administration) or set project actions to default list
# W1: input and save workhours (choosing a deleted / reseted time entry action)
# W1: in time entries table the action cell of created report will be empty, but in DB there will be an ID of deleted action in action_id field"
21037,Redmine,Defect,NA,Closed,Normal,Issue show : bullet points not aligned if sub-task is in a different project,J?r?me BATAILLE,Jean-Philippe Lang,2016-05-07T12:48:00Z,UI,3.3.0,NA,NA,NA,0,2015-10-21T10:18:00Z,2016-05-07T08:47:00Z,NA,Fixed,NA,"The project name is before the hierarchy triangles thus shifting them.

To fix that, the project name can be put in the link which has the css with the triangle image :

<pre><code class=""ruby"">
            only_path = options[:only_path].nil? ? true : options[:only_path]
            # fix
            text = h(""(#{issue.project}) - "") + text if options[:project]

            # Smile specific options + :hours_by_day
            s = link_to(text, issue_path(issue, :only_path => only_path,
                        :hours_by_day => options[:hours_by_day],
                        :debug => options[:debug]
                       ),
                        :class => issue.css_classes, :title => title)
            s << h("": #{subject}"") if subject
            #s = h(""#{issue.project} - "") + s if options[:project]
</code></pre>"
21038,Redmine,Defect,NA,Closed,Normal,Internal error with the Knwledgebase plugin,Didier HONORE,NA,2015-10-21T14:10:00Z,NA,NA,NA,NA,NA,0,2015-10-21T14:05:00Z,2015-10-21T14:10:00Z,NA,Invalid,3.1.1,"I have installed the knowledgebase plugin and when I try to access the plugin I get :

Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

in the log file, I see:


Started GET ""/projects/ovh-linux-server-ns344361-ip-94-23-250-eu/knowledgebase/articles"" for 77.158.75.212 at 2015-10-21 14:02:45 +0200
Processing by ArticlesController#index as HTML
  Parameters: {""project_id""=>""ovh-linux-server-ns344361-ip-94-23-250-eu""}
  Current user: dhonore (id=7)
Mysql2::Error: Table 'redmine_31.taggings' doesn't exist: SHOW FULL FIELDS FROM `taggings`
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.1ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Table 'redmine_31.taggings' doesn't exist: SHOW FULL FIELDS FROM `taggings`):
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'


what can I do?

Thanks

Didier"
21056,Redmine,Defect,NA,Confirmed,Normal,Project specific TimeEntryActivity name not updating properly,Stephane Evr,NA,2017-07-10T23:11:00Z,Time tracking,NA,NA,NA,NA,0,2015-10-23T18:18:00Z,NA,関連している #20018,NA,3.2.2,"In Enumerations, create a new TimeEntryActivity with these settings:

!enum_01.PNG!

Go in a project / settings / Activities (time tracking) the activity is listed properly:

!enum_02.PNG!

Enable the activity, and save.

Then, in the Enumerations page, change the name of the activity and save.

!enum_04.PNG!


Now, go back to project / settings / Activities (time tracking):

!enum_03.PNG!

Expected: The name of the activity should be updated to the new name (Test B).

Note that I can force the update by clicking on the ""Reset"" button on the same page, but I then loose all of my other activities settings for the project..."
21069,Redmine,Defect,NA,Closed,Normal,Hard-coded label for hour,Fabrice ROBIN,Jean-Philippe Lang,2015-10-30T09:57:00Z,Issues,3.2.0,NA,NA,NA,0,2015-10-26T15:10:00Z,2015-10-30T09:57:00Z,NA,Fixed,3.1.1,"The commit r14273, which has been merged into the 3.1 branch, introduced an error as a ""h"" label is hard-coded in the function l_hours_short:

<pre>
""%.2f h"" % hours.to_f
</pre>

This label should be translated through i18n. Asian users will surely report this anomaly."
21071,Redmine,Defect,NA,Closed,Normal,find_referenced_issue_by_id fails with RangeError for large numbers,Ricardo S,Jean-Philippe Lang,2015-11-07T09:18:00Z,SCM,3.0.6,NA,NA,NA,0,2015-10-26T16:47:00Z,2015-11-07T09:18:00Z,NA,Fixed,NA,"When a commit message contains a large number like *#2010021810000121* it becomes impossible to open the repository view.

On the log we get the error:
<pre>
A RangeError occurred in repositories#show:

2010021810000121 is out of range for ActiveRecord::ConnectionAdapters::SQLServer::Type::Integer with limit 4

app/models/changeset.rb:203:in `find_referenced_issue_by_id'
app/models/changeset.rb:134:in `block (2 levels) in scan_comment_for_issue_ids'
app/models/changeset.rb:133:in `each'
app/models/changeset.rb:133:in `block in scan_comment_for_issue_ids'
app/models/changeset.rb:129:in `scan'
app/models/changeset.rb:129:in `scan_comment_for_issue_ids'
app/models/changeset.rb:102:in `scan_for_issues'
app/models/repository/git.rb:218:in `save_revision'
app/models/repository/git.rb:207:in `block (2 levels) in save_revisions'
app/models/repository/git.rb:204:in `block in save_revisions'
app/models/repository/git.rb:203:in `each'
app/models/repository/git.rb:203:in `save_revisions'
app/models/repository/git.rb:153:in `fetch_changesets'
app/controllers/repositories_controller.rb:114:in `show'
lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

Our system is running with following versions (but it also affects the current redmine trunk):
<pre>
Environment:
  Redmine version                3.1.0.devel
  Ruby version                   2.2.3-p173 (2015-08-18) [i386-linux-gnu]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               SQLServer
SCM:
  Subversion                     1.8.8
  Mercurial                      2.8.2
  Cvs                            1.12.13
  Git                            1.9.1
  Filesystem     
</pre>"
21075,Redmine,Defect,NA,Closed,Normal,User without role in project is not shown as a selection option in Author filter (Issues tab),Deoren Moor,NA,2017-11-05T08:08:00Z,Issues filter,NA,NA,NA,NA,0,2015-10-26T19:00:00Z,2017-11-05T08:08:00Z,次のチケットと重複 #1875,Duplicate,3.1.1,"Scenario:

# User submits an issue
# Issue is moved from an area where they do have access to one where they do not
# Dev goes to search for all tickets authored by the user in a project where the author does not have permission (or even at the global level)
# User is not in the list of Authors that can be applied via a filter

Workaround:

# Add user to project as reporter
# User is now selectable in the Authors filter

All of our installations are at version 3.1.1, so I'm unsure when this first occurred."
21092,Redmine,Defect,NA,Closed,Normal,Custom Fields in Contact doesn't export in vcf,Somar Sherbatji,NA,2015-10-28T12:20:00Z,NA,NA,NA,NA,NA,0,2015-10-28T12:10:00Z,2015-10-28T12:20:00Z,NA,Invalid,3.1.1,"I have added a custom field (Mobile phone) to Contacts but when I export the contact to vcf it doesn't include the Mobile phone which is the custom field.

Is there anyway to include it ?"
21096,Redmine,Defect,NA,Closed,Normal,"Redmine throughs error like ""visibility is not included in the list"" while clicking issues, gantt tabs.",Eswaran Arumugam,NA,2015-10-29T11:46:00Z,NA,NA,NA,NA,NA,0,2015-10-29T08:34:00Z,2015-10-29T11:46:00Z,次のチケットと重複 #17147,Duplicate,3.0.0,I'm getting confused while accessing redmine. Please help me to solve this.
21100,Redmine,Defect,NA,Needs feedback,Normal,Fixing Keywords Ignore Duplicate Tracker Actions,Declan Lynch,NA,2015-11-08T22:44:00Z,SCM,NA,NA,NA,NA,0,2015-10-29T15:13:00Z,NA,NA,NA,2.5.3,"When you have duplicate tracker entries setup in the Fixing Keywords the duplicates are ignored.

For example if the following two Fixing Keywords are configured :

Feature --> Fixes, Closes --> Closed --> 100%
Feature --> Testing --> Testing --> 90%

When a commit status comes in with the keyword 'Fixes' then the associated issue is marked as closed and the done% is set to 100%.
If a commit status comes in with the keyword ""Testing' then nothing is applied to the associated issue.

Trigger Keywords should allow multiple configurations per tracker to allow the committer more control over the flow of the issue.  I would also suggest revisiting Feature #11698 to look at ability to set other fields ( assignee ) via the Trigger Keywords. It might also be better to move the Trigger Keywords UI over to the tracker configuration ( leaving the Referencing Keywords in the current admin UI location )."
21112,Redmine,Defect,NA,Needs feedback,Normal,Document can't be save as when it's name is full Chinese character.,peter Ge,NA,2015-11-02T10:34:00Z,Attachments,NA,NA,NA,NA,0,2015-10-30T09:15:00Z,NA,NA,NA,3.0.4,When I be here {{thumbnail(21.png)}}
21120,Redmine,Defect,NA,Closed,Normal,Internal Error when changing Tracker in filter with custom fields,Mike Sweetman,NA,2015-11-01T20:38:00Z,Issues,NA,NA,NA,NA,0,2015-11-01T01:17:00Z,2015-11-01T20:38:00Z,NA,Invalid,3.1.1,"I have several Trackers, each with unique custom fields. Redmine throws an error when:

1. I create a filter for a tracker
2. I select certain columns that are unique to that tracker
3. I then change the tracker to one that doesn't have the same columns available that I have previously selected
4. Redmine throws an internal error.

I would like it to re-set to default columns or remove the unavailable columns when I change the tracker to one that doesn't have the columns that are displayed."
21123,Redmine,Defect,NA,Closed,Normal,Extend a content_type field for Attachment,Ivan Zabrovskiy,NA,2015-12-29T04:33:00Z,Attachments,NA,NA,NA,NA,0,2015-11-01T14:22:00Z,2015-12-29T04:33:00Z,NA,NA,NA,"Now content_type field has 30 symbols limit. In case of using Attachment for custom models this limitation is very uncomfortable. For example, if I have a model into module, then full name of model always will be greater then 30 symbols. Moreover for this type of models Attachment will be saved without warnings or errors. But cuntent_type will be cuted and record become invalid.

Same thing can happens with disk_filename, which has 255 limit. But in this case situation can by fixed by moving of Redmine directory closer to root of file system."
21136,Redmine,Defect,NA,Closed,Normal,Issues API may disclose changeset messages that are not visible,Jan from Planio www.plan.io,Jean-Philippe Lang,2015-11-27T08:49:00Z,Issues,2.6.8,NA,NA,NA,0,2015-11-02T22:44:00Z,2015-11-08T10:10:00Z,NA,Fixed,NA,"The check to include related changesets in the single issue API view currently is done against the project of the issue.

An issue can have related changesets from other projects, where the current user might not have the permission to see changesets. This leads to changeset messages being leaked to users without the permission to see those.

The attached patch (created by Felix Sch?fer) uses the changesets passed by the controller instead of reimplementing logic in the view, thus sharing the same logic as the html view."
21139,Redmine,Defect,NA,Needs feedback,Normal,Error in journal_details,Сергей Бондарев,NA,2015-11-05T03:00:00Z,NA,NA,NA,NA,NA,0,2015-11-03T17:02:00Z,NA,NA,NA,NA,"i got Error 500 in one of issues

production.log:

<pre>
Started GET ""/issues/7815"" for 91.205.47.195 at 2015-11-03 18:08:47 +0300
Processing by IssuesController#show as HTML
  Parameters: {""id""=>""7815""}
  Current user: s.bondarev (id=141)
  Rendered issues/_action_menu.html.erb (3.7ms)
  Rendered attachments/_links.html.erb (4.0ms)
  Rendered issue_relations/_form.html.erb (1.8ms)
  Rendered issues/_relations.html.erb (2.6ms)
  Rendered issues/_history.html.erb (53.1ms)
  Rendered issues/show.html.erb within layouts/base (92.8ms)
Completed 500 Internal Server Error in 157ms (ActiveRecord: 12.4ms)

ActionView::Template::Error (undefined method `project' for nil:NilClass):
     9:
    10:     <% if journal.details.any? %>
    11:     <ul class=""details"">
    12:       <% details_to_strings(journal.visible_details).each do |string| %>
    13:        <li><%= string %></li>
    14:       <% end %>
    15:     </ul>
  app/helpers/issues_helper.rb:345:in `block in details_to_strings'
  app/helpers/issues_helper.rb:331:in `each'
  app/helpers/issues_helper.rb:331:in `details_to_strings'
  app/views/issues/_history.html.erb:12:in `block in _app_views_issues__history_html_erb__756860947688524154_82188920'
  app/views/issues/_history.html.erb:2:in `each'
  app/views/issues/_history.html.erb:2:in `_app_views_issues__history_html_erb__756860947688524154_82188920'
  app/views/issues/show.html.erb:124:in `_app_views_issues_show_html_erb___3370798931249239145_33577620'
  app/controllers/issues_controller.rb:118:in `block (2 levels) in show'
  app/controllers/issues_controller.rb:115:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

</pre>

"
21141,Redmine,Defect,NA,Closed,Normal,Git tags and branches need to be UTF-8 encoded,Holger Just,NA,2015-11-03T20:12:00Z,SCM,NA,NA,NA,NA,0,2015-11-03T20:00:00Z,2015-11-03T20:12:00Z,次のチケットと重複 #16881,Duplicate,NA,"When shelling out and getting the list of git branches and tags to display in the repository navigation, the names are read in ASCII-8BIT encoding, i.e. binary strings without any encoding. This is basically correct as git itself doesn't enforce any kind of encoding for these things.

However, when rendering the navigation with branches or tags containing non-ASCII characters, ERB throws the following error in source:trunk/app/views/repositories/show.html.erb#L21

<pre>
Encoding::CompatibilityError: incompatible character encodings: ASCII-8BIT and UTF-8
</pre>

The reason for this exception is that in source:trunk/app/views/repositories/_navigation.html.erb#L18, the select box for branches is rendered. If a branch name (in ASCII-8BIT encoding) can't be converted to UTF-8 implicitly, the whole output_buffer containing the rendered HTML will be set to ASCII-8BIT encoding. When the buffer is then appended to the outer UTF-8 buffer, the error is thrown.

The solution is to force UTF-8 encoding to branch names, assuming they are stored in some UTF-8 like encoding. As we can't know the _actual_ encoding of the branches, this is probably a good enough bet. In any case, it avoids HTTP 500 errors and renders something, even if the encoding doesn't fully match...

The attached patch provides the forced encoding. Unfortunately, we can't use @scm_iconv@ with the branches as it returns a new string which would not be a @Branch@ instance anymore.

The patch was extracted from and developed by ""Planio"":https://plan.io/redmine-hosting/. The patch is created against the current trunk at r14793. The patched issue is present since about forever but only manifests itself only on Ruby >=1.9 and probably some kind-of-recent Rails, at least since Redmine 2.6."
21146,Redmine,Defect,NA,Closed,Normal,Roles Error,Ziqin Deng,NA,2017-06-10T09:50:00Z,NA,NA,NA,NA,NA,0,2015-11-04T06:46:00Z,2017-06-10T09:50:00Z,NA,NA,3.1.1,"It seems that all the actions associated with roles occured a error. Futhermore ,for users who are not Manager even cannot open projects!!!

The version was upgated from 2.6.7 ->3.0.1 ->3.1.1"
21175,Redmine,Defect,NA,Closed,Normal,Unused strings: label_(start|end)_to_(start|end),Go MAEDA,Jean-Philippe Lang,2015-11-09T19:06:00Z,Translations,3.2.0,NA,NA,NA,0,2015-11-08T08:08:00Z,2015-11-09T19:06:00Z,NA,Fixed,NA,"It seems that the following strings introduced in r506 are not used.

* label_end_to_start
* label_end_to_end
* label_start_to_start
* label_start_to_end"
21181,Redmine,Defect,NA,New,Normal,Markdown Formatter incorrectly parses lists,Sebastian Reuter,NA,2015-11-08T21:44:00Z,Text formatting,NA,NA,NA,NA,0,2015-11-08T21:44:00Z,NA,NA,NA,3.1.1,"Originally I wanted to raise a bug about the markdown formatter wrongly interpreting a list sub item as code, because it ignored the double identation instead of single identation for code in lists.

But while building a proper example to reproduce the behavior easily I found that the whole list parsing (for both ordered and unordered lists) is borked.

While I would like to be able to provide exact directions to what exactly is wrong here, the more I played around with this, the more confused I got.

What I can tell for almost certain is that blank lines are at the core of this issue. Normally items should be wrapped in <p> tags when seperated by blank lines, but here (at least for unordered list items in ordered list items) instead the current ordered list is interpreted as ended and a new ordered list started.

_I used the official syntax from https://daringfireball.net/projects/markdown/syntax#list as reference, which describes behavior conflicting with what Redmine produces currently._

*Example Markup*

<pre>
1.  this is a list item with two child items.
    -  first child

    -  second child wrongly interpreted as code
1.   another item in the same list.
-  text wrongly interpreted as ordered list item

1. last item of the ordered list
</pre>

*Expected Output (taken form Marxico)*

!correct.JPG!

*Output from Redmine's inbuilt Markup Parser*

!wrong.JPG!

"
21202,Redmine,Defect,NA,Closed,Normal,Left aligned sign in tabular is not worked since applying #6969,Takashi Ichihashi,NA,2015-11-11T08:40:00Z,Text formatting,NA,NA,NA,NA,0,2015-11-10T06:51:00Z,2015-11-11T08:40:00Z,関連している #6969,NA,3.1.1,"Since I pulled r14834 into my repository using 3.1 trunk, I got issue that just left align in tabular format is not work.

<pre>
|>. align right|       <--- right align is worked
|<. align left|          <--- not worked. just be rendered verbatim
|<>. align justify|        <--- not worked. just be rendered verbatim
</pre>"
21210,Redmine,Defect,NA,New,Normal,"Issues and Spent Time of closed subprojects are included on the overview page, but are not included on the issues, gantt or spent time details/report pages",Scott Cunningham,NA,2015-11-10T22:14:00Z,Projects,NA,NA,NA,NA,0,2015-11-10T22:14:00Z,NA,関連している #12066,NA,3.1.1,"If a project has closed subprojects, the overview page will show the total issues and spent time of all subprojects including the closed ones.  However, if I try to view issues, gantt or spent time, I will not see any of the tasks from the closed subprojects.  (See screenshots)

In our company, we use Redmine for many small projects that are closed when completed.  They become a subproject of a project named ""Closed"" for sorting reasons.  At the end of the year, I must summarize my departments hours for reporting reasons.  Right now, I cannot get any spent time reports unless I go into each subproject and generate a report, or reopen each subproject to generate a total report.

I am sure some users do not want to see closed subproject tasks.  I am also sure others, like me, would like to see tasks from multiple closed subproject.  Right now, Redmine's not working correctly, either way.  Maybe introducing a checkbox on the right sidebar to include tasks from closed subprojects would be the best solution.

In the meantime, if anyone can create a simple patch, or give me a hint where in the source code to dabble with, much appreciated!

Environment:
<pre>
  Redmine version                3.1.1.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
</pre>

All plugins were removed for testing."
21212,Redmine,Defect,NA,Closed,Normal,"Please help, RedMine3 Install Error",lijun yin,NA,2015-11-11T08:59:00Z,NA,NA,NA,NA,NA,0,2015-11-11T03:28:00Z,2015-11-11T08:59:00Z,NA,NA,NA,"[root@svra redmine]# bundle exec rake generate_secret_token
rake aborted!
NameError: uninitialized constant ActionView::Helpers::ActiveModelHelper
/usr/local/share/gems/gems/actionview-4.2.4/lib/action_view/helpers.rb:40:in `<module:Helpers>'
/usr/local/share/gems/gems/actionview-4.2.4/lib/action_view/helpers.rb:4:in `<module:ActionView>'
/usr/local/share/gems/gems/actionview-4.2.4/lib/action_view/helpers.rb:3:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.4/lib/action_view/base.rb:5:in `<top (required)>'
/usr/local/share/gems/gems/actionview-4.2.4/lib/action_view/view_paths.rb:1:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.4/lib/abstract_controller/rendering.rb:4:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-4.2.4/lib/action_controller/base.rb:204:in `<class:Base>'
/usr/local/share/gems/gems/actionpack-4.2.4/lib/action_controller/base.rb:164:in `<module:ActionController>'
/usr/local/share/gems/gems/actionpack-4.2.4/lib/action_controller/base.rb:5:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/action_controller/action_caching.rb:13:in `<top (required)>'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `require'
/usr/local/share/gems/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `<top (required)>'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler/runtime.rb:85:in `require'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler/runtime.rb:85:in `rescue in block in require'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler/runtime.rb:68:in `block in require'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler/runtime.rb:61:in `each'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler/runtime.rb:61:in `require'
/usr/local/share/gems/gems/bundler-1.10.6/lib/bundler.rb:134:in `require'
/var/www/redmine/config/application.rb:5:in `<top (required)>'
/var/www/redmine/Rakefile:5:in `require'
/var/www/redmine/Rakefile:5:in `<top (required)>'
(See full trace by running task with --trace)
[root@svra redmine]#
[root@svra redmine]# gem list

*** LOCAL GEMS ***

actionmailer (4.2.4, 4.2.1)
actionpack (4.2.4, 4.2.1)
actionpack-action_caching (1.1.1)
actionpack-xml_parser (1.0.2)
actionview (4.2.4, 4.2.1)
activejob (4.2.4, 4.2.1)
activemodel (4.2.4, 4.2.1)
activerecord (4.2.4, 4.2.1)
activesupport (4.2.4, 4.2.1)
arel (6.0.3)
bigdecimal (1.2.0)
builder (3.2.2)
bundler (1.10.6)
coderay (1.1.0)
erubis (2.7.0)
globalid (0.3.6)
i18n (0.7.0)
io-console (0.4.2)
jquery-rails (4.0.5, 3.1.4)
json (1.8.3, 1.7.7)
loofah (2.0.3)
mail (2.6.3)
mime-types (2.6.2)
mini_portile (0.6.2)
minitest (5.8.1)
mysql2 (0.4.1, 0.3.20)
net-ldap (0.3.1)
nokogiri (1.6.6.2)
protected_attributes (1.1.3)
psych (2.0.0)
puma (2.14.0)
rack (1.6.4)
rack-openid (1.4.2)
rack-test (0.6.3)
rails (4.2.4, 4.2.1)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.7)
rails-html-sanitizer (1.0.2)
railties (4.2.4, 4.2.1)
rake (10.4.2)
rbpdf (1.18.6)
rdoc (4.0.0)
redcarpet (3.3.3, 3.1.2)
request_store (1.0.5)
rmagick (2.15.4, 2.13.4)
ruby-openid (2.3.0)
sprockets (3.4.0, 3.3.5)
sprockets-rails (2.3.3)
thor (0.19.1)
thread_safe (0.3.5)
tzinfo (1.2.2)
"
21218,Redmine,Defect,NA,New,Normal,Text with apostrophe (') followed by italic does not render,StudioMiazzo StudioMiazzo,NA,2015-11-11T10:57:00Z,Text formatting,NA,NA,NA,NA,0,2015-11-11T10:57:00Z,NA,NA,NA,3.1.1,"When formatting characters are used with no spaces before them, (e.g. <notextile>_italic text_</notextile>), the format is not applied.

See the following examples
* text without a space: some_text_, some*text*
* text with a space in between: some _text_, some *text*

This prevents us from using the wiki to enter some simple italian text (for example, ""l'_albero_"") without leaving an aesthetically unpleasant space in between (""l' _albero_"")"
21221,Redmine,Defect,NA,Closed,Normal,Internal server error when copying issues.,Seweryn Getka,NA,2015-12-07T12:16:00Z,Issues,NA,NA,NA,NA,0,2015-11-12T00:46:00Z,2015-11-12T03:50:00Z,NA,Invalid,3.1.1,"Internal server error when copying issues. Currently I am using in two places on both Redmine and the problem is the same.

After pressing the icon copying error window pops up.
The data file production.log are as follows:

Started GET ""/redmine/issues/282"" for 212.14.28.115 at 2015-11-12 00:19:00 +0100
Processing by IssuesController#show as HTML
  Parameters: {""id""=>""282""}
  Current user: seweryn (id=10)
  Rendered issues/_action_menu.html.erb (14.4ms)
  Rendered plugins/scrum/app/views/scrum_hooks/issues/_show.html.erb (7.6ms)
  Rendered plugins/redmine_issue_checklist/app/views/issue_checklists/_checklist_item.html.erb (4.3ms)
  Rendered plugins/redmine_issue_checklist/app/views/issue_checklists/_checklist_item.html.erb (4.7ms)
  Rendered plugins/redmine_issue_checklist/app/views/issue_checklists/_checklist_item.html.erb (4.6ms)
  Rendered plugins/redmine_issue_checklist/app/views/issues/_checklist.html.erb (27.2ms)
  Rendered issue_relations/_form.html.erb (7.0ms)
  Rendered issues/_relations.html.erb (10.7ms)
  Rendered issues/_action_menu.html.erb (12.8ms)
  Rendered issues/_form_custom_fields.html.erb (3.5ms)
  Rendered issues/_attributes.html.erb (90.0ms)
  Rendered plugins/redmine_issue_checklist/app/views/issues/_checklist_form.html.erb (4.0ms)
  Rendered plugins/scrum/app/views/scrum_hooks/issues/_form.html.erb (17.1ms)
  Rendered issues/_form.html.erb (178.2ms)
  Rendered attachments/_form.html.erb (10.6ms)
  Rendered issues/_edit.html.erb (232.1ms)
  Rendered plugins/redmine_agile/app/views/agile_boards/_issues_sidebar.html.erb (9.9ms)
  Rendered plugins/redmine_agile/app/views/agile_charts/_agile_charts.html.erb (2.2ms)
  Rendered plugins/redmine_tagging/app/views/tagging/_tagcloud.erb (16.8ms)
  Rendered issues/_sidebar.html.erb (43.4ms)
  Rendered watchers/_watchers.html.erb (13.8ms)
  Rendered issues/show.html.erb within layouts/base (485.0ms)
  Rendered plugins/scrum/app/views/scrum_hooks/_head.html.erb (1.2ms)
  Rendered plugins/scrum/app/views/scrum_hooks/_scrum_tips.html.erb (330.4ms)
Completed 200 OK in 1175ms (Views: 904.4ms | ActiveRecord: 45.5ms)
Started GET ""/redmine/projects/developerv/issues/282/copy"" for 212.14.28.115 at 2015-11-12 00:19:04 +0100
Processing by IssuesController#new as HTML
  Parameters: {""project_id""=>""developerv"", ""copy_from""=>""282""}
  Current user: seweryn (id=10)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.1ms)

NoMethodError (undefined method `identifier' for nil:NilClass):
  app/controllers/issues_controller.rb:409:in `build_new_issue_from_params'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

The following information data from two servers:

Server #1:
Environment:
  Redmine version                3.1.1.stable.14855
  Ruby version                   1.9.3-p551 (2014-11-13) [i486-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.6
  Darcs                          2.3.0
  Mercurial                      1.4.3
  Cvs                            1.12.13
  Bazaar                         2.1.4
  Git                            1.7.0.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.12
  redmine_ckeditor               1.1.2
  redmine_issue_checklist        2.0.8
  redmine_lightbox2              0.2.2
  redmine_tagging                0.1.3
  redmine_theme_changer          0.2.0
  scrum                          0.13.1

Server #2:
Environment:
  Redmine version                3.1.1.stable.14855
  Ruby version                   2.2.0-p0 (2014-12-25) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Darcs                          2.8.4
  Mercurial                      2.8.2
  Cvs                            1.12.13
  Bazaar                         2.7.0
  Git                            1.9.2
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.12
  redmine_ckeditor               1.1.2
  redmine_custom_workflows       0.1.0
  redmine_issue_checklist        2.0.8
  redmine_lightbox2              0.2.2
  redmine_tagging                0.1.3
  redmine_theme_changer          0.2.0
  scrum                          0.13.1

"
21227,Redmine,Defect,NA,Closed,Normal,Email reminders sent for closed issues,Simeon Felis,NA,2016-03-23T12:47:00Z,Email notifications,NA,NA,NA,NA,0,2015-11-13T10:52:00Z,2016-03-23T12:47:00Z,関連している #22670,Invalid,3.1.1,"We receive E-Mail reminders for closed tickets, too. I actually don't know how the emails are triggered. I did not add a cronjob for that. The only cronjob that runs is:

<pre>
*/5 * * * * wget -O - ""http://127.0.0.1/helpdesk_mailer/get_mail?key=secret""
</pre>

The ticket was closed on 10.11.2015.
The due date is 10.11.2015.
The email notification is sent every day (today is 13.11.2015)

My colleague receives mails with this parameters:

The ticket was closed on 04.11.2015
The due date is 04.11.2015
The email notification is sent every day (today is 13.11.2015)

We migrated on 04.11.2015 redmine from 2.3.3.stable to 3.1.1.stable
Issues that were closed before migration do not send notifications. According to /issue_statuses the status ""Closed"" is marked as ""Issue closed"".

Redmine info:

<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_contacts               4.0.3
  redmine_contacts_helpdesk      3.0.1
</pre>"
21231,Redmine,Defect,NA,Needs feedback,Normal,Workflow setup issues,Jonas Hellstr?m,NA,2015-12-13T08:24:00Z,Administration,NA,NA,NA,NA,0,2015-11-13T15:56:00Z,NA,NA,NA,3.1.0,"I've been trying to expand on the default included issue statuses in Redmine, but I cannot make the workflows present the correct alternatives

What I have done is to add a ""Verification"" status to the Issue statuses list.
I have then tried to arrange the workflow according to how the team I'm in wants to work. However, a lot of issues started appearing with what was actually selectable depending on what status the issue was in.

If you look at the screenshots provided, *I do not understand how the current Resolved status can contain the Feedback status*. I _may_ be persuaded into accepting that at least Closed would be visible no matter what status has been set, but the Feedback status, according to the workflow I've now tested with, is wrong. I have tried a lot of different arrangements to see if I could bring order to this, but unfortunately failed every time.

What I have resorted to, temporarily, is to enable any current status to select any other status. I'd rather see I could use the Workflow functionality as it was intended to use.

This is a new installation with the following information:

* Environment:
** Redmine version                3.1.0.stable
** Ruby version                   2.0.0-p598 (2014-11-13) [x86_64-linux]
** Rails version                  4.2.3
** Environment                    production
** Database adapter               Mysql2
* SCM:
** Subversion                     1.7.14
** Git                            1.8.3.1
** Filesystem                     
* Redmine plugins:
** no plugin installed"
21241,Redmine,Defect,NA,Closed,Normal,problem to configure mail notifications,L?onel MARIAMON,NA,2015-11-15T17:15:00Z,Email notifications,NA,NA,NA,NA,0,2015-11-15T17:05:00Z,2015-11-15T17:15:00Z,NA,Invalid,3.1.1,"hello,

I 've got a problem to configure how to send mail in redmine.
I try all method , but nothing

I hope somebody can help me to do it

I joint two files ( configuration.yml and hard copy with the error when i try get the page to config mail

Please : my english is not very good, cause i'm french and usually, i write  .... in french

lot off thank's,
"
21247,Redmine,Defect,NA,Closed,Normal,Integration with GIT,Jorge Yanique,NA,2015-11-17T04:27:00Z,Documentation,NA,NA,NA,NA,0,2015-11-17T01:36:00Z,2015-11-17T04:27:00Z,NA,Invalid,NA,"I need a manual or document about how to integrate Redmine with GIT, for manage control revision of file attachment."
21263,Redmine,Defect,NA,Closed,Normal,Wiki lists in the sidebar are broken,Ezequiel Hernandez,Jean-Philippe Lang,2016-03-12T09:25:00Z,UI,3.2.1,NA,NA,NA,0,2015-11-17T23:23:00Z,2016-03-12T09:25:00Z,関連している #13242,Fixed,NA,"The list in the Sidebar didn't work anymore since 2.5.X version. The same problem appear with <pre>{{child_pages}}</pre> macro.

I tested on demo.redmine.org with the same result.

But if you put an orderer list (with #) it works. 

This is due to changes in the Redmine CSS in 2.4.0 that added ""lines 80 and 81"":/projects/redmine/repository/annotate/trunk/public/stylesheets/application.css#L80 in the main Redmine CSS, see also #13242.

This is my redmine:
<pre>
Redmine 2.6
Ruby 2.2
</pre>"
21267,Redmine,Defect,NA,Closed,Normal,task redmine:attachments:prune doesn't physically delete attachment files,Jiamin Wang,NA,2017-03-07T15:08:00Z,Attachments,NA,NA,NA,NA,0,2015-11-18T11:41:00Z,2015-11-28T11:05:00Z,NA,Invalid,3.1.2,as title
21287,Redmine,Defect,NA,Closed,Normal,"Handle Net::OpenTimeout errors more cleanly (currently, gives Error 500)",Olivier Houdas,NA,2015-11-21T07:55:00Z,Email notifications,NA,NA,NA,NA,0,2015-11-20T17:59:00Z,2015-11-21T07:55:00Z,NA,Invalid,3.1.1,"Steps:
1. Display an issue in Redmine
2. Edit it with a note so that Redmine sends a mail to at least one user, and before saving it, unplug the configured SMTP server
3. Save the changes
Results :
We end up with 
<pre>F, [2015-11-12T15:31:48.599086 #32243] FATAL -- : 
Net::OpenTimeout (execution expired):
  app/models/mailer.rb:455:in `deliver_mail'
  config/initializers/10-patches.rb:154:in `deliver'
  app/models/mailer.rb:95:in `block (2 levels) in deliver_issue_edit'
  app/models/issue.rb:909:in `block in each_notification'
  app/models/issue.rb:908:in `each'
  app/models/issue.rb:908:in `each_notification'
  app/models/mailer.rb:94:in `block in deliver_issue_edit'
  app/models/journal.rb:90:in `block in each_notification'
  app/models/journal.rb:88:in `each'
  app/models/journal.rb:88:in `each_notification'
  app/models/mailer.rb:93:in `deliver_issue_edit'
  app/models/journal.rb:302:in `send_notification'
  app/models/journal.rb:67:in `save'
  app/models/issue.rb:1623:in `create_journal'
  app/models/issue.rb:175:in `create_or_update'
  app/controllers/issues_controller.rb:489:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:477:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:187:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>
in the log

and the user gets an Error 500 page, and calls the admin.

It would be nicer to save the changes and flash an error that the mail could not be sent."
21292,Redmine,Defect,NA,New,Normal,image in child wiki not show when exporting wik to pdf,Qing Li,NA,2015-12-21T14:34:00Z,PDF export,NA,NA,NA,NA,0,2015-11-21T15:04:00Z,NA,NA,NA,3.1.1,"I have a wiki page  named Test_child_wiki_ which have an image withi syntax
<pre>
h1. Test child wiki 

====  child  content ====

!Selection_023.jpg!

====  child  content ====
</pre> 

every thing is ok when I exporting to pdf  ,  the pdf like this

!Selection_024.jpg!

and I have another wiki page  which including Test_child_wiki_ page like this

<pre>
h1. this is parent wiki page

===== parent page ======

{{include(Test_child_wiki_)}}

===== parent page ======
</pre>

but the image not show in this exporting pdf, the pdf like this:

!Selection_025.jpg!"
21299,Redmine,Defect,NA,Closed,Normal,unable to view login page in localhost,suresh akhnoor,NA,2015-11-23T13:18:00Z,Email notifications,NA,NA,NA,NA,0,2015-11-23T12:45:00Z,2015-11-23T13:18:00Z,NA,Invalid,3.1.1,"error:


We're sorry, but something went wrong.

We've been notified about this issue and we'll take a look at it shortly."
21311,Redmine,Defect,NA,Needs feedback,Normal,Nothing happen when project in issue is changed.,Anixe Support,NA,2015-11-24T13:38:00Z,Issues,NA,NA,NA,NA,0,2015-11-24T13:17:00Z,NA,NA,NA,3.1.2,If we are going to change project in issue there's nothing happen. Site is refreshing but project label is changed back to previuos. We think it's JavaScript fault.
21328,Redmine,Defect,NA,Closed,Normal,pdf: Vietnamese Italic is not shown,Toshi MARUYAMA,NA,2015-12-04T08:31:00Z,PDF export,2.6.9,NA,NA,NA,0,2015-11-25T07:46:00Z,2015-12-04T08:31:00Z,NA,Fixed,2.6.2,This is regression of r13984.
21374,Redmine,Defect,NA,Closed,Normal,Redmine.org doesn't have a privacy policy,Cris Fuhrman,Jan Niggemann (redmine.org team member),2017-01-23T08:53:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-11-27T21:07:00Z,2017-01-21T19:09:00Z,NA,NA,NA,"Per the recommendation of Toshi MARUYAMA in the forums, It seems there should be a privacy policy for a site that has user log-ins (profiles) and potentially collects information about its users. Read more at https://en.wikipedia.org/wiki/Privacy_policy

Secondly, I feel that email address should be by default hidden on the profiles. Email addresses are mostly considered confidential these days, especially when one signs up for an account somewhere."
21379,Redmine,Defect,NA,New,High,Plugin author is not able to delete plugin versions,Tobias Fischer,Jean-Philippe Lang,2015-11-29T23:37:00Z,Website (redmine.org),NA,NA,NA,NA,0,2015-11-29T23:32:00Z,NA,関連している #19229,NA,NA,"I'm a redmine plugin author and have several plugins listed in the official Redmine plugin repository. For example: http://www.redmine.org/plugins/redmine_emojibutton

I am not able to delete a plugin version. After the confirmation dialog I'm beeing redirected to http://www.redmine.org/plugins/redmine_emojibutton/versions/2011 and get a 403 error ""not allowed to access this page"".

Plugin authors should be able to delete versions of their plugins in order to be able to do a roll back to a previous version."
21381,Redmine,Defect,NA,New,Normal,Redmine 3.1.0 - Bazaar comments in utf-8 cyrillic symbols,Andrey Ovchinnikov,NA,2015-11-30T08:49:00Z,SCM,NA,NA,NA,NA,0,2015-11-30T08:49:00Z,NA,NA,NA,3.1.0,"When i try to add bazaar repository to redmine - it shows me ""????"" instead of cyrillic symbols."
21382,Redmine,Defect,NA,Closed,High,Watcher deletion of inactive user not possible for non-admin users,Rupesh  J,Jean-Philippe Lang,2015-12-06T11:45:00Z,Issues,3.2.0,NA,NA,NA,0,2015-11-30T12:22:00Z,2015-12-06T11:45:00Z,NA,Fixed,NA,"|Redmine version|3.1.1.stable|
|Ruby version|2.2.1-p85 (2015-02-26) [x86_64-linux]|
|Rails version|4.2.4|
|Environment|production|
|Database adapter|Mysql2|

Add a test user account as a watcher for issue.
Lock one test user account.
Login as non-admin user, having permission to delete issue watchers.
In the issue the delete icon is shown, clicking that nothing happens.

Additional information,
In the log,
The destroy controller tries to find only the active users which returns nothing (ActiveRecord::RecordNotFound (Couldn't find User with 'id'=xxx)
<pre>
User.visible.find(params[:user_id]
</pre>
"
21405,Redmine,Defect,NA,Needs feedback,Normal,Timezone configs broke down on ubuntu and redmine giving Internal error,Kenan Emre ?ST?NDA?,NA,2015-12-06T17:27:00Z,NA,NA,NA,NA,NA,0,2015-12-02T19:42:00Z,NA,NA,NA,NA,"when i changing timezone settings, it's broke down. And when i try open redmine give me;
----------------------------------------------------------------------------------------
Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.
----------------------------------------------------------------------------------------
but some pages can opening.

my production log is;

----------------------------------------------------------------------------------------------
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method Group.sorted.
Creating scope :sorted. Overwriting existing method User.sorted.
Started GET ""/redmine/"" for 77.79.95.150 at 2015-12-02 18:18:54 +0000
Processing by WelcomeController#index as HTML
  Current user: kenanemreu (id=7)
  Rendered welcome/index.html.erb within layouts/base (458.6ms)
Completed 500 Internal Server Error in 1146.7ms

ActionView::Template::Error (Expected 44 bytes reading '/usr/share/zoneinfo/Europe/Istanbul', but got 8 bytes):
    20:     <% for project in @projects %>
    21:       <% @project = project %>
    22:       <li>
    23:       <%= link_to_project project %> (<%= format_time(project.created_on) %>)
    24:       <%= textilizable project.short_description, :project => project %>
    25:       </li>
    26:     <% end %>
  lib/redmine/i18n.rb:60:in `format_date'
  lib/redmine/i18n.rb:71:in `format_time'
  app/views/welcome/index.html.erb:23:in `block in _app_views_welcome_index_html_erb___381727932832886209_35426760'
  app/views/welcome/index.html.erb:20:in `each'
  app/views/welcome/index.html.erb:20:in `_app_views_welcome_index_html_erb___381727932832886209_35426760'
--------------------------------------------------------------------------"
21433,Redmine,Defect,NA,Closed,Normal,"""version-completed"" class is never set when version has no due date",Tobias Fischer,Jean-Philippe Lang,2016-01-21T09:53:00Z,Roadmap,3.3.0,NA,NA,NA,0,2015-12-06T13:10:00Z,2016-01-21T05:47:00Z,関連している #21434,Fixed,3.1.3,"Test case:

# Create a new version with no due date
# Add a new issue to this version
# Close the issue
# Close the version

The HTML code in Roadmap view will still look like this:

<pre>
<article class=""version-article version-incompleted"">
</pre>

However, all tickets in the version are closed and the version itself is closed. I'd call the version ""completed"" in this case, wouldn't you?

The patch from #19341 doesn't seem to work when no due date is set."
21442,Redmine,Defect,NA,Closed,Low,Documentation duplication,Hans Ginzel,NA,2016-01-03T04:58:00Z,Documentation,NA,NA,NA,NA,0,2015-12-07T12:51:00Z,2016-01-03T04:58:00Z,NA,NA,NA,"There are two urls describing wiki syntax

* [[RedmineTextFormatting]]
* http://www.redmine.org/help/en/wiki_syntax_detailed.html

It seems that the second is older. How are they synchronised?"
21453,Redmine,Defect,NA,Closed,Normal,LDAP account creation fails when first name/last name contain non ASCII,Haihan Ji,Jean-Philippe Lang,2016-01-21T05:42:00Z,LDAP,3.2.1,NA,NA,NA,0,2015-12-08T03:41:00Z,2016-01-21T05:42:00Z,"関連している #12811, 次のチケットが重複 #21458, 次のチケットが重複 #21528",Fixed,3.2.0,"Maybe, redmine can add an @encoding@ property to @AuthSource@.

<pre>$ ruby bin/about 

sh: svn: command not found
sh: darcs: command not found
sh: hg: command not found
sh: cvs: command not found
sh: bzr: command not found
sh: git: command not found
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Filesystem                     
Redmine plugins:
  no plugin installed</pre>

LOG
<pre>Started GET ""/auth_sources/autocomplete_for_new_user?term=xxxx"" for 10.10.93.107 at 2015-12-08 10:12:17 +0800
Processing by AuthSourcesController#autocomplete_for_new_user as JSON
  Parameters: {""term""=>""xxxx""}
  SQL (1.7ms)  UPDATE `tokens` SET `tokens`.`updated_on` = '2015-12-08 10:12:17' WHERE `tokens`.`user_id` = 1 AND `tokens`.`value` = '5e869f0905478838585d8022d4347ea0cf68ee9e' AND `tokens`.`action` = 'session'
   (0.5ms)  SELECT MAX(`settings`.`updated_on`) FROM `settings`
  User Load (0.5ms)  SELECT  `users`.* FROM `users` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND `users`.`status` = 1 AND `users`.`id` = 1 LIMIT 1
  Current user: admin (id=1)
  AuthSource Load (0.5ms)  SELECT `auth_sources`.* FROM `auth_sources`
Completed 500 Internal Server Error in 176ms (ActiveRecord: 3.2ms)

Encoding::UndefinedConversionError (""\xE5"" from ASCII-8BIT to UTF-8):
  app/controllers/auth_sources_controller.rb:79:in `autocomplete_for_new_user'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'


  Rendered /usr/local/rvm/gems/ruby-2.2.1/gems/actionpack-4.2.5/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.1/gems/actionpack-4.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.1/gems/actionpack-4.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.1/gems/actionpack-4.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (67.2ms)
</pre>

The lastname is chinese.

<pre>$ rails c
2.2.1 :001 >   AuthSource.search(:xxxx)
  AuthSource Load (0.4ms)  SELECT `auth_sources`.* FROM `auth_sources`
 => [{:dn=>""************"", :firstname=>"" "", :lastname=>""\xE5\xA7\xAC\xE6\xB5\xB7\xE6\xB6\xB5"", :mail=>""****"", :auth_source_id=>1, :login=>""xxxx""}] 
2.2.1 :002 > AuthSource.search(:xxxx).to_json
  AuthSource Load (0.4ms)  SELECT `auth_sources`.* FROM `auth_sources`
Encoding::UndefinedConversionError: ""\xE5"" from ASCII-8BIT to UTF-8
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/core_ext/object/json.rb:34:in `encode'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/core_ext/object/json.rb:34:in `to_json'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/core_ext/object/json.rb:34:in `to_json_with_active_support_encoder'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/json/encoding.rb:57:in `to_json'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/json-1.8.3/lib/json/common.rb:223:in `generate'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/json-1.8.3/lib/json/common.rb:223:in `generate'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/json/encoding.rb:101:in `stringify'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/json/encoding.rb:35:in `encode'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/json/encoding.rb:22:in `encode'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.2.5/lib/active_support/core_ext/object/json.rb:37:in `to_json_with_active_support_encoder'
	from (irb):32
	from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.5/lib/rails/commands/console.rb:110:in `start'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.5/lib/rails/commands/console.rb:9:in `start'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:68:in `console'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:39:in `run_command!'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/railties-4.2.5/lib/rails/commands.rb:17:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'2.2.1 :003 > </pre>"
21458,Redmine,Defect,NA,Closed,Normal,LDAP account creation fails when first name/last name contain umlaut,int redmine,NA,2015-12-08T14:44:00Z,LDAP,NA,NA,NA,NA,0,2015-12-08T13:36:00Z,2015-12-08T14:44:00Z,次のチケットと重複 #21453,Duplicate,3.2.0,"I get an Internal error
> An error occurred on the page you were trying to access.
> If you continue to experience problems please contact your Redmine administrator for assistance.
> If you are the Redmine administrator, check your log files for details about the error.

during account creation on first time login by LDAP.
This is caused by umlauts (????...) in first name/last name

Account creation through standard register procedure is working, when first name/last name contain umlauts."
21461,Redmine,Defect,NA,Closed,Normal,incorrect display page navigation,alexandr al,NA,2015-12-09T18:46:00Z,UI,NA,NA,NA,NA,0,2015-12-09T10:30:00Z,2015-12-09T18:46:00Z,NA,Invalid,3.2.0,"incorrect display page navigation in issues.

view attach."
21464,Redmine,Defect,NA,Closed,Normal,List issues,Daniel M?ller,NA,2015-12-09T18:42:00Z,Issues,NA,NA,NA,NA,0,2015-12-09T12:13:00Z,2015-12-09T18:42:00Z,NA,Invalid,3.2.0,"I've updated redmine from 3.1.1 to 3.2.0 a few minutes ago and created a test project with name _test_. Then I've added a new issue and clicked on ticket tab to list all tickets:

<pre>
Internal error

An error occurred on the page you were trying to access.
 If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.
</pre>

Here is the logfile part:
<pre>Started GET ""/projects/test/issues"" for xxx.xxx.xxx.xxx at 2015-12-09 12:05:09 +0100
Processing by IssuesController#index as HTML
  Parameters: {""project_id""=>""test""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.9ms)

NoMethodError (undefined method `issue_list_default_totals' for #<Class:0x00000004ee55f8>):
  app/models/query.rb:514:in `totalable_names'
  app/helpers/queries_helper.rb:220:in `retrieve_query'
  app/controllers/issues_controller.rb:46:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

Version:
<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   1.9.3-p484 (2013-11-22) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Mercurial                      2.8.2
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>
"
21477,Redmine,Defect,NA,Closed,Normal,"Assign to ""Anonymous"" doesn't make much sense",Felix Sch?fer,Jean-Philippe Lang,2016-09-21T13:01:00Z,Issues,3.1.4,NA,NA,NA,0,2015-12-10T18:16:00Z,2015-12-19T09:02:00Z,NA,Fixed,NA,"Issues might be created by ""Anonymous"" (most prominent example would be via email). The author is added to the list of assignable users, which doesn't make much sense.

I will provide a patch to not add the author to the list of assignable users if the author is anonymous."
21478,Redmine,Defect,NA,Closed,Normal,User Preference table access,Dariel Rodriguez,NA,2015-12-13T16:46:00Z,NA,NA,NA,NA,NA,0,2015-12-10T19:30:00Z,2015-12-13T16:46:00Z,NA,Invalid,3.0.1,"because when I access this table records I get are so

UserPreference.all

table UserPreference

# <UserPreference: 0x6035358>
# <UserPreference: 0x6035070>

but with another table as Issue

It does not occur and shows me all data"
21479,Redmine,Defect,NA,New,Normal,Including a wiki page from another project does not resolve that page's links properly,Iyad Kandalaft,NA,2015-12-10T21:25:00Z,Wiki,NA,NA,NA,NA,0,2015-12-10T21:25:00Z,NA,NA,NA,2.6.0,"When including ProjectA's wiki page from a wiki page in ProjectB, the links in the included page don't resolve correctly. As an example, the links in ProjectA:Wiki_page has a link to ProjectA:wiki_page2 .  When ProjectA:Wiki_page is included inside ProjectB:Wiki_page, the link actually points to ProjectB:wiki_page2.  The work around is to include the project identifier in every link on ProjectA.

<pre>
Environment:
  Redmine version                2.6.0.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-linux]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.0
  Filesystem                     
Redmine plugins:
  redmine_mylyn_connector        2.8.2.stable
</pre>"
21485,Redmine,Defect,NA,Needs feedback,Normal,Roll back copied issue status when tracker change,yoshinobu yoshida,NA,2016-03-17T05:43:00Z,Issues,NA,NA,NA,NA,0,2015-12-11T09:02:00Z,NA,NA,NA,NA,"When coping an issue
 1. Click ""Copy""
 2. Change status ""status A"" -> ""status B""
 3. Change tracker ""tracker A"" -> ""tracker B""
 4. Status is automatically roll back to ""status A""

I do not know if it is a bug or not.

<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.2.3-p173 (2015-08-18) [x86_64-linux-gnu]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
</pre>"
21488,Redmine,Defect,NA,Closed,Normal,Don't use past start date as default due date in the date picker,VITALIY SAVCHENKO,Jean-Philippe Lang,2015-12-19T09:14:00Z,Issues,3.1.4,NA,NA,NA,0,2015-12-11T18:42:00Z,2015-12-19T09:14:00Z,関連している #14024,Fixed,NA,"When you close tasks and set due date default value must be now.


"
21490,Redmine,Defect,NA,Closed,Normal,"Repository Statistics will not populate on client machines, only the host machine when using the http://localhost URL",David Wise,NA,2016-01-11T04:45:00Z,NA,NA,NA,NA,NA,0,2015-12-12T00:51:00Z,2016-01-11T04:41:00Z,NA,Invalid,NA,"I have Redmine setup on a virtual server (MS Server 2012 R2 Standard).  When a user logs into Redmine from their client laptop, then clicks on the _Statistics_ link from the _Repository_ tab, the page populates with 2 missing image icons and the _back_ link.  

The issue appears related to the URL used.  The Statistics page will only populate the images when accessed using the _http://localhost/redmine/_ address.  When a client logs into Redmine hosted on a remote server, the statistics SVG will not populate.

I have a second instance of Redmine installed on my local machine to test plugins / changes before I perform a change to the company Redmine site on the VM.  Both are Bitnami stack installs with:
> Redmine version                3.0.3.stable
> Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
> Rails version                  4.2.1
> Database adapter               Mysql2
> SCM: Subversion                1.9.2

I did the following to isolate the circumstances in which this happens:
* Accessed my local hosted Redmine using the address http://localhost/redmine/ from my local machine and %{color:#488F00}WAS% able to see the stat graphics on the Repository Statistics page
* Accessed my local hosted Redmine using the address http:// %{color:#0000E6} _<machine_name>_ /redmine/% from my local machine and was %{color:#8F0000}NOT% able to see the stat graphics on the Repository Statistics page
* Accessed the remote server hosted Redmine using the address http://localhost/redmine/ in a remote session on the virtual server and %{color:#488F00}WAS% able to see the stat graphics on the Repository Statistics page
* Accessed the remote server hosted Redmine using the address http:// %{color:#0000E6} _<server_name>_ /redmine/% in a remote session on the virtual server and was %{color:#8F0000}NOT% able to see the stat graphics on the Repository Statistics page
* Accessed the remote server hosted Redmine using the address http:// %{color:#0000E6} _<server_name>_ /redmine/% from my client laptop and was %{color:#8F0000}NOT% able to see the stat graphics on the Repository Statistics page

I am reporting this as a defect as it should not matter where the page is being viewed from, or the URL address used in the browser.  There is also no settings option in either _Admin > Settings > Repositories_ or in _Project > Settings > Repositories_ to enter a value for the hosted machine name / URL used for a hosted Redmine site.

Please provide a fix, or instructions, for allowing the statistics page to be viewed by client machines.  I would be quite happy with the resolution being instructions on how to resolve the issue with my current installation of Redmine.

Thanks"
21504,Redmine,Defect,NA,Closed,Normal,IssuePriority.position_name not recalculated every time it should,Felix Sch?fer,Jean-Philippe Lang,2016-01-09T09:41:00Z,Administration,3.1.4,NA,NA,NA,0,2015-12-13T20:52:00Z,2016-01-09T09:41:00Z,NA,Fixed,NA,"The @position_name@ attribute of @IssuePriority@ instances is currently only recalculated when the @position@ of the @IssuePriority@ instance changes source:/tags/3.2.0/app/models/issue_priority.rb#L22

However, the @position_name@ should also be recalculated when the @active@ attribute changes.

I would even argue that that operation is quick enough, and that changes to the @IssuePriority@ list are not frequent and done by administrators, so that the recalculation of the @position_name@ can be done on @after_save@ without filtering.

Patch to follow."
21514,Redmine,Defect,NA,Closed,Normal,login page,sneha h,NA,2015-12-14T14:22:00Z,NA,NA,NA,NA,NA,0,2015-12-14T12:28:00Z,2015-12-14T13:22:00Z,NA,Invalid,NA,"the length of username must be less than 8 characters
"
21528,Redmine,Defect,NA,Closed,Normal,LDAP user autocreation doesn't work with attributes with Cyrillic,Valentin Vakhrushev,NA,2015-12-15T16:33:00Z,LDAP,NA,NA,NA,NA,0,2015-12-15T15:39:00Z,2015-12-15T16:33:00Z,次のチケットと重複 #21453,Duplicate,3.2.0,I've configured LDAP authentication in Redmine and it works fine except one thing. If some attribute in LDAP (in Active Directory in my case) consists of two or more words (contains one or more spaces) then new user from LDAP is not created. If I remove these spaces all work just fine and new user appears in Redmine.
21530,Redmine,Defect,NA,New,Normal,If a new boolean custom field with a default value will be added the value won't be automatically applied to all issues,Nils Grimm,NA,2015-12-15T19:03:00Z,Custom fields,NA,NA,NA,NA,0,2015-12-15T19:03:00Z,NA,NA,NA,3.2.0,"If later on another custom field with an default value will be added.
All issues will have the state not assigned.
Only after changing issue the dafault value will be applied.

If you're using the REST API this will cause problems because all issues have to manually set to the default value.

Two Fixes would be nice:
# Is there a reason why the creation of a new boolean custom field isn't automatically set on creation?
# Would it be possible to do this without sending for every issue an mail.
"
21531,Redmine,Defect,NA,Closed,Normal,rdm-mailhandler with project-from-subaddress fails,Daniel Feliciano Branco,Jean-Philippe Lang,2016-01-09T10:12:00Z,Email receiving,3.2.1,NA,NA,NA,0,2015-12-15T19:04:00Z,2016-01-09T10:12:00Z,NA,Fixed,3.2.0,"Running ""ruby extra/mail_handler/rdm-mailhandler.rb -k xxxx -u http://localhost:3000/"" waits for stdin input, running ""ruby extra/mail_handler/rdm-mailhandler.rb -k xxxx -u http://localhost:3000/ --project-from-subaddress example@redmine.org"" fails with:

<pre>
extra/mail_handler/rdm-mailhandler.rb:90:in `block (2 levels) in initialize': undefined method `[]=' for nil:NilClass (NoMethodError)
	from /usr/lib/ruby/1.9.1/optparse.rb:1360:in `call'
	from /usr/lib/ruby/1.9.1/optparse.rb:1360:in `block in parse_in_order'
	from /usr/lib/ruby/1.9.1/optparse.rb:1347:in `catch'
	from /usr/lib/ruby/1.9.1/optparse.rb:1347:in `parse_in_order'
	from /usr/lib/ruby/1.9.1/optparse.rb:1341:in `order!'
	from /usr/lib/ruby/1.9.1/optparse.rb:1432:in `permute!'
	from /usr/lib/ruby/1.9.1/optparse.rb:1453:in `parse!'
	from extra/mail_handler/rdm-mailhandler.rb:140:in `initialize'
	from extra/mail_handler/rdm-mailhandler.rb:211:in `new'
	from extra/mail_handler/rdm-mailhandler.rb:211:in `<main>'
</pre>


<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   1.9.3-p551 (2014-11-13) [i686-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.17
  Git                            1.7.9.5
  Filesystem                     
Redmine plugins:
  periodictask                   3.1.1
  recurring_tasks                2.0.0-pre
  redmine_close_button           0.0.8
  redmine_contacts               4.0.4
  redmine_finance                2.0.1
  redmine_helpdesk               0.0.15
  redmine_ics_export             3.0.1.dev
  redmine_issue_override         0.0.1
  redmine_issue_templates        0.1.1
  redmine_startpage              0.1.0
  redmine_tweaks                 0.5.5
  redmine_wiki_extensions        0.7.0
  sidebar_hide                   0.0.7
</pre>"
21534,Redmine,Defect,NA,Closed,Normal,Backtrace cleaner should not clean plugin paths,Ond?ej Ezr,Jean-Philippe Lang,2016-01-09T10:13:00Z,Code cleanup/refactoring,3.2.1,NA,NA,NA,0,2015-12-15T21:03:00Z,2016-01-09T10:13:00Z,NA,Fixed,NA,Rails.backtrace_cleaner.class::APP_DIRS_PATTERN
21535,Redmine,Defect,NA,Closed,Normal,Moving a custom field value in the order switches in the edit view,Nils Grimm,Jean-Philippe Lang,2016-01-09T10:14:00Z,Custom fields,3.2.1,NA,NA,NA,0,2015-12-15T23:35:00Z,2016-01-09T10:14:00Z,"次のチケットが重複 #21563, 次のチケットが重複 #22061",Fixed,3.2.0,"Since the upgrade from 3.1.2 to 3.2.0 the move buttons in the custom field view are switching on each click ins custom field edit view.

The position has been changed after returning to the custom field list."
21540,Redmine,Defect,NA,Closed,Normal,Chinese symbols in issues after upgrade to 3.2.0,Pavel Potcheptsov,NA,2015-12-17T09:01:00Z,Issues,NA,NA,NA,NA,0,2015-12-16T12:02:00Z,2015-12-17T01:54:00Z,NA,Invalid,3.2.0,"When I go to any issue I see chinese symbols.
!redmine_chinese.png!
When I update the page in browser then it shows
<pre>
Milestones:
</pre>
But when I log out from redmine and login again and open same task I see chinese symbols again."
21551,Redmine,Defect,NA,Closed,Normal,Private note flag disappears in issue update conflict,Shaun Gilroy,Jean-Philippe Lang,2016-01-09T09:44:00Z,Issues,3.1.4,NA,NA,NA,0,2015-12-17T02:01:00Z,2016-01-09T09:44:00Z,NA,Fixed,NA,"We discovered a bug in our Redmine system. When you receive an issue edit conflict posting a private note to an issue, the flag making the note private gets lost. 

Comment from our user:
> Just an FYI. I wrote a comment and marked it ""private"". When I hit submit it came up with a dialog because it had been changed by another user from the time I started editing to the time I submitted. I said ""discard all changes but submit my note"" because I had no other changes. It did that. However, it lost the ""private"" status."
21558,Redmine,Defect,NA,Closed,Normal,The issue parent has in most caes to be deleted before assigning a new parent.,Nils Grimm,NA,2016-02-12T04:19:00Z,Issues,NA,NA,NA,NA,0,2015-12-17T13:56:00Z,2016-02-12T04:19:00Z,次のチケットと重複 #13654,Duplicate,3.2.0,"In most cases Redmine throws an error that the parent assignment can't be done.
In the Redmine logs no error messages are shown.

To get the reassigning working you have to:
# Delete the parent number in the child issue.
# Save the child issue.
# Enter the new parent value in the child issue.
# Save the child issue.

In some case its working on the fly, I couldn't determine the reason of the different behaviour so far."
21559,Redmine,Defect,NA,Closed,Normal,Issues visibility own but i see all issues,Hannes Sroeb,NA,2016-03-01T14:42:00Z,Issues permissions,NA,NA,NA,NA,0,2015-12-17T16:44:00Z,2015-12-21T16:13:00Z,NA,Invalid,3.2.0,"hello,

in my permissions i have set the value of Issues visibility: Issues created by or assigned to the user.

But i'm log in as a user with this permission and i see all issues but if i click on a issue that im not the autor or the assigned user i get an error. in version 3.1.1 of redmine i dont have seen this issues in the overview of the issue table.
can we have a bug or a defect???"
21563,Redmine,Defect,NA,Closed,Normal,Change the sort order (move up/move to top) of custom fields does not work,Emanuel Reisinger,NA,2015-12-18T14:24:00Z,Custom fields,NA,NA,NA,NA,0,2015-12-18T13:11:00Z,2015-12-18T14:24:00Z,次のチケットと重複 #21535,Duplicate,3.2.0,"If any sort arrow is clicked the custom field edit page is opened.

Workaround: Update field position in table custom_fields of redmine database"
21579,Redmine,Defect,NA,Closed,Normal,The cancel operation in the issue edit mode doesn't work,Nils Grimm,Jean-Philippe Lang,2017-03-03T18:21:00Z,Issues,3.4.0,NA,NA,NA,0,2015-12-21T19:11:00Z,2017-03-03T18:21:00Z,次のチケットが重複 #24756,Fixed,3.2.0,"Since the upgrade to the 3.2.0 the cancel operation in the edit mode of an issue is simply doing nothing.
You can click on it but the GUI doesn't react."
21580,Redmine,Defect,NA,New,Normal,After changing a sub issue in the issue via right click and content menu the page is reload but no repositioned,Nils Grimm,NA,2016-01-20T06:25:00Z,Issues,NA,NA,NA,NA,0,2015-12-21T19:56:00Z,NA,NA,NA,3.2.0,"If a change has been done via right click content menu in the issue sub task list the refresh will always scroll the webpage to the start.

On larger tickets the user has to scroll down again.
"
21581,Redmine,Defect,NA,Closed,Normal,Statement invalid error on including default scope by patching a model.,Rupesh  J,NA,2016-01-21T04:36:00Z,NA,NA,NA,NA,NA,0,2015-12-21T20:14:00Z,2016-01-21T04:36:00Z,NA,NA,NA,"In plugin development, It is not possible to add the default scope by patching any models.

<pre><code class=""ruby"">
def self.included(base) # :nodoc:
        base.extend(ClassMethods)
        base.send(:include, InstanceMethods)

        base.class_eval do
           default_scope -> { includes(:table_name) }
....
</code></pre>

The tests fail with Statement Invalid.

<pre>
IssueNestedSetTest#test_move_a_root_to_child:
ActiveRecord::StatementInvalid: Mysql2::Error: Column 'id' in where clause is ambiguous:
 SELECT MAX(`issues`.`rgt`) FROM `issues` LEFT OUTER JOIN `egs` ON `egs`.`issue_id` = `issues`.`id`
 WHERE `issues`.`root_id` = 1372 AND `issues`.`parent_id` = 1372 AND (id < 1373)
</pre>

I guess, the following is the culprit, issue_nested_set.rb

<pre><code class=""ruby"">
      def target_lft
        scope_for_max_rgt = self.class.where(:root_id => root_id).where(:parent_id => parent_id)
        if id
          scope_for_max_rgt = scope_for_max_rgt.where(""id < ?"", id)
</code></pre>

Can you please look into this issue.

Happens in Redmine 3.0.3
Ruby 2.1
"
21588,Redmine,Defect,NA,Closed,Low,"Simplified Chinese ""field_cvs_module"" translation has problem (Patch #21430)",qian hu,NA,2016-01-07T16:02:00Z,Translations,2.6.10,NA,NA,NA,0,2015-12-23T04:42:00Z,2016-01-07T16:02:00Z,関連している #21430,Fixed,2.6.9,"There is a little problem in the translation patch.

1、
<pre>
+  field_cvs_module: 模?
</pre>
should be 
<pre>
+  field_cvs_module: CVS 模?
</pre>"
21595,Redmine,Defect,NA,New,Normal,LDAP test pass when LDAP admin user is expired,Riccardo Pelliccioli,NA,2015-12-23T13:20:00Z,LDAP,NA,NA,NA,NA,0,2015-12-23T13:20:00Z,NA,NA,NA,3.1.1,"When your LDAP Administrator password has expired the LDAP connection test pass when all the LDAP users aren't able to login.

Workaround: renew the LDAP Administrator password (or the user used to integrate with redmine) or set the password noexpiry option

Tested with:
  Redmine version                3.1.1.stable
  Ruby version                   1.9.3-p551 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.4
  LDAP                           SAMBA 4 in AD mode"
21596,Redmine,Defect,NA,Closed,Normal,internal error when click register or project setting tab after redmine fresh installation,Tony Cao,NA,2015-12-23T16:07:00Z,Database,NA,NA,NA,NA,0,2015-12-23T15:25:00Z,2015-12-23T16:07:00Z,NA,Invalid,2.6.0,"Log is pasted as below.
======================
[root@redmine01 redmine-2.6]# RAILS_ENV=production bundle exec rake redmine:load_default_data
/usr/local/rvm/gems/ruby-2.2.4/gems/htmlentities-4.3.1/lib/htmlentities/mappings/expanded.rb:465: warning: duplicated key at line 466 ignored: ""inodot""

Select language: ar, az, bg, bs, ca, cs, da, de, el, en, en-GB, es, et, eu, fa, fi, fr, gl, he, hr, hu, id, it, ja, ko, lt, lv, mk, mn, nl, no, pl, pt, pt-BR, ro, ru, sk, sl, sq, sr, sr-YU, sv, th, tr, uk, vi, zh, zh-TW [en] en
====================================
Default configuration data loaded.
[root@redmine01 redmine-2.6]# mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 27
Server version: 5.6.28 MySQL Community Server (GPL)

Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> use redmine2;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> select * from settings;
Empty set (0.00 sec)

mysql> 

==============================
I wonder if load default data is working fine, because there is no default data in settings table.
"
21656,Redmine,Defect,NA,Closed,Normal,Fix Non ASCII attachment filename encoding broken (MOJIBAKE) in Microsoft  Edge Explorer,Hang Xie,Jean-Philippe Lang,2016-01-21T05:50:00Z,Attachments,2.6.10,NA,NA,NA,0,2016-01-07T06:04:00Z,2016-01-21T05:50:00Z,関連している #16711,Fixed,NA,"Microsoft  Edge Explorer Change its User-Agent to this:
<pre>
Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586
</pre>
It makes redmine can not detect correctly, and it is easy to fix:
<pre>
diff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb
index 98a2246..1fae635 100644
--- a/app/controllers/application_controller.rb
+++ b/app/controllers/application_controller.rb
@@ -595,7 +595,7 @@ class ApplicationController < ActionController::Base
 
   # Returns a string that can be used as filename value in Content-Disposition header
   def filename_for_content_disposition(name)
-    request.env['HTTP_USER_AGENT'] =~ %r{(MSIE|Trident)} ? ERB::Util.url_encode(name) : name
+    request.env['HTTP_USER_AGENT'] =~ %r{(MSIE|Trident|Edge)} ? ERB::Util.url_encode(name) : name
   end
 
   def api_request?

</pre>"
21666,Redmine,Defect,NA,Closed,Normal,My Page tables overlapping on smaller resolution,Jason Lee,NA,2016-11-23T15:33:00Z,My page,NA,NA,NA,NA,0,2016-01-07T19:35:00Z,2016-11-23T15:33:00Z,NA,Invalid,3.1.1,"Problem :
- ""Issues assigned to me"" table and ""Reported issues"" table are overlapping when the ""Recently Viewed Projects"" tab is expanded
- Does not happen on higher resolution environments


Google Chrome Version 47.0.2526.106 m
Windows 7
1366x768

<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.2.3-p173 (2015-08-18) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.8.2.1
  Filesystem                     
Redmine plugins:
  progressive_projects_list      2.0.1
  redmine_checklists             3.1.3
  redmine_issues_tree            0.0.5
  redmine_my_page                0.1.7
  redmine_work_time              0.3.1
  testy                          0.0.2
</pre>
"
21673,Redmine,Defect,NA,Closed,Normal,ActionView::Template::Error: Cannot visit ThreadSafe::Array,Hendrik Roth,NA,2016-01-12T14:13:00Z,NA,NA,NA,NA,NA,0,2016-01-08T10:35:00Z,2016-01-12T14:13:00Z,関連している #21668,NA,3.1.3,"executing bundle exec rake redmine:send_reminders days=7 RAILS_ENV=""production"" results in:

<pre>
rake aborted!
ActionView::Template::Error: Cannot visit ThreadSafe::Array
/home/npticket/apps/npticket/current/app/models/user.rb:737:in `anonymous'
/home/npticket/apps/npticket/current/app/models/user.rb:731:in `current'
/home/npticket/apps/npticket/current/app/models/issue.rb:1242:in `css_classes'
/home/npticket/apps/npticket/current/app/helpers/application_helper.rb:87:in `link_to_issue'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:5:in `block in _app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `each'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `_app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/models/mailer.rb:439:in `block in mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:437:in `mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:110:in `reminder'
/home/npticket/apps/npticket/current/app/models/mailer.rb:450:in `initialize'
/home/npticket/apps/npticket/current/config/initializers/10-patches.rb:154:in `deliver'
/home/npticket/apps/npticket/current/app/models/mailer.rb:365:in `block in reminders'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `each'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `reminders'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:42:in `block (3 levels) in <top (required)>'
/home/npticket/apps/npticket/current/app/models/mailer.rb:386:in `with_synched_deliveries'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:41:in `block (2 levels) in <top (required)>'
TypeError: Cannot visit ThreadSafe::Array
/home/npticket/apps/npticket/current/app/models/user.rb:737:in `anonymous'
/home/npticket/apps/npticket/current/app/models/user.rb:731:in `current'
/home/npticket/apps/npticket/current/app/models/issue.rb:1242:in `css_classes'
/home/npticket/apps/npticket/current/app/helpers/application_helper.rb:87:in `link_to_issue'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:5:in `block in _app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `each'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `_app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/models/mailer.rb:439:in `block in mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:437:in `mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:110:in `reminder'
/home/npticket/apps/npticket/current/app/models/mailer.rb:450:in `initialize'
/home/npticket/apps/npticket/current/config/initializers/10-patches.rb:154:in `deliver'
/home/npticket/apps/npticket/current/app/models/mailer.rb:365:in `block in reminders'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `each'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `reminders'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:42:in `block (3 levels) in <top (required)>'
/home/npticket/apps/npticket/current/app/models/mailer.rb:386:in `with_synched_deliveries'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:41:in `block (2 levels) in <top (required)>'
NoMethodError: undefined method `visit_ThreadSafe_Array' for #<Arel::Visitors::PostgreSQL:0x007f876e3eab78>
/home/npticket/apps/npticket/current/app/models/user.rb:737:in `anonymous'
/home/npticket/apps/npticket/current/app/models/user.rb:731:in `current'
/home/npticket/apps/npticket/current/app/models/issue.rb:1242:in `css_classes'
/home/npticket/apps/npticket/current/app/helpers/application_helper.rb:87:in `link_to_issue'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:5:in `block in _app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `each'
/home/npticket/apps/npticket/current/app/views/mailer/reminder.html.erb:4:in `_app_views_mailer_reminder_html_erb__2458635835046685007_70109836468080'
/home/npticket/apps/npticket/current/app/models/mailer.rb:439:in `block in mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:437:in `mail'
/home/npticket/apps/npticket/current/app/models/mailer.rb:110:in `reminder'
/home/npticket/apps/npticket/current/app/models/mailer.rb:450:in `initialize'
/home/npticket/apps/npticket/current/config/initializers/10-patches.rb:154:in `deliver'
/home/npticket/apps/npticket/current/app/models/mailer.rb:365:in `block in reminders'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `each'
/home/npticket/apps/npticket/current/app/models/mailer.rb:364:in `reminders'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:42:in `block (3 levels) in <top (required)>'
/home/npticket/apps/npticket/current/app/models/mailer.rb:386:in `with_synched_deliveries'
/home/npticket/apps/npticket/current/lib/tasks/reminder.rake:41:in `block (2 levels) in <top (required)>'
Tasks: TOP => redmine:send_reminders
(See full trace by running task with --trace)
</pre>"
21674,Redmine,Defect,NA,Closed,Normal,The LDAP connection test does not check the credentials,Helder Manuel Torres Vieira,Jean-Philippe Lang,2016-05-21T09:07:00Z,LDAP,3.3.0,NA,NA,NA,0,2016-01-08T12:18:00Z,2016-01-22T19:19:00Z,NA,Fixed,NA,"h2. Defect Description

In the current version and the last trunk, the Authenticacion Modes that works through LDAP does not check the username or password.

This can be a problem, because, if the LDAP Server is available but does not return any response due to an incorrect username and password, and can't bind the connection.

This patch adds the possibility in the moment to do a LDAP connection Test, if the username and password is defined it binds to check that are correct, else returns an exception with it's error.

I've added the follow test to check the username and the password, as the connectivity against the LDAP Server.

This patch has been tested with the last Trunk (14992) and the configurations of the LDAP Server that comes included to do the tests.

h2. Running Tests:

<pre>
vagrant@redmine:/opt/redmine/trunk# RAILS_ENV=""test"" rake test test/unit/auth_source_ldap_test.rb
Run options: --seed 12217

# Running:

.......................

Finished in 3.987555s, 5.7679 runs/s, 20.0624 assertions/s.

23 runs, 80 assertions, 0 failures, 0 errors, 0 skips
vagrant@redmine:/opt/redmine/trunk#
</pre>


h2. Attached Screenshots:

!0.png!

!1.png!

!2.png!"
21679,Redmine,Defect,NA,Closed,Normal,Emoji [CL] will break the subject of new tickets,Florian Over,NA,2016-01-08T17:01:00Z,NA,NA,NA,NA,NA,0,2016-01-08T16:03:00Z,2016-01-08T17:01:00Z,次のチケットと重複 #18866,Duplicate,NA,I cannot enter issues with subjects with the
21680,Redmine,Defect,NA,Closed,Normal,Save button in Settings tab disabled,Jean-Claude Wippler,NA,2016-01-11T23:30:00Z,UI,NA,NA,NA,NA,0,2016-01-08T18:40:00Z,2016-01-11T23:30:00Z,NA,Invalid,3.2.0,"When **only** enabling the ""Public"" checkbox on the Settings/Information page, the Save button does not get enabled.

Workaround: making a change to the description field (even just adding a character and removing it again) is enough to enable Save, then it works and the Public checkbox change gets stored.

I'm running 3.2.0.devel, cloned in Dec 2015 from the repository on GitHub, last log entry:

> commit f4c37007025b5bdd018c1b95f54a077a4c52319e
> Author: Jean-Philippe Lang <jp_lang@yahoo.fr>
> Date:   Sun Dec 13 15:39:09 2015 +0000
> 
> Adds the ""Hide my email address"" option on the registration form (#21500).
>  
> git-svn-id: http://svn.redmine.org/redmine/trunk@14976 e93f8b46-1217-0410-a6f0-8f06a7374b81
"
21682,Redmine,Defect,NA,New,Normal,Documentation for nginx configuration is outdated and broken,Erik H,NA,2016-02-06T05:13:00Z,Documentation,NA,NA,NA,NA,0,2016-01-08T19:45:00Z,NA,NA,NA,NA,"I set up Redmine with nginx as a reverse proxy according to this HowTo: [[HowTo_configure_Nginx_to_run_Redmine]]

For the most part it seems to work normally. Then I tried to delete a project which did not work.
The HowTo's nginx configuration rewrites some ""sensitive"" paths to https and then rewrites back to http for ""non-sensitive"" paths except some paths that would be broken otherwise:
<pre>
# Examples of URLs we don't want to rewrite (otherwise 404 errors occur):
# /projects/PROJECTNAME/archive?status=
# /projects/copy/PROJECTNAME
# /projects/PROJECTNAME/destroy

# This should exclude those (tested here: http://www.regextester.com/ )
if ($uri !~* ""^/projects/.*(copy|destroy|archive)"") {
    rewrite ^/projects(.*) http://your.domain.here$request_uri permanent;
}
</pre>

As far as I can see these excluded paths are outdated. This does for example break the DELETE request upon project deletion.

I worked around this by commenting out all the rewriting stuff and just defaulting to https with:
<pre>
server {
	listen 80;
	return 301 https://$server_name$request_uri;
}
</pre>
_(In my opinion this is should be done anyways because data of non-public projects musn't be sent over http...)_

The regex has to be updated to match the new path structure."
21701,Redmine,Defect,NA,Closed,Normal,"Using the filter ""Assignee's Group"" in the issue list shows all groups",Robert Barnebeck,NA,2016-01-12T16:02:00Z,Issues filter,NA,NA,NA,NA,0,2016-01-12T14:56:00Z,2016-01-12T16:02:00Z,NA,Invalid,3.1.2,"When a user is restricted to only one project, where for example only two user groups are added, the user can nevertheless see all groups from the whole application. We name the groups after our customer companies, so every customer can see all other customer companies, which is too much transparacy for us ;-)"
21704,Redmine,Defect,NA,Closed,Normal,mail handler crashes if there are CC entries,Scott Selberg,NA,2016-01-13T02:06:00Z,Email receiving,NA,NA,NA,NA,0,2016-01-12T21:51:00Z,2016-01-13T02:06:00Z,NA,Invalid,3.2.0,"I've recently updated several instances to Redmine 3.2 and the mail handling is failing

NameError (uninitialized class variable @@handler_options in MailHandler):
  app/models/mail_handler.rb:213:in `receive_issue'
  app/models/mail_handler.rb:190:in `dispatch_to_default'
  app/models/mail_handler.rb:175:in `dispatch'
  app/models/mail_handler.rb:150:in `receive'
  app/models/mail_handler.rb:49:in `block in receive'
  app/models/mail_handler.rb:46:in `receive'
  app/controllers/mail_handler_controller.rb:29:in `index'

Line 213 in 'receive_issue' is: 
add_watchers(issue)

If I comment this line out, everything works as expected.

I am setup with LDAP for users and have the following pass flags being set: --no-account-notice, --default-group ""<MyGroup> --allow-override=all --no-permission-check --unknown-user create






"
21729,Redmine,Defect,NA,Closed,Normal,Table of content (TOC macro) is not exported to PDFs,Rasca G.,NA,2016-01-16T01:29:00Z,PDF export,NA,NA,NA,NA,0,2016-01-14T15:48:00Z,2016-01-16T01:29:00Z,次のチケットと重複 #19133,Duplicate,3.1.2,While exporting a Wiki page to a PDF file an included TOC is not exported. When HTML is used for the export instead of PDF the TOC is included.
21730,Redmine,Defect,NA,New,Normal,Local links (#jumpToHere) are not exported as references inside an exported PDF,Rasca G.,NA,2016-01-14T17:55:00Z,PDF export,NA,NA,NA,NA,0,2016-01-14T15:56:00Z,NA,関連している #18043,NA,3.1.2,"If the Wiki page contains an local reference to a sub headline, e.g. @[[myPage#whereToGo]]@ the reference is not usable as an jump target inside the exported PDF file. It looks like a link (blue, underlined), but clicking on it will not scroll to the target."
21731,Redmine,Defect,NA,New,Normal,blue footer in exported PDF,Rasca G.,NA,2016-01-14T16:38:00Z,PDF export,NA,NA,NA,NA,0,2016-01-14T16:07:00Z,NA,NA,NA,3.1.2,"If there is a list (""@*@"") of page links at the end of an PDF page which will be continued with more items on the next page after a page break the footer will be blue.
e.g.:
<pre>
[..]
* [[Page2]]
* [[Page3]]
* [[Page4]]
</pre>
See attached PNG"
21741,Redmine,Defect,NA,Closed,Normal,Authorized error on download attachment of note,Mostafa Mirmousavi,NA,2016-02-13T04:39:00Z,Attachments,NA,NA,NA,NA,0,2016-01-16T15:58:00Z,2016-02-13T04:39:00Z,NA,Invalid,NA,"I updated redmine to version 3.2, and attachments in note not work.
I can download other attachment but when download attachment of note show this error:
> You are not authorized to access this page.

<pre>
Environment:
  Redmine version                3.2.0.stable                                        [0/516]
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux-gnu]                 
  Rails version                  4.2.5                                                      
  Environment                    production                                                 
  Database adapter               PostgreSQL                                                 
SCM:                                                                                        
  Subversion                     1.8.8                                                      
  Darcs                          2.8.4                                                      
  Mercurial                      2.8.2                                                      
  Cvs                            1.12.13                                                    
  Bazaar                         2.7.0                                                      
  Git                            2.7.0                                                      
  Filesystem                                                                                
Redmine plugins:                                                                            
  redmine_agile                  1.3.12                                                     
  redmine_ckeditor               1.1.3                                                      
  redmine_contacts               4.0.4                                                      
  redmine_contacts_invoices      4.0.3                                                      
  redmine_graphs                 0.1.0  
</pre>"
21746,Redmine,Defect,NA,Closed,Normal,Truncate email not working,Ben Blanco,NA,2016-03-02T13:10:00Z,Email receiving,NA,NA,NA,NA,0,2016-01-18T15:47:00Z,2016-03-02T13:10:00Z,NA,NA,3.2.0,"I'm trying to get incoming emails truncated, to no avail.

my config:

redmine 3.2.0 stable
ruby 2.1.x
email IMAP fetching working fine via Rufus scheduler gem

In Admin/Settings/Incoming emails, I put *@---cutoff---@*, which I then manually add to my test emails, but it gets imported & added to new Issues as well as all the lines below it, cf. screenshot:

!redmine_truncate_incoming_email.png!

My redmine instance is set to use Markdown, so just in case this was related, I tested w/ Textile activated - but emails still not being truncated at all.

Last - I've been sending test emails using Gmail, in case it has an impact."
21766,Redmine,Defect,NA,New,Normal,CSV import does keep the project it was clicked from,Olivier Houdas,NA,2016-01-20T14:54:00Z,Importers,NA,NA,NA,NA,0,2016-01-20T12:04:00Z,NA,NA,NA,3.2.0,"When clicking the new Import link in the side bar menu of Issues, the project information seems to be lost.

There are several consequences:
# Clicking the sidebar links in one of the import steps has various consequences, from no action (custom queries) to Error 500 (Calendar, Gantt)
# When reaching the field mapping step, there is a project which is preselected, but not the one the import link was clicked from."
21770,Redmine,Defect,NA,New,Low,Preview does not work on non-ascii data input,Simeon Felis,NA,2016-01-21T09:49:00Z,NA,NA,NA,NA,NA,0,2016-01-20T14:05:00Z,NA,NA,NA,3.1.3,"The following content will break the preview option.



<pre>
insert content of non-ascii_content.txt here
</pre>

When opening the debug console in chrome, I can see the following:

<pre>
4 jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4 Uncaught URIError: URI malformed
39 jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4 Uncaught URIError: URI malformede
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4(anonymous function)
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4m.extend.each
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:2m.param
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4m.fn.extend.serialize
 @ jquery-1.11.1-ui-1.11.0-ujs-3.1.3.js:4submitPreview
 @ application.js:414onclick
 @ new:320
</pre>

Looks dangerous to me when user-content breaks the javascript. Obviously some parsing problems. There is probably some 0x00 in the content."
21772,Redmine,Defect,NA,Closed,Normal,Send mail option,erdi YILMAZ,NA,2016-01-20T16:30:00Z,Email notifications,NA,NA,NA,NA,0,2016-01-20T15:42:00Z,2016-01-20T16:30:00Z,NA,NA,NA,my redmine send mail in my domain but can't send mail some user who is not in my domain
21779,Redmine,Defect,NA,Closed,Normal,"Specific contents causes page not found on issue,documents, wiki",Aleksandar Pavic visit redminecookbook.com,NA,2017-01-11T14:31:00Z,Documents,NA,NA,NA,NA,0,2016-01-21T13:12:00Z,2017-01-11T14:31:00Z,NA,Invalid,3.1.2,"Redmine info:
<pre>
Environment:
  Redmine version                3.1.2.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
</pre>

*The problem occurs only with Apache mod security turned on.
*
Redmine log:
<pre>
Started GET ""/500.shtml"" for 94.247.200.2 at 2016-01-21 02:51:52 -0500

ActionController::RoutingError (No route matches [GET] ""/500.shtml""):
  actionpack (4.2.4) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.4) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (4.2.4) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.4) lib/rails/engine.rb:518:in `call'
  railties (4.2.4) lib/rails/application.rb:165:in `call'
  railties (4.2.4) lib/rails/railtie.rb:194:in `public_send'
  railties (4.2.4) lib/rails/railtie.rb:194:in `method_missing'
  passenger (4.0.45) lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
  passenger (4.0.45) lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
  passenger (4.0.45) lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
  passenger (4.0.45) lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'

</pre>

Content causing the issue:
[[http://apaste.info/rA2]]"
21864,Redmine,Defect,NA,Closed,Normal,The plugin Templates does not work in version 3.1,Marcelo Rocha Ac?cio,NA,2016-01-27T23:29:00Z,NA,NA,NA,NA,NA,0,2016-01-27T20:57:00Z,2016-01-27T23:29:00Z,NA,Invalid,3.1.3,"People,

It would be very important to me if the Template (http://www.redmine.org/plugins/gsc_templates) worked in version 3.1 of Redmine.


You can update it ????

Grateful."
21868,Redmine,Defect,NA,Closed,Normal,redmine_login_audit 0.2.2,Nikola Milanov,NA,2016-01-28T11:17:00Z,NA,NA,NA,NA,NA,0,2016-01-28T09:35:00Z,2016-01-28T11:17:00Z,NA,Invalid,3.2.0,"When install version 0.2.2 of plugin redmine_login_audit I get this error when trying to access it:
===========================================================================================================
Rendered plugins/redmine_login_audit/app/views/login_audit/index.html.erb within layouts/admin (1.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.3ms)

ActionView::Template::Error (Asset was not declared to be precompiled in production.
Add `Rails.application.config.assets.precompile += %w( wice_grid.js )` to `config/initializers/assets.rb` and restart your server):
    1: <% content_for :header_tags do %>
    2:     <%= stylesheet_link_tag 'login_audit', :plugin => 'redmine_login_audit' %>
    3:     <%= stylesheet_link_tag 'wice_grid', :plugin => 'redmine_login_audit' %>
    4:     <%= javascript_include_tag 'wice_grid' %>
    5:     <script type=""text/javascript"">
    6:         function filterByDate(value) {
    7:             $('#grid_f_date option[value=' + value + ']').prop('selected', true);
  app/helpers/application_helper.rb:1224:in `javascript_include_tag'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

===============================================================================
Here some of info of my env:

Ubuntu 14.04.3 LTS
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.2.4-p230 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               PostgreSQL

What can I do to resolve this issue?
"
21900,Redmine,Defect,NA,Closed,Normal,Moving a page with a child raises an error if target wiki contains a page with the same name as the child,Hiroo Hayashi,Jean-Philippe Lang,2016-03-12T09:24:00Z,Wiki,3.1.4,NA,NA,NA,0,2016-01-30T15:07:00Z,2016-03-12T09:24:00Z,NA,Fixed,3.2.0,"Project A has Wiki pages, ""Wiki-P"" and ""Wiki-C"".  ""Wiki-C"" is a child of ""Wiki-P"".
Project B has an Wiki page, ""Wiki-C"".

<pre>
Project A:
Wiki-P
  Wiki-C

Project B:
Wiki-C
</pre>

Moving ""Wiki-C"" in Project A to Project B %{color:blue}warns as ""Title has already been taken"".%
Moving ""Wiki-P"" in Project A to Project B %{color:red}causes an internal error.%

***

<pre>
bitnami@linux:~/redmine/htdocs$ ruby bin/about

sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.13
  Git                            2.6.1
  Filesystem
</pre>
"
21922,Redmine,Defect,NA,Closed,Normal,Redmine RSS/Atom feed doesn't integrate with Slack,Kevin Gallagher,NA,2016-02-02T04:47:00Z,NA,NA,NA,NA,NA,0,2016-02-02T03:31:00Z,2016-02-02T04:47:00Z,NA,Invalid,NA,"I tried to add https://www.redmine.org/projects/redmine/news.atom as a Slack integration to one of my channels. We're trying to stay on top of updates and potential security issues/CVEs.

Slack reports ""That doesn't look like a valid RSS/Atom feed.""

When you try /feed subscribe <url>, slackbot says: sorry, 'https://www.redmine.org/projects/redmine/news.atom' doesn't look like a feed url. Try again?

I ran it through the W3C's validator at https://validator.w3.org/feed/ and it comes back as valid. I'm not sure if it's an issue on your end or Slack's. I tried to report it to them using /feedback.
"
21993,Redmine,Defect,NA,Closed,Normal,Projects description cannot contain long text on MySQL,okkez _,NA,2016-09-05T14:56:00Z,Database,NA,NA,NA,NA,0,2016-02-09T17:17:00Z,2016-09-05T14:56:00Z,関連している #19869,NA,NA,"Original migration [1] changes type of projects description from string to text. It means that projects description can contain text longer than 255 bytes.
In acutually, on MySQL, projects desctiption type is changed to text but it limit 255byte.

[1]: source:tags/3.2.0/db/migrate/087_change_projects_description_to_text.rb
"
22000,Redmine,Defect,NA,Closed,Normal,Recieve email not workng to create issues,ashwanth rao,NA,2016-02-10T11:09:00Z,Email receiving,NA,NA,NA,NA,0,2016-02-10T08:21:00Z,2016-02-10T11:09:00Z,NA,NA,3.0.0,"Receive email working only for existing tickets,but unable to create new issues
check below the rake trace settings


sudo su -c ""sudo rake  /usr/local/bin/rake redmine:email:receive_imap RAILS_ENV=""production"" host=servername port=993 ssl=true username=******@*****.com password=***** unknown_user=accept no_permission_check=1 project=asw tracker=bug,feature,support  status=new priority=normal allow_override=project,tracker,status,priority,category,assigned_to,fixed_version,start_date,due_date,estimated_hours,done_ratio --trace""

** Invoke /usr/local/bin/rake (first_time, not_needed)
** Invoke redmine:email:receive_imap (first_time)
** Invoke environment (first_time)
** Execute environment
** Execute redmine:email:receive_imap


Environment:
  Redmine version                3.0.0.stable
  Ruby version                   1.9.3-p286 (2012-10-12) [x86_64-linux]
  Rails version                  4.2.0
  Environment                    production
  Database adapter               Mysql2
"
22002,Redmine,Defect,NA,Closed,Normal,Copy issue function throws Internal error,Franco Po,NA,2016-02-18T03:41:00Z,Issues,NA,NA,NA,NA,0,2016-02-10T12:42:00Z,2016-02-18T03:41:00Z,NA,Invalid,3.1.3,"Navigate to any one of the issues created and then click ""Copy"". It shows ""Internal error"" with following RuntimeError in log file.



log/production.log
<pre>
RuntimeError ():
  app/models/issue.rb:372:in `assign_attributes_with_project_and_tracker_first'
  app/models/issue.rb:378:in `attributes='
  app/models/issue.rb:229:in `copy_from'
  app/controllers/issues_controller.rb:417:in `build_new_issue_from_params'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'



ActionController::RoutingError (No route matches [GET] ""/projects/test-project/issues/841""):
  actionpack (4.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.2.5) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (4.2.5) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5) lib/rails/engine.rb:518:in `call'
  railties (4.2.5) lib/rails/application.rb:165:in `call'
  railties (4.2.5) lib/rails/railtie.rb:194:in `public_send'
  railties (4.2.5) lib/rails/railtie.rb:194:in `method_missing'
  passenger (5.0.24) src/ruby_supportlib/phusion_passenger/rack/thread_handler_extension.rb:97:in `process_request'
  passenger (5.0.24) src/ruby_supportlib/phusion_passenger/request_handler/thread_handler.rb:152:in `accept_and_process_next_request'
  passenger (5.0.24) src/ruby_supportlib/phusion_passenger/request_handler/thread_handler.rb:113:in `main_loop'
  passenger (5.0.24) src/ruby_supportlib/phusion_passenger/request_handler.rb:416:in `block (3 levels) in start_threads'
  passenger (5.0.24) src/ruby_supportlib/phusion_passenger/utils.rb:113:in `block in create_thread_and_abort_on_exception'
</pre>

Redmine Information
<pre>
Environment:
  Redmine version                3.1.3.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.13
  scrum                          0.13.1
</pre>"
22006,Redmine,Defect,NA,Closed,High,Fonts too small in version 3.2.0,Hugues C.,NA,2016-02-29T05:37:00Z,Email notifications,NA,NA,NA,NA,0,2016-02-10T19:07:00Z,2016-02-29T05:37:00Z,関連している #21487,NA,3.2.0,"Since upgrading to version *3.2.0*, we noticed that some email clients are receiving email notification with what appears to be verify small fonts. We have this same issue on 3 distincts redmine installations recently upgrade from *3.1.2* to *3.2.0* (and other are reporting the same problem, cf. news:""Redmine 3.2.0 released"").

It seems that r15026 results in fonts too big in some email clients (tested in latest Zimbra Web Client 8.6.0, latest Thunderbird 38.5.1 and with Gmail). Could this issue be related to r14541 or r14540 or some other changes in *3.2.0*?

* With *Redmine 3.1.2* everything was fine in all clients (see attachment:redmine-3.1.2-thunderbird.png and attachment:redmine-3.1.2-zimbra.png)
* With vanilla *Redmine 3.2.0* everything is too small in Zimbra even though @mailer.html.erb@ is the same as in *3.1.2* (see attachment:redmine-3.2.0-zimbra.png)
* With the patch r15026 to @mailer.html.erb@ in *3.2.0* everything is too big in all clients (see attachment:redmine-3.2.0-thunderbird-patch21487.png and attachment:redmine-3.2.0-zimbra-patch21487.png)

_P.S. This was first posted in #21487-7 but it's probably not the best place to do so, since the ticket is closed._"
22007,Redmine,Defect,NA,Closed,Normal,How can I set up Redmine  Zentyal Active Directory Authentication.,RENJU JACOB,NA,2016-02-11T10:12:00Z,Accounts / authentication,NA,NA,NA,NA,0,2016-02-11T08:17:00Z,2016-02-11T10:12:00Z,NA,Invalid,3.2.0,"Redmine LDAP authentication is not authenticating with Zentyal Active Directory.i tried a lot.

Host: 192.168.X.XX
Port: 389
Base DN: dc=*****,dc=local
On-The-Fly User Creation: YES
Login: sAMAccountName
Firstname: givenName
Lastname: sN
Email: mail

i also tried memberUid,CN,Uid, First Name 

Please Help me 

Thank you 



"
22011,Redmine,Defect,NA,New,Normal,The issue pdf export doesn't show the total estimated time sum,Nils Grimm,NA,2016-11-01T17:59:00Z,PDF export,NA,NA,NA,NA,0,2016-02-11T14:39:00Z,NA,関連している #18015,NA,3.2.0,In the issues are only the effort (estimated time) of the current issues shown not the sum of the sub issues as it is displayed on the issue web page.
22014,Redmine,Defect,NA,Closed,Normal,migrated to new version on new host. Now getting an error,Jeff Balicki,NA,2016-08-24T09:43:00Z,Issues,NA,NA,NA,NA,0,2016-02-11T17:06:00Z,2016-08-24T09:43:00Z,NA,No feedback,3.1.3,"migrated to new version on new host. Now getting an error!

NoMethodError (undefined method `default_version_id?' for #<Project:0x007fe30670b818>):
  app/models/issue.rb:362:in `project='
  app/controllers/issues_controller.rb:423:in `build_new_issue_from_params'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'"
22016,Redmine,Defect,NA,New,Normal,Generated password not shown if Send Account Information To User is unchecked,Jon Clark,NA,2016-02-11T19:39:00Z,Accounts / authentication,NA,NA,NA,NA,0,2016-02-11T19:39:00Z,NA,NA,NA,3.0.3,"Redmine install information: 
Environment:
  Redmine version                3.0.3.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed


Description:

If an admin performs a password reset on a user and generates a new password ( by checking the Generate password box ), and unchecks the option to send the email with the new credentials to the user, there is no way to obtain the new credentials for the user, making the functionality useless.

Redmine should detect that the password will not be sent to the user, and display the generated password to the administrator performing the reset.


"
22021,Redmine,Defect,NA,Closed,Normal,RAILS_ENV=production rake db:migrate giving rake aborted!,Niraj Mhatre,NA,2016-02-12T13:52:00Z,Database,NA,NA,NA,NA,0,2016-02-12T13:33:00Z,2016-02-12T13:52:00Z,NA,Invalid,2.5.2,"Redmine version redmine-2.5.0

I have following gems installed

Using rake 0.9.2
Using RedCloth 4.2.9
Using i18n 0.7.0
Using json 1.8.3
Using minitest 5.8.4
Using thread_safe 0.3.5
Using builder 3.2.2
Using erubis 2.7.0
Using mini_portile2 2.0.0
Using rack 1.6.4
Using mime-types 2.99
Using arel 6.0.3
Using addressable 2.4.0
Using bundler 1.11.2
Using coderay 1.1.0
Using concurrent-ruby 1.0.0
Using htmlentities 4.3.1
Using thor 0.19.1
Using mysql 2.9.1 (was 2.8.1)
Using mysql2 0.3.20
Using net-ldap 0.12.1
Using ruby-openid 2.3.0
Using rbpdf-font 1.19.0
Using redcarpet 3.3.4
Using request_store 1.0.5
Using hoe 3.14.2
Using tzinfo 1.2.2
Using nokogiri 1.6.7.2
Using rack-test 0.6.3
Using mail 2.6.3
Using css_parser 1.3.7
Using sprockets 3.5.2
Using rack-openid 1.4.2
Using rbpdf 1.19.0
Using rubytree 0.5.2
Using activesupport 4.2.5
Using loofah 2.0.3
Using roadie 3.1.1
Using rails-deprecated_sanitizer 1.0.3
Using globalid 0.3.6
Using activemodel 4.2.5
Using rails-html-sanitizer 1.0.3
Using rails-dom-testing 1.0.7
Using activejob 4.2.5
Using activerecord 4.2.5
Using protected_attributes 1.1.3
Using actionview 4.2.5
Using actionpack 4.2.5
Using actionmailer 4.2.5
Using actionpack-action_caching 1.1.1
Using actionpack-xml_parser 1.0.2
Using railties 4.2.5
Using sprockets-rails 3.0.1
Using jquery-rails 3.1.4
Using roadie-rails 1.1.0
Using rails 4.2.5



[root@localhost redmine]# ruby -v
ruby 1.9.3p551 (2014-11-13 revision 48407) [i686-linux]


cat database.yml
# Default setup is given for MySQL with ruby1.9.
# Examples for PostgreSQL, SQLite3 and SQL Server can be found at the end.
# Line indentation must be 2 spaces (no tabs).

production:
  adapter: mysql
  database: redmine_db
  host: localhost
  username: redmine_admin
  password: ""root""
  encoding: utf8

WHEN I RUN THIS COMMAND I GOT THIS ERROR I TRIED MANY SOLUTION FROM GOOGLE BUT NOT WORKING.I STUCK HERE FROM MANY WEEKS PLEASE HELP

[root@localhost config]# *RAILS_ENV=production rake db:migrate
(in /var/www/redmine)
rake aborted!
undefined local variable or method `load_default_data' for main:Object

Tasks: TOP => db:migrate => environment
(See full trace by running task with --trace)*

*AFTER I TRIED --trace 
*

(in /var/www/redmine)
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
rake aborted!
undefined local variable or method `load_default_data' for main:Object
/var/www/redmine/config/environment.rb:16:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `block in require'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:240:in `load_dependency'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `require'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-4.2.5/lib/rails/application.rb:328:in `require_environment!'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/railties-4.2.5/lib/rails/application.rb:457:in `block in run_tasks_blocks'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:205:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:205:in `block in execute'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:200:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:200:in `execute'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:176:in `block in invoke_prerequisites'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:174:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:174:in `invoke_prerequisites'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:157:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/task.rb:144:in `invoke'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:112:in `invoke_task'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:90:in `block (2 levels) in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:90:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:90:in `block in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:84:in `top_level'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:62:in `block in run'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:129:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/lib/rake/application.rb:59:in `run'
/usr/local/rvm/gems/ruby-1.9.3-p551/gems/rake-0.9.2/bin/rake:32:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p551/bin/rake:23:in `load'
/usr/local/rvm/gems/ruby-1.9.3-p551/bin/rake:23:in `<main>'
/usr/local/rvm/gems/ruby-1.9.3-p551/bin/ruby_executable_hooks:15:in `eval'
/usr/local/rvm/gems/ruby-1.9.3-p551/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => db:migrate => environment

Thanks in advance 



"
22022,Redmine,Defect,NA,Needs feedback,Normal,Issue shows wrong in wrong parent subtasks list,Lifecycle Software,NA,2017-06-13T08:27:00Z,Issues,NA,NA,NA,NA,0,2016-02-12T15:08:00Z,NA,NA,NA,3.2.0,"To make it simple, I have this hierarchy

<pre>
732
   734
      735
      766
</pre>

I have a Issue 639 which has a ""parent_id""=766 so I'm supposing to see the hierarchy like that:
<pre>
732
   734
      735
      766
         639
</pre>

But the problem is that Issue 639 is showing in the subtasks list of 735! Like this:
<pre>
732
   734
      735
         639
      766
</pre>

From the rails console, I'll show the problem in more details:
<pre>
2.2.3 :001 > issue = Issue.find_by_id(639)
  Issue Load (0.4ms)  SELECT  `issues`.* FROM `issues` WHERE `issues`.`id` = 639 LIMIT 1
 => #<Issue id: 639, tracker_id: 2, project_id: 5, subject: ""Reactivate Subscriber (RM-224)"", description: """", due_date: ""2015-12-23"", category_id: 2, status_id: 2, assigned_to_id: 14, priority_id: 2, fixed_version_id: 10, author_id: 1, lock_version: 17, created_on: ""2016-01-22 08:53:45"", updated_on: ""2016-02-12 11:35:41"", start_date: ""2015-12-17"", done_ratio: 0, estimated_hours: 7.0, parent_id: 766, root_id: 732, lft: 8, rgt: 9, is_private: false, closed_on: nil> 
2.2.3 :005 > issue.ancestors[issue.ancestors.count-1].id
   (0.3ms)  SELECT COUNT(*) FROM `issues` WHERE `issues`.`root_id` = 732 AND (issues.lft < 8 AND issues.rgt > 9)
  Issue Load (0.5ms)  SELECT `issues`.* FROM `issues` WHERE `issues`.`root_id` = 732 AND (issues.lft < 8 AND issues.rgt > 9)  ORDER BY `issues`.`lft` ASC
 => 735 
2.2.3 :006 > issue.parent_id
 => 766
</pre> 

Here you can see that ""issue"" has a ""parent_id"" of 766, but it's nearest ancestor is 735!

Going deeper in the analisys..
<pre>
2.2.3 :004 > parentIssue = Issue.find_by_id issue.parent_id
  Issue Load (0.6ms)  SELECT  `issues`.* FROM `issues` WHERE `issues`.`id` = 766 LIMIT 1
 => #<Issue id: 766, tracker_id: 2, project_id: 5, subject: ""MW LowLevel Actors"", description: """", due_date: ""2016-02-11"", category_id: 2, status_id: 1, assigned_to_id: 12, priority_id: 2, fixed_version_id: 10, author_id: 12, lock_version: 16, created_on: ""2016-02-10 16:44:37"", updated_on: ""2016-02-12 11:35:41"", start_date: ""2015-12-17"", done_ratio: 0, estimated_hours: nil, parent_id: 734, root_id: 732, lft: 23, rgt: 26, is_private: false, closed_on: nil> 
2.2.3 :005 > parentIssue.parent_id
 => 734 
2.2.3 :006 > ancestorIssue = issue.ancestors[issue.ancestors.count-1]
   (1.7ms)  SELECT COUNT(*) FROM `issues` WHERE `issues`.`root_id` = 732 AND (issues.lft < 8 AND issues.rgt > 9)
  Issue Load (0.2ms)  SELECT `issues`.* FROM `issues` WHERE `issues`.`root_id` = 732 AND (issues.lft < 8 AND issues.rgt > 9)  ORDER BY `issues`.`lft` ASC
 => #<Issue id: 735, tracker_id: 2, project_id: 5, subject: ""Executors"", description: """", due_date: ""2016-02-12"", category_id: nil, status_id: 1, assigned_to_id: 28, priority_id: 2, fixed_version_id: 10, author_id: 12, lock_version: 11, created_on: ""2016-02-08 15:50:40"", updated_on: ""2016-02-12 11:09:39"", start_date: ""2016-02-10"", done_ratio: 0, estimated_hours: nil, parent_id: 734, root_id: 732, lft: 5, rgt: 10, is_private: false, closed_on: nil> 
2.2.3 :007 > ancestorIssue.parent_id
 => 734 
</pre>

We can see that both realParent and ancestorParent have the same parent_id, as such they are brothers...

Why and how can I fix this one?"
22029,Redmine,Defect,NA,Closed,Normal,The custom field 'version' drop down menu isn't showing the version in the same way as the target version,Nils Grimm,NA,2016-03-02T17:13:00Z,Custom fields,NA,NA,NA,NA,0,2016-02-14T22:49:00Z,2016-03-02T17:13:00Z,次のチケットと重複 #15902,Duplicate,3.2.0,"The ordered and structured drop down view of the issue 'target version' field should be used for the custom field 'version' type, too."
22034,Redmine,Defect,NA,Closed,Normal,Locked users disappear from project settings,Frederico Camara,Jean-Philippe Lang,2017-03-29T14:21:00Z,Project settings,3.2.5,NA,NA,NA,0,2016-02-15T15:05:00Z,2017-01-04T20:48:00Z,NA,Fixed,3.1.0,"I control which users are part of my projects, but I'm having problems with locked users. Thay disappear from the list and I can't manage them as long as they're locked. If at anytime they become unlocked by the administrator, thay would unexpectedly show up in my project with roles I gave them months ago.

This is annoying. I don't care if the users disappear from the workflow or from the page project, but if they are locked for some reason in Redmine, I should still be able to change their roles in my project, or kick them out if I needed to."
22046,Redmine,Defect,NA,New,Normal,Markdown XML code blocks not properly supported,T H,NA,2016-02-18T14:52:00Z,Text formatting,NA,NA,NA,NA,0,2016-02-16T17:24:00Z,NA,NA,NA,3.1.3,"Markdown code blocks are blocks of text surrounded by three backticks (@```@).  

For example:
<pre>
```xml
<example>test</example>
```
</pre>

This should result in the following HTML:
<pre><pre><code class=""xml"">
<example>test</example>
</code>< /pre></pre>

(I can't seem to get the closing @pre@-tag to show up properly, either!)

However, what is actually output is:

<pre>
<pre>
<example>test</example>
</pre>
</pre>

The result is that syntax highlighting does not work.  If it is too much trouble to include the language (the @class@ attribute based on the language after the three backticks), it would be sufficient for me if the code was surrounded by <pre><code>…</code></pre> in addition to the @pre@-tags already in place."
22048,Redmine,Defect,NA,New,Normal,Exception throws during plugin rendering,Andrey Iskousnykh,NA,2016-02-17T03:24:00Z,Plugin API,NA,NA,NA,NA,0,2016-02-16T19:25:00Z,NA,NA,NA,NA,"The following code in @redmine\app\views\layouts\base.html.erb@ at 28th line will throw @ActionController::UrlGenerationError@ when plugin has controller with namespace in routing.

<pre>
<code class=""ruby"">
<%= form_tag({:controller => 'search', :action => 'index', :id => @project}, :method => :get ) do %>
</code>
</pre>

A part from @route.rb@ of plugin:

<pre>
<code class=""ruby"">
RedmineApp::Application.routes.draw do
  #...
  get 'projects/:project_id/reports/admin'
  #...
end
</code>
</pre>

This is not the only source of this error, because of @:controller@ parameter is used in relative form, so any usage of @ActionController::Base#url_for@ would throw an error (e.g. during _menu_ generation).

The only way for a while to bypass the error is to *avoid namespaces in plugins*.

To produce an error you need to generate a plugin with controller using namespaces, like @Reports::BadPluginController < ApplicationController@, which action renders as redmine part (using standard redmine layout), and route to it @get 'projects/:project_id/reports/bad_plugin'@.

Met at
<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [i386-mingw32]
  Rails version                  4.2.5.1
  Environment                    development
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.5
  Filesystem
</pre>"
22059,Redmine,Defect,NA,Closed,Normal,Issue percentage selector extends screen border,S?ren Friis,Jean-Philippe Lang,2016-04-24T12:25:00Z,UI,3.3.0,NA,NA,NA,0,2016-02-17T10:56:00Z,2016-04-24T12:25:00Z,NA,Fixed,NA,"When right clicking issues, the percentage selector dropdown list extends the border of the screen, even though there is a lot of screen real-estate available.

Instead of showing it starting with 0% at mouse position, it should check the screen limits and move the list accordingly.

!issue_selector.png!"
22072,Redmine,Defect,NA,Closed,Normal,Private notes get copied without private flag to Duplicate issues,David Robinson,Jean-Philippe Lang,2016-03-12T11:10:00Z,Security,2.6.10,NA,NA,NA,0,2016-02-17T22:11:00Z,2016-03-12T11:10:00Z,NA,Fixed,2.6.9,"When I change the status on an issue that has related issues that are related as ""duplicates"" of the issue, and I write a private note and change the status on the issue at the same time, this private note gets copied as NOT private to the duplicate issues.

To reproduce:

# Create issue #xxxx.
# Create issue #yyyy.
# Establish relationship: #yyyy duplicates #xxxx.
# Edit #xxxx
** Change status
** Write private note
** Save

The private note will be copied to #yyyy along with the status, but will *not* be private on #yyyy.
"
22106,Redmine,Defect,NA,Closed,Normal,Notifications from www.redmine.org are not delivered,Go MAEDA,Jean-Philippe Lang,2016-03-07T06:07:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-02-24T07:46:00Z,2016-03-07T06:07:00Z,NA,Fixed,NA,"In recent days, notifications from www.redmine.org are not delivered.

* My acquaintance tried to create a new account on www.redmine.org, but he have not receive an email to activate his account.
* An ""issue"":http://www.redmine.org/issues/3058 which I am watching was updated, but I have not get any notifications.
* I updated an ""issue"":http://www.redmine.org/issues/22104 but I have not receive a notification.

"
22108,Redmine,Defect,NA,Closed,High,Issues filter for CSV Export are not applied,Takayuki Araki,Jean-Philippe Lang,2016-03-13T09:02:00Z,Issues filter,3.2.1,NA,NA,NA,0,2016-02-24T10:27:00Z,2016-03-13T09:02:00Z,NA,Fixed,3.2.0,"When I export CSV file from Issues.
Now the filter for issues, e.g. status, categories are not applied and all opened issues in the project are exported.

I was confirmed that this problem only occurs in version 3.2, not in 3.1.

I found 2 points.

1. CSV export options form doesn't send proper parameter.
\app\views\issues\index.html.erb line 80
form_tag(params.merge({:format => 'csv',:page=>nil}) a form tag with parameters in the action attribute. 
But, parameters don't send to the controller.(This has occurred even 2.6.)
And so, IssuesController#index tries to get the filter from session data.

2. Format of session data changed in 3.2
queries_helper.rb line 215
<pre>
session[:query][:project_id] != (@project ? @project.id : nil)
</pre>
returns nil in 3.2.

session[:query][:project_id]  is nil. 
session[:query][""project_id""]  has the project_id.

And so, IssuesController#index cannot get the filter from session data.


<pre>
Environment:
  Redmine version                3.2.0.stable rev.15148
  Ruby version                   2.1.5-p273 (2014-11-13) [i386-mingw32]
  Rails version                  4.2.5.1
  Environment                    production
  Database adapter               Mysql2 (5.6.20 MySQL Community Server (GPL))
</pre>"
22110,Redmine,Defect,NA,Closed,Normal,Unrelated attachment(s),Zafer Kara,NA,2016-11-20T13:17:00Z,Issues,NA,NA,NA,NA,0,2016-02-24T15:54:00Z,2016-11-20T13:17:00Z,NA,No feedback,3.1.2,Redmine adding unrelated file(s) when a new issue creating
22115,Redmine,Defect,NA,Closed,Normal,"Text in the ""removed"" part of a wiki diff is double-escaped",Felix Sch?fer,Jean-Philippe Lang,2016-03-26T11:20:00Z,UI,3.3.0,NA,NA,NA,0,2016-02-25T21:00:00Z,2016-03-26T11:20:00Z,NA,Fixed,NA,In a wiki diff (and from the looks of the code the diffs of issue description) html special characters in the deleted parts are double-escaped.
22119,Redmine,Defect,NA,Closed,Normal,Error: Data too long for column 'notes' when copy paste pictures,Thomas Koch,NA,2016-03-16T11:04:00Z,Issues,NA,NA,NA,NA,0,2016-02-29T10:23:00Z,2016-03-15T03:55:00Z,次のチケットと重複 #19869,Duplicate,3.2.0,"I was copy&pasting some text with an Picture to the Issue notes. It gave me an awesome (working) preview, but a Redmine 500 error while saving (Internal error page was shown). My log-file reads:
<pre>
ActiveRecord::StatementInvalid (Mysql2::Error: Data too long for column 'notes' at row 1: INSERT INTO `journals` (`journalized_id`, `journalized_type`, `user_id`, `notes`, `created_on`) VALUES (8127, 'Issue', 104, '<p><img src=\""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAl0AAADuCAYAAAADQ7LZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAA...

...CYII=\"" /></p>\r\n', '2016-02-29 10:11:41')):
  app/models/journal.rb:67:in `save'
  app/models/issue.rb:1659:in `create_journal'
  app/models/issue.rb:182:in `create_or_update'
  app/controllers/issues_controller.rb:487:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:475:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:180:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>
"
22134,Redmine,Defect,NA,Closed,Normal,HTML markup discrepancy ol and ul at app/views/imports/show.html.erb,Felix Sch?fer,Jean-Philippe Lang,2016-04-09T07:54:00Z,UI,3.2.2,NA,NA,NA,0,2016-03-03T09:49:00Z,2016-04-09T07:54:00Z,NA,Fixed,NA,"In source:/trunk/app/views/imports/show.html.erb@15173#L6 there's an opening @ol@, then closed by an @ul@."
22135,Redmine,Defect,NA,Closed,Normal,Semi colon is spelled semicolon,Felix Sch?fer,Jean-Philippe Lang,2016-03-15T22:55:00Z,Translations,3.3.0,NA,NA,NA,0,2016-03-03T09:56:00Z,2016-03-15T22:55:00Z,NA,Fixed,NA,See https://en.wikipedia.org/wiki/Semicolon
22144,Redmine,Defect,NA,Closed,Normal,"new issuse => 'No default issue status is defined. Please check your configuration (Go to ""Administration -> Issue statuses"").'",匿名ユーザー,NA,2016-03-04T15:48:00Z,NA,NA,NA,NA,NA,0,2016-03-04T14:54:00Z,2016-03-04T15:48:00Z,NA,Invalid,NA,"zh : 未?置默?的??状?。???系??置（""管理"" -> ""??状?""）。
en : 'No default issue status is defined. Please check your configuration (Go to ""Administration -> Issue statuses"").'


remark : data is ok"
22160,Redmine,Defect,NA,Closed,Normal,Crash on opening user page,Simeon Felis,NA,2016-03-23T11:32:00Z,Accounts / authentication,NA,NA,NA,NA,0,2016-03-07T09:40:00Z,2016-03-23T11:32:00Z,NA,Invalid,3.1.1,"When opening the profile page for a specific user internal server occurs:

<pre>
I, [2016-03-07T09:33:19.696602 #1600]  INFO -- : Started GET ""/users/5/"" for X.X.X.X at 2016-03-07 09:33:19 +0100
I, [2016-03-07T09:33:19.697375 #1600]  INFO -- : Processing by UsersController#show as HTML
I, [2016-03-07T09:33:19.697416 #1600]  INFO -- :   Parameters: {""id""=>""5""}
I, [2016-03-07T09:33:19.699316 #1600]  INFO -- :   Current user: the.user (id=5)
I, [2016-03-07T09:33:19.788476 #1600]  INFO -- : Completed 500 Internal Server Error in 91ms (ActiveRecord: 26.6ms)
F, [2016-03-07T09:33:19.789240 #1600] FATAL -- : 
ArgumentError (comparison of TimeEntry with JournalMessage failed):
  lib/redmine/activity/fetcher.rb:95:in `sort!'
  lib/redmine/activity/fetcher.rb:95:in `events'
  app/controllers/users_controller.rb:75:in `block (2 levels) in show'
  app/controllers/users_controller.rb:73:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

This happens only for one user (id 5). It does not matter who accesses the site. Any ideas?

<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_contacts               4.0.3
  redmine_contacts_helpdesk      3.0.1
</pre>"
22162,Redmine,Defect,NA,Closed,Normal,"Workflow - Tracker/Role is not ""project"" specific",Markus May,NA,2016-04-06T05:38:00Z,Issues workflow,NA,NA,NA,NA,0,2016-03-07T15:16:00Z,2016-04-06T05:38:00Z,次のチケットと重複 #11625,Duplicate,NA,"We do have several different workflows established for different projects. Since most of our guys here do have differrent roles in different projects, the workflow feature does not seem to work correctly. We still see Ticket Status, which are not used in the workflow for the role PRJ_NAME-Manager (just to make it easier, the PRJ_NAME is used in the Rolename). 

I have tried it the other way around and added all Status to a Role which I do have as well (Manager), and now I do see all Status in the Ticket, even though I am not having the role ""Manager"" in this project.

Could be, that this is related to #20384. 

We are using still:

<pre>
Environment:
  Redmine version                          2.3.0.stable
  Ruby version                             1.9.2 (x86_64-linux)
  Rails version                            3.2.13
  Environment                              production
  Database adapter                         PostgreSQL
Redmine plugins:
  parent_issue_filter                      1.0.1
  redmine_ckeditor                         1.0.16
  redmine_people                           0.1.8
  redmine_tagging                          0.0.1
</pre>
"
22168,Redmine,Defect,NA,Closed,Normal,"AD User ""bad""",Bill Meikle,NA,2016-03-09T09:39:00Z,NA,NA,NA,NA,NA,0,2016-03-09T09:02:00Z,2016-03-09T09:39:00Z,NA,Invalid,2.4.4,"We have the following: 
Redmine Version 2.4.4.stable.1254
Ruby version  1.8.7-p374
Rails version 3.2.17

Here we have a problem adding the Ad user with username ""bad"", the user cannot login when we add the user. He gets always user or password is wrong, although he has entered them correctly.

Can someone help me solve this problem?"
22175,Redmine,Defect,NA,Closed,Normal,Tasks failing with Rake 11,Codru? Gu?oi,NA,2016-03-10T16:31:00Z,NA,NA,NA,NA,NA,0,2016-03-10T15:57:00Z,2016-03-10T16:31:00Z,NA,Invalid,NA,"You can see Travis builds failing because of rake 11 here https://travis-ci.org/ixti/redmine_tags/jobs/115069169.

The solution I found here: http://stackoverflow.com/questions/35893584/nomethoderror-undefined-method-last-comment-after-upgrading-to-rake-11 fixes the problem.

Basically you have to add the following inside the *Gemfile*:
> gem 'rake', '< 11.0'

The other solution (patching rake) is kind of ugly but may work better long term. 
Not sure which one to choose for a patch.

To make my builds pass I added the following in *.travis.yml* before_install hook:
> echo ""gem 'rake', '< 11.0'"" >> Gemfile"
22176,Redmine,Defect,NA,Closed,Low,Orphaned attachments,Simone Fratini,NA,2016-03-11T01:37:00Z,Attachments,NA,NA,NA,NA,0,2016-03-10T19:01:00Z,2016-03-11T01:37:00Z,NA,Invalid,3.1.2,"When you create a new issue and attach one o more files.

If you don't save the issue (for some reason), these attachments are stored in the database and on the *filesystem*.

<pre>
mysql> select * from attachments where container_id is null;
+----+--------------+----------------+---------------------+----------------------------------+----------+--------------+----------------------------------+-----------+-----------+---------------------+-------------+----------------+
| id | container_id | container_type | filename            | disk_filename                    | filesize | content_type | digest                           | downloads | author_id | created_on          | description | disk_directory |
+----+--------------+----------------+---------------------+----------------------------------+----------+--------------+----------------------------------+-----------+-----------+---------------------+-------------+----------------+
|  1 |         NULL | NULL           | WP_20160305_001.jpg | 160310184012_WP_20160305_001.jpg |  1335237 |              | 1bd2cb25ae7bf4dc78cdfab19768eac7 |         0 |         1 | 2016-03-10 18:40:13 | NULL        | 2016/03        |
|  2 |         NULL | NULL           | 100_0007-0.JPG      | 160310184902_100_0007-0.JPG      |   170212 |              | 2584dac5daa37440924942d07b169f12 |         0 |         1 | 2016-03-10 18:49:02 | NULL        | 2016/03        |
|  3 |         NULL | NULL           | 100_0007-1.JPG      | 160310184905_100_0007-1.JPG      |   164227 |              | f01fc8e99279e913973484e1dd6d8af1 |         0 |         1 | 2016-03-10 18:49:05 | NULL        | 2016/03        |
+----+--------------+----------------+---------------------+----------------------------------+----------+--------------+----------------------------------+-----------+-----------+---------------------+-------------+----------------+
</pre>

<pre>
root@ubuntu:/var/lib/redmine/default/files/2016/03# ll
total 1644
drwxr-xr-x 2 www-data www-data    4096 Mar 10 18:49 ./
drwxr-xr-x 3 www-data www-data    4096 Mar 10 18:40 ../
-rw-r--r-- 1 www-data www-data 1335237 Mar 10 18:40 160310184012_WP_20160305_001.jpg
-rw-r--r-- 1 www-data www-data  170212 Mar 10 18:49 160310184902_100_0007-0.JPG
-rw-r--r-- 1 www-data www-data  164227 Mar 10 18:49 160310184905_100_0007-1.JPG
</pre>


"
22178,Redmine,Defect,NA,Closed,Normal,Grouping issues by key/value custom field raises error 500,msneet qukin,Jean-Philippe Lang,2016-03-13T09:03:00Z,Custom fields,3.2.1,NA,NA,NA,0,2016-03-12T01:31:00Z,2016-03-13T09:03:00Z,NA,Fixed,NA,"When trying to group issues in issues list by key/value custom field en error occured

error 500:
<pre>
An error occurred while executing the query and has been logged. Please report this error to your Redmine administrator.
</pre>

Tested on a fresh redmine installation without plugins.

<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.13
  Git                            2.6.1
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
22193,Redmine,Defect,NA,Closed,Normal,Getting 404 on Ajax update_form.js request when changing tracker of new issue,Alexander Herr,NA,2017-04-02T06:15:00Z,Issues,NA,NA,NA,NA,0,2016-03-15T09:52:00Z,2017-04-02T06:15:00Z,NA,Invalid,3.0.7,"I have a project with a custom tracker and user-defined fields for that tracker. When creating a new issue in that project that tracker isn't the default one (which is intended) but when trying to use it the user-defined field does not pop up. In the browser console it is revealed that a request to `host/projects/<project-id>/issues/update_form.js` is made but the webserver returns with a 404 Not Found. 

Now the strange thing is that when I have created a new issue in that project and then edit it, I can change the tracker just fine and the user-defined field pops up! It is making the exact (!) same request only appended with the issue-id, i.e. `host/projects/<project-id>/issues/update_form.js?id=<issue-id>`. Both ajax calls are POST calls, and the included data is also exactly the same apart from the issue-id being set if the issue was already created. 

I do not know how to debug this further. It does not seem to me that my Webserver (apache) is misconfigured as no redirecting or routing is happening there:

<pre>
<VirtualHost *:80>
    RailsEnv production
    PassengerDefaultUser redmine
    Alias ""/plugin_assets/"" /var/cache/redmine/default/plugin_assets/
    DocumentRoot /var/www/redmine
    <Directory ""/var/www/redmine/public"">
        Allow from all
        Options -MultiViews
        Require all granted
    </Directory>
    <Directory ""/var/www/redmine/plugin_assets/"">
        Allow from all
        Options -MultiViews
        Require all granted
    </Directory>
</VirtualHost>
</pre>"
22196,Redmine,Defect,NA,Closed,Normal,Improve positioning of issue history and changesets on small screens,Gregor Schmidt,Jean-Philippe Lang,2016-04-03T14:09:00Z,UI - Responsive,3.2.2,NA,NA,NA,0,2016-03-15T15:34:00Z,2016-04-03T14:09:00Z,NA,Fixed,3.2.1,"On small screens, just like on the big ones, the issue history and the associated changesets are positioned next to each other. This looks strange, especially, if the the issue comments contain blockquotes.

!side-by-side.png!

The attached patch adds CSS rules to place them below each other on small screens."
22268,Redmine,Defect,NA,Closed,Normal,Lock wait timeout exceeded を再現させる条件,mizuka sano,NA,2016-03-16T05:09:00Z,NA,NA,NA,NA,NA,0,2016-03-16T03:38:00Z,2016-03-16T03:56:00Z,NA,Invalid,2.5.2,"以下のログがproduction.logに多発して、メモリのリソースを大幅に消費する障害が頻発します。

ActiveRecord::StatementInvalid(Mysql2::Error: Lock wait timeout exceeded; try restarting transaction: SELECT `issues`.*FROM `issues` OORDER BY `issues`.`rgt` desc LIMIT 1 FOR UPDATE):
lib/plugins/awesome_nested_set/lib/awesome_nested_set/model.rb:165:in `right_most_bound`
lib/plugins/awesome_nested_set/lib/awesome_nested_set/model.rb:182:in `set_default_and_right`
app/models/issue.rb:165:in `create_or_update`
app/controllers/issues_controller.rb:150:in `create`

Defect #6579 と同様の問題かと思い、ツリー構造が複雑なサブチケット上でテストで更新をしてみたのですが、再現できません。
再現できなければ、redmineのバージョンアップを提案することも難しいので困っています。
どうか、どなたか、この障害が再発する条件を教えて頂けませんでしょうか？"
22281,Redmine,Defect,NA,New,Normal,http://redmine.org results in a 403 Forbidden,Holger Just,Jean-Philippe Lang,2017-05-22T14:41:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-03-17T17:06:00Z,NA,"関連している #24864, 次のチケットが重複 #22392, 次のチケットが重複 #22489, 次のチケットが重複 #22791, 次のチケットが重複 #22896, 次のチケットが重複 #24777, 次のチケットが重複 #24834",NA,NA,"It seems that during a change of the webserver configuration for redmine.org, the non-www virtual host has gone missing. It would be great of you could re-introduce this vhost or at least add a redirect to www.redmine.org. Thanks!

| http://redmine.org | 403 Forbidden |
| http://www.redmine.org | 200 OK |
| https://redmine.org | 200 OK |
| https://www.redmine.org | 200 OK |"
22311,Redmine,Defect,NA,New,Normal,links to new issues with Tracker Id does not work anymore...,Eitan Har-Shoshanim,NA,2016-05-12T05:00:00Z,Issues,NA,NA,NA,NA,0,2016-03-23T15:18:00Z,NA,NA,NA,3.1.1,"I have historic wiki page that have links to allow users to open new issues on several different trackers.
I'm not sure since what version of Redmine this occurs, but I'm using @Redmine 3.1.1.stable@ and the links always sends me to new issue the default tracker (""Defect"")

The links are in the following format: http://www.mysite.org/projects/[project]/issues/new?tracker_id=[trackerid]





This is my setup info:
<pre>

Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Mercurial                      2.6.3
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  a_common_libs                  1.1.6
  recurring_tasks                2.0.0-pre
  redmine_category_watchers      0.0.2
  redmine_highlightjs            1.0.3
  redmine_image_clipboard_paste  1.0.0
  redmine_improved_searchbox     0.0.3
  redmine_issue_checklist        2.0.8
  redmine_issue_templates        0.1.0
  redmine_latex_mathjax_macro    0.3.0
  redmine_ldap_sync              2.0.6
  redmine_theme_changer          0.2.0
  redmine_versions_explorer      0.0.1
  redmine_wiki_extensions        0.7.0
  redmine_wiki_lists             0.0.6
  rmp_group_watchers             1.0.0
  scrum                          0.13.0
  sidebar_hide                   0.0.7
  star_item_link                 0.0.1
  usability                      2.0.0
</pre>"
22316,Redmine,Defect,NA,Closed,Normal,Deleteing subtask clears start date in parent task,Marcin Ch.,NA,2016-04-22T09:12:00Z,Issues,NA,NA,NA,NA,0,2016-03-24T14:23:00Z,2016-04-22T09:12:00Z,NA,NA,NA,"Steps to reproduce:
1. Create task with start date,
2. Create subtask with start date,
3. Remove subtask.

Result: Start date in parent task is deleted.

Expected result: Changing subtask should not affect in clearing any field in parent task.

Checked with the demo, so the issue occurs in all versions."
22335,Redmine,Defect,NA,Closed,Normal,Images with non-ASCII file names are not shown in PDF,Go MAEDA,NA,2017-04-09T10:15:00Z,PDF export,3.2.6,NA,NA,NA,0,2016-03-29T07:25:00Z,2017-04-09T10:15:00Z,NA,Fixed,NA,"Images with non-ASCII file names are not shown in PDF. Please see the following image. There are two embedded image ""shrine.jpg"" and ""神社.jpg"" in a issue description. But ""神社.jpg"" (an image with non-ASCII file name) are not shown in exported PDF.

!defect-description.jpg!"
22342,Redmine,Defect,NA,Closed,Normal,"When copying issues to a different project, subtasks /w custom fields not copied over",Joe Price,Jean-Philippe Lang,2016-04-28T11:55:00Z,Custom fields,3.2.2,NA,NA,NA,0,2016-03-29T20:37:00Z,2016-04-12T18:55:00Z,関連している #11315,Fixed,3.2.0,"My environment:
<pre>
Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.0.0-p481 (2014-05-08) [x86_64-openbsd]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.9
  Filesystem
Redmine plugins:
  no plugin installed
</pre>


Redmine production.log:
<pre>
Could not copy subtask #1878 while copying #1874 to #1993 due to validation errors: JobNumber cannot be blank
Could not copy subtask #1879 while copying #1874 to #1993 due to validation errors: JobNumber cannot be blank
Could not copy subtask #1884 while copying #1874 to #1993 due to validation errors: JobNumber cannot be blank
Could not copy subtask #1886 while copying #1874 to #1993 due to validation errors: JobNumber cannot be blank
Could not copy subtask #1888 while copying #1874 to #1993 due to validation errors: JobNumber cannot be blank
</pre>

JobNumber _IS_ there in the subtasks. Both the source and target projects have the same fields. 

Copying to the same project works, but copying to a different project has the above error.


Originally discussed here: message#49431"
22355,Redmine,Defect,NA,Closed,High,trackers can't be imported on issues,ElMehdi Mahdaoui,NA,2016-06-20T18:44:00Z,Importers,NA,NA,NA,NA,0,2016-03-31T10:28:00Z,2016-06-20T18:44:00Z,次のチケットと重複 #22951,Duplicate,NA,"When i import CSV file, trackers can't be imported on issues"
22394,Redmine,Defect,NA,Confirmed,Normal,Gantt start of week,Mehrdad Abdi,NA,2017-01-11T16:04:00Z,Gantt,NA,NA,NA,NA,0,2016-04-05T08:01:00Z,NA,NA,NA,3.2.1,"I've changed the start of week to Saturday, Weeks presentation is OK in date pikers, but in Gantt it starts from Monday."
22404,Redmine,Defect,NA,Closed,Normal,Cannot create new issue if proxy has been set up,Hieu Nguyen,NA,2016-04-06T06:41:00Z,NA,NA,NA,NA,NA,0,2016-04-06T05:54:00Z,2016-04-06T06:41:00Z,NA,Invalid,NA,"I've set up new Redmine server. And it works perfectly.
But some of my friends living in Japan cannot create new issue on my Redmine.
Log-in is OK. But when click New issue, input information and press Save, they get 500 Internal Server Error.
So I tried to set my proxy as 179.107.182.187:80 (for example), and also get same error.

Environment:
  Redmine version                3.2.1.stable
  Ruby version                   2.1.4-p265 (2014-10-27) [x86_64-linux]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               Mysql2"
22408,Redmine,Defect,NA,Closed,Normal,How to get the data of a custom_field from the database,Tushar Garg,NA,2016-04-06T15:35:00Z,NA,NA,NA,NA,NA,0,2016-04-06T12:55:00Z,2016-04-06T15:35:00Z,NA,Invalid,3.1.3,"Let suppose I create a new custom field (is_addtoapplane) of type bool, if it is true then, at the time of project creartion, i am hitting a webservice and all the data of the project is saved on that webservice,but at the time of project creation, i am checking its value from params.
But when I want to create a issue and want to add this issue to my another project applane, then I need the data of custom field(is_addtoapplane) for that project in which issue is being created, so that check can be performed."
22424,Redmine,Defect,NA,Needs feedback,Normal,Change Russian translation for default_issue_status_feedback,Serguei Okladnikov,NA,2017-12-27T10:13:00Z,Translations,4.0.0,NA,NA,NA,0,2016-04-07T23:24:00Z,2017-08-01T13:03:00Z,NA,Fixed,NA,"I suggest rename default russian translation of feedback status.
Currenly it is ""Обратная связь"" that mean like technical term feedback
""positive"":https://en.wikipedia.org/wiki/Positive_feedback or ""negative"":https://en.wikipedia.org/wiki/Negative_feedback feedback
I suggest ""Нужен отклик"" that may be per world translated as ""need a response"".
See google translate to check: ""Нужен отклик"":https://translate.google.com/#ru/en/%D0%9D%D1%83%D0%B6%D0%B5%D0%BD%20%D0%BE%D1%82%D0%BA%D0%BB%D0%B8%D0%BA"
22484,Redmine,Defect,NA,Closed,Normal,"Multiple entries in project activity after single ""save"" action",Wadim Incognito,NA,2016-09-19T16:51:00Z,Activity view,NA,NA,NA,NA,0,2016-04-13T16:17:00Z,2016-09-19T16:51:00Z,NA,Invalid,3.2.1,"When I cange several fields in issue, say ""due date"", ""Assigned"" and add a comment - I've got three entries in project ""Activity"" Project. I think, It's wrong - because I's been taken a single activity."
22502,Redmine,Defect,NA,Closed,Normal,Internal error affter install plugin,Phong Bui-Quang,NA,2016-04-14T10:58:00Z,NA,NA,NA,NA,NA,0,2016-04-14T10:50:00Z,2016-04-14T10:58:00Z,NA,Invalid,NA,"I installed and used Easy Redmine 2016. But it has problem ""Internal error 500"" affter install plugin ""redmine_wktime"""
22504,Redmine,Defect,NA,Closed,Normal,Progress bar calculation in 3.2,Tobias Fischer,NA,2016-07-18T23:29:00Z,Roadmap,NA,NA,NA,NA,0,2016-04-14T19:58:00Z,2016-07-18T21:56:00Z,NA,NA,3.2.1,"Starting with 3.2 and still an issue in 3.2.1 the progress bar calculation is questionable.

!Bildschirmfoto 2016-04-14 um 19.49.08.png!

My setup:
* progress calculation by ticket status
* status ""closed"" and ""invalid"" are both marked as ""closed"" and ""% done"" is set to ""100%""

All 50 closed tickets are either in the state ""closed"" or ""invalid"". So why is there a difference between ""closed"" and ""done"" in the progress table?

In this certain case, I would expect the ""closed/done"" progress part to be at 50% in the darker green tone and then I would expect for example 30% ""work in progress"" in the lighter green color for all the tickets being work in progress. This was the behaviour before 3.2."
22532,Redmine,Defect,NA,Closed,Normal,Strip whitespace from login on login page,Artur Borisovich,Go MAEDA,2017-12-13T17:59:00Z,Accounts / authentication,3.4.4,NA,NA,NA,0,2016-04-16T23:34:00Z,2017-12-13T15:08:00Z,関連している #27754,Fixed,NA,Spaces in login is removed before user account will saved. But when you try to login  you made a mistake like whitespace before login or after it will be not you login.
22581,Redmine,Defect,NA,Closed,Normal,Version 3.2.1. and on Version 3.2.0. add new custom field creates internal server error,maximilian gablinger,NA,2016-05-20T14:08:00Z,NA,NA,NA,NA,NA,0,2016-04-19T14:34:00Z,2016-05-20T14:08:00Z,NA,Cant reproduce,3.2.1,"When I try to add a custom_field the result is an internal server error.
Our production system is version 3.2.0. 
then I tried to upgrade this system from 3.2.0 to 3.2.1   in a testenvironment. It happened the same behavior. Again the internal Server error.

When I installed Version 3.2.1 native without our data then it works fine. But we need our data.
This is the redmine.log output:

<pre>
I, [2016-04-19T14:28:18.538655 #31226]  INFO -- : Started GET ""/custom_fields"" for 10.242.2.42 at 2016-04-19 14:28:18 +0200
I, [2016-04-19T14:28:18.540342 #31226]  INFO -- : Processing by CustomFieldsController#index as HTML
I, [2016-04-19T14:28:18.544275 #31226]  INFO -- :   Current user: max.gablinger (id=83)
I, [2016-04-19T14:28:18.547327 #31226]  INFO -- :   Rendered custom_fields/index.html.erb within layouts/admin (0.6ms)
I, [2016-04-19T14:28:18.552676 #31226]  INFO -- :   Rendered admin/_menu.html.erb (4.9ms)
I, [2016-04-19T14:28:18.568188 #31226]  INFO -- :   Rendered layouts/base.html.erb (15.2ms)
I, [2016-04-19T14:28:18.568614 #31226]  INFO -- : Completed 200 OK in 28ms (Views: 21.7ms | ActiveRecord: 1.6ms)
I, [2016-04-19T14:28:23.440563 #31226]  INFO -- : Started GET ""/custom_fields/new"" for 10.242.2.42 at 2016-04-19 14:28:23 +0200
I, [2016-04-19T14:28:23.442718 #31226]  INFO -- : Processing by CustomFieldsController#new as HTML
I, [2016-04-19T14:28:23.447456 #31226]  INFO -- :   Current user: max.gablinger (id=83)
I, [2016-04-19T14:28:23.451739 #31226]  INFO -- :   Rendered custom_fields/select_type.html.erb within layouts/admin (2.1ms)
I, [2016-04-19T14:28:23.457445 #31226]  INFO -- :   Rendered admin/_menu.html.erb (5.1ms)
I, [2016-04-19T14:28:23.474245 #31226]  INFO -- :   Rendered layouts/base.html.erb (16.3ms)
I, [2016-04-19T14:28:23.474717 #31226]  INFO -- : Filter chain halted as :build_new_custom_field rendered or redirected
I, [2016-04-19T14:28:23.474976 #31226]  INFO -- : Completed 200 OK in 32ms (Views: 24.8ms | ActiveRecord: 1.6ms)
I, [2016-04-19T14:28:27.375380 #31226]  INFO -- : Started GET ""/custom_fields/new?utf8=%E2%9C%93&type=IssueCustomField"" for 10.242.2.42 at 2016-04-19 14:28:27 +0200
I, [2016-04-19T14:28:27.377806 #31226]  INFO -- : Processing by CustomFieldsController#new as HTML
I, [2016-04-19T14:28:27.378009 #31226]  INFO -- :   Parameters: {""utf8""=>""?"", ""type""=>""IssueCustomField""}
I, [2016-04-19T14:28:27.383201 #31226]  INFO -- :   Current user: max.gablinger (id=83)
I, [2016-04-19T14:28:27.411212 #31226]  INFO -- :   Rendered custom_fields/formats/_regexp.html.erb (1.0ms)
I, [2016-04-19T14:28:27.413224 #31226]  INFO -- :   Rendered custom_fields/formats/_string.html.erb (3.2ms)
I, [2016-04-19T14:28:27.413394 #31226]  INFO -- :   Rendered custom_fields/_form.html.erb (6.2ms)
I, [2016-04-19T14:28:27.413677 #31226]  INFO -- :   Rendered custom_fields/new.html.erb within layouts/admin (7.5ms)
I, [2016-04-19T14:28:27.414061 #31226]  INFO -- : Completed 500 Internal Server Error in 36ms (ActiveRecord: 1.0ms)
F, [2016-04-19T14:28:27.417767 #31226] FATAL -- : 
ActionView::Template::Error (undefined method `accessor' for #<ActiveRecord::Type::Value:0x000000039f8320>):
    1: <%= render :partial => 'custom_fields/formats/regexp', :locals => {:f => f, :custom_field => custom_field} %>
    2: <p><%= f.check_box :text_formatting, {:label => :setting_text_formatting, :data => {:disables => '#custom_field_url_pattern'}}, 'full', '' %></p>
    3: <p><%= f.text_field(:default_value) %></p>
    4: <p><%= f.text_field :url_pattern, :size => 50, :label => :label_link_values_to %></p>
  lib/redmine/views/labelled_form_builder.rb:34:in `check_box'
  app/views/custom_fields/formats/_string.html.erb:2:in `_app_views_custom_fields_formats__string_html_erb__1606230260471594377_70355629062560'
  app/helpers/custom_fields_helper.rb:57:in `render_custom_field_format_partial'
  app/views/custom_fields/_form.html.erb:18:in `_app_views_custom_fields__form_html_erb__2568629039713508363_70355629215560'
  app/views/custom_fields/new.html.erb:6:in `block in _app_views_custom_fields_new_html_erb__1990438466245273424_70355629262800'
  app/helpers/application_helper.rb:1027:in `labelled_form_for'
  app/views/custom_fields/new.html.erb:5:in `_app_views_custom_fields_new_html_erb__1990438466245273424_70355629262800'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
22583,Redmine,Defect,NA,Closed,Normal,CSV import delimiter detection broken,Jan from Planio www.plan.io,Jean-Philippe Lang,2016-04-24T17:14:00Z,Issues,3.2.2,NA,NA,NA,0,2016-04-19T16:40:00Z,2016-04-24T17:14:00Z,NA,Fixed,3.2.1,"When uploading a CSV file to import, the delimiter used in the CSV is supposed to be auto-detected.

However, ""@File.read@"":http://ruby-doc.org/core-2.2.0/IO.html#method-c-read seems to not be used properly: The third parameter may not be a string.

This is rescued in the block and therefore, the user does not see the error. However, the auto-detection does not work.

Attached is a simple patch that fixes this."
22589,Redmine,Defect,NA,Closed,Normal,J_Chat Plugin is not Working,Debojyoti Das,NA,2016-04-20T13:55:00Z,NA,NA,NA,NA,NA,0,2016-04-20T13:48:00Z,2016-04-20T13:55:00Z,NA,Invalid,3.1.3,"I have Installed Redmine Latest Version i.e. Redmine 3.1.X, I need to Implement Chat Plugins There!!! But the plugins are now working there. Can anybody Help me related the Issue? Or Improve the Compatibility of the Plugin. Implement it for the Redmine Latest Version also else Tell the Alternative Way to Implement the Chat to Redmine."
22618,Redmine,Defect,NA,Closed,Normal,subject utf-8 char vs mysql2,Peter Peter,NA,2016-04-22T15:49:00Z,Database,NA,NA,NA,NA,0,2016-04-22T14:33:00Z,2016-04-22T15:49:00Z,NA,Invalid,3.0.7,"we have some problem submitting an ""?"" character in the subject or in the body. without this char, the system working as intended.

*relevant info from production.log:* x.x.x.x at 2016-04-22 11:46:39 +0200
Processing by IssuesController#create as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""some_token"", ""issue""=>{""is_private""=>""0"", ""tracker_id""=>""2"", ""subject""=>""szerz?d?s"", ""description""=>""Az issue akkor z?rhat?, ha a szerz?d?s al??r?sra ker?lt."", ""status_id""=>""1"", ""priority_id""=>""2"", ""assigned_to_id""=>""1"", ""parent_issue_id""=>"""", ""start_date""=>""2016-04-22"", ""due_date""=>""2016-04-29"", ""estimated_hours""=>""2"", ""done_ratio""=>""70"", ""checklists_attributes""=>{""0""=>{""is_done""=>""0"", ""subject""=>""v?gleges aj?nlat egyeztet?se"", ""_destroy""=>""false"", ""position""=>""1"", ""id""=>""""}, ""1461318375687s""=>{""is_done""=>""0"", ""subject""=>""sz?ks?ges inform?ci?k megk?ld?se"", ""_destroy""=>""false"", ""position""=>""1"", ""id""=>""""}, ""1461318384837s""=>{""is_done""=>""0"", ""subject""=>""szerz?d?s megk?t?se"", ""_destroy""=>""false"", ""position""=>""1"", ""id""=>""""}}}, ""was_default_status""=>""1"", ""continue""=>""L?trehoz?s ?s folytat?s"", ""project_id""=>""xyz""}
  Current user: admin (id=1)
Mysql2::Error: Incorrect string value: '\xC5\x91d\xC3\xA9s' for column 'subject' at row 1: INSERT INTO `issues` (`project_id`, `author_id`, `start_date`, `tracker_id`, `status_id`, `subject`, `description`, `priority_id`, `assigned_to_id`, `due_date`, `estimated_hours`, `done_ratio`, `updated_on`, `created_on`, `lock_version`) VALUES (1, 1, '2016-04-22', 2, 1, 'szerz?d?s', 'Az issue akkor z?rhat?, ha a szerz?d?s al??r?sra ker?lt.', 2, 1, '2016-04-29', 2.0, 70, '2016-04-22 11:46:39', '2016-04-22 11:46:39', 0)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 41.1ms)                                                                                                                                             

ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xC5\x91d\xC3\xA9s' for column 'subject' at row 1: INSERT INTO `issues` (`project_id`, `author_id`, `start_date`, `tracker_id`, `status_id`, `subject`, `description`, `priority_id`, `assigned_to_id`, `due_date`, `estimated_hours`, `done_ratio`, `updated_on`, `created_on`, `lock_version`) VALUES (1, 1, '2016-04-22', 2, 1, 'szerz?d?s', 'Az issue akkor z?rhat?, ha a szerz?d?s al??r?sra ker?lt.', 2, 1, '2016-04-29', 2.0, 70, '2016-04-22 11:46:39', '2016-04-22 11:46:39', 0)):
  app/models/issue.rb:175:in `create_or_update'
  app/controllers/issues_controller.rb:141:in `create'</pre>

*environment:*

<pre>$ ruby bin/about

sh: 1: svn: not found
sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                3.0.7.stable
  Ruby version                   1.9.3-p551 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  progressive_projects_list      2.0.1
  redmine_checklists             3.1.3
  redmine_lightbox2              0.2.4
  redmine_mentions               0.0.1
  redmine_slack                  0.1
  time_logger                    0.5.3</pre>

config:

<pre>production:
  adapter: mysql2
  database: xxx
  host: localhost
  username: xxx
  password: """"
  encoding: utf8</pre>"
22630,Redmine,Defect,NA,Closed,Normal,Time Logger for user,Marlon Ferreira Minotti,NA,2016-04-26T04:58:00Z,Issues,NA,NA,NA,NA,0,2016-04-25T16:02:00Z,2016-04-26T04:58:00Z,NA,Invalid,NA,"My user, not administrator, can not start a task using the Time Logger. because? Permissions?"
22635,Redmine,Defect,NA,Closed,Normal,Get news notification even though unwatch,Johan Vervloet,Jean-Philippe Lang,2016-05-07T08:59:00Z,News,NA,NA,NA,NA,0,2016-04-26T16:32:00Z,2016-05-07T08:59:00Z,関連している #2549,Wont fix,3.2.1,"I noticed that all my project members get e-mail notifications when I add a news item to the project. None of them have actually clicked 'Watch' on the news page though.

I would like to see the ability for project members to unwatch the news."
22638,Redmine,Defect,NA,New,Normal,creating with REST API new issue on a project without any tracker enabled return misleading error message,Fabien Camous,NA,2016-04-26T23:50:00Z,REST API,NA,NA,NA,NA,0,2016-04-26T23:50:00Z,NA,次のチケットが重複 #22195,NA,NA,"creating a new issue on an existing project without any tracker enabled give a misleading answer

request
!2016-04-26_10-43-11_Fiddler.png!

response
!2016-04-26_23-47-34_chrome.png!

however project is ""correctly""setup but no trackers were activated
!2016-04-26_23-42-20_chrome.png!

<pre>
  Redmine version                3.2.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux-gnu]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
</pre>"
22646,Redmine,Defect,NA,Closed,Normal,PostgreSQL: Exception in issue report view.,Lars Kanis,NA,2016-04-28T15:18:00Z,Issues,NA,NA,NA,NA,0,2016-04-27T17:44:00Z,2016-04-28T14:04:00Z,NA,Invalid,NA,"The following exception is raised, when viewing /projects/projektmanagement/issues/report on PostgreSQL:

<pre>
ActiveRecord::StatementInvalid (PG::AmbiguousColumn: ERROR:  column reference ""status_id"" is ambiguous
LINE 1: SELECT COUNT(*) AS count_all, status_id AS status_id, is_clo...
                                      ^
: SELECT COUNT(*) AS count_all, status_id AS status_id, is_closed AS is_closed, tracker_id AS tracker_id FROM ""issues"" INNER JOIN ""projects"" ON ""projects"".""id"" = ""issues"".""project_id"" INNER JOIN ""issue_statuses"" ON ""issue_statuses"".""id"" = ""issues"".""status_id"" INNER JOIN ""trackers"" ON ""trackers"".""id"" = ""issues"".""tracker_id"" WHERE ((projects.id = 204) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) GROUP BY ""issues"".""status_id"", ""is_closed"", ""issues"".""tracker_id""):
  app/models/issue.rb:1348:in `count_and_group_by'
  app/models/issue.rb:1305:in `by_tracker'
  app/controllers/reports_controller.rb:31:in `issue_report'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

The attached patch fixes this.
"
22655,Redmine,Defect,NA,Closed,Normal,Error when migrate to new redmine,Jacky Ho,NA,2016-04-28T06:28:00Z,NA,NA,NA,NA,NA,0,2016-04-28T04:38:00Z,2016-04-28T06:28:00Z,NA,Invalid,NA,"I'm run the following cli it show me an error. How can I resolve that?
 
*bundle exec rake spu_redmine:load_default_data* --trace
rake aborted!
Don't know how to build task 'spu_redmine:load_default_data' (see --tasks)
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/task_manager.rb:71:in `[]'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:149:in `invoke_task'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:106:in `block (2 levels) in top_level'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:106:in `each'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:106:in `block in top_level'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:115:in `run_with_threads'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:100:in `top_level'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:78:in `block in run'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/lib/rake/application.rb:75:in `run'
/usr/local/rvm/gems/ruby-2.0.0-p247/gems/rake-11.1.2/bin/rake:33:in `<top (required)>'
/usr/local/rvm/gems/ruby-2.0.0-p247/bin/rake:23:in `load'
/usr/local/rvm/gems/ruby-2.0.0-p247/bin/rake:23:in `<main>'
/usr/local/rvm/gems/ruby-2.0.0-p247/bin/ruby_executable_hooks:15:in `eval'
/usr/local/rvm/gems/ruby-2.0.0-p247/bin/ruby_executable_hooks:15:in `<main>'"
22670,Redmine,Defect,NA,Needs feedback,Normal,Email reminder sent even if ticket is closed,Markus Harrieder,NA,2016-04-29T13:28:00Z,Email notifications,NA,NA,NA,NA,0,2016-04-29T09:28:00Z,NA,関連している #21227,NA,3.1.1,"We have the issues that some of our team members get email reminders (""25 issue(s) due in the next 1/3/7 days"") even for already closed tickets. 
I could not find any pattern, on some teammembers it works, others[me] get tons of closed ticket notifications. It seems to be related to the tickets somehow. The tickets are definitly closed but something forces redmine to list em on this notification mails. There are always 25Tickets per mail report. Its the exactly same behavior as described at #8108

We already verified that it is not related to any plugin. We uninstalled our two plugins for testing, behavior is the same.

Our environment:
<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_contacts               4.0.3
  redmine_contacts_helpdesk      3.0.1
</pre>

Thank you for any help!

Regards,
Markus"
22694,Redmine,Defect,NA,Closed,Normal,Associated revision content is not escaped,Tom Rochette,NA,2016-05-07T09:42:00Z,Issues,NA,NA,NA,NA,0,2016-05-01T02:53:00Z,2016-05-07T09:42:00Z,関連している #22758,Invalid,3.2.0,"In my commit, I have the following content:

<pre>
[Fixes #2436] Adding new text in a contenteditable/list item converts spaces into &nbsp;
</pre>

But in the affected revision box, the following is displayed:

<pre>
[Fixes #2436] Adding new text in a contenteditable/list item converts spaces into  
</pre>

The content in the changesets table correspond to the content listed in the commit, so it appears to be only display related.


  Redmine version                3.2.0.stable
  Ruby version                   1.9.3-p551 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2"
22695,Redmine,Defect,NA,Closed,Normal,Revision content message is not escaped,Tom Rochette,NA,2016-05-07T09:42:00Z,Issues,NA,NA,NA,NA,0,2016-05-01T02:55:00Z,2016-05-07T09:42:00Z,関連している #22758,Invalid,3.2.0,"In my commit, I have the following content:

<pre>
[Fixes #2436] Adding new text in a contenteditable/list item converts spaces into &nbsp;
</pre>

But in the content displayed on the revision page, the following is displayed:

<pre>
[Fixes #2436] Adding new text in a contenteditable/list item converts spaces into  
</pre>

The content in the changesets table correspond to the content listed in the commit, so it appears to be only display related.


  Redmine version                3.2.0.stable
  Ruby version                   1.9.3-p551 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2"
22700,Redmine,Defect,NA,Closed,Normal,Error parsing repository,Marco Descher,NA,2016-05-03T01:15:00Z,SCM,NA,NA,NA,NA,0,2016-05-02T13:39:00Z,2016-05-03T01:15:00Z,NA,Invalid,2.3.4,"The git repository indexing worked great for quite a while, until it suddenly stopped. Manually executing
@
ruby script/rails runner ""Repository.fetch_changesets"" -e production@

shows

<pre>
/var/lib/gems/1.9.1/gems/railties-3.2.13/lib/rails/commands/runner.rb:53:in `eval': undefined method `merge!' for #<String:0x000000053fec60> (NoMethodError)
	from /home/server/services/redmine-2.3.4/app/models/repository/git.rb:143:in `fetch_changesets'
	from /home/server/services/redmine-2.3.4/app/models/repository.rb:333:in `block (2 levels) in fetch_changesets'
	from /var/lib/gems/1.9.1/gems/activerecord-3.2.13/lib/active_record/associations/collection_proxy.rb:89:in `each'
	from /var/lib/gems/1.9.1/gems/activerecord-3.2.13/lib/active_record/associations/collection_proxy.rb:89:in `method_missing'
	from /home/server/services/redmine-2.3.4/app/models/repository.rb:331:in `block in fetch_changesets'
	from /home/server/services/redmine-2.3.4/app/models/repository.rb:330:in `each'
	from /home/server/services/redmine-2.3.4/app/models/repository.rb:330:in `fetch_changesets'
	from (eval):1:in `<top (required)>'
	from /var/lib/gems/1.9.1/gems/railties-3.2.13/lib/rails/commands/runner.rb:53:in `eval'
	from /var/lib/gems/1.9.1/gems/railties-3.2.13/lib/rails/commands/runner.rb:53:in `<top (required)>'
	from /var/lib/gems/1.9.1/gems/railties-3.2.13/lib/rails/commands.rb:64:in `require'
	from /var/lib/gems/1.9.1/gems/railties-3.2.13/lib/rails/commands.rb:64:in `<top (required)>'
	from script/rails:6:in `require'
	from script/rails:6:in `<main>'
</pre>"
22745,Redmine,Defect,NA,Closed,Normal,Rest API for Custom Fields does not return keys for key/value types,Stephen Stuart,Jean-Philippe Lang,2016-05-08T10:47:00Z,REST API,3.3.0,NA,NA,NA,0,2016-05-05T21:35:00Z,2016-05-08T10:47:00Z,関連している #26017,Fixed,3.2.1,"When using the REST API to retrieve the list of custom_fields by calling http://localhost:3000/custom_fields.json , if there is a Key/Value list type custom fields only the value comes back, as in the example below:

<pre><code class=""json"">
""id"": 5,
""name"": ""Lifecycle Status"",
""customized_type"": ""version"",
""field_format"": ""enumeration"",
""regexp"": """",
""visible"": true,
""possible_values"": [
  {
    ""value"": ""2"",
  },
  {
    ""value"": ""3"",
  },
  {
    ""value"": ""4"",
  }
]
</code></pre>
to replace this block:
It would be much more useful to get the name back as well, like:

<pre><code class=""json"">
""id"": 5,
""name"": ""Lifecycle Status"",
""customized_type"": ""version"",
""field_format"": ""enumeration"",
""regexp"": """",
""visible"": true,
""possible_values"": [
  {
    ""value"": ""2"",
    ""label"": ""Planned""
  },
  {
    ""value"": ""3"",
    ""label"": ""In Progress""
  },
  {
    ""value"": ""4"",
    ""label"": ""Complete""
  }
]
</code></pre>

I did this in a plugin by overriding app/views/custom_fields/index.api.rsb and adding and if block checking for EnumerationFormat.

<pre><code class=""ruby"">
      values = field.possible_values_options
      if values.present?
        api.array :possible_values do
          values.each do |label, value|
            api.possible_value do
              api.value value || label
              if field.format.class.name.demodulize == 'EnumerationFormat'
                  api.label label
              end
            end
          end
        end
      end
</code></pre>

I was going to just put the 'api.label label' line in without the if statement but it also takes effect for list types where label and value appear to be the same.  There is almost certainly a better way to do this.
"
22754,Redmine,Defect,NA,Closed,Normal,Error while updating issues with boolean custom field through API,Christopher  Gabriel,Jean-Philippe Lang,2016-06-04T09:43:00Z,REST API,NA,NA,NA,NA,0,2016-05-06T15:01:00Z,2016-06-04T09:43:00Z,NA,NA,NA,"We started having trouble while updating an issue through the API. Some client code worked fine for almost 2 years.

Hints?

<pre>
Started PUT ""/issues/1564987.json"" for 151.66.249.97 at 2016-05-06 14:53:29 +0200
Processing by IssuesController#update as JSON
  Parameters: {""issue""=>{""due_date""=>""2016-07-05"", ""id""=>1564987, ""custom_fields""=>[{""id""=>207, ""value""=>1}], ""status_id""=>""30""}, ""id""=>""1564987""}
WARNING: Can't verify CSRF token authenticity
  Current user: SOAP (id=165)
  Rendered mailer/issue_edit.text.erb within layouts/mailer (3.9ms)
Completed 500 Internal Server Error in 295ms

ActionView::Template::Error (undefined method `empty?' for 1:Fixnum):
    1: <%= l(:text_issue_updated, :id => ""##{@issue.id}"", :author => @journal.user) %>
    2: 
    3: <% details_to_strings(@journal.details, true).each do |string| -%>
    4: <%= string %>
    5: <% end -%>
    6: 
  lib/redmine/custom_field_format.rb:98:in `format_value'
  app/helpers/custom_fields_helper.rb:120:in `format_value'
  app/helpers/issues_helper.rb:288:in `show_detail'
  app/helpers/issues_helper.rb:238:in `block in details_to_strings'
  app/helpers/issues_helper.rb:223:in `details_to_strings'
  app/views/mailer/issue_edit.text.erb:3:in `_app_views_mailer_issue_edit_text_erb__2517208687241099780_60946440'
  app/models/mailer.rb:417:in `block in mail'
  app/models/mailer.rb:416:in `mail'
  app/models/mailer.rb:76:in `issue_edit'
  app/models/mailer.rb:427:in `initialize'
  app/models/mailer.rb:440:in `method_missing'
  app/models/journal_observer.rb:26:in `after_create'
  app/models/journal.rb:52:in `save'
  app/models/issue.rb:1362:in `create_journal'
  app/models/issue.rb:965:in `block in save_issue_with_child_records'
  app/models/issue.rb:952:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:176:in `update'
</pre>

"
22791,Redmine,Defect,NA,Closed,Normal,Redmine.org => forbidden,Florian S.,NA,2016-05-11T10:03:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-05-11T08:30:00Z,2016-05-11T10:03:00Z,次のチケットと重複 #22281,Duplicate,NA,"it seems as only www.redmine.org can be displayed. entering redmine.org (without www.) the following error is returned:
<pre>
Forbidden

You don't have permission to access / on this server.
Apache Server at redmine.org Port 80
</pre>"
22792,Redmine,Defect,NA,Closed,Normal,Trying to install new redmine 3.2.2 rake failed,maximilian gablinger,NA,2016-05-11T10:02:00Z,NA,NA,NA,NA,NA,0,2016-05-11T08:44:00Z,2016-05-11T10:02:00Z,NA,Invalid,NA,"I try to install new redmine with mysql Database on a remote maschine . This fails when I try to generate a secret token.
Same thing happens at next step when I try to generate a database structure.
step 1:
bundle exec rake generate_secret_token
You have requested:
  mime-types ~> 3.0

The bundle currently has mime-types locked at 2.99.1.
Try running `bundle update mime-types`

If you are updating multiple gems in your Gemfile at once,
try passing them all to `bundle update`
Run `bundle install` to install missing gems.

The bundle update succeeds fine itself.

But the following step fails:
RAILS_ENV=production exec rake db:migrate
You have requested:
  mime-types ~> 3.0

The bundle currently has mime-types locked at 2.99.1.
Try running `bundle update mime-types`

If you are updating multiple gems in your Gemfile at once,
try passing them all to `bundle update`
Run `bundle install` to install missing gems.

What is wrong?"
22794,Redmine,Defect,NA,Closed,Normal,Multi-value custom list fields are not wrapped in Issues view,Christian Luginb?hl,NA,2016-05-11T14:24:00Z,UI,NA,NA,NA,NA,0,2016-05-11T11:57:00Z,2016-05-11T14:24:00Z,次のチケットと重複 #22496,Duplicate,3.2.2,"We have a custom value multi-value list field which can have quite a few activated items. When showing this field in the Issues view, the here comma-separated items are not wrapped which leads to very long lines and unnecessary horizontal scrolling. See attached image ""redmine_multi_value_list_not_word_wrapping.png""

Expected behaviour: Multi-value list fields should be wrapped over multiple lines as seen in attached image ""expected_redmine_multi_value_list_with_word_wrapping.png""

I did create this fix with a tiny CSS change in my custom theme:

<pre>
tr.issue td.list {
	white-space: normal;
}
</pre>

It seems that one cannot distinguish between single and multi-value fields out of the CSS classes that are set. It would be best if the rendering of  multi-value list would add another class attribute."
22807,Redmine,Defect,NA,Needs feedback,Normal,rbpdf 1.19.0 breaks the encoding,Pavel Rosick?,NA,2016-05-12T19:09:00Z,PDF export,NA,NA,NA,NA,0,2016-05-12T17:06:00Z,NA,関連している #22077,NA,3.2.2,"env
ruby 2.1.5p273 (2014-11-13 revision 48405) [x64-mingw32]
redmine 3.2.2 stable
general_pdf_fontname: freesans
no plugins

Can't properly export czech characters to pdf since Redmine 3.2.0
example: p??li? ?lu?ou?k? k??

Forcing previous version of rbpdf gem fixes the issue
gem ""rbpdf"", ""1.18.7"""
22819,Redmine,Defect,NA,Closed,Normal,Internal Error while create new issue,saurabh Savaliya,NA,2017-08-07T16:52:00Z,NA,NA,NA,NA,NA,0,2016-05-14T16:40:00Z,2016-06-22T06:58:00Z,NA,No feedback,NA,"While I am going to create, delete or edit any issue, it will give *internal error*. Recently I changed fields permission from administration. I have tried again after reset those changes but still it is not working.

I give lots of time to configure redmine and its admin. Please advise what should be error.

*Affected Version: 3.2.1*"
22822,Redmine,Defect,NA,Needs feedback,Normal,Tracker configuration page don't show actual project hiearchy,fabrice salvaire,NA,2016-05-15T17:35:00Z,Administration,NA,NA,NA,NA,0,2016-05-15T12:01:00Z,NA,NA,NA,3.2.0,"The project hierarchy shown in the tracker configuration page doesn't correspond to the actual hierarchy but to the initial one.
"
22831,Redmine,Defect,NA,Closed,Normal,"Rest api no longer return estimated time ,hours spent for master tickets",Filip Endris,NA,2017-01-07T08:23:00Z,REST API,NA,NA,NA,NA,0,2016-05-16T15:11:00Z,2017-01-07T08:23:00Z,次のチケットと重複 #21757,Duplicate,NA,"Since we upgraded from 1.2.xx to 3.2.1 (this major update is the reason i cant provide version which broke this feature) I can no longer retrieve spent time and estimated time for master tickets this is what i get ->
<estimated_hours/>
<spent_hours>0.0</spent_hours>
the ticket itself of course have more than 0 in both fields"
22835,Redmine,Defect,NA,Closed,Low,Can't change start month in Gant custom querie,Nikita Brattsev,NA,2016-05-18T09:49:00Z,Gantt,NA,NA,NA,NA,0,2016-05-17T11:08:00Z,2016-05-18T09:49:00Z,NA,Invalid,3.2.1,"When I trying to save new querie in Gant, start month and year is always current."
22843,Redmine,Defect,NA,New,Normal,Markdown code blocks not inserted properly,Jean-Claude Wippler,NA,2017-12-24T16:03:00Z,Text formatting,NA,NA,NA,NA,0,2016-05-18T11:06:00Z,NA,NA,NA,3.2.0,"When using the @pre@ button in the web editor to insert a pre-formatted code block for a project which uses Markdown formatting, the lines inserted contain ""@~~~@"", which does not work in Markdown. It should insert lines ""@```@"" instead (possibly also preceded and followed by an empty line, not sure).

Very easy to reproduce: in a Markdown project, add an entry, press the ""pre"" button, click on ""Preview"". The resulting page shows ""~~~"" instead of a proper code block."
22847,Redmine,Defect,NA,Closed,Normal,"Developed a redmine plug-in, can upload?",匿名ユーザー,NA,2016-05-19T05:51:00Z,NA,NA,NA,NA,NA,0,2016-05-18T21:22:00Z,2016-05-19T05:51:00Z,NA,Invalid,NA,"plugin source:

https://github.com/zhujunwu/redmine-plugin-notice

remark : en.yml,zh.yml"
22861,Redmine,Defect,NA,Needs feedback,Normal,Allow themes to override responsive style sheet.,S?bastien Comeau,NA,2016-05-30T10:17:00Z,Themes,NA,NA,NA,NA,0,2016-05-20T13:33:00Z,NA,NA,NA,3.2.2,Modified the scan_themes method in themes.rb to allow themes to override responsive style sheet.
22864,Redmine,Defect,NA,Closed,Normal,Associated revisions mix timestamps of git committer and git author.,Deniz Bahadir,NA,2016-05-20T17:54:00Z,SCM,NA,NA,NA,NA,0,2016-05-20T16:44:00Z,2016-05-20T17:54:00Z,次のチケットと重複 #11710,Duplicate,3.2.0,"h1. Background information:

Git-commits have an *author*, who originally created the commit, and a *committer* who (finally) committed this commit to the Git-repository. Both come with their own timestamps.

* In general, author and committer are the same.
* They can be the same but have different dates associated with them
* But they can even be different.

h1. The problem

The problem is, that if these commits are displayed as _associated revisions_ from a Redmine-ticket the *author* will be displayed with *commit-date* instead of the original *author-date*.

h1. Suggested solution.

The best solution would probably be to always display both, author *and* committer with their respective dates."
22879,Redmine,Defect,NA,Closed,Normal,slow loading system,maru workneh,NA,2016-05-24T07:23:00Z,NA,NA,NA,NA,NA,0,2016-05-23T14:40:00Z,2016-05-24T07:23:00Z,NA,Invalid,NA,"steps to reprodus
1. download applicatoin 
2. inter to the application

expectd rsolt= rapid entry application
 
 bug = when i entered to the application of "" tapuz anashim"" 
the application taks afew second to load the system.


"
22885,Redmine,Defect,NA,New,High,"When I register a task linking a ""Parent task"", the system gets too slow",Tiago Rafael Poletti,NA,2016-05-24T22:10:00Z,Performance,NA,NA,NA,NA,0,2016-05-24T22:10:00Z,NA,NA,NA,3.2.2,"When I register a task linking a ""Parent task"", the system gets too slow.

The greater the amount of tasks inside the project, slower the tool become to record the tasks using the ""Parent task"" field. If the field ""parent task"" is not used the process is fast.

Eg: I'm working with a project that contains 965 task in hierarchy. When trying to create a task linking the field ""Parent task"", the recording time is 01min and 50sec.

Application data:

Environment:
  Redmine version                3.2.2.stable
  Ruby version                   2.2.5-p319 (2016-04-26) [amd64-freebsd10]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               Mysql2
SCM:
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.3.10"
22896,Redmine,Defect,NA,Closed,Normal,Root Domain Provides 403 Forbidden Error,Brett Patterson,NA,2016-05-25T13:30:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-05-25T12:29:00Z,2016-05-25T13:30:00Z,次のチケットと重複 #22281,Duplicate,NA,"If you browse to http://redmine.org/ you will receive a 403 Forbidden error from Apache.  If you just prepend the ""www."" to the domain, the site works as expected.

It looks as though you need to add the ServerAlias directive with the value ""redmine.org"" to the Apache Virtual Host Configuration."
22897,Redmine,Defect,NA,Closed,Normal,Leaving HTML tags in collapse macro instead of showing html_safe formatted text,Aleksandar Pavic visit redminecookbook.com,NA,2016-05-31T10:57:00Z,Wiki,NA,NA,NA,NA,0,2016-05-25T13:07:00Z,2016-05-31T10:57:00Z,NA,Invalid,NA,"If a HTML content like <h1> for example is added to collapse macro, tags are displayed instead of html formatting it:

<pre>
{{collapse
<h1>This is a block of text that is collapsed by default.</h1>
It can be expanded by clicking a link.
}}
</pre>

And the output looks like:
{{collapse
<h1>This is a block of text that is collapsed by default.</h1>
It can be expanded by clicking a link.
}}

While it should be:
!Screenshot_12.png!

Attached is also diff file to make it work as I suggested in this ticket."
22910,Redmine,Defect,NA,Closed,Normal,Inline(Base64) Images are not shown anyone after update to 3.2.2,Roman Pickl,NA,2016-08-19T17:13:00Z,Issues,NA,NA,NA,NA,0,2016-05-27T09:07:00Z,2016-05-27T09:11:00Z,NA,Invalid,3.2.2,"I noticed that images inlined/pasted as Base64 (using ckeditor) are not displayed any more (empty src tag in HTML) in issues, notes, project Descriptions after updating to 3.2.2.
"
22912,Redmine,Defect,NA,Closed,Normal,Selecting a new filter on Activities should not reset the date range,Jan from Planio www.plan.io,Jean-Philippe Lang,2016-06-04T09:18:00Z,Activity view,3.2.3,NA,NA,NA,90,2016-05-27T15:28:00Z,2016-06-04T09:18:00Z,NA,Fixed,NA,The attached patch will fix this.
22914,Redmine,Defect,NA,Closed,Low,Notification mails not send when editing a ticket,Carsten Schurig,NA,2016-05-27T17:21:00Z,Email notifications,NA,NA,NA,NA,0,2016-05-27T16:18:00Z,2016-05-27T17:21:00Z,NA,Invalid,3.2.2,"Notification mails are *not send* when *editing a ticket*! 

Mails are send on

* test email
* creating a ticket
* creating a news entry
* commenting a news entry

I turned on email debug output and when editing a ticket, redmine doesn't even try to send an email (at least there's no output in the log).

I'm currently on 3.2.2 and I think this started after upgrading from 2.6.something (to 3.2)."
22932,Redmine,Defect,NA,Closed,Normal,"""Group by"" row from issues listing has the colspan attribute bigger with one than the number of columns from the table",Marius BALTEANU,Jean-Philippe Lang,2016-06-05T09:08:00Z,UI,3.2.3,NA,NA,NA,0,2016-05-31T01:26:00Z,2016-06-05T09:08:00Z,NA,Fixed,3.2.2,"Steps to reproduce: 
# Open the issues tabs
# Group results by an attribute (tracker for example)
# Observe that the colspan attribute of the ""Group by"" row (tr.group) is bigger with one than the number of columns of issue rows (tr.issue).
# Because of that, the right border is missing for issue rows and table header

!missing_border.png!

After applying the attached patch (fix_colspan_attribute.patch):
!with_border.png!

"
22940,Redmine,Defect,NA,Needs feedback,Normal,Why I received mail that contain underscore instead of space in from redmine.,Jong Hyuk,NA,2016-06-16T16:16:00Z,Email receiving,NA,NA,NA,NA,0,2016-05-31T11:26:00Z,NA,NA,NA,3.2.2,"I want to fix not displaying underscore.

how to fix..

help me please."
22945,Redmine,Defect,NA,New,Normal,incorrect roadmap estimated & spent time values if only summary issues have target version,Fabien Camous,NA,2016-05-31T20:56:00Z,Roadmap,NA,NA,NA,NA,0,2016-05-31T20:56:00Z,NA,NA,NA,3.2.2,"one of our team is using following structure for working (not totally accurate, but only for example)

* summary issue / target version : work package I
** sub task 1 / target version : sub workpackage A 
** sub task 2 / target version : sub workpackage A
** sub task 3 / target version : sub workpackage B

* summary issue / target version : work package II
** sub task 4 / target version : sub workpackage A
** sub task 5 / target version : sub workpackage B
** sub task 6 / target version : sub workpackage B

each subtasks has estimated & spent time on it which are correctly showing up when displaying the summary issue.

however when displaying version work package I & II, it's only showing 0 hours (estimated & spent), assuming it's only consolidating the ""first level"" and not subtasks.
"
22965,Redmine,Defect,NA,Closed,Normal,redmine website doesnt work when used without www,Maxim Kru?ina,Jean-Philippe Lang,2016-06-02T13:19:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-06-02T12:43:00Z,2016-06-02T13:19:00Z,NA,Duplicate,NA,"There should be redirect redmine.org > www.redmine.org
* www.redmine.org - works
* redmine.org - Forbidden / You don't have permission to access / on this server.
"
22975,Redmine,Defect,NA,Confirmed,Normal,Moving a wiki page to a different project should refresh parent page list,Karel Pi?man,NA,2016-06-04T09:34:00Z,Wiki,Candidate for next minor release,NA,NA,NA,0,2016-06-03T14:38:00Z,NA,NA,NA,NA,"When renaming a wiki page in order to move it to a different project, I change the *Project* in the renaming form first. But, the *Parent page* pick list is not updated according to the selected project. Therefore, it's not possible to set a parent from the target project and I can move it to the root only.

A wrong selection of the *Parent page* leads to _""Parent page doesn't belong to the same project""_ error then.

I think that the *Parent page* pick list should be always filled in according to the *Project* selection.

!wiki_renaming.png!"
23010,Redmine,Defect,NA,Needs feedback,Normal,ActiveRecord::StaleObjectError in issue bulk update,Steven Wong,NA,2016-06-29T15:15:00Z,Issues,NA,NA,NA,NA,0,2016-06-08T09:58:00Z,NA,NA,NA,3.2.2,"I used the issue list, and select all issue.
then right click and choose assign to someone , then loading for long time and at last occured an blank page.

I checked the log as follows:

<pre>
F, [2016-06-08T15:54:36.314677 #1660] FATAL -- : 
ActiveRecord::StaleObjectError (Attempted to update a stale object: Issue):
  app/models/issue.rb:182:in `create_or_update'
  app/controllers/issues_controller.rb:292:in `block in bulk_update'
  app/controllers/issues_controller.rb:278:in `each'
  app/controllers/issues_controller.rb:278:in `bulk_update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>



"
23019,Redmine,Defect,NA,New,Normal,Markdown doesn't recognize mails,kay rus,NA,2017-06-04T05:38:00Z,Text formatting,NA,NA,NA,NA,0,2016-06-08T18:19:00Z,NA,NA,NA,NA,"Redmine hides this email in markdown:

<pre>
<a_bc@def.com>
</pre>

But it doesn't hide this:


<pre>
<abc@def.com>
</pre>"
23024,Redmine,Defect,NA,Closed,Normal,Can we configure multiple redmine servers with Sprira.,riya chouksey,NA,2016-06-09T10:23:00Z,Issues,NA,NA,NA,NA,0,2016-06-09T10:18:00Z,2016-06-09T10:23:00Z,NA,Invalid,NA,"We want to configure multiple redmine servers with Sprira. Please let us know the procedure for the same.

 

We could integrate only one redmine server after plugin installation."
23026,Redmine,Defect,NA,Closed,Normal,Subject in Custom query not showing NESTED issues properly,Milan Prica,NA,2016-07-02T15:05:00Z,Issues,NA,NA,NA,NA,0,2016-06-09T11:18:00Z,2016-07-02T15:05:00Z,次のチケットと重複 #7417,Duplicate,NA,"I created a custom query to display my issues.

Subject shows issues in nested form, but not in every case.

In my example, an issue called ""Pagespeed test result"" has subtasks, and in the subject these tasks are shown as nested, which is ok.
However, an issue called ""Bug fixes"" which also has subtasks, these subtasks are not shown as nested in the subject.

Is this a defect?
"
23036,Redmine,Defect,NA,Closed,Normal,Roadmap for redmine 3.2.x is missing,Marcin PY,NA,2016-06-11T07:07:00Z,Roadmap,NA,NA,NA,NA,0,2016-06-10T11:35:00Z,2016-06-11T07:07:00Z,NA,Invalid,3.2.1,"There is no Roadmap tab in tabbed menu.
Even when I enable the Issue tracking according to :
http://www.redmine.org/projects/redmine/wiki/RedmineRoadmap

How can I fix it?"
23037,Redmine,Defect,NA,New,Normal,500 error when posting on the forums,Stefan Langenmaier,Jean-Philippe Lang,2016-06-10T15:05:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-06-10T15:05:00Z,NA,関連している #22085,NA,NA,"I want to post a reply here: http://www.redmine.org/boards/2/topics/48506/replies

But I always get an internal error."
23044,Redmine,Defect,NA,Closed,Normal,Typo in Azerbaijani general_lang_name,Go MAEDA,NA,2016-06-13T07:23:00Z,Translations,3.3.0,NA,NA,NA,0,2016-06-12T14:13:00Z,2016-06-13T07:23:00Z,関連している #21692,Fixed,NA,"general_lang_name for az.yml should be ""Azerbaijani"". It was pointed out in #21692.

https://www.loc.gov/standards/iso639-2/php/code_list.php"
23051,Redmine,Defect,NA,Closed,Normal,"Got Problem, And no resolution for this: Don't know how to build task 'test:scm:units' (see --tasks)",guidi zeng,NA,2016-06-16T16:31:00Z,Issues,NA,NA,NA,NA,0,2016-06-13T10:26:00Z,2016-06-13T15:37:00Z,NA,Invalid,3.2.3,"when i installing redmine follow this link:[[http://www.redmine.org/projects/redmine/wiki/RedmineInstall]]
Environment:
   System: Linux version 3.10.0-327.10.1.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.
           8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Tue Feb 16 17:03:50 UTC 2016)

   Ruby:   ruby 2.2.5p319 (2016-04-26 revision 54774) [x86_64-linux]
   Rails 4.2.5.2
   rake, version 11.2.0

1. process database.yml
2. modify source to https://gems.taobao.org/ in Gemfile.
3. bundle install --without test development
   (completed: Bundle complete! 31 Gemfile dependencies, 56 gems now installed.)
4. bundle exec rake generate_secret_token
   [root@Kz redmine]# bundle exec rake generate_secret_token
   /usr/local/ruby2.2/lib/ruby/gems/2.2.0/gems/htmlentities-4.3.1/lib/htmlentities/mappings/e
   xpanded.rb:465: warning: duplicated key at line 466 ignored: ""inodot""rake aborted!
   Don't know how to build task 'test:scm:units' (see --tasks)
   /usr/local/redmine/lib/tasks/testing.rake:87:in `block (2 levels) in <top (required)>'
   /usr/local/redmine/lib/tasks/testing.rake:22:in `block in <top (required)>'
   /usr/local/redmine/lib/tasks/testing.rake:1:in `<top (required)>'
   /usr/local/redmine/Rakefile:7:in `<top (required)>'
   /usr/local/ruby2.2/bin/bundle:23:in `load'
   /usr/local/ruby2.2/bin/bundle:23:in `<main>'
   (See full trace by running task with --trace)
   [root@Kz redmine]# 

Some one can help me?"
23103,Redmine,Defect,NA,New,Normal,Wiki in Markdown syntax mode improperly renders successive headers.,Jasmine Hegman,NA,2016-07-12T17:00:00Z,Text formatting,NA,NA,NA,NA,0,2016-06-18T22:06:00Z,NA,NA,NA,3.2.2,"I have found when using Markdown syntax that the headers get wonky when used in succession. I have attached screenshots to illustrate.

Given the input image, I expect First, Second, Third to appear uniformly

but as seen in the output image First is treated as a sub-sub-sub-level heading

In the respectively titled image, you can see that sub-sub-sub level headings are given underlines in this style.

Environment Information:
Environment:
  Redmine version                3.2.2.stable
  Ruby version                   2.2.5-p319 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem
Redmine plugins:
  no plugin installed
"
23120,Redmine,Defect,NA,Closed,Normal,'Internal error' when LDAP server name not resolved,Vasili Korol,NA,2016-06-20T15:12:00Z,LDAP,NA,NA,NA,NA,0,2016-06-20T14:45:00Z,2016-06-20T15:12:00Z,次のチケットと重複 #5592,Duplicate,3.2.2,"Sometimes users see an 'internal error' page when trying to log in with their LDAP credentials. I noticed, that this correlates with some problems with the DNS server in our network - sometimes the name of the LDAP server can not be resolved, and if one tries to log in to redmine during these periods, they see the error. Problem is gone immediately after dns is up again.

We are using LDAPS, with ""users on-the-fly creation"" enabled. LDAP users that fail to log in are not new ones - they already exist in the system.

<pre>
Environment:
  Redmine version                3.2.2.stable
  Ruby version                   2.0.0-p384 (2014-01-12) [x86_64-linux-gnu]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  advanced_roadmap_v2            2.4.2
</pre>"
23124,Redmine,Defect,NA,New,Normal,"if Time logs visibility: Time entries created by the user is turned on for the role, Issue's spent time is not displayed",Y Z,NA,2016-10-10T13:10:00Z,Issues,NA,NA,NA,NA,0,2016-06-21T01:25:00Z,NA,NA,NA,3.1.2,"There is a good feature to show only time entries created by owner, however if this option is turned on, there is no ""Spent time"" available on issue page any more. 

I honestly believe it doesn't make any sense to hide it (if User.current.allowed_to_view_all_time_entries?(@project)), so as soon as we talk about time entries, that's ok to hide the entries themselves, but what is the reason to hide the total amount of already spent time (the value itself) for the issue?

I guess the ""Spent time"" could be displayed nevertheless the option and, for instance, not be a link (a href) to the times entries log if user has no permission to see all time log entries.

It would be nice if you can adjust it accordingly."
23133,Redmine,Defect,NA,Closed,Normal,New '+' button/menu in 3.3 not appearing in foreground,Jordan Piel,NA,2016-06-22T23:50:00Z,UI,NA,NA,NA,NA,0,2016-06-22T00:04:00Z,2016-06-22T23:50:00Z,NA,Invalid,3.3.0,"This seems to be an issue with #15880, I seem to be having the same issue Rupesh J mentioned on 6-14. The problem appears to be the drop down menu is not always in the foreground, this seems to be the case with multiple themes, default included. I've attached a screenshot of the behavior while using the 'alternative' theme as it's the only one that visibly shows a hint of the misbehavior. With other themes the '+' appears to do nothing, but I assume the entire menu is behind the foreground.

Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.2.5-p319 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2

Redmine plugins:
  redmine_banner                 0.1.1
  redmine_checklists             3.1.3
  redmine_ldap_sync              2.0.8.devel
  redmine_local_avatars          0.2.0
  redmine_logs                   0.1.0
  redmine_slack                  0.1
  redmine_theme_changer          0.2.0
  sidebar_hide                   0.0.7"
23151,Redmine,Defect,NA,Closed,Normal,done_ratio calculation with multi-level sub tasks and estimated hours,Gregor Schmidt,NA,2017-07-09T05:25:00Z,Issues,NA,NA,NA,NA,0,2016-06-23T15:30:00Z,2017-07-09T05:25:00Z,次のチケットと重複 #23511,Duplicate,3.2.0,"Using the Setting @parent_issue_done_ratio=derived@ and given the following issue hierarchy:

<pre>
[1_0_0]             - (3h)
 | |
 | +- [1_1_0]       - 1h
 |
 +--- [1_2_0]       - (2h)
       | |
       | +- [1_2_1] - 1h
       |
       +--- [1_2_1] - 1h
</pre>

When I set @[1_1_0]@ to status closed, the done ratio of @[1_0_0]@ is recalculated. 

Since 1h of 3h of work are done, the derived done ratio of @[1_0_0]@ should be 33%. In current Redmine trunk r15582 the actual value is 50%, since the done ratio is solely based on the direct children and their estimated hours. The code was introduced with version#102, r14875, #20995.


It gets more complicated when adding estimates on parent nodes (introduced in version#90, r14272, #16092):

<pre>
[2_0_0]             - 1h (Total 5h)
 | |
 | +- [2_1_0]       - 1h (Total 1h)
 |
 +--- [2_2_0]       - 1h (Total 3h)
       | |
       | +- [2_2_1] - 1h (Total 1h)
       |
       +--- [2_2_1] - 1h (Total 1h)
</pre>

Estimated hours on parent tasks are added to the estimated hours of the issue's sub tasks. The total estimated hours is the sum of all issues within the sub tree.

When I set @[2_1_0]@ to status closed, the done ratio of @[2_0_0]@ is recalculated. 

Now 1h of 4h of work on the sub tasks are done, the derived done ratio of @[2_0_0]@ should therefore be 25%. Similarly one could argue that 1h of 5h on the whole issue tree are done, the derived done ratio of @[2_0_0]@ should therefore be 20%.

But in current Redmine trunk r15582 the actual value is 50%, since the done ratio is solely based on the direct children and their estimated hours.


Attached are some easy tests highlighting the problem."
23152,Redmine,Defect,NA,Closed,Normal,Distinguish closed subprojects on the project overview,Diego Gonzalez,Jean-Philippe Lang,2016-07-10T09:51:00Z,Projects,3.3.1,NA,NA,NA,0,2016-06-23T16:16:00Z,2016-07-10T09:49:00Z,次のチケットが重複 #23327,Fixed,3.2.1,"I closed a subproject, however, Project Overview father still appears without reference to their status or ability to filter it.
Agradeceria option for not listed closed subprojects."
23155,Redmine,Defect,NA,Closed,Normal,redmine.org does not redirect to www subdomain,Adam Liszkai,Jean-Philippe Lang,2016-06-23T23:14:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-06-23T21:05:00Z,2016-06-23T23:14:00Z,NA,Duplicate,NA,"In the past I always typed the redmine url address, and now when I typed redmine.org in to my browser and it showed a forbidden page, somehow the domain not redirected to the www subdomain. Please check it and make work the http://redmine.org link again :)"
23160,Redmine,Defect,NA,Closed,Normal,New issues taking awhile to show,Derek Stana,NA,2016-06-24T08:44:00Z,Issues,NA,NA,NA,NA,0,2016-06-24T08:18:00Z,2016-06-24T08:44:00Z,NA,Invalid,3.3.0,We've been submitting new issues and have noticed it can take up to an hour sometimes for new issues to appear when they've been created and assigned to another user.
23166,Redmine,Defect,NA,Closed,High,Issue while accessing Activity view,Kamlesh Maurya,NA,2016-06-24T16:34:00Z,Activity view,NA,NA,NA,NA,0,2016-06-24T13:53:00Z,2016-06-24T16:34:00Z,NA,Invalid,3.1.3,"While accessing the activity tab we encounter the error ""Internal error
An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.
If you are the Redmine administrator, check your log files for details about the error.""

Attaching the screenshot for more detail.
Error log is as below
""tarted GET ""/projects/bihar-maintenance/activity"" for 192.168.100.128 at 2016-06-24 17:15:27 +0530
Processing by ActivitiesController#index as HTML
  Parameters: {""id""=>""bihar-maintenance""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 78.0ms)

NameError (uninitialized constant Meeting):
  lib/redmine/activity/fetcher.rb:106:in `map'
  lib/redmine/activity/fetcher.rb:106:in `constantized_providers'
  lib/redmine/activity/fetcher.rb:42:in `block in event_types'
  lib/redmine/activity/fetcher.rb:40:in `select'
  lib/redmine/activity/fetcher.rb:40:in `event_types'
  lib/redmine/activity/fetcher.rb:30:in `initialize'
  app/controllers/activities_controller.rb:37:in `new'
  app/controllers/activities_controller.rb:37:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'""

We had configure the redmine with below configuration
Redmine 3.2.3
Ruby 2.2
mysql 5.7.2"
23175,Redmine,Defect,NA,Closed,High,Ticket overview table on project page (from 3.2) exposes trackers to user roles with insufficient permissions,Tobias Fischer,NA,2016-07-17T04:23:00Z,Projects,NA,NA,NA,NA,0,2016-06-27T12:15:00Z,2016-07-17T04:23:00Z,NA,Fixed,3.2.0,"Let's say you have a project ""A"" with internal and external users.
And then there's project ""B"" which is a subproject of ""A"" and only internal users are allowed.
The internal project ""B"" uses the same trackers like project ""A"" plus some additional ones.

When an external user accesses the project ""A"" project page (overview) it can see the project-""B""-only trackers in the ticket overview table.
At least, the ticket counter is set to ""0"" in all columns, but still I would expect the tracker beeing hidden when the user role cannot access it!

This problem exists since Redmine 3.2"
23182,Redmine,Defect,NA,Closed,Normal,url in email + sub uri = sub uri duplication,Evgeniy Dushistov,NA,2016-06-28T04:33:00Z,Email notifications,NA,NA,NA,NA,0,2016-06-28T00:05:00Z,2016-06-28T04:33:00Z,次のチケットと重複 #20192,Duplicate,3.2.1,"I configure redmine to be https://server/redmine via
<pre>
RedmineApp::Application.routes.default_scope =  { :path => '/redmine', :shallow_path => '/redmine' }
#RedmineApp::Application.routes.default_scope = ""/redmine""
# Initialize the Rails application
Rails.application.initialize!
Redmine::Utils::relative_url_root = ""/redmine""
</pre>

all works fine, except links in email - they looks like:
https://server/redmine/redmine/issues/1#change-31

I have set hostname to server, and protocol to https via
Administration->Preference->General"
23183,Redmine,Defect,NA,Needs feedback,Normal,LDAP password policy not checked when changing password,Taron Asatryan,NA,2016-06-28T13:30:00Z,LDAP,NA,NA,NA,NA,0,2016-06-28T09:36:00Z,NA,NA,NA,2.5.3,"Redmine has been configured to authenticate against LDAP and everything works fine. A password policy has been implemented in LDAP to ensure password complexity, expiration, etc. However, when LDAP user changes his/her password from Redmine, no complexity check is taking place. 

Is there any solution to this problem?"
23188,Redmine,Defect,NA,Closed,Normal,integration problem,ravi varma,NA,2016-06-28T15:38:00Z,NA,NA,NA,NA,NA,0,2016-06-28T15:10:00Z,2016-06-28T15:38:00Z,NA,Invalid,3.0.7,Ihave got problem integrating redmine to spark room
23189,Redmine,Defect,NA,New,High,"Spent time by filter, offset by one day",Mentel Inc,NA,2017-04-17T05:02:00Z,Time tracking,NA,NA,NA,NA,0,2016-06-28T21:50:00Z,NA,"関連している #22320, 関連している #16482, 次のチケットが重複 #24547",NA,3.3.0,"We just upgrade to 3.3.0.stable.

If you log time today (June28) and then go in spent time, filter by today, the logged time isn't showing up. If you do yesterday, it shows up with the today's date (June28).

Same issue in the project time logs.

However, if you select All, it works.


I tried to see if someone else had reported it, I couldn't find it, if it's the case I'm sorry in advance."
23200,Redmine,Defect,NA,Closed,Normal,"""Private Notes"" setting is removed on page reload",Jon Goldberg,NA,2016-06-30T04:54:00Z,Issues,NA,NA,NA,NA,0,2016-06-29T21:50:00Z,2016-06-30T04:54:00Z,NA,Invalid,3.2.2,"When a user encounters the ""The issue has been updated by an other user while you were editing it."" dialog, the ""Private notes"" box is set to unchecked, even if the user has checked the box.  If that user selects ""Apply my changes anyway"" or ""Add my notes and discard my other changes"", they will submit a private note publicly, leading to much embarassment!

Steps to replicate:

    Have user A start a note on an issue.
    Have user B start a note on an issue.
    Have user A submit their comment.
    Have user B submit their comment with the ""private note"" box checked.

User B will be informed that another comment has been posted. Do they
want to submit their changes anyway, or submit just the comment without
other changes?

    User B selects ""submit the comment without other changes"".

Expected result:
User B's comment is private.

Actual result:
User B's comment is public.

On page reload, the ""Private Notes"" value should remain the same."
23206,Redmine,Defect,NA,Closed,Normal,Wrong filters are applied when exporting issues to CSV with blank filter,Go MAEDA,Jean-Philippe Lang,2016-07-10T09:46:00Z,Issues filter,3.2.4,NA,NA,NA,0,2016-06-30T08:48:00Z,2016-07-10T09:46:00Z,NA,Fixed,3.2.1,"Steps to reproduce:

1. Go to ""Issues"" page.
2. Clear ""Status"" check box in ""Filters"" and click apply. You will see all (open and closed) issues in the project.
3. Export issues to a CSV file by clicking ""CSV"" link. The CSV file should contain open and closed issues, but actually it contains open issues only.

No problem in 3.1-stable. Maybe this is a regression caused by #22108.

Attached a patch to fix this problem."
23208,Redmine,Defect,NA,Closed,Normal,Changing wiki parent crash,Milos Corak,NA,2016-06-30T20:23:00Z,Wiki,NA,NA,NA,NA,0,2016-06-30T15:21:00Z,2016-06-30T20:23:00Z,NA,Invalid,3.2.0,"Redmine crash when I try to change parent id on wiki page.

Internal error

Log:

<pre>
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""3P/QNO4+5wWOcbRoqUy8vsnlvNT1iUXHjcpWQjNH+B4nfeZVcAFBo0n21/l44WcufN5F2+U4NIOBVFWaK
D22kQ=="", ""content""=>{""version""=>""11"", ""text""=>""h1. PVv3xxx identification List\r\n\r\n\r\nh2. Lookup Table By FW Name (write to reg
ister 0x007E)\r\n\r\n|_. FW |_. fw_id (hex) |_. fw_id (dec) |  \r\n| F77 | 0x464D | 17997 |\r\n| G77 | 0x474D | 18253 |\r\n| G81 | 0
x4751 | 18257 |\r\n| H77 | 0x484D | 18509 |\r\n| J77 | 0x4A4D | 19021 |\r\n| K81 | 0x4B51 | 19281 |\r\n| K82 | 0x4B52 | 19282 |\r\n|
 M80 | 0x4D50 | 19792 |\r\n| M83 | 0x4D53 | 19795 |\r\n| M84 | 0x4D54 | 19796 |\r\n| M85 | 0x4D55 | 19797 |\r\n| M87 | 0x4D57 | 1979
9 |\r\n| M93 | 0x4D5D | 19805 |\r\n| N78 | 0x4E4E | 20046 |\r\n| P7A | 0x507A | 20602 |\r\n| P92 | 0x505C | 20572 |\r\n| S14 | 0x530
E | 21262 |\r\n| S17 | 0x5311 | 21265 |\r\n| S18 | 0x5312 | 21266 |\r\n| S5D | 0x535D | 21341 |\r\n| S91 | 0x535B | 21339 |\r\n| T74
 | 0x544A | 21578 |\r\n| W10 | 0x570A | 22282 |\r\n| X086 | 0x5856 | 22614 |\r\n\r\nh2. Equation (str -> id)\r\n\r\n<pre><code class
=\""python\"">\r\nfw_string = 'F77'\r\nletter = ord(fw_string[0])\r\nnumber = None\r\n\r\nif re.search('[A-F]', fw_string[1:].upper())
:\r\n    number = int(fw_string[1:], 16)\r\nelse:\r\n    number = int(fw_string[1:])\r\n\r\nfw_id = (letter << 8) + number\r\n</code
></pre>"", ""comments""=>""""}, ""wiki_page""=>{""parent_id""=>""20"", ""tag_list""=>""""}, ""commit""=>""Save"", ""project_id""=>""firmware-modules"", ""id
""=>""Pv3xxx_identification""}
  Current user: corakm (id=1)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 5.7ms)

NoMethodError (undefined method `scoped' for #<Class:0x00000002c75360>):
  app/models/wiki_page.rb:216:in `block in save_with_content'
  app/models/wiki_page.rb:215:in `save_with_content'
  app/controllers/wiki_controller.rb:154:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'





Environment:
  Redmine version                3.2.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.14
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.10
  quick_edit                     0.0.9
  quick_view                     0.2.0
  redmine_base_deface            0.0.1
  redmine_checklists             3.1.3
  redmine_custom_reports         0.1.5
  redmine_dashboard              2.7.0
  redmine_dmsf                   1.5.6
  redmine_documents              1.0.0
  redmine_documents_short        0.4.0
  redmine_editor_preview_tab     0.1.5
  redmine_github_hook            2.2.0
  redmine_highlightjs            1.0.3
  redmine_issue_templates        0.1.1
  redmine_jstoolbar_ext          0.2.1
  redmine_jstoolbar_ext_coderay  0.2.0
  redmine_jstoolbar_ext_images   0.3.1
  redmine_mail_reminder          3.0.0.0001
  redmine_maintenance_mode       2.0.1
  redmine_mylyn_connector        2.8.2.stable
  redmine_per_project_formatting 0.0.4
  redmine_percent_done           1.0.0
  redmine_revision_branches      0.3.1
  redmine_silencer               0.4.1
  redmine_tags                   3.1.1
  redmine_tweaks                 0.5.7
  redmine_wiki_extensions        0.7.0
  redmine_wiki_toc               0.0.3
  release_logs                   1.0.0
  wiking                         1.0.0b
</pre>"
23222,Redmine,Defect,NA,Closed,Normal,Unable to assign ticket to other users in project,Craig Carnell,NA,2016-07-01T16:17:00Z,NA,NA,NA,NA,NA,0,2016-07-01T15:19:00Z,2016-07-01T16:17:00Z,NA,Invalid,NA,"I upgraded from Redmine 2.x to 3.2.3 and now we have the following issue. In the Assignee: field when updating a task users can now only see in the drop down:

<< me >>
<< Author >>
the person it is assigned to
their own account

In the previous version of Redmine, anybody in the project could be selected.

We also have Easy Redmine 2016 installed.
"
23224,Redmine,Defect,NA,New,Normal,Datepicker doesn't obey the user's settings format,Maxim Kru?ina,NA,2017-05-25T15:03:00Z,UI,NA,NA,NA,NA,0,2016-07-01T16:20:00Z,NA,"関連している #23414, 関連している #23892, 次のチケットが重複 #24575",NA,3.3.0,"I would like to use date format: yyyy-mm-dd (so I have this time format in my settings), but redmine is displaying probably the browser's default langaue date format - see screenshots."
23242,Redmine,Defect,NA,Closed,Normal,thumbnail macro does not render when displaying wiki content version,Jens Kr?mer,Jean-Philippe Lang,2016-07-10T09:51:00Z,Wiki,3.3.1,NA,NA,NA,0,2016-07-05T11:27:00Z,2016-07-10T09:51:00Z,NA,Fixed,NA,"when looking at an older version of a wiki page, the thumbnail macro fails to render because WikiContent::Version does not @respond_to? :attachments@

Attached patch fixes this."
23246,Redmine,Defect,NA,Closed,High,Saving an empty Markdown image tag in Wiki pages causes internal server error,Viktor Berke,Jean-Philippe Lang,2016-07-10T09:48:00Z,Text formatting,3.2.4,NA,NA,NA,0,2016-07-05T16:36:00Z,2016-07-10T09:48:00Z,次のチケットが重複 #23395,Fixed,3.3.0,"Steps to reproduce:

- use Markdown Wiki formatting
- Create a Wiki page
- Add an empty image tag, i.e.:

<pre>
![]()
</pre>

- Save the changes
- From now on, this page will show an internal server error, eventually also crashing the whole Redmine instance

The log shows the following error:

<pre>
Started GET ""/projects/fpga/wiki"" for 127.0.0.1 at 2016-07-05 11:28:01 +0200
Processing by WikiController#show as HTML
  Parameters: {""project_id""=>""fpga""}
  Current user: viktor@foobar.com (id=17)
  Rendered wiki/_content.html.erb (9.7ms)
  Rendered wiki/show.html.erb within layouts/base (31.2ms)
Completed 500 Internal Server Error in 277ms (ActiveRecord: 23.1ms)

ActionView::Template::Error (undefined method `include?' for nil:NilClass):
    1: <div class=""wiki wiki-page"">
    2:   <%= textilizable content, :text, :attachments => content.page.attachments,
    3:         :edit_section_links => (@sections_editable && {:controller => 'wiki', :action => 'edit', :project_id => @page.project, :id => @page.title}) %>
    4: </div>
  lib/redmine/helpers/url.rb:26:in `uri_with_safe_scheme?'
  lib/redmine/wiki_formatting/markdown/formatter.rb:48:in `image'
  lib/redmine/wiki_formatting/markdown/formatter.rb:60:in `render'
  lib/redmine/wiki_formatting/markdown/formatter.rb:60:in `to_html'
  lib/redmine/wiki_formatting.rb:89:in `to_html'
  app/helpers/application_helper.rb:598:in `textilizable'
  app/views/wiki/_content.html.erb:2:in `_app_views_wiki__content_html_erb__2292234759012989548_70948640'
  app/views/wiki/show.html.erb:47:in `_app_views_wiki_show_html_erb___1795174084185801307_65213660'
  app/controllers/wiki_controller.rb:114:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
23262,Redmine,Defect,NA,Closed,Normal,git: unable to edit and delete from setting if extra_info is invalid,Marco Descher,NA,2016-07-12T08:42:00Z,SCM,NA,NA,NA,NA,0,2016-07-06T14:11:00Z,2016-07-12T08:42:00Z,NA,NA,3.2.3,"When opening the repository view in a project I get an internal server error with the following log entry

<pre>
Psych::SyntaxError ((<unknown>): found unexpected end of stream while scanning a quoted scalar at line 1439 column 7):
  app/models/repository.rb:160:in `extra_info'
  app/models/repository/git.rb:46:in `extra_report_last_commit'
  app/models/repository/git.rb:97:in `scm_entries'
  app/models/repository.rb:205:in `entries'
  app/controllers/repositories_controller.rb:116:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
23268,Redmine,Defect,NA,New,Normal,migrate_from_trac.rake - NOT WORKING WITH trac 1.0.1,Anton OG2K,NA,2016-07-18T15:06:00Z,Importers,NA,NA,NA,NA,0,2016-07-07T11:31:00Z,NA,関連している #20943,NA,3.3.0,"hello,

i am trying to import data from trac 1.0.1 + mysql.

there are several issues:

1.
    self.inheritance_column = :none instead of set_inheritance_column :none
    self.primary_key = 'name' instead of #set_primary_key :name

2.
    #784  def self.trac_attachments_directory; ""#{trac_directory}/files/attachments""

3.
Migrating components..................
Migrating milestones.rake aborted!
TypeError: no implicit conversion from nil to integer
/var/lib/redmine/lib/tasks/migrate_from_trac.rake:422:in `[]'
/var/lib/redmine/lib/tasks/migrate_from_trac.rake:422:in `block in migrate'
/var/lib/gems/1.9.1/gems/activerecord-4.2.6/lib/active_record/relation/delegation.rb:46:in `each'
/var/lib/gems/1.9.1/gems/activerecord-4.2.6/lib/active_record/relation/delegation.rb:46:in `each'
/var/lib/redmine/lib/tasks/migrate_from_trac.rake:410:in `migrate'

4.
Migrating components..................
Migrating custom fields
Migrating ticketsrake aborted!
ActiveRecord::SubclassNotFound: The single-table inheritance mechanism failed to locate the subclass: 'defect'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite TracMigrate::TracTicket.inheritance_column to use another column for that information.
/var/lib/gems/1.9.1/gems/activerecord-4.2.6/lib/active_record/inheritance.rb:186:in `rescue in find_sti_clas


and I can not get further


please, someone can code new script for newer trac version?

migrate_from_trac_version_1.rake

many thanks
"
23274,Redmine,Defect,NA,Closed,Normal,Unable to create new project on demo,Ilanchezhian Jaganathan,Jean-Philippe Lang,2017-07-09T05:07:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-07-08T10:23:00Z,2017-07-09T05:07:00Z,NA,Invalid,NA,Unable to create new project once logged in in demo redmine. This issue being from 08-July-2016
23275,Redmine,Defect,NA,New,Normal,Issue open takes too much time when member blongs many projects,Wadim Incognito,NA,2017-07-07T12:15:00Z,Performance,NA,NA,NA,NA,0,2016-07-08T11:07:00Z,NA,NA,NA,3.2.1,"When user is a member of many open projects (about 3000), each issue takes about 7 seconds to open. When user is a member of several projects (about 10-20), each issue takes about 3 seconds to open.
Top indicates, that most of time taken by ""ruby"" process, so it's not a database issue."
23318,Redmine,Defect,NA,Reopened,Normal,#lock_nested_set very slow on mysql with thousands of subtasks,Stephane Evr,Jean-Philippe Lang,2017-05-18T08:33:00Z,Performance,Candidate for next major release,NA,NA,NA,0,2016-07-13T17:39:00Z,2016-10-08T11:16:00Z,関連している #19344,Fixed,NA,"I have a complex hierarchy of around 15000 issues in redmine, where an issue of this set could potentially have 3000 subtasks.

When doing CRUD operations on such issue, I notified significant slow downs, caused by the @lock_nested_set@ function.

Here is the profiling for the query actually run in @lock_nested_set@:

<pre>
SELECT `issues`.`id` FROM `issues` WHERE (root_id IN (SELECT root_id FROM issues WHERE id IN (70395,70389)))  ORDER BY `issues`.`id` ASC FOR UPDATE;

+-------+
|       |
.........
| 70371 |
| 70373 |
| 70375 |
| 70377 |
| 70379 |
| 70381 |
| 70383 |
| 70385 |
| 70387 |
| 70389 |
| 70391 |
| 70393 |
+-------+
2932 rows in set (2.70 sec)

mysql> show profile for QUERY 1;
+--------------------------------+----------+
| Status                         | Duration |
+--------------------------------+----------+
| starting                       | 0.000025 |
| Waiting for query cache lock   | 0.000004 |
| checking query cache for query | 0.000081 |
| checking permissions           | 0.000003 |
| checking permissions           | 0.000004 |
| Opening tables                 | 0.000038 |
| System lock                    | 0.000017 |
| init                           | 0.000056 |
| optimizing                     | 0.000013 |
| statistics                     | 0.000023 |
| preparing                      | 0.000009 |
| executing                      | 0.000002 |
| Sorting result                 | 0.000005 |
| Sending data                   | 0.000049 |
| optimizing                     | 0.000015 |
| statistics                     | 0.000047 |
| preparing                      | 2.690165 |
| end                            | 0.000009 |
| query end                      | 0.000067 |
| closing tables                 | 0.000010 |
| freeing items                  | 0.000038 |
| logging slow query             | 0.000002 |
| logging slow query             | 0.000163 |
| cleaning up                    | 0.000003 |
+--------------------------------+----------+
24 rows in set (0.00 sec)

</pre>

It takes around 3 seconds to execute the whole query.

I think the main problem is with the nested SELECT statement. If I execute it separately, then paste its results directly into the main query, the query is much faster:

<pre>
mysql> SELECT root_id FROM issues WHERE id IN (70395,70389);
+---------+
| root_id |
+---------+
|   45083 |
+---------+
1 row in set (0.00 sec)

SELECT `issues`.`id` FROM `issues` WHERE (root_id IN (45083))  ORDER BY `issues`.`id` ASC FOR UPDATE;

+-------+
|       |
.........
| 70371 |
| 70373 |
| 70375 |
| 70377 |
| 70379 |
| 70381 |
| 70383 |
| 70385 |
| 70387 |
| 70389 |
| 70391 |
| 70393 |
+-------+
2932 rows in set (0.01 sec)

</pre>

I am not an expert in sql queries, and don't want to break anything... Shouldn't we use a JOIN instead?

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.2.2-p95 (2015-04-13) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    development
  Database adapter               Mysql2
</pre>"
23341,Redmine,Defect,NA,New,Normal,Markdown Table formatting breaks with redmine wiki links,Ben Blanco,NA,2017-10-11T17:18:00Z,Text formatting,NA,NA,NA,NA,0,2016-07-14T16:46:00Z,NA,NA,NA,3.2.3,"When formatting a table in markdown, and inserting internal wiki links via @[[wiki_page_name|custom name]]@, such as:

<pre>
| header | [[FAQ]] | [[Plugins|List of Plugins]] |
|--------|---------|-----------------------------|
| aaa    | bbb     | ccc                         |
</pre>

The @[[Plugins|List of Plugins]]@ will get incorrectly truncated at @|@ which is interpreted as signaling the end of that column, and hence the URL link is not generated as it breaks off before reaching the @]]@."
23347,Redmine,Defect,NA,Closed,Normal,MySQL: You can't specify target table for update in FROM clause,Felix Sch?fer,Jean-Philippe Lang,2016-08-18T16:58:00Z,Database,3.4.0,NA,NA,NA,0,2016-07-15T13:32:00Z,2016-08-18T16:58:00Z,NA,Fixed,NA,"The down migration for @ClearEstimatedHoursOnParentIssues@ will fail on MySQL (5.6) with the following message:

<pre>
Mysql2::Error: You can't specify target table 'issues' for update in FROM clause: UPDATE `issues` SET estimated_hours = (SELECT SUM(leaves.estimated_hours) FROM issues leaves WHERE leaves.root_id = issues.root_id AND leaves.lft > issues.lft AND leaves.rgt < issues.rgt AND leaves.rgt = leaves.lft + 1) WHERE (rgt > lft + 1)
</pre>

Our quick fix was to explicitly make a temp table instead of referencing the issues table in the subquery:

<pre><code class=""diff"">
diff --git a/db/migrate/20150525103953_clear_estimated_hours_on_parent_issues.rb b/db/migrate/20150525103953_clear_estimated_hours_on_parent_issues.rb
index 8eed815..c00ada0 100644
--- a/db/migrate/20150525103953_clear_estimated_hours_on_parent_issues.rb
+++ b/db/migrate/20150525103953_clear_estimated_hours_on_parent_issues.rb
@@ -6,7 +6,7 @@ class ClearEstimatedHoursOnParentIssues < ActiveRecord::Migration

   def self.down
     table_name = Issue.table_name
-    leaves_sum_select = ""SELECT SUM(leaves.estimated_hours) FROM #{table_name} leaves"" +
+    leaves_sum_select = ""SELECT SUM(leaves.estimated_hours) FROM (SELECT * FROM #{table_name}) AS leaves"" +
       "" WHERE leaves.root_id = #{table_name}.root_id AND leaves.lft > #{table_name}.lft AND leaves.rgt < #{table_name}.rgt"" +
       "" AND leaves.rgt = leaves.lft + 1""

</code></pre>"
23357,Redmine,Defect,NA,Needs feedback,High,Broken links in email notification,Sebastian Paluch,NA,2018-01-03T10:18:00Z,Email notifications,NA,NA,NA,NA,0,2016-07-18T12:53:00Z,NA,NA,NA,3.3.0,"It seems that Redmine version 3.3.0 has broken links generation in email notifications for news (at least), with 3.2.0 noone was reporting such problem.

I have a news publish that includes following description:

<pre>
New software version#1267 has been released. It is ...

{{include(myproject:100-0_Alpha_2_(rev_93029))}}

h3. Feel free to report new issues

* ""myproject"":/redmine/projects/myproject/issues/new
</pre>

In email notification 
* the first link to version#1267 has been generated correctly, 
* the last one is missing server name that should be added automatically: 
http://redmine/projects/myproject/issues/new but should be http://host/redmine/projects/myproject/issues/new

Included wiki (myproject:100-0_Alpha_2_(rev_93029)) is in different project then the news and includes:

<pre>
h3. Requirements

* Service Pack version#1272 or newer

{{include(myproject:Update_Instruction)}}

...

</pre>

In email notification 
* the link to version#1272 has been generated wrong, it is missing server name: 
http://redmine/versions/1272 but should be http://host/redmine/versions/1272


Included wiki (myproject:Update_Instruction) is in different project then the news and includes:

<pre>
h3. Download

All pre-production software releases are available on the ""shared network location"":file://host\full\path\to\directory. 

...

</pre>

In email notification 
* the link to ""shared network location"" has been generated wrong, all ""\"" has been replaced with a code %5: 
file://\\host%5full%5path%5to%5directory
the link does not work and for some reason, it is not even possible to copy it from Outlook into clipboard

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [i386-mingw32]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  computed_custom_field          0.0.2
  inside_avatar                  1.0.2
  issue_filters                  1.0.1
  redmine_agile                  1.4.1-3
  redmine_checklists             3.1.1-1
  redmine_custom_columns         1.1.0
  redmine_favorite_projects      2.0.2-2
  redmine_version_fixed_issues   1.0.1
  sidebar_hide                   0.0.7
</pre>"
23377,Redmine,Defect,NA,Closed,High,"Don't show ""status"" field when creating a new version",Tobias Fischer,Jean-Philippe Lang,2016-08-31T19:27:00Z,Roadmap,3.4.0,NA,NA,NA,0,2016-07-19T19:18:00Z,2016-08-31T19:27:00Z,次のチケットが重複 #21416,Fixed,3.3.0,"When creating a new version from within the issue form field with the modal dialogue, the ""status"" option should be hidden.
It makes no sense to set this newly created version to ""closed"" or ""locked"" because then, it isn't selectable from the isuee form field.

----

_Defect duplicate of Feature #21416 as Feature request don't get ANY attention by the Redmine team._
_And in fact, this one here could also be called a bug instead of a feature..._"
23391,Redmine,Defect,NA,Closed,Normal,Wrong CSS classes in subtasks tree,Vasil Kovalevsky,Jean-Philippe Lang,2016-08-20T13:48:00Z,UI,3.3.1,NA,NA,NA,0,2016-07-21T04:06:00Z,2016-08-20T13:48:00Z,NA,Fixed,NA,"There was patch #21474
But there is mistake for ""render_descendants_tree"" method.
Now every child *tr* has class of current issue, but must has own
<pre>
css = ""issue issue-#{child.id} hascontextmenu #{issue.css_classes}""
</pre>
need to be
<pre>
css = ""issue issue-#{child.id} hascontextmenu #{child.css_classes}""
</pre>"
23394,Redmine,Defect,NA,New,Normal,Auto-assign on category selection does not work when assignee is a required field,JW Fuchs,NA,2016-08-19T06:42:00Z,Issues,NA,NA,NA,NA,0,2016-07-21T13:08:00Z,NA,"関連している #6889, 関連している #17555",NA,NA,"When the assignee is set as a mandatory field, the auto-assign function related to category does not work.

Test setting:
!01_required_field.PNG!

Category definition:
!02_category_settings.PNG!

Attempt to create issue:
!03_error_on_creation.PNG!

If the assignee requirement is removed, the assignee is set as expected after a category has been chosen and the issue has been created.


<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [i386-mingw32]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.16
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>

"
23395,Redmine,Defect,NA,Closed,Normal,Markdown formatter crashes,Andreas Kohlbecker,NA,2016-07-22T18:59:00Z,Text formatting,NA,NA,NA,NA,0,2016-07-21T14:05:00Z,2016-07-22T18:59:00Z,次のチケットと重複 #23246,Duplicate,3.3.0,"The markdown formatter crashes redmine 3.3.0 on interpreting the following incomplete markdown snipped.

<pre>
 [areas.php"" and ""points.php]()
</pre> 

This markdown has been created by converting textile to markdown using pandoc, see also #22005"
23396,Redmine,Defect,NA,Closed,Normal,Unable to import values for parent task,Sal Baki,NA,2016-08-18T13:04:00Z,Issues,NA,NA,NA,NA,0,2016-07-21T17:37:00Z,2016-07-22T19:11:00Z,NA,Invalid,3.1.3,"Unable to import values for parent task

Added by shivaranjani v about 4 years ago

I encountered this bug with the latest version and found that it was discussed 4 years ago.
message#31804

Dear Friends,
I have created a issue in redmine. Let us suppose its redmine id is 10. I have created two other issues manuaaly through create new issues and then added the parent id 10 in both of thes two issues. So now 10 is the parents and 11 and 12 are childs for the parent task.
When I am trying to import data through CSV, when mapping is done with repect to the general fields, there in the import screen it displays us an option to select for unique field. Since I am creation a relatioship based on redmine id, it is not being popluated in the drop down and hence forth unable to import. Kindly provide your inputs.
thanks inadvance.

Regards,
SR.
"
23410,Redmine,Defect,NA,Closed,Normal,Error if create new issue and there is no project,Quan VN,Jean-Philippe Lang,2016-08-31T18:55:00Z,Issues,3.3.1,NA,NA,NA,0,2016-07-23T09:50:00Z,2016-08-31T18:55:00Z,関連している #6204,Fixed,3.3.0,"The error occurs in this case
1. install new redmine and there is no project. 
2. From top menu, click Project
3. From this project index page, click View All Issue
4. From that issue index page, click on New Issue
Then the error 500 occurs with the following logs

Started GET ""/redmine/issues/new"" for 123.20.56.163 at 2016-07-23 07:41:55 +0000
Processing by IssuesController#new as HTML
  Current user: admin (id=1)
  Rendered issues/_attributes.html.erb (7.5ms)
  Rendered issues/_form.html.erb (26.4ms)
  Rendered issues/new.html.erb within layouts/base (28.5ms)
Completed 500 Internal Server Error in 100ms (ActiveRecord: 34.2ms)

ActionView::Template::Error (undefined method `assignable_users' for nil:NilClass):
    15: <% end %>
    16: 
    17: <% if @issue.safe_attribute? 'assigned_to_id' %>
    18: <p><%= f.select :assigned_to_id, principals_options_for_select(@issue.assignable_users, @issue.assigned_to), :include_blank => true, :required => @issue.required_attribute?('assigned_to_id') %></p>
    19: <% end %>
    20: 
    21: <% if @issue.safe_attribute?('category_id') && @issue.project.issue_categories.any? %>
  app/models/issue.rb:857:in `assignable_users'
  app/views/issues/_attributes.html.erb:18:in `block in _app_views_issues__attributes_html_erb___3587757851355343547_69925371132800'
  app/helpers/application_helper.rb:1058:in `labelled_fields_for'
  app/views/issues/_attributes.html.erb:1:in `_app_views_issues__attributes_html_erb___3587757851355343547_69925371132800'
  app/views/issues/_form.html.erb:42:in `block in _app_views_issues__form_html_erb___3675110379538404660_69925371413960'
  app/helpers/application_helper.rb:1058:in `labelled_fields_for'
  app/views/issues/_form.html.erb:1:in `_app_views_issues__form_html_erb___3675110379538404660_69925371413960'
  app/views/issues/new.html.erb:11:in `block in _app_views_issues_new_html_erb__153899361600342295_69925371381020'
  app/helpers/application_helper.rb:1051:in `labelled_form_for'
  app/views/issues/new.html.erb:5:in `_app_views_issues_new_html_erb__153899361600342295_69925371381020'
  app/controllers/issues_controller.rb:129:in `block (2 levels) in new'
  app/controllers/issues_controller.rb:128:in `new'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
"
23420,Redmine,Defect,NA,Closed,Normal,Error 500 whhen access to activity page of one project,Jean Louis,NA,2016-07-25T16:41:00Z,Activity view,NA,NA,NA,NA,0,2016-07-25T09:22:00Z,2016-07-25T16:41:00Z,NA,Invalid,3.3.0,"Version Redmine 3.3.0.devel.15732

Access to the activity page says internal error.

The production.log says :

<pre>
Started GET ""/projects/xxxx/activity"" for xxxx at 2016-07-25 09:17:02 +0200
Processing by ActivitiesController#index as HTML
  Parameters: {""id""=>""xxxx""}
  Current user: xxxx (id=4)
  Rendered plugins/redmine_my_page/app/views/activities/esi.html.erb within layouts/base (819.7ms)
Completed 500 Internal Server Error in 1766ms (ActiveRecord: 47.7ms)

ActionView::Template::Error (undefined method `link_to_content_update' for #<#<Class:0x007f7a465c6760>:0x0000000ab849f8>):
    22: <%= content_tag('p', l(:label_no_data), :class => 'nodata') if @events_by_day.empty? %>
    23:
    24: <div style=""float:left;"">
    25: <%= link_to_content_update(""\xc2\xab "" + l(:label_previous),
    26:                    params.merge(:from => @date_to - @days - 1),
    27:                    :title => l(:label_date_from_to, :start => format_date(@date_to - 2*@days), :end => format_date(@date_to - @days - 1)),
    28:                    :accesskey => accesskey(:previous)) %>
  plugins/redmine_my_page/app/views/activities/esi.html.erb:25:in `_0a5d68e156dc6329c172caa2c15a931c'
  plugins/redmine_my_page/lib/my_page_patches/activities_controller_patch.rb:71:in `block (2 levels) in index_with_esi'
  plugins/redmine_my_page/lib/my_page_patches/activities_controller_patch.rb:65:in `index_with_esi'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
  plugins/redmine_dmsf/lib/redmine_dmsf/webdav/no_parse.rb:33:in `call'
</pre>

The problem is in DMSF plugin or in redmine ?
"
23421,Redmine,Defect,NA,Closed,Normal,"Upgrade without ""development"" still tries to connect to ""development"" database",Arnis Juraga,NA,2016-07-25T16:26:00Z,NA,NA,NA,NA,NA,0,2016-07-25T09:52:00Z,2016-07-25T16:26:00Z,NA,Invalid,3.3.0,"I was upgrading @3.0.1@ to @3.3.0@
I used this command:

<pre><code class=""ruby"">
  bundle install --without development test rmagick
</code></pre>

But (using official upgrade instruction) running this script:

<pre><code class=""ruby"">
  bundle exec rake generate_secret_token
</code></pre>

gives me an error:

<pre><code class=""ruby"">
  rake aborted!
  ActiveRecord::AdapterNotSpecified: 'development' database is not configured. Available: [""production""]
</code></pre>


Although, this one executes without an error and everything looks working fine now:

<pre><code class=""ruby"">
  RAILS_ENV=production bundle exec rake generate_secret_token 
</code></pre>

Is it correct behavior?



"
23445,Redmine,Defect,NA,Closed,Normal,follow issue who is closed don't appears,laurent plassard,NA,2016-07-27T14:49:00Z,My page,NA,NA,NA,NA,0,2016-07-27T10:02:00Z,2016-07-27T14:49:00Z,NA,Invalid,NA,"When i closed an issue who is closed , this issue don't appears on my page.
thanks for help"
23449,Redmine,Defect,NA,Closed,Normal,NoMethodError (undefined method `where' for,Rainer Rutka,NA,2016-07-29T02:27:00Z,Search engine,NA,NA,NA,NA,0,2016-07-27T18:10:00Z,2016-07-29T02:27:00Z,NA,Invalid,3.2.0,"When i try to search for a string in RM 3.2 I get an error:

Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

--
This is an excerpt from the log:

<pre>
redmine@projects:/srv/redmine/ror/log$ cat sea*
Processing by SearchController#index as HTML
  Parameters: {""utf8""=>""?"", ""q""=>""Rainer""}
  Current user: rainer.rutka (id=678)
Completed 500 Internal Server Error in 661ms (ActiveRecord: 467.5ms)

NoMethodError (undefined method `where' for #<Hash:0x007f3e16f5d740>):
  lib/plugins/acts_as_searchable/lib/acts_as_searchable.rb:93:in `search_result_ranks_and_ids'
  lib/redmine/search.rb:127:in `block in load_result_ids'
  lib/redmine/search.rb:125:in `each'
  lib/redmine/search.rb:125:in `load_result_ids'
  lib/redmine/search.rb:115:in `block in load_result_ids_from_cache'
  lib/redmine/search.rb:114:in `load_result_ids_from_cache'
  lib/redmine/search.rb:99:in `result_ids'
  lib/redmine/search.rb:70:in `result_count'
  app/controllers/search_controller.rb:65:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
redmine@projects:/srv/redmine/ror/log$
</pre> 

My configs:

<pre>
Environment:
  Redmine version        3.2.0.stable.15148
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.5
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Cvs                            1.12.13
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.4.1
  redmine_code_review            0.7.0
  redmine_knowledgebase          3.2.0
  redmine_meetings               0.2.7
  redmine_mylyn_connector        2.8.2.stable
  redmine_tweaks                 0.5.8-dev
  redmine_watcher_groups         0.0.3git
  scrum                          0.14.0
</pre>

THANK YOU ! :-)"
23467,Redmine,Defect,NA,New,High,Related tasks only allow dependencies to work in whole days,David  Taylor,NA,2016-07-29T04:51:00Z,Issues workflow,NA,NA,NA,NA,0,2016-07-29T04:51:00Z,NA,NA,NA,3.3.0,"Setting up dependent tasks fails if the tasks are closer than one day eg

20/06/2016 - Install Server, 2hrs <followed by> 
20/06/2016 - Configure Server 2hrs 

So project dependencies are unusable for tasks that take less than a day
"
23472,Redmine,Defect,NA,Closed,Normal,"Show open issues only in ""Reported Issues"" on My page",JW Fuchs,Jean-Philippe Lang,2016-08-31T18:59:00Z,My page,3.3.1,NA,NA,NA,0,2016-07-29T15:21:00Z,2016-08-31T18:59:00Z,"関連している #15777, 次のチケットが重複 #7687",Fixed,NA,"On ""My Page"" both widgets ""Watched issues"" and ""Issues assigned to me"" show only open issues. ""Reported issues"" shows issues with any status. I believe all three widgets should filte open issues only."
23478,Redmine,Defect,NA,Closed,Normal,Admit permissions on issue for specific users or groups,Piotr Sulima,NA,2016-08-08T14:47:00Z,Permissions and roles,NA,NA,NA,NA,0,2016-07-31T17:18:00Z,2016-08-08T14:47:00Z,NA,Duplicate,NA,"If I add *observer* for *issue* or *project* with no grand permission - users can't see assigned issue or project. This don't work wen we create subproject and copy permissions or admit permissions for that person.
That should be?"
23494,Redmine,Defect,NA,Closed,Normal,cannot search with keywords?,Steven Wong,NA,2016-08-02T10:30:00Z,Search engine,NA,NA,NA,NA,0,2016-08-02T10:08:00Z,2016-08-02T10:30:00Z,NA,Duplicate,3.3.0,"input keyword test123 and search occurred 500 error?

log
<pre>
Started GET ""/projects/demo/search?utf8=%E2%9C%93&q=test123"" for 192.168.60.238 at 2016-08-02 16:06:11 +0800
Processing by SearchController#index as HTML
  Parameters: {""utf8""=>""?"", ""q""=>""test123"", ""id""=>""demo""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 15.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_request.text.erb (0.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_session.text.erb (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_environment.text.erb (2.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_backtrace.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.2.4@newgemset/gems/exception_notification-4.2.1/lib/exception_notifier/views/exception_notifier/exception_notification.text.erb (11.3ms)

NoMethodError (undefined method `where' for #<Hash:0x007fbd6427b6d0>):
  lib/plugins/acts_as_searchable/lib/acts_as_searchable.rb:197:in `search_scope'
  lib/plugins/acts_as_searchable/lib/acts_as_searchable.rb:92:in `search_result_ranks_and_ids'
  lib/redmine/search.rb:127:in `block in load_result_ids'
  lib/redmine/search.rb:125:in `each'
  lib/redmine/search.rb:125:in `load_result_ids'
  lib/redmine/search.rb:115:in `block in load_result_ids_from_cache'
  lib/redmine/search.rb:114:in `load_result_ids_from_cache'
  lib/redmine/search.rb:99:in `result_ids'
  lib/redmine/search.rb:70:in `result_count'
  app/controllers/search_controller.rb:75:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

</pre>"
23495,Redmine,Defect,NA,Closed,Normal,error 500 when trying to create enumeration,Jeffrey Lin,NA,2017-03-21T16:52:00Z,Database,NA,NA,NA,NA,0,2016-08-02T12:26:00Z,2017-03-21T16:52:00Z,NA,NA,3.3.0,"redmine version: redmine-3.3.0
mysql version: 5.7.9 MySQL Community Server (GPL)

+*database.yml:*+
<pre>
production:
  adapter: mysql2
  database: redmine
  host: 127.0.0.1
  username: root
  password: ""123456""
  encoding: utf8
</pre>

when trying to create enumeration item,
error 500 occured and the error log as below:

+*production.log:*+
<pre>
Started POST ""/enumerations"" for 10.0.2.2 at 2016-08-02 17:11:14 +0800
Processing by EnumerationsController#create as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""1y/MDFaS0y/kgNdIhnmJtilq1vzmJ7a/a7ULs6L7/mYB80OLGXyN32vdR38dWEJGQXEkTLVbrb80wX6Uakw1vw=="", ""enumeration""=>{""type""=>""IssuePriority"", ""name""=>""1"", ""active""=>""1"", ""is_default""=>""0""}, ""commit""=>""?建""}
  Current user: admin (id=1)
WARNING: Can't mass-assign protected attributes for IssuePriority: type
	lib/redmine/subclass_factory.rb:42:in `new_subclass_instance'
	app/controllers/enumerations_controller.rb:93:in `build_new_enumeration'
	lib/redmine/sudo_mode.rb:63:in `sudo_mode'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 21.3ms)

ActiveRecord::StatementInvalid (Mysql2::Error: You can't specify target table 'enumerations' for update in FROM clause: UPDATE `enumerations` SET position = coalesce((
          select position
          from (select id, position from enumerations) as parent
          where parent_id = parent.id), 1) WHERE `enumerations`.`type` IN ('IssuePriority') AND (`enumerations`.`parent_id` IS NOT NULL) ORDER BY `enumerations`.`position` ASC):
  app/models/enumeration.rb:152:in `update_position'
  app/controllers/enumerations_controller.rb:47:in `create'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
23502,Redmine,Defect,NA,Closed,Normal,Internal error,杰 ?,NA,2016-08-22T04:52:00Z,NA,NA,NA,NA,NA,0,2016-08-03T10:28:00Z,2016-08-22T04:52:00Z,NA,Invalid,NA,"Started GET ""/users/1/edit"" for 192.168.2.214 at 2016-07-27 05:28:09 +0800
Processing by UsersController#edit as HTML
  Parameters: {""id""=>""1""}
  Current user: admin (id=1)
  Rendered users/_mail_notifications.html.erb (6.3ms)
  Rendered users/_form.html.erb (43.2ms)
  Rendered users/_general.html.erb (44.2ms)
  Rendered common/_tabs.html.erb (45.6ms)
  Rendered users/edit.html.erb within layouts/admin (49.6ms)
Completed 500 Internal Server Error in 59.9ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    8:      ) %>
    9: </p>
    10: <%= content_tag 'div', :id => 'notified-projects', :style => (@user.mail_notification == 'selected' ? '' : 'display:none;') do %>
    11:   <%= render_project_nested_lists(@user.projects) do |project|
    12:         content_tag('label', 
    13:           check_box_tag(
    14:             'user[notified_project_ids][]',
  app/helpers/application_helper.rb:258:in `render_project_nested_lists'
  app/views/users/_mail_notifications.html.erb:11:in `block in _app_views_users__mail_notifications_html_erb___2335893458480175003_44362240'
  app/views/users/_mail_notifications.html.erb:10:in `_app_views_users__mail_notifications_html_erb___2335893458480175003_44362240'
  app/views/users/_form.html.erb:45:in `_app_views_users__form_html_erb___1797304240538344005_45717900'
  app/views/users/_general.html.erb:2:in `block in _app_views_users__general_html_erb___2769203040943940676_45800000'
  app/helpers/application_helper.rb:1043:in `labelled_form_for'
  app/views/users/_general.html.erb:1:in `_app_views_users__general_html_erb___2769203040943940676_45800000'
  app/views/common/_tabs.html.erb:22:in `block in _app_views_common__tabs_html_erb___3648134086700074302_45900120'
  app/views/common/_tabs.html.erb:21:in `each'
  app/views/common/_tabs.html.erb:21:in `_app_views_common__tabs_html_erb___3648134086700074302_45900120'
  app/helpers/application_helper.rb:318:in `render_tabs'
  app/views/users/edit.html.erb:9:in `_app_views_users_edit_html_erb__1027727547820072907_49808400'"
23505,Redmine,Defect,NA,Closed,Normal,"When I added custom field to notes , does not appear on it",David  Sanchez,NA,2016-08-27T06:56:00Z,Issues,NA,NA,NA,NA,0,2016-08-03T19:06:00Z,2016-08-27T06:56:00Z,NA,Invalid,2.6.0,"Under Administration>Custom Fields , select Notes and create a new one.
Set the fields required.

then , I´m going to a issue and modifyng on notes section there is not a cumtom fields configurated.

Any suggetion?

Thanks.David."
23511,Redmine,Defect,NA,Closed,Normal,Progress of parent task should be calculated using total estimated hours of children,Zouheir Najai,Jean-Philippe Lang,2016-09-01T19:05:00Z,Issues,3.4.0,NA,NA,NA,0,2016-08-04T22:59:00Z,2016-09-01T19:05:00Z,"関連している #20995, 関連している #24457, 次のチケットが重複 #24213, 次のチケットが重複 #23151",Fixed,3.2.3,"Problem of calculating the percentage of completion of a Issue(see the attached file).

When ""child"" has ""sub-child"": estimated_hours is nil, therefore is not accounted in ""average"" (line 1534).
 
Issue.total_estimated_hours has to be accounted in this estimate.
 
app/model/issue.rb:

<pre><code class=""ruby"">
   1511   def recalculate_attributes_for(issue_id)
   1512     if issue_id && p = Issue.find_by_id(issue_id)
   1513       if p.priority_derived?
   1514         # priority = highest priority of children
   1515         if priority_position = p.children.joins(:priority).maximum(""#{IssuePriority.table_name}.position"")
   1516           p.priority = IssuePriority.find_by_position(priority_position)
   1517         end
   1518       end
   1519
   1520       if p.dates_derived?
   1521         # start/due dates = lowest/highest dates of children
   1522         p.start_date = p.children.minimum(:start_date)
   1523         p.due_date = p.children.maximum(:due_date)
   1524         if p.start_date && p.due_date && p.due_date < p.start_date
   1525           p.start_date, p.due_date = p.due_date, p.start_date
   1526         end
   1527       end
   1528
   1529       if p.done_ratio_derived?
   1530         # done ratio = weighted average ratio of leaves
   1531         unless Issue.use_status_for_done_ratio? && p.status && p.status.default_done_ratio
   1532           child_count = p.children.count
   1533           if child_count > 0
   1534             average = p.children.where(""estimated_hours > 0"").average(:estimated_hours).to_f
   1535             if average == 0
   1536               average = 1
   1537             end
   1538             done = p.children.joins(:status).
   1539               sum(""COALESCE(CASE WHEN estimated_hours > 0 THEN estimated_hours ELSE NULL END, #{average}) "" +
   1540                   ""* (CASE WHEN is_closed = #{self.class.connection.quoted_true} THEN 100 ELSE COALESCE(done_ratio, 0) END)"").to_f
   1541             progress = done / (average * child_count)
   1542             p.done_ratio = progress.round
   1543           end
   1544         end
   1545       end
   1546
   1547       # ancestors will be recursively updated
   1548       p.save(:validate => false)
   1549     end
   1550   end
</code></pre> 
 
Possible Fix:

<pre><code class=""diff"">
--- issue.rb.ori        2016-08-01 11:44:53.220332666 -0400
+++ issue.rb    2016-08-01 11:45:07.395332666 -0400
@@ -1531,13 +1531,12 @@
         unless Issue.use_status_for_done_ratio? && p.status && p.status.default_done_ratio
           child_count = p.children.count
           if child_count > 0
-            average = p.children.where(""estimated_hours > 0"").average(:estimated_hours).to_f
+            average = p.total_estimated_hours / child_count
             if average == 0
               average = 1
             end
-            done = p.children.joins(:status).
-              sum(""COALESCE(CASE WHEN estimated_hours > 0 THEN estimated_hours ELSE NULL END, #{average}) "" +
-                  ""* (CASE WHEN is_closed = #{self.class.connection.quoted_true} THEN 100 ELSE COALESCE(done_ratio, 0) END)"").to_f
+            done = 0
+            p.children.each { |c| done += (c.total_estimated_hours * c.done_ratio) }
             progress = done / (average * child_count)
             p.done_ratio = progress.round
           end
</code></pre> 

When one manually enter the estimated time. 
In the original program, based on the average of other tasks to calculate progress. I keep the same approach in the patch :



<pre><code class=""diff"">
--- issue.rb.ori        2016-08-01 11:44:53.220332666 -0400
+++ issue.rb    2016-08-01 13:42:18.138330460 -0400
@@ -1531,13 +1531,19 @@
         unless Issue.use_status_for_done_ratio? && p.status && p.status.default_done_ratio
           child_count = p.children.count
           if child_count > 0
-            average = p.children.where(""estimated_hours > 0"").average(:estimated_hours).to_f
+            average = (p.total_estimated_hours||=0) / child_count
             if average == 0
               average = 1
             end
-            done = p.children.joins(:status).
-              sum(""COALESCE(CASE WHEN estimated_hours > 0 THEN estimated_hours ELSE NULL END, #{average}) "" +
-                  ""* (CASE WHEN is_closed = #{self.class.connection.quoted_true} THEN 100 ELSE COALESCE(done_ratio, 0) END)"").to_f
+            done = 0
+            p.children.each do |c|
+               dr =  c.closed_on.nil? ? (c.done_ratio||=0) : 100
+               unless c.total_estimated_hours.nil? || c.total_estimated_hours == 0
+                       done += (c.total_estimated_hours * c.done_ratio)
+               else
+                       done += average * c.done_ratio
+               end
+           end
             progress = done / (average * child_count)
             p.done_ratio = progress.round
           end
</code></pre>"
23542,Redmine,Defect,NA,Closed,Normal,Internal Error - After click botton Apply Plugin CRM AGILE - 1.4.1,Alexandre Corsi  Abdalla,NA,2016-08-09T04:21:00Z,NA,NA,NA,NA,NA,0,2016-08-08T23:10:00Z,2016-08-09T04:21:00Z,NA,Invalid,NA,"Recently I installed Plugin CRM AGILE PRO version 1.4.1 in my redmine version 3.2. When I realize the use of creating dashboards and clicking the ""apply "" button is reported an error screen named ""Internal Error"".

I need a help to resolve this incident.

Thanks for attention and return.


"
23557,Redmine,Defect,NA,Closed,Normal,Special (micro) character in message field causes internal server error,Hexus DTech,NA,2016-08-29T13:42:00Z,Database,NA,NA,NA,NA,0,2016-08-10T11:19:00Z,2016-08-29T13:42:00Z,NA,Invalid,3.3.0,"Saving a message to a forum or an issue with micro symbol causes an error.

<pre>
Rendered boards/show.html.erb within layouts/base (15.6ms)
Completed 200 OK in 94ms (Views: 46.8ms | ActiveRecord: 46.8ms)
Started POST ""/redmine/boards/3/topics/new"" for 127.0.0.1 at 2016-08-10 12:09:12 +0300
Processing by MessagesController#new as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""Sl4Hej3CWWzGsWT4Wr/JZpBXdfGbvYA5vfE+BsGDsqfFgqUOX/FrB2t3gGAmiAlsv4OUViUotQyP8X4mnQwD2Q=="", ""message""=>{""subject""=>""bug test redmine"", ""sticky""=>""0"", ""locked""=>""0"", ""content""=>""μm is for micrometer\r\n\r\n""}, ""commit""=>""Create"", ""board_id""=>""3""}
  Current user: heikki (id=1)
Completed 500 Internal Server Error in 140ms (ActiveRecord: 140.4ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xCE\xBCm is...' for column 'content' at row 1: INSERT INTO `messages` (`author_id`, `board_id`, `subject`, `content`, `created_on`, `updated_on`) VALUES (1, 3, 'bug test redmine', 'μm is for micrometer\r\n\r\n', '2016-08-10 12:09:12', '2016-08-10 12:09:12')):
  app/controllers/messages_controller.rb:63:in `new'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
 500 Internal Server Error in 47ms (ActiveRecord: 15.6ms)

...

ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xCE\xBCm' for column 'description' at row 1: INSERT INTO `issues` (`project_id`, `author_id`, `tracker_id`, `status_id`, `subject`, `description`, `priority_id`, `updated_on`, `created_on`, `lock_version`) VALUES (84, 1, 15, 1, 'issue microtest', 'μm', 4, '2016-08-10 12:11:59', '2016-08-10 12:11:59', 0)):
  app/models/issue.rb:210:in `create_or_update'
  app/controllers/issues_controller.rb:140:in `create'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'


</pre>


Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [i386-mingw32]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.16
  Git                            2.7.4
  Filesystem
Redmine plugins:
  no plugin installed



"
23558,Redmine,Defect,NA,Closed,Normal,IssueImportTest#test_should_not_import_with_default_tracker_when_tracker_is_invalid fails randomly,Stefan Rinkes,NA,2016-09-08T20:14:00Z,Code cleanup/refactoring,3.3.1,NA,NA,NA,0,2016-08-10T12:14:00Z,2016-09-08T20:14:00Z,NA,Fixed,3.3.0,"To test redmine plugins, I also run redmine tests to verify the plugin doesn't screw things up.

But sometimes I get this Test Failure:
<pre>
  1) Failure:
IssueImportTest#test_should_not_import_with_default_tracker_when_tracker_is_invalid [test/unit/issue_import_test.rb:89]:
""Tracker cannot be blank"" not found in ""Tracker doit ?tre renseign?(e)
Statut doit ?tre renseign?(e)""
</pre>

What I do is:
<pre>
$ rake db:drop db:create db:migrate redmine:plugins:migrate RAILS_ENV=test REDMINE_LANG=en
....
$ rake redmine:load_default_data RAILS_ENV=test REDMINE_LANG=en
Default configuration data loaded.
$ rake test
....
</pre>

I happens about once in three runs.
Redmine Version is 3.3.0.

Setting REDMINE_LANG for rake test doesn't help.

Any Ideas?"
23569,Redmine,Defect,NA,Closed,Normal,Custom date field is not saved in (saved) queries,Teogenes da Nobrega,NA,2016-09-06T08:09:00Z,Custom fields,NA,NA,NA,NA,0,2016-08-11T16:05:00Z,2016-09-06T08:09:00Z,NA,NA,3.2.3,"Steps to reproduce the defect:

1. Add a custom date field (millestone_x) to a tracker.

2. Create a custom query using the custom date field (millestone_x) as one of the filters. For instance, let's set a filter where <millestone_x> <is> <this week>.

3. Then save this query to be visible <to any users> and <For all projects>

4. BUG: Aparently, the query is properly saved. However, if you run the report you'll see that the custom date field (millestone_x) is NOT amongst the selected filters.

Aditional information:


Environment:
  Redmine version                3.2.3.stable
  Ruby version                   2.2.2-p95 (2015-04-13) [x86_64-linux-gnu]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  computed_custom_field          0.0.6
  gantt_extension                0.2
  meta                           0.2.3
  redmine__select2               1.0.5
  redmine_customize_core_fields  1.0.0
  redmine_improved_searchbox     0.0.3
  redmine_tkgmap                 0.1
  redmine_wktime                 2.2
  scrum                          0.14.0
"
23574,Redmine,Defect,NA,Closed,Normal,Issue subjects are truncated at 60 characters on my page,JW Fuchs,NA,2017-10-15T04:20:00Z,My page,NA,NA,NA,NA,0,2016-08-12T10:38:00Z,2017-10-15T04:14:00Z,"関連している #18659, 関連している #1565",Fixed,NA,"While the 60 character limitation has been removed elsewhere (see #18659, #19970), the issue still persists in several places, including ""My Page"":

!truncated_subject.PNG!"
23575,Redmine,Defect,NA,Closed,Normal,Issue subjects are truncated at 60 characters on activity page,JW Fuchs,Jean-Philippe Lang,2016-10-05T09:54:00Z,UI,3.4.0,NA,NA,NA,0,2016-08-12T10:39:00Z,2016-10-01T13:06:00Z,NA,Fixed,NA,"While the 60 character limitation has been removed elsewhere (see #18659, #19970), the issue still persists in several places, including the activity page:

!activity_truncated.PNG!"
23576,Redmine,Defect,NA,New,Normal,Issue export to PDF causes overlapping text for related issues in German locale,JW Fuchs,NA,2016-09-08T12:28:00Z,PDF export,NA,NA,NA,NA,0,2016-08-12T14:06:00Z,NA,NA,NA,NA,"The Status names are all longer than the default english text. This causes text overlap in the issue export to PDF:

!text_overlap.PNG!

We have an even longer status name ""Gel?st/Ausgeliefert"" (19 characters), therefore the displayed status and date for related issues should be moved separated by at least another 10-15 characters."
23586,Redmine,Defect,NA,Needs feedback,Normal,Create index on mysql exceed limits,Chen Lei,NA,2017-12-21T12:49:00Z,Database,NA,NA,NA,NA,0,2016-08-15T09:53:00Z,NA,NA,NA,3.2.3,"When I create database:

 RAILS_ENV=production bundle exec rake db:migrate

Got these errors, Redmine version: (3.3.0, 3.2.3 git master)

<pre>
-- add_index(:wiki_pages, [:wiki_id, :title], {:name=>:wiki_pages_wiki_id_title})
rake aborted!
StandardError: An error has occurred, all later migrations canceled:

Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE  INDEX `wiki_pages_wiki_id_title`  ON `wiki_pages` (`wiki_id`, `title`) 
/opt/redmine/db/migrate/028_create_wiki_pages.rb:8:in `up'
/usr/local/bin/bundle:22:in `load'
/usr/local/bin/bundle:22:in `<main>'
ActiveRecord::StatementInvalid: Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE  INDEX `wiki_pages_wiki_id_title`  ON `wiki_pages` (`wiki_id`, `title`) 
/opt/redmine/db/migrate/028_create_wiki_pages.rb:8:in `up'
/usr/local/bin/bundle:22:in `load'
/usr/local/bin/bundle:22:in `<main>'
Mysql2::Error: Specified key was too long; max key length is 767 bytes
/opt/redmine/db/migrate/028_create_wiki_pages.rb:8:in `up'
/usr/local/bin/bundle:22:in `load'
/usr/local/bin/bundle:22:in `<main>'
Tasks: TOP => db:migrate
(See full trace by running task with --trace)
</pre>"
23594,Redmine,Defect,NA,Closed,Normal,"Double E-mail Notifications for ""issues in the next 3 days""",匿名ユーザー,NA,2016-08-19T06:27:00Z,Email notifications,NA,NA,NA,NA,0,2016-08-16T09:47:00Z,2016-08-19T06:27:00Z,NA,Invalid,NA,"My account is set to e-mail me on ""projects I watch or involved in"", however over day at 9:00am I receive two e-mails with these issue reports."
23596,Redmine,Defect,NA,Closed,Normal,Filter on issue ID with between/lesser/greater operator does not work,JW Fuchs,Jean-Philippe Lang,2016-08-31T18:55:00Z,Issues filter,3.3.1,NA,NA,NA,0,2016-08-16T15:14:00Z,2016-08-31T18:55:00Z,関連している #4806,Fixed,3.3.0,"Version 3.3.0 introduced the feature to filter by issues by id, including range, see #4806. 

This feature does not work correctly. When a range should be displayed, only a single issue is returned.

Several issues exist in test database:

!list_of_issues.PNG!


Query result should show IDs 5 to 10:

!list_greater_id_five.PNG!


Query result should show IDs 6 to 8:

!list_range_id_six_to_eight.PNG!"
23614,Redmine,Defect,NA,New,Normal,"Mercurial: Impossible to work with repositories, which contain hidden revisions (Evolve extension enabled)",Andrey Gorbunov,NA,2016-08-19T02:38:00Z,SCM,NA,NA,NA,NA,0,2016-08-19T01:56:00Z,NA,NA,NA,3.3.0,"Repository page shows this error:
>Error accessing the repository: hg exited with non-zero status: 255

scm log contains:
<pre>
abort: hidden revision '7386'!
(use --hidden to access hidden revisions)
</pre>"
23633,Redmine,Defect,NA,Closed,Normal,New role does not have non member permissions prefilled as default,Go MAEDA,Jean-Philippe Lang,2016-10-25T16:13:00Z,Permissions and roles,NA,NA,NA,NA,0,2016-08-22T15:26:00Z,2016-10-10T10:10:00Z,NA,Fixed,NA,"r15667 - We can see ""Issues visibility"" and ""Time logs visibility"":
!roles-new-r15667.png!

r15668 - ""Issues visibility"" and ""Time logs visibility"" are invisible:
!roles-new-r15668.png!"
23636,Redmine,Defect,NA,Closed,Normal,Problem with bare repo,Abraham Cruz,NA,2016-08-23T10:32:00Z,NA,NA,NA,NA,NA,0,2016-08-23T05:18:00Z,2016-08-23T10:32:00Z,NA,Invalid,2.4.2,"In my team we are trying to move out from Gitlab to handle issues and use Redmine, however one very important part is the ability to make reference to the issues from the commits, however looks like this cannot be done if redmine and gitlab are installed in the same server.

I've been reading forums and issues here for a couple of hours now and I'm unable to solve the problem, but I think I have a good idea of what is happening now.

After doing the installation in the same server I have gitlab, I did try to make the relation of the project with the repo, without success. All the permissions are ok and the paths are correct, but the error keeps saying the directory is not a repository, which I know it is. However, I did one test. I made another installation of redmine in another server and did a mirror of the same repo in that new server... it worked without any problem. 

Then I made another test: If I create a brand new repo as bare, and try to use it in the same server, it will not work. 

So looks like the problem is only when creating bare repos in the same server. Otherwise it works ok. Do you have any idea how can I fix this?"
23643,Redmine,Defect,NA,New,Normal,Activity page shows news description instead of summary,JW Fuchs,NA,2016-08-23T15:09:00Z,News,NA,NA,NA,NA,0,2016-08-23T14:33:00Z,NA,NA,NA,NA,"It seems unintuitive that the summary of a news entry is only used in a project's overview and not also for the activity page.

Test news item:
!test_news.PNG!



This is shown on the overview page:
!project_overview.PNG!



This is shown on the activity page:
!project_activity.PNG!



The activity page should also display the news summary."
23651,Redmine,Defect,NA,New,Normal,Closed projects are listed in main quick jump box,Maxim Kru?ina,NA,2016-09-06T12:46:00Z,UI,NA,NA,NA,NA,0,2016-08-24T11:07:00Z,NA,NA,NA,3.3.0,"IMHO, closed project shouldnt be listed here.
Or at least, there can be switch (something like [x] Also search in closed projects), or it can be set in main configuration.
But now, when we have access for our customers to our Redmine, there is soo much old-closed projects listed here."
23655,Redmine,Defect,NA,Closed,Normal,Restricted permissions for non member/anonymous on a given project not working,Alexander Schittler,Jean-Philippe Lang,2016-08-31T18:52:00Z,Permissions and roles,3.1.7,NA,NA,NA,0,2016-08-24T16:02:00Z,2016-08-31T18:52:00Z,NA,Fixed,3.1.3,"When assigning a custom role ""Non-member user"", permission inheritance is broken (or simply undefined behavior because the Yes/No/Never model does not apply) on some views, when:

* The default ""Non-member user"" role has _View Issue_ and _Issue Visibility_ set to all.
* The custom assigned role has _View Issue_, but _Issue Visibility_ set to created and assigned. 

With this setup, the user will be able to see Issues not related to them at /issues, but /issues/<id> will throw a 403.

This might affect other features that use role-based filtering too (e.g. Time Logs, Users)."
23660,Redmine,Defect,NA,New,Normal,Email notification on description change without activity view entry,JW Fuchs,NA,2016-08-25T09:36:00Z,Activity view,NA,NA,NA,NA,0,2016-08-25T09:27:00Z,NA,関連している #13314,NA,3.3.0,"When an issue description is changed, this is not logged in the activity view (as described in [[RedmineProjectActivity]]). An email notification of the change is sent though. 

There should either be both an activity entry & email (preferred) or neither. Having only seems very confusing. 

Also see #13314."
23671,Redmine,Defect,NA,Closed,Normal,"The Redmine Down with logs:""Rendered mailer/reminder.html.erb within layouts/mailer"" and ""REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!.""",hony yii,NA,2016-08-26T04:32:00Z,NA,NA,NA,NA,NA,0,2016-08-26T04:14:00Z,2016-08-26T04:32:00Z,NA,Invalid,2.5.0,"Redmine version 2.5
At the beginning of August I met an issue.
When I want to login,I can see the login page but when I fill Account and Password and click login the system show a new page with ""internal error"" to me. 

and in the logs I found:


=====
Start: 7
Days : 7
Looking up projects to process...
Found 49 digestable projects out of 49 total projects.
Projects to process: B81C, B753, B754, TELEMATICS, B81C - W2, B81C - W3, B81C - W4, B753 - W3, B753 - W2, B753 - W4, C206, EP GEN 6.1, EB2, B751, B754 - W2, TITAN, B753 - Middle Life, ESL, EP8F ESL technical events, B754 - W1, B753 - W5, B81C-W5, B81C - W5, B754 - Middle Life, X74, X83, 1-Vehicle, 2-Engine, 3-Others, MRN step 4, B753-Export, B754-Export, ESP9, B753-60Y, B753-F07, B753-F03, B754-F03, EP GEN 6.2, B753 Fleet, B754-F11, NAC/RCC, B81-F03, B81-F07, B81-F11, B753-F11, B754-F07, B751-F03, B751-F11, China 6

** Processing project 'B81C'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 42
Found 42 events.
Default setting for whether digest is active for users: true
Found 129 digest recipients out of 286 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (78.1ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (31.2ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B81C] Activity: 42 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B753'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 55
Found 55 events.
Default setting for whether digest is active for users: true
Found 150 digest recipients out of 359 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (93.8ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (218.7ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B753] Activity: 55 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B754'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news"", ""documents""]
events.count: 44
Found 44 events.
Default setting for whether digest is active for users: true
Found 161 digest recipients out of 352 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (31.3ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (31.2ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B754] Activity: 44 events (from 2016-07-25 to 2016-07-31)

** Processing project 'TELEMATICS'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 11
Found 11 events.
Default setting for whether digest is active for users: true
Found 5 digest recipients out of 19 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (62.5ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (171.9ms)
Email sent.
Sent digest: [TELEMATICS] Activity: 11 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B81C - W2'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project B81C - W2.

** Processing project 'B81C - W3'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project B81C - W3.

** Processing project 'B81C - W4'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project B81C - W4.

** Processing project 'B753 - W3'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project B753 - W3.

** Processing project 'B753 - W2'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 3
Found 3 events.
Default setting for whether digest is active for users: true
Found 97 digest recipients out of 246 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (0.0ms)
Email sent.
Sent digest: [B753 - W2] Activity: 3 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B753 - W4'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 2
Found 2 events.
Default setting for whether digest is active for users: true
Found 107 digest recipients out of 262 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (0.0ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (0.0ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B753 - W4] Activity: 2 events (from 2016-07-25 to 2016-07-31)

** Processing project 'C206'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project C206.

** Processing project 'EP GEN 6.1'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues""]
events.count: 0
No events were found for project EP GEN 6.1.

** Processing project 'EB2'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project EB2.

** Processing project 'B751'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 34
Found 34 events.
Default setting for whether digest is active for users: true
Found 162 digest recipients out of 328 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (93.7ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (62.5ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B751] Activity: 34 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B754 - W2'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 1
Found 1 events.
Default setting for whether digest is active for users: true
Found 104 digest recipients out of 225 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (0.0ms)
Email sent.
Email delivery error: An existing connection was forcibly closed by the remote host.
Sent digest: [B754 - W2] Activity: 1 events (from 2016-07-25 to 2016-07-31)

** Processing project 'TITAN'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project TITAN.

** Processing project 'B753 - Middle Life'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 33
Found 33 events.
Default setting for whether digest is active for users: true
Found 80 digest recipients out of 188 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (62.5ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (78.1ms)
Email sent.
Sent digest: [B753 - Middle Life] Activity: 33 events (from 2016-07-25 to 2016-07-31)

** Processing project 'ESL'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 10
Found 10 events.
Default setting for whether digest is active for users: true
Found 46 digest recipients out of 81 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (31.3ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (15.6ms)
Email sent.
Sent digest: [ESL] Activity: 10 events (from 2016-07-25 to 2016-07-31)

** Processing project 'EP8F ESL technical events'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project EP8F ESL technical events.

** Processing project 'B754 - W1'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B754 - W1.

** Processing project 'B753 - W5'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753 - W5.

** Processing project 'B81C-W5'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B81C-W5.

** Processing project 'B81C - W5'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B81C - W5.

** Processing project 'B754 - Middle Life'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B754 - Middle Life.

** Processing project 'X74'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project X74.

** Processing project 'X83'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project X83.

** Processing project '1-Vehicle'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news"", ""documents""]
events.count: 147
Found 147 events.
Default setting for whether digest is active for users: true
Found 0 digest recipients out of 1 project members/groups.
No members were found for project 1-Vehicle.

** Processing project '2-Engine'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 10
Found 10 events.
Default setting for whether digest is active for users: true
Found 1 digest recipients out of 4 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (31.3ms)
Email sent.
Sent digest: [2-Engine] Activity: 10 events (from 2016-07-25 to 2016-07-31)

** Processing project '3-Others'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""changesets"", ""news""]
events.count: 11
Found 11 events.
Default setting for whether digest is active for users: true
Found 0 digest recipients out of 1 project members/groups.
No members were found for project 3-Others.

** Processing project 'MRN step 4'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project MRN step 4.

** Processing project 'B753-Export'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753-Export.

** Processing project 'B754-Export'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B754-Export.

** Processing project 'ESP9'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project ESP9.

** Processing project 'B753-60Y'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753-60Y.

** Processing project 'B753-F07'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753-F07.

** Processing project 'B753-F03'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753-F03.

** Processing project 'B754-F03'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B754-F03.

** Processing project 'EP GEN 6.2'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project EP GEN 6.2.

** Processing project 'B753 Fleet'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B753 Fleet.

** Processing project 'B754-F11'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 6
Found 6 events.
Default setting for whether digest is active for users: true
Found 47 digest recipients out of 117 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (0.0ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (0.0ms)
Email sent.
Sent digest: [B754-F11] Activity: 6 events (from 2016-07-25 to 2016-07-31)

** Processing project 'NAC/RCC'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 11
Found 11 events.
Default setting for whether digest is active for users: true
Found 5 digest recipients out of 13 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (46.9ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (62.5ms)
Email sent.
Sent digest: [NAC/RCC] Activity: 11 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B81-F03'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B81-F03.

** Processing project 'B81-F07'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 0
No events were found for project B81-F07.

** Processing project 'B81-F11'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 5
Found 5 events.
Default setting for whether digest is active for users: true
Found 36 digest recipients out of 84 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (15.6ms)
Email sent.
Sent digest: [B81-F11] Activity: 5 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B753-F11'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 10
Found 10 events.
Default setting for whether digest is active for users: true
Found 47 digest recipients out of 106 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (31.3ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (31.2ms)
Email sent.
Sent digest: [B753-F11] Activity: 10 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B754-F07'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 10
Found 10 events.
Default setting for whether digest is active for users: true
Found 34 digest recipients out of 80 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (15.6ms)
Email sent.
Sent digest: [B754-F07] Activity: 10 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B751-F03'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 3
Found 3 events.
Default setting for whether digest is active for users: true
Found 35 digest recipients out of 89 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (0.0ms)
Email sent.
Sent digest: [B751-F03] Activity: 3 events (from 2016-07-25 to 2016-07-31)

** Processing project 'B751-F11'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 5
Found 5 events.
Default setting for whether digest is active for users: true
Found 53 digest recipients out of 115 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (15.6ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (15.6ms)
Email sent.
Sent digest: [B751-F11] Activity: 5 events (from 2016-07-25 to 2016-07-31)

** Processing project 'China 6'...
Summarizing: 2016-07-25 to 2016-08-01 (7 days)
From 2016-07-25 to 2016-07-31
Activity.scope: [""issues"", ""news""]
events.count: 3
Found 3 events.
Default setting for whether digest is active for users: true
Found 26 digest recipients out of 51 project members/groups.
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.text.erb within layouts/mailer (0.0ms)
  Rendered plugins/redmine_digest/app/views/digest_mailer/digest.html.erb within layouts/mailer (15.6ms)
Email sent.
Sent digest: [China 6] Activity: 3 events (from 2016-07-25 to 2016-07-31)
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (31.2ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (31.3ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.7ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (16.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
Connecting to database specified by database.yml
Creating scope :system. Overwriting existing method Enumeration.system.
Creating scope :sorted. Overwriting existing method User.sorted.
REDMAIN_XAPIAN ERROR: No Ruby bindings for Xapian installed !!. PLEASE install Xapian search engine interface for Ruby.
Creating scope :sorted. Overwriting existing method Group.sorted.
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (140.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (31.2ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (16.9ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (109.4ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.7ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.7ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
  Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
  Rendered mailer/reminder.html.erb within la"
23693,Redmine,Defect,NA,Closed,Normal,"Error in wiki ""Installing a plugin""",eugen hanussek,NA,2016-08-26T17:30:00Z,NA,NA,NA,NA,NA,0,2016-08-26T15:45:00Z,2016-08-26T17:18:00Z,NA,Invalid,3.3.0,"after installing redmine 3.3.0 I add the scrum-plugin according the wiki [[Plugins#Installing-a-plugin|how to install]]. 
First all seems to be OK. Here the config:
!redmine.PNG!

Then we noticed an error on Calendars. This seems to be the same as reported by ""Meindert Oldenburger"":https://redmine.ociotec.com/boards/11/topics/54 . Meindert's ""workaround""-hint is OK.

But we got another error:
<pre>
Processing by CalendarsController#show as HTML
  Parameters: {""project_id""=>""XXX""}
  Current user: admin (id=1)
  Rendered queries/_filters.html.erb (11.3ms)
  Rendered common/_calendar.html.erb (22.7ms)
  Rendered issues/_sidebar.html.erb (8.4ms)
  Rendered calendars/show.html.erb within layouts/base (51.7ms)
  Rendered plugins/scrum/app/views/scrum_hooks/_head.html.erb (0.2ms)
  Rendered plugins/scrum/app/views/scrum_hooks/_scrum_tips.html.erb (8.1ms)
Completed 500 Internal Server Error in 258ms (Views: 87.9ms | ActiveRecord: 24.8ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'sprints.sprint_start_date' in 'where clause': SELECT `sprints`.`id` AS t0_r0, `sprints`.`name` AS t0_r1, `sprints`.`description` AS t0_r2, `sprints`.`start_date` AS t0_r3, `sprints`.`end_date` AS t0_r4, `sprints`.`user_id` AS t0_r5, `sprints`.`project_id` AS t0_r6, `sprints`.`created_on` AS t0_r7, `sprints`.`updated_on` AS t0_r8, `sprints`.`is_product_backlog` AS t0_r9, `projects`.`id` AS t1_r0, `projects`.`name` AS t1_r1, `projects`.`description` AS t1_r2, `projects`.`homepage` AS t1_r3, `projects`.`is_public` AS t1_r4, `projects`.`parent_id` AS t1_r5, `projects`.`created_on` AS t1_r6, `projects`.`updated_on` AS t1_r7, `projects`.`identifier` AS t1_r8, `projects`.`status` AS t1_r9, `projects`.`lft` AS t1_r10, `projects`.`rgt` AS t1_r11, `projects`.`inherit_members` AS t1_r12, `projects`.`product_backlog_id` AS t1_r13, `projects`.`default_version_id` AS t1_r14 FROM `sprints` INNER JOIN `projects` ON `projects`.`id` = `sprints`.`project_id` WHERE ((projects.lft >= 9 AND projects.rgt <= 16)) AND `sprints`.`is_product_backlog` = 0 AND (`sprints`.`sprint_start_date` BETWEEN '2016-08-01' AND '2016-09-04')):
  plugins/scrum/lib/scrum/calendars_controller_patch.rb:35:in `query_sprints'
  plugins/scrum/lib/scrum/calendars_controller_patch.rb:24:in `add_sprints'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'

</pre>

* without the scrum plugin all was fine

After some reseaches I realized that the upgrade of the database was not processed.
Why? 
* I tried once more:

<pre>
sudo bundle exec rake redmine:plugins:migrate RAILS_ENV=production
</pre>

* same result, error on calendar
* and the db table @sprints@ has column @start_date@, instead of @sprint_start_date@

Then I try:

*sudo bundle exec rake --trace redmine:plugins:migrate NAME=scrum RAILS_ENV=production*

Result:
* no error on calendar
* the colunm @sprints.sprint_start_date@ is there

So it is a doku-error. 
* *NAME=plugin-name* is missing
* I would suggest to prefix the cmd with *sudo*, too


"
23700,Redmine,Defect,NA,Closed,Normal,"Creating a wiki page named ""Sidebar"" without proper permission raises an exception",Go MAEDA,Jean-Philippe Lang,2016-08-31T18:56:00Z,Wiki,3.3.1,NA,NA,NA,0,2016-08-28T03:24:00Z,2016-08-31T18:56:00Z,NA,Fixed,3.3.0,"Steps to reproduce:

1. Login with an account which does not have ""Protect wiki pages"" on some project.
2. Go to the project.
3. Click ""+"" button and then click ""New wiki page"".
4. Enter ""Sidebar"" in the title field and click ""Next"".
5. Redmine raises an exception.

<pre>
Completed 500 Internal Server Error in 48ms (Views: 13.8ms | ActiveRecord: 13.6ms)

ActionController::UrlGenerationError (No route matches {:action=>""show"", :controller=>""wiki"", :id=>""Sidebar"", :project_id=>nil} missing required keys: [:project_id]):
  app/controllers/wiki_controller.rb:71:in `new'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>
"
23712,Redmine,Defect,NA,Closed,Normal,Issue header format,Raju M,NA,2016-08-29T16:54:00Z,NA,NA,NA,NA,NA,0,2016-08-29T15:07:00Z,2016-08-29T16:54:00Z,NA,Invalid,NA,"Iam using Redmine version 3.1.0.stable. In that Issue Header format got disturbed.
screenshot attached.
Help me how to resolve it."
23746,Redmine,Defect,NA,Closed,Normal,Task filter is not bringing the correct value of the field.,Adriano Ceccarelli,NA,2016-09-01T19:25:00Z,Issues filter,NA,NA,NA,NA,0,2016-09-01T19:11:00Z,2016-09-01T19:18:00Z,NA,NA,NA,"The field is of type boolean.
Held filter and grouped by this field when the field value is ""No"" the group considers that it is empty.
The following case study where I am grouping by the ""Efic?cia Obtida?"" and also bringing column as the information for the conference.
!erro_redmine.PNG!
!custom_field.PNG!

Thanks!"
23751,Redmine,Defect,NA,Closed,Normal,Tab buttons appear on pages that have no tabs,Edouard Cunibil,Jean-Philippe Lang,2016-10-01T10:57:00Z,UI,3.3.1,NA,NA,NA,0,2016-09-02T12:41:00Z,2016-10-01T10:57:00Z,NA,Fixed,3.3.0,"The JS condition that's supposed to hide the tab buttons checks if the first LI element is visible or not.
If there is no LI element, the tab buttons are always shown.

*file:* public/javascripts/application.js
*line:* 383

*replace:*
<pre>
if ((tabsWidth < el.width() - bw) && (lis.first().is(':visible'))) {
</pre>

*by:*
<pre>
if ((tabsWidth < el.width() - bw) && (lis.length === 0 || lis.first().is(':visible'))) {
</pre>

In case it helps, here is my environemt:
<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.4.1
  redmine_backlogs               v1.0.6
  redmine_checklists             3.1.3
</pre>

Sorry not provinding a patch but I'm a Git guy so I don't have anything related to SVN installed on my system."
23766,Redmine,Defect,NA,Closed,Normal,API : creating issues with project identifier no longer possible,Felix Sch?fer,Jean-Philippe Lang,2016-10-02T20:13:00Z,REST API,3.3.1,NA,NA,NA,0,2016-09-05T16:33:00Z,2016-10-02T12:21:00Z,"関連している #19276, 関連している #20119",Fixed,3.3.0,Since r13999 it is not possible anymore to pass @params[:issue][:project_id]@ to the new issue API anymore. This is still referenced in the API documentation [[Rest_Issues#Creating-an-issue]].
23770,Redmine,Defect,NA,Closed,Low,Unable to open Redmine projects and users  giving 500 internal server error,Atish Ambavane,NA,2016-09-06T14:53:00Z,NA,NA,NA,NA,NA,0,2016-09-06T13:39:00Z,2016-09-06T14:53:00Z,NA,Invalid,2.5.0,"I had installed redmine 2.5 with ruby 2.2.2 , it is successfully installed but when i click on users or create any projcets it gives error as internal server error

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    8:      ) %>
    9: </p>
    10: <%= content_tag 'div', :id => 'notified-projects', :style => (@user.mail_notification == 'selected' ? '' : 'display:none;') do %>
    11:   <%= render_project_nested_lists(@user.projects) do |project|
    12:         content_tag('label',
    13:           check_box_tag(
    14:             'user[notified_project_ids][]',
  app/helpers/application_helper.rb:258:in `render_project_nested_lists'
  app/views/users/_mail_notifications.html.erb:11:in `block in _app_views_users__mail_notifications_html_erb___198177133578381805_69992840063240'
  app/views/users/_mail_notifications.html.erb:10:in `_app_views_users__mail_notifications_html_erb___198177133578381805_69992840063240'
  app/views/users/_form.html.erb:45:in `_app_views_users__form_html_erb___2472432516782750213_69992839846340'
  app/views/users/new.html.erb:4:in `block in _app_views_users_new_html_erb__3129598378476235556_69992839771620'
  app/helpers/application_helper.rb:1041:in `labelled_form_for'
  app/views/users/new.html.erb:3:in `_app_views_users_new_html_erb__3129598378476235556_69992839771620'
"
23794,Redmine,Defect,NA,Needs feedback,Normal,Regression in REST API ISSUES GET,Alex Kurov,NA,2016-09-13T13:01:00Z,REST API,NA,NA,NA,NA,0,2016-09-08T18:04:00Z,NA,NA,NA,3.3.0,"In previos redmine version i've used rest api to sync with our ERP/CRM system for further analisis

To get only updated issues we used uri like this

issues.xml?key=8c4cc4a8a142484dcbe62b7e86bdfe1cb9045bec&updated_on=%3E%3D2016-09-07T06:12:07Z&limit=100&status_id=*&sort=updated_on

Where ""2016-09-07T06:12:07Z"" is a timestamp of the last sync issue

After 3.3 update this GET request returns issues that were update before this date

I've tried this request with various dates and came across to the conclusion, that when i use only ""2016-09-07"" i get the correct result, but when i add time - i get strange set of issues

I've also checked the [[Rest_Issues]], but i did not see any changes

Please help to understand what is whong in this request (it worked well for a long time before the 3.3 update) or fix the problem if it is a bug"
23816,Redmine,Defect,NA,Closed,Normal,Redmine-Search: everything before a colon in the title will be cut off in search results,Immanuel Wilhelmy,NA,2016-09-13T12:25:00Z,NA,NA,NA,NA,NA,0,2016-09-12T10:21:00Z,2016-09-13T12:25:00Z,NA,Invalid,3.3.0,"h2. Redmine Release 3.3.0: Search results display truncated (searchdisplaytuncated)

When you do a search for tickets containing a colon "":"" in the title, everything before the title will be cut off when displaying the search results.

To reproduce: 
Do a search for the string ""searchdisplaytuncated"" and this ticket will display as a result with the words ""Redmine-Search"" not showing up.

As we are using initial descriptors in our ticket titles this is not a purely cosmetical but rather important problem."
23829,Redmine,Defect,NA,Closed,Normal,Wrong allow-override example in rdm-mailhandler.rb,Rene H,Jean-Philippe Lang,2016-10-01T09:17:00Z,Email receiving,3.2.4,NA,NA,NA,0,2016-09-13T12:55:00Z,2016-10-01T09:17:00Z,NA,Fixed,3.3.0,"The help-text in the ""rdm-manilhandler.rb"":http://www.redmine.org/projects/redmine/repository/revisions/15547/entry/trunk/extra/mail_handler/rdm-mailhandler.rb -script has wrong examples. The current version says eg:
<pre>
You can use --allow_override=all to allow all attributes to be overridable.
</pre>
The correct paramter should be
<pre>
--allow-override all
</pre>
There are also a couple of other examples that use --allow_override instead of --allow-override"
23833,Redmine,Defect,NA,Closed,Normal,Unhandled exception on custom fields with mailto URL,Jake Kemme,NA,2016-09-19T06:41:00Z,Custom fields,NA,NA,NA,NA,0,2016-09-13T21:30:00Z,2016-09-19T06:41:00Z,NA,Invalid,3.3.0,"When attempting to create a custom field that creates a mailto: hyperlink

!customfield.png!

when clicking save:

!customfielderror.png!"
23839,Redmine,Defect,NA,Closed,Normal,"""Invalid query"" (Error 500) message with MS SQL when displaying an issue from a list grouped and sorted by fixed version",Olivier Houdas,Jean-Philippe Lang,2016-10-02T12:11:00Z,Issues,3.1.7,NA,NA,NA,0,2016-09-15T15:07:00Z,2016-10-02T12:11:00Z,NA,Fixed,3.1.3,"Steps:
Prerequisite: this happens only with MS SQL
# Filter a list of issues by grouping on the fixed version field, and showing the priority field
# Click on the Fixed version field to sort on it in descending order, click on the priority field to also sort on that field
This should result in a query like ""this one"":https://www.redmine.org/projects/redmine/issues?c[]=tracker&c[]=status&c[]=author&c[]=subject&c[]=fixed_version&c[]=due_date&c[]=priority&f[]=status_id&f[]=assigned_to_id&f[]=fixed_version_id&f[]=&group_by=fixed_version&op[assigned_to_id]=%3D&op[fixed_version_id]=%3D&op[status_id]=o&set_filter=1&sort=priority%3Adesc%2Cfixed_version%3Adesc%2Cid%3Adesc&utf8=%E2%9C%93&v[assigned_to_id][]=1&v[fixed_version_id][]=121&v[fixed_version_id][]=122&v[fixed_version_id][]=119 for example
# Click on one bug of the list
Result: Error 500, Invalid query. In the log, it is indicated that there are duplicated column names in an ORDER BY clause
Note: the issue also happens on MySQL, but MySQL does not consider duplicated sort columns as an error.

The issue happens in the feature to be able to navigate with arrows to the next or previous bug in the list we came from.
As the Fixed_version field implements a call back with its own sortable columns, this comes into the group_by_sort_order statement, which then brings columns duplicated with the ones coming from the options.

Note that with a MySQL-backed Redmine site, the effect is that the order of the list can be incorrect in the previous/Next arrows on the displayed bug.

See attached patch for a suggested fix."
23840,Redmine,Defect,NA,Closed,Normal,Reduce the maximum height of the issue description field,Daniel Ethur,Jean-Philippe Lang,2016-10-02T15:20:00Z,UI,3.4.0,NA,NA,NA,0,2016-09-15T18:53:00Z,2016-10-02T15:20:00Z,NA,Fixed,NA,"When editing a issue description with extensive content, the vertical dimension of the field is greater than the Browser page, causing a double scroll, which greatly hinders the use of the editor.

For example , I'm putting a text at the end of the description of this issue , which will cause double scroll informed.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
<end of the text>"
23844,Redmine,Defect,NA,Closed,Normal,"Unable to understand how to fill in the ""Term"" and ""Finish date"" fields in Risks -> New Action.",Yoshiaki Murase,NA,2016-09-17T18:00:00Z,NA,NA,NA,NA,NA,0,2016-09-16T07:41:00Z,2016-09-17T12:45:00Z,NA,Invalid,NA,"The ""Term"" and ""Finish date"" fields in Risk -> New Action functionality does not indicate what types of values to enter.

What types of values (e.g., date, number, etc.) should I specifically fill in there? Also, in case that I have to enter a date, what is the appropriate format (e.g., dd/mm/yyyy, yyyy/mm/dd, etc.)?"
23865,Redmine,Defect,NA,Closed,Normal,Typo: s/projet/project/ in Redmine.pm comments,Go MAEDA,Jean-Philippe Lang,2016-10-01T09:42:00Z,SCM extra,3.4.0,NA,NA,NA,0,2016-09-20T12:41:00Z,2016-10-01T09:42:00Z,NA,Fixed,NA,Please see the attached patch.
23878,Redmine,Defect,NA,Closed,Normal,Closing all subtasks causes error if default priority is not defined and priority is derived from subtasks,Pavel Potcheptsov,Jean-Philippe Lang,2016-10-02T12:21:00Z,Issues,3.3.1,NA,NA,NA,0,2016-09-21T09:30:00Z,2016-10-02T12:21:00Z,NA,Fixed,3.3.0,"Others tasks are closing normally but this one throws an error.
<pre>
Redmine 3.3.0.stable.15842
Environment:
  Redmine version                3.3.0.stable.15842
  Ruby version                   1.9.3-p327 (2012-11-10) [i686-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  advanced_roadmap_v2            2.4.3
  redmine_agile                  1.4.1
  redmine_checklists             3.1.5
  redmine_lightbox2              0.3.1
  redmine_timesheet_plugin       0.7.0
  redmine_xls_export             0.2.1.t9
</pre>
<pre>
Started PATCH ""/issues/22964/edit.js"" for 127.0.0.1 at 2016-09-21 09:14:15 +0200
Processing by IssuesController#edit as JS
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""**********"", ""form_update_triggered_by""=>""issue_status_id"", ""issue""=>{""is_private""=>""0"", ""project_id""=>""657"", ""tracker_id""=>""4"", ""subject""=>""************"", ""description""=>"""", ""status_id""=>""5"", ""priority_id""=>""4"", ""assigned_to_id""=>""213"", ""fixed_version_id""=>""956"", ""parent_issue_id""=>""22746"", ""start_date""=>""2016-09-02"", ""due_date""=>""2016-09-02"", ""estimated_hours""=>""8.0"", ""done_ratio""=>""100"", ""checklists_attributes""=>{""0""=>{""is_done""=>""0"", ""subject""=>"""", ""_destroy""=>""false"", ""position""=>""1"", ""id""=>""""}}, ""notes""=>"""", ""private_notes""=>""0"", ""lock_version""=>""11""}, ""time_entry""=>{""hours""=>"""", ""activity_id""=>""20"", ""user_id""=>""95"", ""comments""=>""""}, ""last_journal_id""=>""152098"", ""id""=>""22964""}
  Current user: ppo (id=95)
  Rendered issues/_form_custom_fields.html.erb (0.1ms)
  Rendered issues/_attributes.html.erb (17.9ms)
  Rendered plugins/redmine_agile/app/views/issues/_issue_story_points_form.html.erb (0.1ms)
  Rendered plugins/redmine_agile/app/views/issues/_agile_data_fields.html.erb (0.3ms)
  Rendered plugins/redmine_checklists/app/views/issues/_checklist_fields.html.erb (1.1ms)
  Rendered plugins/redmine_checklists/app/views/issues/_checklist_fields.html.erb (0.9ms)
  Rendered plugins/redmine_checklists/app/views/issues/_checklist_form.html.erb (4.4ms)
  Rendered issues/_form.html.erb (65.1ms)
  Rendered issues/edit.js.erb (67.5ms)
Completed 200 OK in 120ms (Views: 66.1ms | ActiveRecord: 11.1ms)
Started GET ""/time_loggers/render_menu?_=1474385709357"" for 127.0.0.1 at 2016-09-21 09:14:18 +0200

Started PATCH ""/issues/22964"" for 127.0.0.1 at 2016-09-21 09:14:19 +0200
Processing by IssuesController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""******"", ""form_update_triggered_by""=>"""", ""issue""=>{""is_private""=>""0"", ""project_id""=>""657"", ""tracker_id""=>""4"", ""subject""=>""********"", ""description""=>"""", ""status_id""=>""5"", ""priority_id""=>""4"", ""assigned_to_id""=>""213"", ""fixed_version_id""=>""956"", ""parent_issue_id""=>""22746"", ""start_date""=>""2016-09-02"", ""due_date""=>""2016-09-02"", ""estimated_hours""=>""8.0"", ""done_ratio""=>""100"", ""notes""=>"""", ""private_notes""=>""0"", ""lock_version""=>""11""}, ""time_entry""=>{""hours""=>"""", ""activity_id""=>""20"", ""user_id""=>""95"", ""comments""=>""""}, ""last_journal_id""=>""152098"", ""commit""=>""Submit"", ""id""=>""22964""}
  Current user: ppo (id=95)
Completed 500 Internal Server Error in 227ms (ActiveRecord: 149.4ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Column 'priority_id' cannot be null: UPDATE `issues` SET `issues`.`priority_id` = NULL, `issues`.`updated_on` = '2016-09-21 09:14:19', `issues`.`lock_version` = 36 WHERE `issues`.`id` = 22746 AND `issues`.`lock_version` = 35):
  app/models/issue.rb:210:in `create_or_update'
  app/models/issue.rb:1567:in `recalculate_attributes_for'
  app/models/issue.rb:1523:in `update_parent_attributes'
  app/models/issue.rb:210:in `create_or_update'
  app/controllers/issues_controller.rb:515:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:503:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:179:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>"
23881,Redmine,Defect,NA,Closed,Normal,Proxy Error while creating new issues,Amir Dervisevic,NA,2016-09-21T14:52:00Z,NA,NA,NA,NA,NA,0,2016-09-21T14:43:00Z,2016-09-21T14:52:00Z,NA,Invalid,3.3.0,"When I set a new issue and click ""submit"" i get the following : 

Proxy Error
The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request POST /redmine/issues/9.
Reason: Error reading from remote server

BUT!! 
The issue is created afer I refresh the page, but it takes a lot of time to load and it is not usable..

Please help."
23908,Redmine,Defect,NA,Closed,Normal,LDAP Authentication not working,Tulgaa Tsogtoo,NA,2016-10-10T18:33:00Z,LDAP,NA,NA,NA,NA,0,2016-09-23T05:21:00Z,2016-10-10T18:33:00Z,NA,Invalid,3.3.0,My LDAP not authentication... Please help meeeeeeee...
23922,Redmine,Defect,NA,Closed,Normal,Time Entries context menu/bulk edit shows activities not available for the time entry's project,Felix Sch?fer,Jean-Philippe Lang,2016-12-03T09:38:00Z,Time tracking,3.3.2,NA,NA,NA,0,2016-09-25T09:45:00Z,2016-12-03T09:38:00Z,NA,Fixed,NA,"It is possible to deselect time entry activities on a project level, this is not taken into account in the time entries context menu.

A user is able to set the activity of a time entry to an activity that has been disabled for the project/issue's project of that time entry."
23930,Redmine,Defect,NA,Closed,Normal,Firebird & RedDatabase support problem,Andrey Lobanov (RedSoft),NA,2016-09-26T13:36:00Z,Database,NA,NA,NA,NA,0,2016-09-26T12:22:00Z,2016-09-26T12:52:00Z,NA,Invalid,3.3.0,"Redmine have some queries that uses firebird keywords, ex. count
<pre>
          result_scope = ActsAsTaggableOn::Tag
            .joins(:taggings)
            .select('tags.id, tags.name, tags.taggings_count, COUNT(taggings.id) as count')
            .group('tags.id, tags.name, tags.taggings_count')
            .where(taggings: { taggable_type: 'Issue', taggable_id: issues_scope})
</pre>
In this example used fragment of code from plugins/redmine_tags/lib/redmine_tags/patches/issue_patch.rb (available_tags)

The problem is that count is reserved keyword and to name column it should look like this 
<pre>'COUNT(taggings.id) as ""COUNT""'</pre>

In my fork i located few more used keywords: position, admin.

I'll make a patch, if i'll have time, but it would be nice if someone fix it."
23939,Redmine,Defect,NA,Closed,Normal,Watchers not recieving e-mail notifications,Falcon Wood,NA,2016-09-30T06:13:00Z,Email receiving,NA,NA,NA,NA,0,2016-09-26T21:55:00Z,2016-09-30T06:13:00Z,NA,Invalid,3.3.0,"I have a question for you. Our Redmine install is set up as follows. LDAP for authentication with E-mail from users coming from AD. We have IMAP and SMTP set up and working, and groups of users assigned to each project, in the project, you can create a new ticket, and submit it to the group in some way. The Watchers List indicates who's in each group, and you can select group members. On occasion we select watchers that are registered users but not in the group.

Shown here is a watchers list where we have a couple of members, these selected watchers all receive e-mails. 
!WatchersList.png!

When we update tickets these watchers are not receiving e-mail notifications, but members of the project or group do receive email notifications. We have the default for all accounts for email's as ""Only for things I watch or am involved in"". I can replicate this by adding these users to the new issue, ""search for watchers to add"", or even after adding them using the edit function.  

Settings page selected for Email notifications
!EmailNotifications.png!

Here is our default preferences: 
!DefaultEmailPrefs.png!

is this behavior intended or?

Thanks!"
23940,Redmine,Defect,NA,Needs feedback,Normal,Private issues notifications,Oleg Fedotkin,NA,2016-09-27T12:45:00Z,Email notifications,NA,NA,NA,NA,0,2016-09-27T12:06:00Z,NA,NA,NA,NA,"If user receives all notifications from project, he also always receives all notifications about private issues even if he can't view the issue. I think it's a bug."
23942,Redmine,Defect,NA,Closed,Normal,Test: Mysql2::Error: Deadlock found when trying to get lock,Stefan Rinkes,NA,2016-09-27T15:33:00Z,Database,NA,NA,NA,NA,0,2016-09-27T15:25:00Z,2016-09-27T15:33:00Z,次のチケットと重複 #19344,Duplicate,3.3.0,"This Unit Test is always failing in my setup with MySQL.
All other Tests run with *rake test* are fine.

<pre>
ruby test/unit/issue_nested_set_concurrency_test.rb
/var/lib/gems/2.3.0/gems/htmlentities-4.3.1/lib/htmlentities/mappings/expanded.rb:465: warning: key ""inodot"" is duplicated and overwritten on line 466
Run options: --seed 18494

# Running:

FF

Finished in 2.488381s, 0.8037 runs/s, 1.6075 assertions/s.

  1) Failure:
IssueNestedSetConcurrencyTest#test_concurrency [test/unit/issue_nested_set_concurrency_test.rb:45]:
Expected ""Mysql2::Error: Deadlock found when trying to get lock; try restarting transaction: SELECT `issues`.`id` FROM `issues` WHERE (root_id IN (SELECT root_id FROM issues WHERE id IN (225)))  ORDER BY `issues`.`id` ASC FOR UPDATE"" to be nil.


  2) Failure:
IssueNestedSetConcurrencyTest#test_concurrent_subtasks_creation [test/unit/issue_nested_set_concurrency_test.rb:61]:
Expected ""Mysql2::Error: Deadlock found when trying to get lock; try restarting transaction: SELECT `issues`.`id` FROM `issues` WHERE (root_id IN (SELECT root_id FROM issues WHERE id IN (229)))  ORDER BY `issues`.`id` ASC FOR UPDATE"" to be nil.

2 runs, 4 assertions, 2 failures, 0 errors, 0 skips
</pre>"
23947,Redmine,Defect,NA,Closed,High,Single issue edit from context menu fix,Andrey Lobanov (RedSoft),NA,2016-10-02T13:09:00Z,Issues,NA,NA,NA,NA,0,2016-09-28T08:18:00Z,2016-10-02T13:09:00Z,NA,Invalid,NA,If you use context menu action edit on single issue you'll get an exception.
23952,Redmine,Defect,NA,Closed,Normal,Values in user fields are sorted by ID and not by name,Serghei Zagorinyak,NA,2016-10-10T19:05:00Z,UI,NA,NA,NA,NA,0,2016-09-28T15:53:00Z,2016-10-10T19:05:00Z,NA,Invalid,3.3.0,"In all user fields other than @assigned_to@ field values in dropdown list are sorted by @user_id@, not by @lastname@, like in previous versions."
23959,Redmine,Defect,NA,Needs feedback,Normal,Issue copy form load wrong data when user can't create issues in the copied issue project,Lucas Arnaud,NA,2016-10-27T17:37:00Z,Issues,NA,NA,NA,NA,0,2016-09-29T17:11:00Z,NA,NA,NA,NA,"When a user tries to copy an issue in a project they are not allowed to create issues, the first available project in combo box is selected but all form data rendered (custom fields, assignable users, possible watchers, etc) are based on the current.

In order to load the selected project data, the user have to select a different project and then the first one to force to reload the form.

The following patch solves this bug by setting the issue project to the first ""@issue.allowed_target_projects"" in IssuesController#build_new_issue_from_params"
23962,Redmine,Defect,NA,New,High,Redmine  Out of Memory Exception when exporting issues with lots of columns (> 50) to PDF,Stephane Evr,NA,2016-09-30T12:50:00Z,PDF export,NA,NA,NA,NA,0,2016-09-30T11:13:00Z,NA,NA,NA,3.3.0,"I was able to reproduce the bug descibed hereafter on a bitnami vanilla redmine install. This bug makes the server eventually run out of memory, so is quite severe in my opinion.

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.10-p492 (2016-04-01) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.4
  Cvs                            1.12.13
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>


The bug occurs when trying to export to pdf a list of issues (on the issues page) with a huge amount of columns (around 50 or more). It happens even if there is only 1 issue to export. 

To reproduce the bug, you can create around 40 custom fields with a random name (30 chars) / format and assign them to a tracker / project. then create an issue with random content in the fields. Then on the issues page, export to pdf with all columns included.


Because anyway the pdf would not look nice with such big amount of columns, we could perhaps forbid the export if there are too many columns (lets say > 40) selected in the export. 

This is what I added to mitigate the error, in app/controllers/issues_controller.rb#index:

<pre><code class=""ruby"">
if params[:format] == 'pdf' && @query.column_names.count > 40
  redirect_to(:back)
  flash[:error] = ""Please reduce the amount of columns selected.""
  return
end
</code></pre>

After further investigation, I found the problem to be located in lib/redmine/export/pdf.rb, in the RDMMultiCell method. So it may be due to RBPDF...
"
23971,Redmine,Defect,NA,Closed,Normal,"Alternate theme,but the "" issuelist-colouring based on issue's priority "" not enabled",GAN A,NA,2016-10-02T19:22:00Z,Themes,NA,NA,NA,NA,0,2016-10-02T17:46:00Z,2016-10-02T19:21:00Z,NA,Invalid,NA,"I had set the theme to Alternate,but the issuelist back color is not change,why ? please look the image I upload."
23979,Redmine,Defect,NA,Closed,Normal,Elements are not aligned properly in issues table for some cases,Marius BALTEANU,Jean-Philippe Lang,2017-07-02T07:33:00Z,UI,3.4.0,NA,NA,NA,0,2016-10-04T00:48:00Z,2016-11-18T13:11:00Z,NA,Fixed,3.3.0,"To reproduce the bellow issue:
* Sort the issues by parent task
* Resize the screen until the Assignee goes also on two lines
* Have at least on parent issue with a subject on two lines
* Have a child issue with a short subject. 

!issue_list_before.png!

The attached patch fixes this.

!issue_list_after.png!

I chose to change from top to middle for all _table.list td_ because I don't see any side effect of this change. If it's not ok, i can update the patch to target only the _table.list.issues td_
"
23983,Redmine,Defect,NA,Needs feedback,Normal,Estimated time and logged time always round down to full hours,Mario Meili,NA,2016-10-04T12:05:00Z,Time tracking,NA,NA,NA,NA,0,2016-10-04T10:17:00Z,NA,NA,NA,3.3.0,"It is not possible to set an estimated time or log for example 1.5 hours. The time will be rounded down to 1.0 hours. 0.5 hours will be rounded down to 0.0 hours and so on. Other input formats like 30min etc don't work either.
As stated in the title, this happens when trying to set the estimated time on an issue and also when logging time on an issue.
Since I really need Redmine for my project thesis, I would be very happy if this could be treated urgently.
Thank you very much in advance"
24000,Redmine,Defect,NA,Closed,Normal,z-index children menu should be greater than content,Kirill Ponomarev,Jean-Philippe Lang,2016-12-03T09:39:00Z,UI,3.3.2,NA,NA,NA,0,2016-10-05T09:57:00Z,2016-12-03T09:39:00Z,関連している #15880,Fixed,NA,"In Redmine 3.3.0.stable.15884 we have:
<pre><code class=""CSS"">
#main-menu .menu-children {
  z-index:1;
}

#content {
  z-index: 10;
}
</code></pre>

It should be:
<pre><code class=""CSS"">
#main-menu .menu-children {
  z-index: 11;
}
</code></pre>"
24006,Redmine,Defect,NA,Closed,Normal,Add character limitation on description field for MySQL,Helder Manuel Torres Vieira,NA,2016-10-24T16:34:00Z,Issues,NA,NA,NA,NA,0,2016-10-05T20:15:00Z,2016-10-24T16:34:00Z,"関連している #19869, 関連している #20127",Fixed,3.3.0,"h2. Defect Description

On the actual version as in the las trunk, when trying to create a new description with more than 65536 characters, Redmine answers with an error 500.

This happens when the adapter ActiveRecord of MySQL is used, as the field description is of type :text and the maximum limit that it accepts is 65536 as i explain on the next link: https://www.packtpub.com/books/content/working-rails-%E2%80%93-activerecord-migrations-models-scaffolding-and-database-completion

With this patch this problem is solved as it adds a validation in case of the adapter being MySQL.

h2. Attached Screenshots:

!mysql_1.png!

!mysql_2.png!

!mysql_3.png!

!mysql_4.png!"
24008,Redmine,Defect,NA,New,Normal,Remove 'Copied from' / 'Copied to' relationship between issues,Sergey User,NA,2016-10-12T22:14:00Z,Issues,NA,NA,NA,NA,0,2016-10-06T00:11:00Z,NA,NA,NA,NA,"The 'copy' relationship does not represent actual dependencies between Issues, but rather a way a particular issue was created. Copying is often done between issues which are not logically related (for instance, just to save time to fill in certain 'Defect' fields; still, defects themselves are not related). All other types of relations in Redmine are 'real', in a sense that they reflect actual dependencies affecting project execution and planning. The 'copy' relationship, on the other hand, obfuscates real dependencies between issues, and therefore is recommended to be removed."
24014,Redmine,Defect,NA,Closed,Normal,Custom fields not used in project should not be visible in spent time report,Maxim Kru?ina,Jean-Philippe Lang,2016-10-31T17:20:00Z,Time tracking,3.3.1,NA,NA,NA,0,2016-10-07T13:41:00Z,2016-10-09T10:39:00Z,関連している #25501,Fixed,3.3.0,"We have really lot of custom fields, mostly used by only some trackers/projects.
Anyway I just found, when working with project Spent Time report and adding new filter, there are listed all issue's custom fields defined across whole redmine, which doesn't make sense and also it floods select list with so much (even non usable) items."
24019,Redmine,Defect,NA,Closed,Normal,GIT not update,Haihan Ji,NA,2016-10-08T05:49:00Z,NA,NA,NA,NA,NA,0,2016-10-07T20:57:00Z,2016-10-08T05:49:00Z,NA,Invalid,NA,"https://github.com/redmine/redmine no update.
The latest update about one month ago.
My sites follow cannot get latest version by git."
24024,Redmine,Defect,NA,Closed,Normal,open user account info occured 500 error,Steven Wong,NA,2017-02-21T11:18:00Z,Accounts / authentication,NA,NA,NA,NA,0,2016-10-09T06:23:00Z,2017-02-21T11:18:00Z,NA,Invalid,3.3.0,"Started GET ""/users/8"" for 192.168.60.238 at 2016-10-09 12:24:05 +0800
Processing by UsersController#show as HTML
  Parameters: {""id""=>""8""}
  Current user: hui.wang (id=8)
Completed 500 Internal Server Error in 414ms (ActiveRecord: 86.0ms)

NoMethodError (undefined method `where' for #<Hash:0x007f9934e4bbf8>):
  lib/plugins/acts_as_activity_provider/lib/acts_as_activity_provider.rb:64:in `find_events'
  lib/redmine/activity/fetcher.rb:91:in `block (2 levels) in events'
  lib/redmine/activity/fetcher.rb:90:in `each'
  lib/redmine/activity/fetcher.rb:90:in `block in events'
  lib/redmine/activity/fetcher.rb:89:in `each'
  lib/redmine/activity/fetcher.rb:89:in `events'
  app/controllers/users_controller.rb:75:in `block (2 levels) in show'
  app/controllers/users_controller.rb:73:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
"
24041,Redmine,Defect,NA,Closed,Normal,"Issue subject is not updated when you select another issue in the new ""Log time"" page",Marius BALTEANU,Jean-Philippe Lang,2017-07-02T07:32:00Z,Time tracking,3.4.0,NA,NA,NA,0,2016-10-10T23:46:00Z,2016-11-26T09:56:00Z,NA,Fixed,3.3.1,"To reproduce:
# Open an issue
# Click ""Log time""
# Observe that the issue subject is displayed next to issue (issue_2.png)
# Select another issue in the issue field 
# Observe that the issue subject is still the same  (issue_3.png) even if I selected another issue

The attached patch fixes this issue."
24049,Redmine,Defect,NA,Closed,Low,Records in table time_entries with null value at field issue_id,Miguel Salcedo Menendez,NA,2016-12-11T03:25:00Z,Time tracking,NA,NA,NA,NA,0,2016-10-11T16:42:00Z,2016-12-11T03:25:00Z,次のチケットと重複 #24577,Duplicate,3.3.1,It appears records at the table time_entries with an empty issue_id. I think this is not correct. Generaly it occurs when a user modify a time imputation for example to change de issue id.
24052,Redmine,Defect,NA,Closed,Normal,"Unable to select columns in Administration, Settings, Issue Tracking, Default columns displayed on the issue list",Eric Ross,NA,2016-10-18T05:29:00Z,Administration,NA,NA,NA,NA,0,2016-10-11T22:04:00Z,2016-10-18T05:29:00Z,NA,Invalid,3.3.0,"I recently installed 3.3.0.stable on Centos 7 on Amazon EC2.  Everything seems to work except for 2 issues - selecting the default columns and importing.  Initially, some columns were showing under ""Selected columns"".  All could be removed except for ""Priority"".  Now no columns can be added.

There are no errors in the Apache logs or production.log.  Clicking on the arrows in the Issue Tracking screen does not trigger any logging either in production.log.



Redmine 3.3.0.stable - checked
Default administrator account changed - checked
Attachments directory writable  - checked
Plugin assets directory writable (./public/plugin_assets) - checked
RMagick available (optional) - checked 	
ImageMagick convert available (optional) - checked

Here are the version numbers:

Database: MariaDB-server-10.1.18-1.el7

Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  redhopper                      1.0.4

"
24061,Redmine,Defect,NA,New,Normal,Tickets can be watched by users who are not available in specific tracker,Maxim Kru?ina,NA,2016-10-13T04:30:00Z,Issues,NA,NA,NA,NA,0,2016-10-12T21:49:00Z,NA,"関連している #23172, 関連している #16133",NA,3.3.1,"It's basically the same as solved here: #23172 - but now it's not about assignee but about watchers.
In 3.3.1 assignee list is fixed, so now can be issues assigned only to users available in selected tracker.
The same shoud be fixed for watchers. Now we can add watchers which are not available in specific tracker - the list of possible watchers shoul be limited only to users available in selected tracker."
24073,Redmine,Defect,NA,Closed,Normal,Redmine requires Bundler 1.5.0 or higher (you're using 1.3.5).,Marlon Ferreira Minotti,NA,2016-10-15T05:25:00Z,NA,NA,NA,NA,NA,0,2016-10-14T21:34:00Z,2016-10-15T05:25:00Z,NA,Invalid,NA,"WEB:

Redmine requires Bundler 1.5.0 or higher (you're using 1.3.5).

Server:
#:/usr/share/redmine-3.3$ sudo bundler -v
Bundler version 1.13.4

1.13.4 is greater than 1.5.0
1.13.4 > 1.5.0

if (1.13.4 > 1.5.0){
   echo true;
}

Output: TRUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUE; VERY TRUE;

GOD, 1.13.4 IS GREATER THAN 1.5.0. SO, WHAT'S HAPPEN?

HELP ME PLEASE. I'M LOSING MONTHS OF LIFE BECAUSE OF THIS.

REDMINE VERSION: 3.3.1
UBUNTU VERSION: 14.04
"
24090,Redmine,Defect,NA,Closed,Normal,ArgumentError: Invalid Timezone: UTC,Pavel Ivanov,NA,2016-10-18T19:36:00Z,NA,NA,NA,NA,NA,0,2016-10-18T11:01:00Z,2016-10-18T19:36:00Z,NA,Invalid,3.3.1,"When /redmine/config/application.rb:25 is default:
<pre>
    # config.time_zone = 'Central Time (US & Canada)'
</pre>
I try to run
<pre>
/opt/bin/bundle exec /opt/bin/puma -e production -b unix:///var/run/puma.sock -C ""-"" 2>&1 >> /share/redmine/log/puma.log
</pre>
And saw
<pre>
ArgumentError: Invalid Timezone: UTC
  /opt/lib/ruby/gems/2.3.0/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/zones.rb:72:in `rescue in find_zone!'
  /opt/lib/ruby/gems/2.3.0/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/zones.rb:56:in `find_zone!'
  /opt/lib/ruby/gems/2.3.0/gems/activesupport-4.2.7.1/lib/active_support/railtie.rb:20:in `block in <class:Railtie>'
  /opt/lib/ruby/gems/2.3.0/gems/railties-4.2.7.1/lib/rails/initializable.rb:30:in `instance_exec'
  /opt/lib/ruby/gems/2.3.0/gems/railties-4.2.7.1/lib/rails/initializable.rb:30:in `run'
  /opt/lib/ruby/gems/2.3.0/gems/railties-4.2.7.1/lib/rails/initializable.rb:55:in `block in run_initializers'
  /opt/lib/ruby/2.3.0/tsort.rb:228:in `block in tsort_each'
  /opt/lib/ruby/2.3.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
  /opt/lib/ruby/2.3.0/tsort.rb:431:in `each_strongly_connected_component_from'
  /opt/lib/ruby/2.3.0/tsort.rb:349:in `block in each_strongly_connected_component'
  /opt/lib/ruby/2.3.0/tsort.rb:347:in `each'
  /opt/lib/ruby/2.3.0/tsort.rb:347:in `call'
  /opt/lib/ruby/2.3.0/tsort.rb:347:in `each_strongly_connected_component'
  /opt/lib/ruby/2.3.0/tsort.rb:226:in `tsort_each'
  /opt/lib/ruby/2.3.0/tsort.rb:205:in `tsort_each'
  /opt/lib/ruby/gems/2.3.0/gems/railties-4.2.7.1/lib/rails/initializable.rb:54:in `run_initializers'
  /opt/lib/ruby/gems/2.3.0/gems/railties-4.2.7.1/lib/rails/application.rb:352:in `initialize!'
  /share/CACHEDEV1_DATA/redmine/config/environment.rb:14:in `<top (required)>'
  config.ru:3:in `require'
  config.ru:3:in `block in <main>'
  /opt/lib/ruby/gems/2.3.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'
  /opt/lib/ruby/gems/2.3.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'
  config.ru:in `new'
  config.ru:in `<main>'
  /opt/lib/ruby/gems/2.3.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in `eval'
  /opt/lib/ruby/gems/2.3.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in `new_from_string'
  /opt/lib/ruby/gems/2.3.0/gems/rack-1.6.4/lib/rack/builder.rb:40:in `parse_file'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/configuration.rb:315:in `load_rackup'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/configuration.rb:243:in `app'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/runner.rb:127:in `load_and_bind'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/single.rb:85:in `run'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/launcher.rb:172:in `run'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/lib/puma/cli.rb:74:in `run'
  /opt/lib/ruby/gems/2.3.0/gems/puma-3.6.0/bin/puma:10:in `<top (required)>'
  /opt/bin/puma:23:in `load'
  /opt/bin/puma:23:in `<top (required)>'
</pre>
When /redmine/config/application.rb:25 is
<pre>
config.time_zone = 'Moscow'
</pre>
all is ok!"
24094,Redmine,Defect,NA,Closed,Normal,Error with non ASCII characters in Wiki,Zer Guz,NA,2016-10-19T03:45:00Z,I18n,NA,NA,NA,NA,0,2016-10-18T18:09:00Z,2016-10-19T03:45:00Z,NA,Invalid,3.1.1,"When creating/saving a Wiki page or an issue description (also wiki format) that contain some non-ASCII characters like (? ?), Redmine shows the following ""Redmine 500 error"" page:

""
Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

Back
""

Version: 3.1.1.stable"
24102,Redmine,Defect,NA,Closed,Normal,"Opening ""Custom Fields"" in Administration leads to ""Internal Server Error""",mr gosh,NA,2016-10-19T15:18:00Z,Custom fields,NA,NA,NA,NA,0,2016-10-19T12:33:00Z,2016-10-19T15:18:00Z,NA,Invalid,3.3.1,"On our Redmine 3.2 installation we recognized that after some (not identifiable) moment the ""Custom Fields"" Entry in ""administration"" leads to an

<pre>
Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.
</pre>

we hoped it was introduced by some upgrade migration problem and updated to Redmine 3.3.1 today - and it is still the same.

In the Logs is happening the following:

<pre>
Started GET ""/custom_fields"" for 123.123.123.123 at 2016-10-19 12:30:40 +0200                                                                                                                                        │
Processing by CustomFieldsController#index as HTML                                                                                                                                                                 │
  Current user: username (id=7)                                                                                                                                                                                       │
Completed 500 Internal Server Error in 19ms (ActiveRecord: 7.1ms)                                                                                                                                                  │
                                                                                                                                                                                                                   │
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'OrderCustomField'. This error is raised because the column 'type' is reserved for storing the class in case │
of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite CustomField.inheritance_column to use another column for that information.):           │
  app/controllers/custom_fields_controller.rb:29:in `block (2 levels) in index'                                                                                                                                    │
  app/controllers/custom_fields_controller.rb:27:in `index'                                                                                                                                                        │
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

what could have caused this?"
24109,Redmine,Defect,NA,Closed,Normal,Forums tab is missing but link is accessible,Pavel Potcheptsov,NA,2016-10-21T10:11:00Z,UI,NA,NA,NA,NA,0,2016-10-20T09:54:00Z,2016-10-21T10:11:00Z,NA,Invalid,3.3.0,"If I enable *Forum* module then Forum tab is not appears, however I could access it directly by link with _boards_ at the end.
<pre>
# ruby ./bin/about

Environment:
  Redmine version                3.3.0.stable.15732
  Ruby version                   1.9.3-p327 (2012-11-10) [i686-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  no plugin installed

</pre>"
24111,Redmine,Defect,NA,New,High,Moving the parent issue from subproject to another project moves sub issues too,Emanuel Reisinger,NA,2016-10-28T10:53:00Z,Issues,NA,NA,NA,NA,0,2016-10-20T13:38:00Z,NA,NA,NA,3.3.0,"If an issue with sub tasks is moved to another project (main project of the current one) the sub tasks are automatically moved to the new project, too.
Further no remark is written to the history of any of the tasks, neither to the parent nor to the sub task.

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.9-p490 (2016-03-30) [i386-linux-gnu]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.9.3
  Cvs                            1.12.13
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.4.0
  redmine_image_clipboard_paste  1.0.0
  redmine_mentions               0.0.1
  redmine_mylyn_connector        2.8.2.stable
  redmine_xapian                 1.6.4
  sidebar_hide                   0.0.7
</pre>"
24136,Redmine,Defect,NA,Closed,High,Unable to delete version,Christophe Portier,NA,2016-10-25T18:51:00Z,Administration,NA,NA,NA,NA,0,2016-10-21T17:58:00Z,2016-10-25T18:51:00Z,NA,NA,NA,"Since we moved to 3.2.3 we can not delete any version anymore using any account (including Admin ones).
Even if the versions:
* Don't have any ""issue for this version""
* Are not shared at all
* Are in any status (closed, lock...)

Each time we try to delete a version, the message ""Unable to delete version."" is displayed and the version is not deleted.

Here are our versions in detail:
<pre>
  Redmine version                3.2.3.stable
  Ruby version                   2.2.5-p319 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.11
  Git                            2.8.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>

If this is a 3.2.3 defect I guess we would not be the only ones facing it. But well, maybe, a first one has to raise issues?"
24150,Redmine,Defect,NA,Closed,Normal,Typo in class name and unidentified (left-over) code comment,Mischa The Evil,Jean-Philippe Lang,2016-11-18T13:07:00Z,Code cleanup/refactoring,NA,NA,NA,NA,0,2016-10-24T03:59:00Z,2016-11-18T13:07:00Z,関連している #6719,Fixed,NA,"Just a drop of some of my observations. Two small issues were introduced in r15917:
* a typo: source:/trunk/lib/redmine/field_format.rb@15917#L859
** @AttachementFormat@ instead of @AttachmentFormat@
* an unidentified (left-over?) code comment: source:/trunk/lib/redmine/field_format.rb@15917#L947
** if it is there on purpose it might be better to mark/explain it more clearly
"
24156,Redmine,Defect,NA,Closed,Normal,Redmine might create many AnonymousUser and AnonymousGroup entries,Holger Just,Jean-Philippe Lang,2016-12-20T10:00:00Z,Code cleanup/refactoring,3.2.5,NA,NA,NA,0,2016-10-24T17:31:00Z,2016-12-20T10:00:00Z,NA,Fixed,NA,"Under certain conditions (and due to Rails' decision to hold global query state on models), under certain conditions, there might be multiple instances of the @AnonymousUser@ and @AnonymousGroup@ being created. Consider this example:

<pre><code class=""ruby"">
User.current
# => #<AnonymousUser id: 4 ...>

# Create a new public projects with no project members
project = Project.create(name: 'Public test', identifier: 'public-test', public: true)

# Now, gather the list of visible principals of the project
# This is e.g. called by IssueQuery#initialize_available_filters
project.principals.visible
</code></pre>

As you can see, this creates (depending a bit on the settings) a new @AnonymousGroup@ and a new @AnonymousUser@ object. The reason for that with the call above this is called:

<pre><code class=""ruby"">
Principal.active.joins(:members).where(""#{Member.table_name}.project_id = ?"", project,id).uniq.visible
</code></pre>

Now, in the @visible@ scope of the @Principle@, a call to @AnonymousUser.first@ class is used to find the anonymous user (and equivalently the @AnonymousGroup@ later). Unfortunately this happens while the query scope for the outer query is still active. The new and unrelated query for the anonymous user appears to inherits the existing scope on the @Principle@ class of the outer query which results in Redmine not finding the anonymous user and subsequently creating a new one.

This behavior can be reliably reproduced when browsing as Anonymous a public project without any explicit members.

The attached patch against current trunk was developed for one of our customers at ""Planio"":https://plan.io/redmine who experiences this issue. The problem does also occur in all Redmine versions which support the user visibility feature (that is all Redmine 3 version iirc).

The patch fixes the problem by performing the queries for the qlobal anonymous objects with an explicit call to @unscoped@ which should remove the inherited outer scope. When merging this, it might be a good idea to also provide a migration which removes any erroneous @AnonymousUser@, @AnonymousGroup@, @NonMemberGroup@ and @AnonymousRole@ instances in the database.

(Boy, this was no fun to find and fix...)"
24160,Redmine,Defect,NA,New,Normal,Gantt diagram returns internal error,Pavel Koreshkov,NA,2016-10-28T10:55:00Z,Gantt,NA,NA,NA,NA,0,2016-10-24T18:30:00Z,NA,NA,NA,3.3.1,"I have an error on /projects/s-org_ipd/issues/gantt

system info
<pre>
Environment:
  Redmine version                3.3.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [i386-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.1.4
  Filesystem
Redmine plugins:
  no plugin installed

</pre>
information from logfile
<pre>

30162 Started GET ""/projects/s-org_ipd/issues/gantt"" for ???.???.???.??? at ????????? ???????? +????
30163 Processing by GanttsController#show as HTML
30164   Parameters: {""project_id""=>""s-org_ipd""}
30165   Current user: ??????????? (id=??)
30166   Rendered queries/_filters.html.erb (13.5ms)
30167   Rendered gantts/show.html.erb within layouts/base (90.5ms)
30168 Completed 500 Internal Server Error in 434ms (ActiveRecord: 102.3ms)
30169
30170 ActionView::Template::Error (undefined method `-@' for Sat, 01 Oct 2016:Date):
30171     107: ^M
30172     108:   # Width of the entire chart^M
30173     109:   g_width = ((@gantt.date_to - @gantt.date_from + 1) * zoom).to_i^M
30174     110:   @gantt.render(:top => headers_height + 8,^M
30175     111:                 :zoom => zoom,^M
30176     112:                 :g_width => g_width,^M
30177     113:                 :subject_width => subject_width)^M
30178   lib/redmine/helpers/gantt.rb:575:in `coordinates'
30179   lib/redmine/helpers/gantt.rb:330:in `line'
30180   lib/redmine/helpers/gantt.rb:293:in `line_for_project'
30181   lib/redmine/helpers/gantt.rb:258:in `render_object_row'
30182   lib/redmine/helpers/gantt.rb:216:in `render_project'
30183   lib/redmine/helpers/gantt.rb:205:in `block in render'
30184   app/models/project.rb:809:in `block in project_tree'
30185   app/models/project.rb:805:in `each'
30186   app/models/project.rb:805:in `project_tree'
30187   lib/redmine/helpers/gantt.rb:203:in `render'
30188   app/views/gantts/show.html.erb:110:in `_app_views_gantts_show_html_erb___499571926_101375260'
30189   app/controllers/gantts_controller.rb:43:in `block (2 levels) in show'
30190   app/controllers/gantts_controller.rb:42:in `show'
30191   lib/redmine/sudo_mode.rb:63:in `sudo_mode'

</pre>"
24190,Redmine,Defect,NA,Closed,Normal,"<a> tag with attribute href=""tel: in description results in undefined method + for nil:NilClass",Alex Lorvi,NA,2016-10-28T13:55:00Z,Text formatting,NA,NA,NA,NA,0,2016-10-28T10:11:00Z,2016-10-28T13:55:00Z,NA,Invalid,NA,"Observed Behavior
Create new issue with description ""<a href=""*tel:*3453454353"">234234</a>"" (href to tel with or without slashes)

ActionView::Template::Error (undefined method `+' for nil:NilClass):
    2: 
    3: <%= render_email_issue_attributes(issue, users.first, true) %>
    4: 
    5: <%= textilizable(issue, :description, :only_path => false) %>
    6: 
    7: <% if issue.attachments.any? %>
    8:   <fieldset class=""attachments""><legend><%= l(:label_attachment_plural) %></legend>
  app/helpers/application_helper.rb:873:in `block in parse_redmine_links'
  app/helpers/application_helper.rb:742:in `gsub!'
  app/helpers/application_helper.rb:742:in `parse_redmine_links'
  app/helpers/application_helper.rb:584:in `block (2 levels) in textilizable'
  app/helpers/application_helper.rb:583:in `each'
  app/helpers/application_helper.rb:583:in `block in textilizable'
  app/helpers/application_helper.rb:604:in `parse_non_pre_blocks'
  app/helpers/application_helper.rb:582:in `textilizable'

Redmine 3.1.

I try to replace function *parse_redmine_links* in file *application_helper.rb* from last in GIT (it's changes after issue #19304), but it's not help."
24213,Redmine,Defect,NA,Closed,Normal,% Done is not correct for parent to parents when calculated from subtasks,C-O L,NA,2016-11-21T14:02:00Z,Issues planning,NA,NA,NA,NA,0,2016-10-30T22:32:00Z,2016-11-21T14:02:00Z,次のチケットと重複 #23511,Duplicate,3.3.0,"When having more than two levels of issues then when the % done is calculated for the top level parent then the subtasks on the first level always have equal weight instead of having a weight based on their total estimated hours.

Example:
<pre>
   P         - top level parent task
  (40)       = total estimated time
  / \
 /   \
A1    B1     - 1st level subtasks
(10)  (30)   = total estimated time
|\    |\
| \   | \
A2 A3 B2 B3  - 2nd level subtasks
3  7  9  21  = estimated times for 2nd level subtasks
</pre>
The 2nd level subtasks each have an estimated time (A2=3h, A3=7h, B2=9h, B3=21h). The A subtree has a total of 10h and the B subtree has a total of 30h.

The 1st level subtasks calculate their % done using  (sum of subtasks % done * estimated time)/(total estimated time).
So if A2 is closed(100%) then A1 has a %done of 30% (A2+A3=10h, and 3h of 10h = 30%).

The total estimated time for the top level parent P is 40h. When only A2 is closed then the correct %done for P should be 7.5% (3h of 40h), but it is actually showing the %done for A1 divided by the total number of 1st level subtasks which is 30%/2=15%.

I have created a patch that solves the problem, and it seems to work fine for us that have up to three levels of tasks and no more than 10 nodes total in a tree."
24242,Redmine,Defect,NA,Needs feedback,Normal,Adding comments to ticket returns internal server error,Piyush Jain,NA,2016-11-02T08:25:00Z,Text formatting,NA,NA,NA,NA,0,2016-11-02T07:17:00Z,NA,NA,NA,3.3.0,"While adding comments to the ticket am getting internal server error:
<pre>
ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xF0\x9F\x91\x8D\x0D\x0A...' for column 'notes' at row 1: INSERT INTO `journals`
</pre>

I tired changing the charset from utf8 to utf8mb4 for journals table but it doesn't seems to help.

Can anyone suggest a walk through for this issue. 

My Environment
<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.14
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  issue_charts                   1.3.0
  periodictask                   3.1.1
  redmine_checklists             3.1.3
  redmine_email_fetcher          0.3.1
  redmine_helpdesk               0.0.15
  redmine_issue_history          1.0.0
  redmine_omniauth_google        0.0.1
  simple_author_change           0.1.2
</pre>"
24258,Redmine,Defect,NA,Closed,Normal,"ERROR ""MailHandler: an unexpected error occurred when receiving email: uninitialized constant User::RequestStore"" when parsing emails from IMAP",Jan Hejl,NA,2017-01-29T20:12:00Z,Email receiving,NA,NA,NA,NA,0,2016-11-02T20:09:00Z,2017-01-29T20:12:00Z,NA,Invalid,3.2.1,"When parsing emails from IMAP mailbox with:
<pre>
rake --trace -f /var/lib/redmine/Rakefile redmine:email:receive_imap RAILS_ENV=""production"" host=imap.excello.cz username=__username__ password=__password__
</pre>

commands email parsing fails without any message. After modifying *config/environments/production.rb* to debug:
<pre>
# config.action_mailer.logger = nil
config.action_mailer.logger = Logger.new(""/var/log/redmine/production.log"")
config.action_mailer.logger.level = Logger::DEBUG
</pre>

production.log contains:
<pre>
I, [2016-11-02T19:57:49.310669 #7196]  INFO -- : 
Received mail (14.9ms)
D, [2016-11-02T19:57:49.310796 #7196] DEBUG -- : Return-Path: <jh@excello.cz>
Received: from [IPv6:2001:67c:1590:0:79b4:dfe9:fad6:f2c6] (unknown [IPv6:2001:67c:1590:0:79b4:dfe9:fad6:f2c6]) (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)) (No client certificate requested) by posta.excello.cz (Postfix) with ESMTPSA id 2DCEA2C8EDF for <ExcelloRedmine@excello.cz>; Wed, 02 Nov 2016 19:53:21 +0100
Date: Wed, 02 Nov 2016 19:53:20 +0100
From: Jan Hejl <jh@excello.cz>
To: ExcelloRedmine@excello.cz
Message-ID: <cbe84481-c70b-7506-d907-e4dbec380930@excello.cz>
In-Reply-To: <redmine.journal-13706.20161102160327.0f74b28fd64f7c94@excello.cz>
References: <redmine.issue-3523.20161012120731@excello.cz>
 <redmine.journal-13706.20161102160327.0f74b28fd64f7c94@excello.cz>
Subject: =?UTF-8?Q?Re:_[Virusfree_support_-_Feature_#3523]?=
 =?UTF-8?Q?_=28=C5=98e=C5=A1=C3=AD_se=29_Prispievanie_do_Redmine_pomocou?=
 =?UTF-8?Q?_emailu?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary=------------6B6723D4BD3FE7422B9CE1DB;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Original-To: ExcelloRedmine@excello.cz
Delivered-To: excelloredmine@excello.cz
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101
 Thunderbird/45.4.0

... cut message body ...

E, [2016-11-02T19:57:49.310971 #7196] ERROR -- : MailHandler: an unexpected error occurred when receiving email: uninitialized constant User::RequestStore
</pre>

Environment:
<pre>
Environment:
  Redmine version                3.2.1.stable
  Ruby version                   2.1.9-p490 (2016-03-30) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.7.3
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>
"
24274,Redmine,Defect,NA,Closed,Normal,Query totals and query buttons overlaps on small screens,Marius BALTEANU,Jean-Philippe Lang,2016-12-03T09:41:00Z,UI - Responsive,3.3.2,NA,NA,NA,0,2016-11-05T20:54:00Z,2016-12-03T09:41:00Z,NA,Fixed,3.3.1,"Steps to reproduce:
# Go to issues tab
# Tick the checkboxes for totals
# Resize the screen to a resolution under 500px

!before.png!

Our fix is in the attached patch.

!after.png!

The change from application.css is required to align the elements on left properly.
"
24279,Redmine,Defect,NA,Closed,Normal,Redmine is not working in ubuntu14.04,Amit  Khurchay,NA,2016-11-07T09:23:00Z,Administration,NA,NA,NA,NA,0,2016-11-07T07:20:00Z,2016-11-07T09:23:00Z,NA,Invalid,3.2.1,"When I am running localhost/redmine, It reveals ""Index of redmine"".I am sharing screenshot, please help me to resolve the issue."
24293,Redmine,Defect,NA,Closed,Normal,Sent password link is not working.,Amit  Khurchay,NA,2016-11-08T15:44:00Z,NA,NA,NA,NA,NA,0,2016-11-08T09:09:00Z,2016-11-08T15:44:00Z,NA,Invalid,NA,"When I am changing my password, I clicks on ""forget password"", Redmine sent a link to my mail,which I found in spam. This link reveals the error message."
24297,Redmine,Defect,NA,Closed,Normal,Show action not allowed for time entries in closed projects,Felix Sch?fer,Jean-Philippe Lang,2016-11-26T10:01:00Z,Permissions and roles,3.2.5,NA,NA,NA,0,2016-11-08T15:09:00Z,2016-11-26T10:01:00Z,NA,Fixed,NA,"It is currently not possible to @GET /time_entries/123.xml@ for closed projects even with the correct permissions.

In the @TimelogController@ currently checks if the time entry is editable for the current user on @show@, @edit@ and @update@. This means @show@ doesn't work for closed projects as the time entry is then not editable."
24300,Redmine,Defect,NA,Closed,Normal,Calendar date selector disappears,John Burke,NA,2016-11-09T02:12:00Z,NA,NA,NA,NA,NA,0,2016-11-08T20:01:00Z,2016-11-09T02:12:00Z,NA,NA,2.5.2,"When opening a new issue and changing trackers, the icon to select dates from a calendar disappears.

```
Environment:
  Redmine version                2.5.2.stable
  Ruby version                   1.9.3-p547 (2014-05-14) [amd64-freebsd9]
  Rails version                  3.2.19
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            2.4.0
  Filesystem
Redmine plugins:
  a_common_libs                  2.1.8
  redmine_default_assign         0.4
  redmine_graphs                 0.1.0
  redmine_ical                   thegcat-trunk
  redmine_knowledgebase          2.3.0
  redmine_ldap_sync              2.0.7
  redmine_qa_contact             0.0.2
  redmine_redcarpet_formatter    2.0.1
  redmine_wiki_notes             0.0.1
  single_auth                    2.0.0
  stuff_to_do_plugin             0.4.1
```"
24303,Redmine,Defect,NA,Needs feedback,Normal,Not able to move few issues to another project,Piyush Jain,NA,2016-11-16T14:29:00Z,Issues,NA,NA,NA,NA,0,2016-11-09T08:06:00Z,NA,NA,NA,3.3.0,"I have a redmine installation and it is working fine except of few issues which i am not able to move to another project.

When i click on edit issue and select the project from drop down menu and click on submit it again returns to the same page and no action has been performed.

I have installed redmine on centOS 7. My installation details:

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.14
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  issue_charts                   1.3.0
  periodictask                   3.1.1
  redmine_checklists             3.1.3
  redmine_email_fetcher          0.3.1
  redmine_helpdesk               0.0.15
  redmine_issue_history          1.0.0
  redmine_omniauth_google        0.0.1
  simple_author_change           0.1.2
</pre>"
24308,Redmine,Defect,NA,Closed,Normal,Allow Journal to return empty Array instead nil in Journal#attachments,Roman Shipiev,Jean-Philippe Lang,2016-11-18T09:43:00Z,Attachments,3.4.0,NA,NA,NA,0,2016-11-09T14:54:00Z,2016-11-18T09:43:00Z,NA,Fixed,NA,"If we journalize objects without @#attachments@ then take exception (@TypeError: no implicit conversion of nil into Array@) in @app/helpers/application_helper.rb@

<pre><code class=""ruby"">
  def parse_inline_attachments(text, project, obj, attr, only_path, options)
    ...
    attachments += obj.attachments if obj.respond_to?(:attachments)
    ...
  end
</code></pre>"
24311,Redmine,Defect,NA,Closed,Normal,Project field disappears when target project disallows user to edit the project,Luka L?dicke,Jean-Philippe Lang,2016-12-03T09:42:00Z,Issues,3.3.2,NA,NA,NA,0,2016-11-09T16:58:00Z,2016-12-03T09:42:00Z,NA,Fixed,3.3.1,"h1. Issue

# Editing the Project Field in an Issue reloads the form
# On Reloading / Rendering the project field is excluded if the user is not allowed to *change* the @project_id@ for issues in that project
# The field disappears when the user clicks on a project where changing the project field is not allowed
# The issue cannot be moved to the other project by that user, however: The list of target projects is calculated by the right to create issues in that project. This means that there is a mismatch.

h1. Goal

The project field should not disappear on selection of a project, either by showing the field more often (lax approach) or reducing the target projects list.

h1. Suggestion

My suggestion for the lax approach is:

<pre><code class=""diff"">
# app/views/issues/_form.html.erb
- <% if @issue.safe_attribute?('project_id') && (!@issue.new_record? || @project.nil? || @issue.copy?) %>
+ <% if (@issue.safe_attribute?('project_id') || @issue.allowed_target_projects.include?(@issue.project_id) ) && (!@issue.new_record? || @project.nil? || @issue.copy?) %>
  <p><%= f.select :project_id, project_tree_options_for_select(@issue.allowed_target_projects, :selected => @issue.project), {:required => true},
                  :onchange => ""updateIssueFrom('#{escape_javascript update_issue_form_path(@project, @issue)}', this)"" %></p>
  <% end %>
</code></pre>"
24335,Redmine,Defect,NA,Closed,Normal,"Flawed display of the ""+"" dropdown menu tab.",Eric dLR,NA,2016-11-14T02:21:00Z,UI,NA,NA,NA,NA,0,2016-11-12T20:50:00Z,2016-11-14T02:21:00Z,NA,Invalid,3.3.1,"When the settings ""Project menu tab for creating new objects"" is set to 'Display the ""+"" dropdown"", all the drop down menu items are displayed as tab.
Each 'new' option is working fine.
It happens after an update from 2.5.2.devel to 3.3.1.stable. and I see it on every browser i tried... and it's a lot of browser!

See the attached screenshot
<pre>
Environment:
  Redmine version                3.3.1.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
24344,Redmine,Defect,NA,Closed,Normal,Cannot upload file on an issue,Aniss El Amrani,NA,2016-11-16T01:46:00Z,NA,NA,NA,NA,NA,0,2016-11-14T10:58:00Z,2016-11-14T11:49:00Z,NA,Invalid,3.0.7,"I got an error message while trying to upload a file into a redmine issue.
I had this in the log file:

----------------------------------
ActionView::Template::Error (5000540775 is out of range for ActiveRecord::Type::Integer with limit 4):
    1: <%= ""(#{l(:field_private_notes)}) "" if @journal.private_notes? -%><%= l(:text_issue_updated, :id => ""##{@issue.id}"", :author => @journal.user) %>
    2: 
    3: <% details_to_strings(@journal_details, true).each do |string| -%>
    4: <%= string %>
    5: <% end -%>
    6: 
  lib/redmine/hook.rb:61:in `block (2 levels) in call_hook'
  lib/redmine/hook.rb:61:in `each'
  lib/redmine/hook.rb:61:in `block in call_hook'
  lib/redmine/hook.rb:58:in `tap'
  lib/redmine/hook.rb:58:in `call_hook'
  lib/redmine/hook.rb:167:in `call_hook'
  app/helpers/issues_helper.rb:403:in `show_detail'
  app/helpers/issues_helper.rb:321:in `block in details_to_strings'
  app/helpers/issues_helper.rb:307:in `each'
  app/helpers/issues_helper.rb:307:in `details_to_strings'
  app/views/mailer/issue_edit.text.erb:3:in `_app_views_mailer_issue_edit_text_erb__1167367905_73751580'
  app/models/mailer.rb:435:in `block in mail'
  app/models/mailer.rb:434:in `mail'
  app/models/mailer.rb:83:in `issue_edit'
  app/models/mailer.rb:447:in `initialize'
  config/initializers/10-patches.rb:154:in `deliver'
  app/models/mailer.rb:95:in `block (2 levels) in deliver_issue_edit'
  app/models/issue.rb:891:in `each_notification'
  app/models/mailer.rb:94:in `block in deliver_issue_edit'
  app/models/journal.rb:90:in `block in each_notification'
  app/models/journal.rb:88:in `each'
  app/models/journal.rb:88:in `each_notification'
  app/models/mailer.rb:93:in `deliver_issue_edit'
  app/models/journal.rb:302:in `send_notification'
  app/models/journal.rb:67:in `save'
  app/models/issue.rb:1566:in `create_journal'
  app/models/issue.rb:175:in `create_or_update'
  app/controllers/issues_controller.rb:482:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:470:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:180:in `update'

----------------------------------

The file I tried to upload was named *5000540775.HTM*. 
I had to rename the file to *FILE5000540775.HTM* to be able to upload it.

Thanks in advance.

Regards,

Aniss
"
24397,Redmine,Defect,NA,Closed,Normal,this text in description or note cause an internal server error,St?phane Schoorens,NA,2016-11-22T15:50:00Z,Issues,NA,NA,NA,NA,0,2016-11-17T15:26:00Z,2016-11-18T00:19:00Z,次のチケットと重複 #20127,Duplicate,3.1.3,tried on http://demo.redmine.org/issues/153401
24402,Redmine,Defect,NA,New,Normal,sqlserver2014: db:migrate failed,? ??,NA,2016-11-21T04:52:00Z,Database,NA,NA,NA,NA,0,2016-11-18T09:14:00Z,NA,NA,NA,NA,"Installing Redmine-3.3.1、ruby 2.3.1p112、sqlserver2014.
run commond：db:migrate
errors:
undefine method 'type' for nil:NilClass  in/opt/redmine-3.3.1/db/migrate/20160416072926_remove_position_defaults.rb
hao to fixed it?
I'm delete 20160416072926_remove_position_defaults.rb filed from the redmine-3.3.1,db:migrate is success AND It works fine."
24426,Redmine,Defect,NA,New,Normal,sqlserver2014:chang issues parentId success but view is wrong,? ??,NA,2016-11-24T07:47:00Z,NA,NA,NA,NA,NA,0,2016-11-22T10:15:00Z,NA,NA,NA,NA,"see as flow image:
I use SSMA for mySQL Client to tranfer redmine database from mysql to sqlserver2014,everything is ok.
but s few weeks ago ,we find that,if I chang some issues parentId,it works well but the tree view is wrong.like this:
I change issuess 218947's parentId is 218972.after I promit change,the tree view show it's parentId is 218937.
for help."
24433,Redmine,Defect,NA,Closed,Normal,The changeset display is slow when changeset_issues has very many records,Hirokazu Onozato,Jean-Philippe Lang,2016-12-03T09:43:00Z,Performance,3.4.0,NA,NA,NA,0,2016-11-22T14:27:00Z,2016-12-03T09:43:00Z,NA,Fixed,3.3.0,"In issue page, the changeset display is slow when changeset_issues has very many records.

The following query is executed.
<pre><code class=""sql"">
SELECT
  `changesets`.*
FROM
  `changesets`
  INNER JOIN `repositories`
    ON `repositories`.`id` = `changesets`.`repository_id`
  INNER JOIN `projects`
    ON `projects`.`id` = `repositories`.`project_id`
  INNER JOIN `changesets_issues`
    ON `changesets`.`id` = `changesets_issues`.`changeset_id`
WHERE
  `changesets_issues`.`issue_id` = 1
  ...
</code></pre>

There is no INDEX in issue_id of changesets_issues table.

* db/schema.rb
<pre><code class=""ruby"">
  create_table ""changesets_issues"", id: false, force: :cascade do |t|
    t.integer ""changeset_id"", null: false
    t.integer ""issue_id"",     null: false
  end

  add_index ""changesets_issues"", [""changeset_id"", ""issue_id""], name: ""changesets_issues_ids"", unique: true, using: :btree
</code></pre>

As a result, this query may be slow if there are a very many records in the changesets_issues table.

When the number of records in the changesets_issues table was about 1 million, it took 2 or 3 seconds to execute this query.
Adding INDEX to issue_id improved the performance of this query to a few milliseconds.


"
24440,Redmine,Defect,NA,Closed,Normal,502 proxy error with exporting,yan wu,NA,2016-11-24T04:27:00Z,Issues list,NA,NA,NA,NA,0,2016-11-24T02:45:00Z,2016-11-24T04:27:00Z,NA,Invalid,NA,"My server is bitnami redmine stack. 
when export 2000 issues to csv file, 502 proxy error occured. But i can export csv file with accessing 127.0.0.1:3001.
Sometimes the query will occure 502 proxy error .

"
24442,Redmine,Defect,NA,New,Normal,"When exporting Wiki to PDF, monospaced fonts are not rendered correctly in PDF",T H,NA,2016-11-24T08:36:00Z,PDF export,NA,NA,NA,NA,0,2016-11-24T08:36:00Z,NA,NA,NA,3.2.3,"When I write a Wiki page that contains inline code snippets (@like this@), the resulting PDF does not have monospaced font for the snippet.  It works for entire code blocks.

"
24456,Redmine,Defect,NA,Closed,Normal,Extremly long duration of POST requests,Josef Boeck,NA,2016-12-26T22:32:00Z,Performance,NA,NA,NA,NA,0,2016-11-25T12:19:00Z,2016-11-25T13:47:00Z,NA,Invalid,NA,"Since a few days we have extremly long duration on POST requests. I have a production.log at :INFO - level and cannot find a reason why. GET requests are fast (< 1 sec).

I enclose the trace to an update to a ticket. Duration 17 sec. But we have even duration up to 30 sec recorded. Since a year nothing changed. I did alread Unload - reload, restart the webserver and the ""normal"" stuff.

"
24457,Redmine,Defect,NA,New,Normal,Progress of version should be calculated the same way as parent tasks,C-O L,NA,2016-11-29T11:37:00Z,Roadmap,NA,NA,NA,NA,0,2016-11-25T14:59:00Z,NA,関連している #23511,NA,NA,"The progress of a version should be calculated the same ways as the progress of parent tasks are calculated in #23511.

"
24479,Redmine,Defect,NA,Closed,Normal,Settings > Forums page is broken on and after r15647,Go MAEDA,NA,2016-12-01T16:34:00Z,UI,NA,NA,NA,NA,0,2016-11-29T04:55:00Z,2016-11-30T03:55:00Z,NA,Invalid,NA,"Please see screenshots below.

*r15646 - no problem:*
!r15646.png!

*r15647 - broken:*
!r15647.png!"
24484,Redmine,Defect,NA,New,Normal,Wrong order of rows with empty custom fields,Ivan Zabrovskiy,NA,2016-11-29T09:43:00Z,Custom fields,NA,NA,NA,NA,0,2016-11-29T09:43:00Z,NA,NA,NA,NA,"Issues, sorted by custom field, appears in a countr-intuitive order. Issues with empty custom field goes before issues with any value.

Example (PostgreSQL, descending order):

Current result:

|=. *id*|=. *Integer custom field* (desc order)|
|143|<empty>|
|112|<empty>|
|95|2000|
|456|1900|
|73|1400|

Expected result: 

|=. *id*|=. *Integer custom field* (desc order)|
|95|2000|
|456|1900|
|73|1400|
|143|<empty>|
|112|<empty>|

Solution: in Redmine::FieldFormat::Base in method join_for_order_statement (lib/redmine/field_format.rb line 279) remove row
<pre>
"" AND #{alias_name}.value <> ''"" +
</pre>

In this case, rows with empty custom field will be invoved in sorting and appear on proper places."
24503,Redmine,Defect,NA,New,Normal,IMAP fetch ignores ssl switch,Ragnar Nevries,NA,2016-11-30T17:48:00Z,Email receiving,NA,NA,NA,NA,0,2016-11-30T17:48:00Z,NA,NA,NA,3.3.1,"In lib/redmine/imap.rb the line

  ssl = !imap_options[:ssl].nil?

sets ssl to true whenever imap_options[:ssl] has any value.

So, if we call rake task redmine:email:receive_imap with argument ""ssl=false"" oder ""ssl=0"" or whatever, SSL is used anyway. The only way to disable SSL is to omit the ""ssl="" argument, which is not very convenient if the command line for the task is generated by a script."
24506,Redmine,Defect,NA,Needs feedback,Normal,"On changing many issues to project with custom required fields, fields doesn't show, transfer doesn't work",Mikhail Fesenko,NA,2017-02-16T05:33:00Z,Custom fields,NA,NA,NA,NA,0,2016-11-30T19:39:00Z,NA,NA,NA,3.3.1,"If one project have some custom required fields and you want to change project of many issues to another, you should change one by one.
I tryed it on 3.2.3 and 3.3.1.
If you try to change one issue, custom fields always shows and you can transfer.
If many, when you select another project with custom fields on edit page, fields doesn't shown."
24530,Redmine,Defect,NA,Closed,Normal,Max Length issue in patch file,Nishchal Jain,NA,2017-01-03T05:16:00Z,NA,NA,NA,NA,NA,0,2016-12-05T07:31:00Z,2017-01-03T05:16:00Z,NA,Invalid,NA,"Steps:
1. Redmine already provides/validates Trackers name max length in Trackers model which is:
trackers.rb : validates_length_of :name, :maximum => 30
2. I need to change max length for name from 30 to 50 in patch file so that main model file should not impact.
3. I created tracker_patch file and used validation in that but it doesn't impact.

Please let me know how I will change that validation in patch file.

Regards
Nishchal"
24546,Redmine,Defect,NA,New,Normal,Unable to edit Workflows (POST limit),Ewan Makepeace,NA,2017-02-09T08:28:00Z,Issues workflow,NA,NA,NA,NA,0,2016-12-07T01:44:00Z,NA,NA,NA,2.6.1,"I now have 35 issue statuses in one of my Redmines. Before you criticise this is because I had two and was adding a third completely separate workflows for different trackers:

Trackers Bug, Feature, Support, Design all use a fairly standard development pipeline with 13 steps from design through final acceptance on live server.
Tracker Recruit also has 13 steps from Invite to Interview to Acceptance or Rejection.

My new tracker for Failure Analysis adds 10 new statuses to the list. However when I try to edit the Workflow with ""Only display statuses that are used in this tracker"" *unchecked* (so that I can add in my new statuses) I get the following exception:

<pre>
Request Entity Too Large

The requested resource
/workflows/edit
does not allow request data with POST requests, or the amount of data provided in the request exceeds the capacity limit.
Apache/2.2.31 (Amazon) Server at redmine.jawasoft.com Port 443
</pre>

I guess the grid of 35 x 35 ?= 1225 posted values is too many for HTTP? I did some research and PHP typically limits to 1000, other servers to other values.

# Is there a quick fix - a server setting I can change?
# I dont feel I am using Redmine unreasonably here - but the whole Workflow UX becomes almost unmanageable when you have more than 10 or 15 statuses."
24547,Redmine,Defect,NA,Closed,Normal,Spent Time Date Filter Off by 1 Day,Charlie Savage,NA,2016-12-11T01:50:00Z,Time tracking,NA,NA,NA,NA,0,2016-12-07T05:28:00Z,2016-12-11T01:50:00Z,次のチケットと重複 #23189,NA,3.3.1,"In version 3.3.0 and 3.3.1, a bug was introduced in date filtering.  If you filter by Date ""is"" or ""between"" the start date if off by one day.

In the attached screenshot note that the filtered date is august 31, 2016 but the results show September 1, 2016."
24548,Redmine,Defect,NA,Closed,Normal,Detailed steps required to install redcase plugin,Yogesh Lele,NA,2017-01-03T16:18:00Z,NA,NA,NA,NA,NA,0,2016-12-07T07:28:00Z,2016-12-13T21:20:00Z,NA,Invalid,3.3.1,"I have followed the steps to install plugin for redmine from redmine official site. The information is available in brief  for a user like me ( who has no knowledge of programming) I am finding difficulties in installing redcase plugin. I could install the plugin but not able to see the 'test case' tab on the UI though redcase plugin gets listed under plugin section.

It will be great if  the steps to install the plugin is descriptive. if sample example issadded in the document is highly appriciated. I have used redmine ova published by turnkey and I am trying to install redcase 1.0 plugin on the same vm. My default redmine folder is located under  /var/www/redmine

thanks,
Yogesh"
24557,Redmine,Defect,NA,New,Normal,Update time zones databese on the web site http://www.redmine.org,VVD VVD,Jean-Philippe Lang,2016-12-08T00:36:00Z,Website (redmine.org),NA,NA,NA,NA,0,2016-12-07T22:57:00Z,NA,NA,NA,NA,"Time zones databese on the web site http://www.redmine.org is old and incorrect.

2 years ago Moscow time zone was changed to UTC+3 (without summer/winter), but on the web site http://www.redmine.org Moscow time is UTC+4 (without summer/winter)."
24595,Redmine,Defect,NA,Closed,Normal,Unarchive link for a subproject of a closed project does not work,Felix Sch?fer,Jean-Philippe Lang,2016-12-20T10:05:00Z,Projects,3.3.2,NA,NA,NA,0,2016-12-13T10:50:00Z,2016-12-20T10:05:00Z,NA,Fixed,NA,"When the parent project of an archived project is closed the ""unarchive"" link is shown source:/branches/3.3-stable/app/views/admin/projects.html.erb@16048#L35, it won't work though as the parent project is not open source:/branches/3.3-stable/app/models/project.rb@16048#L377"
24602,Redmine,Defect,NA,New,Normal,Exporting wiki pages in HTML fails if {{collapse}},Vincent Le Goff,NA,2016-12-13T16:39:00Z,Wiki,NA,NA,NA,NA,0,2016-12-13T16:39:00Z,NA,NA,NA,NA,"When exporting a wiki page in HTML (using /projects/id/wiki/title.html), if some text is hidden in a @{{collapse}}@ macro, then the exported page doesn't allow to click on the link to see the text.

h3. Steps to reproduce the bug

# Create a wiki page in a project with some text:
<pre>
h1. This is a test

{{collapse(Click to show/hide)
This is hidden.
}}
</pre>
# Try to export this page as HTML
<pre>
curl https://server.ext/projects/project_id/wiki/Title.html > page.html
</pre>
# Open the HTML page.  If you click on the ""click to show/hide"" link, nothing appears.

h3. Possible causes

This is obviously due to the fact that the JavaScript used by the @{{collapse}}@ macro isn't exported with the HTML page.  Perhaps it could be easily added, like the CSS code which is already exported."
24604,Redmine,Defect,NA,Closed,Normal,Typo: s/changset-comments/changeset-comments/,Mischa The Evil,Jean-Philippe Lang,2016-12-18T10:36:00Z,Code cleanup/refactoring,NA,NA,NA,NA,0,2016-12-13T21:38:00Z,2016-12-18T10:36:00Z,関連している #22758,Fixed,NA,"Introduced in r16062 for #22758. I'm not 100% sure if it is intentional or not, but it looks like ""@changset-comments@"" should be ""@changeset-comments@"". Patch against source:/trunk@16072 attached."
24606,Redmine,Defect,NA,Closed,Normal,parent task id never filled in the field 'parent_task',qr lin,NA,2016-12-31T02:09:00Z,Issues,NA,NA,NA,NA,0,2016-12-14T08:16:00Z,2016-12-31T02:09:00Z,関連している #24719,Invalid,3.1.3,"hey, seems there's a bug with subtask. 

i create a new sub task , but when i return the parent task detail page, i cant see any link in the subtask zone,

also  when i open task list, the parent field of the subtask item is emtpy.

i cant find any msg help both in bug list and message board, so i'm not sure this is bug or using way problem

!QQ20161214-1@2x.png!"
24624,Redmine,Defect,NA,Closed,Normal,closed subprojects on the project overview does not display another color,Luiz Moura,NA,2017-02-16T01:06:00Z,UI,NA,NA,NA,NA,0,2016-12-15T19:36:00Z,2017-02-16T01:06:00Z,NA,Invalid,3.3.1,"There is a list of subprojects on a parent project page. Thats absolutelly ok, but does not display different color for closed subprojects.

Feature
#23327

Defect
#23152"
24648,Redmine,Defect,NA,Closed,Normal,Time shown in PDF or CSV export is different than the time shown in the issue list (when logged in both parents and children),Olivier Houdas,NA,2017-01-03T01:35:00Z,PDF export,NA,NA,NA,NA,0,2016-12-19T17:24:00Z,2017-01-03T01:35:00Z,NA,Invalid,3.3.1,"Steps to repro:
1. Take a task with at least one child
2. Log time for both the parent and the child
3. Display that task with the Spent time column active, in a list of issues
4. Export that list to CSV or PDF
Result: 
* at step 3, we see the total logged time in the Spent time column
* at step 4, we see only children tasks' logged time in the spent column
"
24693,Redmine,Defect,NA,Closed,Normal,Spent time on subtasks should also be reassigned when deleting an issue,David C?t?-Tremblay,Jean-Philippe Lang,2017-03-22T20:54:00Z,Issues,3.2.5,NA,NA,NA,0,2016-12-26T17:02:00Z,2017-01-04T21:53:00Z,関連している #24718,Fixed,NA,"When you delete an issue, its spent hours will be reassigned to selected issue, but the time spent on descendants was just simply deleted. Now it is also reassigned to the targeted issue.

*Patch tested and fully working for Redmine 3.3.1-devel*

Pull request on GitHub : https://github.com/redmine/redmine/pull/92"
24696,Redmine,Defect,NA,Closed,Normal,Create issue assigned_to_id does not work,Ramon Nunes Teixeira,NA,2017-01-16T12:47:00Z,NA,NA,NA,NA,NA,0,2016-12-26T19:02:00Z,2017-01-16T12:47:00Z,NA,Invalid,NA,"I have installed redmine 3.3 official docker and when I try to create a new issue with a assigned_to filled the value is not saved, even coming in the request

In the log no error is displayed, however the value is not filled, if I edit the issue and fill in the field again then it works.


<pre>
Started POST ""/projects/infra/issues"" for 192.168.99.1 at 2016-12-26 15:24:21 -0200
Processing by IssuesController#create as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""N8zoHbIRPxnLQnzLAycKHYBSt/hGP/tla6yPuz3+AJLDNyh4lTAlKzrpAyJy2aOWaCbILUxRcLzGs7PyqAKAvg=="", ""form_update_triggered_by""=>"""", ""issue""=>{""is_private""=>""0"", ""tracker_id""=>""14"", ""subject""=>""teste"", ""description""=>""teste"", ""status_id""=>""1"", ""priority_id""=>""2"", ""assigned_to_id""=>""33"", ""fixed_version_id""=>"""", ""parent_issue_id""=>"""", ""start_date""=>""2016-12-26"", ""due_date""=>"""", ""estimated_hours""=>"""", ""done_ratio""=>""0"", ""custom_field_values""=>{""1""=>"""", ""24""=>""N?o Necess?rio""}, ""sprint_id""=>""1"", ""pending_effort""=>""""}, ""was_default_status""=>""1"", ""requirement_issue""=>{""num_of_cases""=>""""}, ""commit""=>""Criar"", ""project_id""=>""infra""}
  Current user: ramon.teixeira (id=33)
= Running shared code for Issue (#) ""Tarefa de Desenvolvimento #: teste""
= Finished running shared code for Issue (#) ""Tarefa de Desenvolvimento #: teste""
  Rendered mailer/_issue.text.erb (3.1ms)
  Rendered mailer/issue_add.text.erb within layouts/mailer (4.7ms)
  Rendered mailer/_issue.html.erb (3.9ms)
  Rendered mailer/issue_add.html.erb within layouts/mailer (4.3ms)
Redirected to http://192.168.99.100:3000/issues/15083
</pre>"
24698,Redmine,Defect,NA,Closed,Normal,"""Icon for Datepicker"" does not appear if the issue has a child issue (or issues).",kaz k,NA,2016-12-27T10:01:00Z,UI,NA,NA,NA,NA,0,2016-12-27T08:02:00Z,2016-12-27T09:08:00Z,次のチケットと重複 #21219,Duplicate,NA,"When editing the issue, fields are displayed for modification in ""Change properties"" area.
In the area, ""Start date"" and ""Due date"" have string-fields and there are Icons for Datepicker right of the string-fields normally.

But, if an issue has a child issue ( or issues ), Icons for Datepicker right of the string-fields does NOT appear when editing the issue.
If I remove the child from the parent and enter edit screen, Icons for Datepicker come back again. Wow.

This phenomenon happens 100% of probability.
We made sure that it does happen with Firefox and Internet Explorer through the testing.

Attached is the ZIP of screen captures of this phenomenon. File names represent what was happening in the screen. Hope this helps.

Redmine configuration (from ""Information"" of ""Redmine"") are as follows.
The phenomenon happens on both configurations.

* production system: Linux based
<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.2.3-p173 (2015-08-18) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  redmine_absolute_dates         0.0.3
  redmine_dmsf                   1.5.6
  redmine_document_view_overwrite 0.0.1
  redmine_enter_cancel           0.0.2
  redmine_good_job               0.0.1.1
  redmine_issue_templates        0.1.0
  redmine_local_avatars          0.1.1
  redmine_pivot_table            0.0.4
  redmine_show_issue_assignee_avatar 0.0.1
  redmine_vividtone_my_page_blocks 20150614
  redmine_wiki_lists             0.0.6
  sidebar_hide                   0.0.7
</pre>

* Testing system: Windows 7 based
<pre>
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.0.0-p645 (2015-04-13) [i386-mingw32]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.11
  Git                            1.9.5
  Filesystem                     
Redmine plugins:
  redmine_good_job               0.0.1.1
  redmine_issues_summary_graph   0.0.9
  redmine_local_avatars          1.0.3
  redmine_pivot_table            0.0.4
  redmine_show_issue_assignee_avatar 0.0.1
  redmine_vividtone_my_page_blocks 20150614
  redmine_wiki_lists             0.0.6
</pre>
"
24707,Redmine,Defect,NA,Closed,Normal,"Activity in User Profile shows incorrect date/time, dependent to Time zone",kaz k,NA,2017-01-01T13:30:00Z,Activity view,NA,NA,NA,NA,0,2016-12-28T09:50:00Z,2017-01-01T03:15:00Z,"次のチケットと重複 #14658, 次のチケットが重複 #5425, 次のチケットが重複 #1048",Duplicate,NA,"There are 3 area which shows ""Activity"".
# Activity in ""Project""
# Activity in ""User Profile"" (offical name maybe different ...), which shows User Name, Mail(optional), projects to which the user joins in the left, recent activity of the user in the right.
# Activity History of the user, which shows activity history in 30 days period (days are set differently at the installation). You could go to the past history and come back.

We observed the following.
# Among these 3 ""Activity"", Date/Time is different in 2. from 1 and 3. 
# Compared with the actual modification date and time, 2. shows wrong date/time, while 1. and 3. shows correct date/time.
# Wrong Date/Time is related to Time zone setting of User profile of the viewer, which means who is to view Activities. It is not the setting of the user to be viewed.
** For example, if Time zone is set to JST, ie. GMT+09:00(Tokyo), activities between 00:00-08:59 (in JST) are diaplayed as it was in the day before.
*** example: Activity at Dec.22, 2016 06:35 AM =>  Dec. *21* , 2016 06:35 AM
** In order to confirm, if Time zone is changed to GMT, ie. GMT+00:00(London), all activities are displayed correctly.

We wonder if these 3 activity listing use different calculation logic.

Please note:
# There are several open issues about Time zone, such as #6991, #5425, #5091. I am not sure if the issue described here is the duplicate of existing ones. If so, I am happy if someone would point it out.
** I made this issue to clarify the phenomena. hope this helps.
# The issue happens but, in my opinion, the severity is minor. 

* Redmine version 3.1.1.stable
"
24718,Redmine,Defect,NA,Closed,Normal,Prevent from reassigning spent time to an issue that is going to be deleted,Go MAEDA,Jean-Philippe Lang,2017-01-07T19:05:00Z,Issues,3.2.5,NA,NA,NA,0,2016-12-30T08:16:00Z,2017-01-04T21:53:00Z,関連している #24693,Fixed,NA,"We can reassign reported hours to other issue when we delete issues.
But if you reassign reported hours to the issue about to be deleted, we will lose those data without any notice.

This is a patch to fix this behavior: attachment:reassigning-reported-hours-to-the-issue-about-to-deleted-should-fail.diff"
24719,Redmine,Defect,NA,Closed,Normal,New subtask link should not be shown when parent_id field is disabled for the tracker,Go MAEDA,NA,2016-12-31T13:55:00Z,UI,NA,NA,NA,NA,0,2016-12-31T02:05:00Z,2016-12-31T13:55:00Z,関連している #24606,Invalid,NA,"Users cannot create subtasks when parent_id field is disabled for the tracker.
But current versions of Redmine shows new subtask link even if the field is disabled.

I think the link should not be shown when parent_id field is disabled.
Showing the link without respect to disabled parent_id may causes confusion like #24606.

!parent_id-is-disabled.png!

!new-subtask-link.png!"
24722,Redmine,Defect,NA,Closed,Normal,Error when trying to reassign spent time when deleting issues from different projects,Jean-Philippe Lang,Jean-Philippe Lang,2017-01-04T21:53:00Z,Issues,3.2.5,NA,NA,NA,0,2016-12-31T16:22:00Z,2017-01-04T21:53:00Z,NA,Fixed,NA,"When deleting issues from different projects and trying to reassign spent time to an issue, a 500 error occurs."
24723,Redmine,Defect,NA,Confirmed,Normal,[regression?] r10132's changes were reverted with r15569,Mischa The Evil,Mischa The Evil,2017-01-10T15:41:00Z,Third-party libraries,NA,NA,NA,NA,0,2017-01-01T06:35:00Z,NA,関連している #24800,NA,NA,"The adjustments made in r10132 were reverted by r15569 for #23107. Was this intentional, eg. to bring the upstream alpha base in sync with Redmine's theme or was it by mistake? Either way, the inline styles in the multilingual wiki_syntax_detailed_[*].html documentation needs to be re-synced again (like in r14492 for #20288). Before I start mocking-up a patch, I'd like to know what was/is intended...
"
24729,Redmine,Defect,NA,Needs feedback,Normal,Problem 'Filters' and 'Options' of 'Issues' tab,Jechan Yeon,NA,2017-01-16T13:22:00Z,NA,NA,NA,NA,NA,0,2017-01-02T03:27:00Z,NA,NA,NA,NA,"There are some problem when I use 'Filters' and 'Options' of 'Issues' tab.

*1. Filters*
I want to use filter 'Defect' and 'Patch' of tracker but it doesn't work properly.
when I click the '+' button, there is no reaction.
in other words, I can't multiple select filters.

*2. Options*
I can't modify 'Columns' of issues list because all arrow buttons don't work.

I attached my environment below, 
*Environment:
  Redmine version                3.2.2.stable
  Ruby version                   2.2.4-p230 (2015-12-16) [x86_64-linux]
  Rails version                  4.2.5.2
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  no plugin installed*
  
Is there anybody have soluiton or see before of these problems?
Please reply for me ASAP.
HAPPY NEW YEAR and THANKS :)"
24755,Redmine,Defect,NA,Closed,Normal,Slow Queries because of Custom Fields,HAKAN G?RB?Z,NA,2017-11-04T07:04:00Z,Performance,NA,NA,NA,NA,0,2017-01-04T12:59:00Z,2017-11-04T07:04:00Z,次のチケットと重複 #24473,Duplicate,NA,"I use my project espacially custom fields. There are nearly 100.000 issue. 
I import with excel import method.
Creating index, about custom fileds tables is any solution? Or how can I speed up?
Redmine version                3.3.0.stable"
24774,Redmine,Defect,NA,Closed,High,Ubuntu 14.04 LTS Redmine could not be started,Vivek Buzruk,NA,2017-01-07T08:54:00Z,Administration,NA,NA,NA,NA,0,2017-01-07T03:51:00Z,2017-01-07T08:54:00Z,NA,Invalid,3.3.1,"Trying to install Redmine using ==>
============
http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_30x_on_Ubuntu_1404_with_Apache2_Phusion_Passenger_MySQL_Subversion_and_Git_(Gitolite)
====================
System Details =>
===============
""Linux 4.4.0-57-generic #78~14.04.1-Ubuntu SMP Sat Dec 10 00:14:47 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux""
==================================
Error is => Web Application could not be started,
uninitialized constant ActionView::Helpers::ActiveModelHelper (NameError)
===================
More details in the attachment., Same thing is repeated below as much as I can 
====================================


Web application could not be started

uninitialized constant ActionView::Helpers::ActiveModelHelper (NameError)
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib/action_view/helpers.rb:40:in `<module:Helpers>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib/action_view/helpers.rb:4:in `<module:ActionView>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib/action_view/helpers.rb:3:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib/action_view/base.rb:5:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib/action_view/view_paths.rb:1:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/abstract_controller/rendering.rb:4:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_controller/base.rb:204:in `<class:Base>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_controller/base.rb:164:in `<module:ActionController>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_controller/base.rb:5:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-action_caching-1.1.1/lib/action_controller/action_caching.rb:13:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `require'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-action_caching-1.1.1/lib/actionpack/action_caching.rb:1:in `<top (required)>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb:105:in `require'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb:105:in `rescue in block in require'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb:82:in `block in require'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb:75:in `each'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb:75:in `require'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler.rb:106:in `require'
  /opt/redmine/redmine-3.3.1/config/application.rb:5:in `<top (required)>'
  /opt/redmine/redmine-3.3.1/config/environment.rb:2:in `require'
  /opt/redmine/redmine-3.3.1/config/environment.rb:2:in `<top (required)>'
  config.ru:3:in `require'
  config.ru:3:in `block in <main>'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack/builder.rb:55:in `instance_eval'
  /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack/builder.rb:55:in `initialize'
  config.ru:1:in `new'
  config.ru:1:in `<main>'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /usr/share/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

Application root
    /opt/redmine/redmine
Environment (value of RAILS_ENV, RACK_ENV, WSGI_ENV and PASSENGER_ENV)
    production
Ruby interpreter command

    /usr/bin/ruby

User and groups

    uid=122(redmine) gid=130(redmine) groups=130(redmine)

Environment variables

    APACHE_PID_FILE = /var/run/apache2/apache2.pid
    rvm_bin_path = /opt/redmine/.rvm/bin
    GEM_HOME = /opt/redmine/.rvm/gems/ruby-2.1.4
    SHELL = /bin/bash
    APACHE_RUN_USER = www-data
    IRBRC = /opt/redmine/.rvm/rubies/ruby-2.1.4/.irbrc
    PASSENGER_DEBUG_DIR = /tmp/passenger.spawn-debug.XXXXUwwmQn
    MY_RUBY_HOME = /opt/redmine/.rvm/rubies/ruby-2.1.4
    rvm_stored_umask = 0022
    USER = redmine
    _system_type = Linux
    rvm_path = /opt/redmine/.rvm
    rvm_prefix = /opt/redmine
    APACHE_LOG_DIR = /var/log/apache2
    PATH = /opt/redmine/.rvm/gems/ruby-2.1.4/bin:/opt/redmine/.rvm/gems/ruby-2.1.4@global/bin:/opt/redmine/.rvm/rubies/ruby-2.1.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/redmine/.rvm/bin
    QT_QPA_PLATFORMTHEME = appmenu-qt5
    rvm_loaded_flag = 1
    PWD = /opt/redmine/redmine
    APACHE_RUN_GROUP = www-data
    LANG = C
    _system_arch = x86_64
    _system_version = 14.04
    rvm_version = 1.28.0 (latest)
    SHLVL = 0
    HOME = /opt/redmine
    LOGNAME = redmine
    GEM_PATH = /opt/redmine/.rvm/gems/ruby-2.1.4:/opt/redmine/.rvm/gems/ruby-2.1.4@global
    APACHE_LOCK_DIR = /var/lock/apache2
    APACHE_RUN_DIR = /var/run/apache2
    RUBY_VERSION = ruby-2.1.4
    rvm_user_install_flag = 1
    _system_name = Ubuntu
    IN_PASSENGER = 1
    PYTHONUNBUFFERED = 1
    NODE_PATH = /usr/share/passenger/node
    RAILS_ENV = production
    RACK_ENV = production
    WSGI_ENV = production
    NODE_ENV = production
    PASSENGER_APP_ENV = production
    RAILS_RELATIVE_URL_ROOT = /redmine
    RACK_BASE_URI = /redmine
    PASSENGER_BASE_URI = /redmine
    SERVER_PROTOCOL = HTTP/1.1
    SERVER_SOFTWARE = Apache/2.4.7 (Ubuntu)
    DOCUMENT_ROOT = /var/www/html
    SERVER_ADMIN = webmaster@localhost
    QUERY_STRING = 
    SERVER_NAME = localhost
    REMOTE_PORT = 45668
    REMOTE_ADDR = 127.0.0.1
    SERVER_PORT = 80
    REQUEST_METHOD = GET
    SERVER_ADDR = 127.0.0.1
    REQUEST_URI = /redmine
    BUNDLER_ORIG_PATH = /opt/redmine/.rvm/gems/ruby-2.1.4/bin:/opt/redmine/.rvm/gems/ruby-2.1.4@global/bin:/opt/redmine/.rvm/rubies/ruby-2.1.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/redmine/.rvm/bin
    BUNDLER_ORIG_GEM_PATH = /opt/redmine/.rvm/gems/ruby-2.1.4:/opt/redmine/.rvm/gems/ruby-2.1.4@global
    BUNDLE_BIN_PATH = /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/exe/bundle
    BUNDLE_GEMFILE = /opt/redmine/redmine-3.3.1/Gemfile
    BUNDLER_VERSION = 1.13.7
    RUBYOPT = -rbundler/setup
    RUBYLIB = /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib

Ulimits

    Unknown

System memory usage

                 total       used       free     shared    buffers     cached
    Mem:          3952       3845        106         21        384       1774
    -/+ buffers/cache:       1686       2265
    Swap:            0          0          0

General Ruby interpreter information

    RUBY_VERSION = 2.1.9
    RUBY_PLATFORM = x86_64-linux-gnu
    RUBY_ENGINE = ruby
    RubyGems version = 2.2.5

Ruby configuration (RbConfig::CONFIG)

    DESTDIR = 
    MAJOR = 2
    MINOR = 1
    TEENY = 0
    PATCHLEVEL = 490
    INSTALL = /usr/bin/install -c
    EXEEXT = 
    prefix = /usr
    ruby_install_name = ruby2.1
    RUBY_INSTALL_NAME = ruby2.1
    RUBY_SO_NAME = ruby-2.1
    exec = exec
    ruby_pc = ruby-2.1.pc
    PACKAGE = ruby
    BUILTIN_TRANSSRCS =  newline.c
    USE_RUBYGEMS = YES
    MANTYPE = doc
    NROFF = /usr/bin/nroff
    vendorarchhdrdir = /usr/include/x86_64-linux-gnu/ruby-2.1.0/vendor_ruby
    sitearchhdrdir = /usr/include/x86_64-linux-gnu/ruby-2.1.0/site_ruby
    rubyarchhdrdir = /usr/include/x86_64-linux-gnu/ruby-2.1.0
    vendorhdrdir = /usr/include/ruby-2.1.0/vendor_ruby
    sitehdrdir = /usr/include/ruby-2.1.0/site_ruby
    rubyhdrdir = /usr/include/ruby-2.1.0
    RUBY_SEARCH_PATH = 
    UNIVERSAL_INTS = 
    UNIVERSAL_ARCHNAMES = 
    configure_args =  '--build=x86_64-linux-gnu' '--prefix=/usr' '--includedir=${prefix}/include' '--mandir=${prefix}/share/man' '--infodir=${prefix}/share/info' '--sysconfdir=/etc' '--localstatedir=/var' '--libexecdir=${prefix}/lib/ruby2.1' '--disable-maintainer-mode' '--disable-dependency-tracking' '--enable-multiarch' '--target=x86_64-linux-gnu' '--program-suffix=2.1' '--with-soname=ruby-2.1' '--enable-shared' '--disable-rpath' '--with-baseruby=/usr/bin/ruby' '--with-sitedir=/usr/local/lib/site_ruby' '--with-sitearchdir=/usr/local/lib/x86_64-linux-gnu/site_ruby' '--enable-ipv6' '--with-dbm-type=gdbm_compat' 'CFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security' 'CPPFLAGS=-D_FORTIFY_SOURCE=2' 'CXXFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security' 'FFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4' 'GCJFLAGS=-g -O2 -fstack-protector --param=ssp-buffer-size=4' 'LDFLAGS=-Wl,-Bsymbolic-functions -Wl,-z,relro -L/build/ruby2.1-3vrZnx/ruby2.1-2.1.9/debian/lib' '--with-tcltkversion=8.5' '--with-tclConfig-dir=/usr/lib/x86_64-linux-gnu/tcl8.5/tclConfig.sh' '--with-tkConfig-dir=/usr/lib/x86_64-linux-gnu/tk8.5/tkConfig.sh' '--with-tcllib=tcl8.5' '--with-tklib=tk8.5' '--with-tcl-include=/usr/include/tcl8.5' '--with-tk-include=/usr/include/tcl8.5' '--with-tcl-lib=/usr/lib/x86_64-linux-gnu' '--with-tk-lib=/usr/lib/x86_64-linux-gnu' 'build_alias=x86_64-linux-gnu' 'target_alias=x86_64-linux-gnu'
    vendorarchdir = /usr/lib/x86_64-linux-gnu/ruby/vendor_ruby/2.1.0
    vendorlibdir = /usr/lib/ruby/vendor_ruby/2.1.0
    vendordir = /usr/lib/ruby/vendor_ruby
    sitearchdir = /usr/local/lib/x86_64-linux-gnu/site_ruby
    sitelibdir = /usr/local/lib/site_ruby/2.1.0
    sitedir = /usr/local/lib/site_ruby
    rubyarchdir = /usr/lib/x86_64-linux-gnu/ruby/2.1.0
    rubylibdir = /usr/lib/ruby/2.1.0
    ruby_version = 2.1.0
    sitearch = x86_64-linux-gnu
    arch = x86_64-linux-gnu
    sitearchincludedir = /usr/include/x86_64-linux-gnu
    archincludedir = /usr/include/x86_64-linux-gnu
    sitearchlibdir = /usr/lib/x86_64-linux-gnu
    archlibdir = /usr/lib/x86_64-linux-gnu
    libdirname = archlibdir
    RUBY_EXEC_PREFIX = /usr
    RUBY_LIB_VERSION = 
    RUBY_LIB_VERSION_STYLE = 3	/* full */
    RI_BASE_NAME = ri
    ridir = /usr/share/ri
    rubysitearchprefix = /usr/lib/x86_64-linux-gnu/ruby
    rubyarchprefix = /usr/lib/x86_64-linux-gnu/ruby
    MAKEFILES = Makefile GNUmakefile
    PLATFORM_DIR = 
    THREAD_MODEL = pthread
    SYMBOL_PREFIX = 
    EXPORT_PREFIX = 
    COMMON_HEADERS = 
    COMMON_MACROS = 
    COMMON_LIBS = 
    MAINLIBS = 
    ENABLE_SHARED = yes
    DLDLIBS =  -lc
    SOLIBS = -lpthread -lgmp -ldl -lcrypt -lm 
    LIBRUBYARG_SHARED = -lruby-2.1
    LIBRUBYARG_STATIC = -lruby-2.1-static
    LIBRUBYARG = -lruby-2.1
    LIBRUBY = libruby-2.1.so.2.1.0
    LIBRUBY_ALIASES = libruby-2.1.so.2.1 libruby-2.1.so
    LIBRUBY_SO = libruby-2.1.so.2.1.0
    LIBRUBY_A = libruby-2.1-static.a
    RUBYW_INSTALL_NAME = 
    rubyw_install_name = 
    EXTDLDFLAGS = 
    EXTLDFLAGS = 
    strict_warnflags = -std=iso9899:1999
    warnflags = -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wunused-variable -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
    debugflags = -ggdb3
    optflags = -O3 -fno-fast-math
    cxxflags =  -O3 -fno-fast-math -ggdb3 -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wunused-variable -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
    cflags =  -O3 -fno-fast-math -ggdb3 -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Wunused-variable -Wpointer-arith -Wwrite-strings -Wdeclaration-after-statement -Wimplicit-function-declaration
    cppflags = 
    NULLCMD = :
    DLNOBJ = dln.o
    INSTALLDOC = all
    CAPITARGET = nodoc
    RDOCTARGET = rdoc
    DTRACE_GLOMMED_OBJ = ruby-glommed.o
    DTRACE_OBJ = probes.o
    DTRACE_EXT = d
    EXECUTABLE_EXTS = 
    ARCHFILE = 
    LIBRUBY_RELATIVE = no
    EXTOUT = .ext
    RUNRUBY_COMMAND = $(MINIRUBY) $(srcdir)/tool/runruby.rb --extout=.ext $(RUNRUBYOPT)
    PREP = miniruby
    BTESTRUBY = $(MINIRUBY)
    CROSS_COMPILING = no
    TEST_RUNNABLE = yes
    rubylibprefix = /usr/lib/ruby
    setup = Setup
    EXTSTATIC = 
    STRIP = strip -S -x
    TRY_LINK = 
    LIBPATHENV = LD_LIBRARY_PATH
    RPATHFLAG = 
    LIBPATHFLAG =  -L%s
    LINK_SO = 
    LIBEXT = a
    DLEXT2 = 
    DLEXT = so
    LDSHAREDXX = g++ -shared
    LDSHARED = gcc -shared
    CCDLFLAGS = -fPIC
    STATIC = 
    ARCH_FLAG = 
    DLDFLAGS = 
    ALLOCA = 
    codesign = 
    POSTLINK = :
    WERRORFLAG = -Werror
    CHDIR = cd -P
    RMALL = rm -fr
    RMDIRS = rmdir --ignore-fail-on-non-empty -p
    RMDIR = rmdir --ignore-fail-on-non-empty
    CP = cp
    RM = rm -f
    PKG_CONFIG = pkg-config
    PYTHON = 
    DOXYGEN = 
    DOT = 
    DTRACE = dtrace
    MAKEDIRS = /bin/mkdir -p
    MKDIR_P = /bin/mkdir -p
    INSTALL_DATA = /usr/bin/install -c -m 644
    INSTALL_SCRIPT = /usr/bin/install -c
    INSTALL_PROGRAM = /usr/bin/install -c
    SET_MAKE = 
    LN_S = ln -s
    NM = nm
    DLLWRAP = 
    WINDRES = 
    OBJCOPY = :
    OBJDUMP = objdump
    ASFLAGS = 
    AS = as
    AR = ar
    RANLIB = ranlib
    try_header = 
    CC_VERSION = gcc -v
    COUTFLAG = -o 
    OUTFLAG = -o 
    CPPOUTFILE = -o conftest.i
    GNU_LD = yes
    LD = ld
    GCC = yes
    EGREP = /bin/grep -E
    GREP = /bin/grep
    CPP = gcc -E
    CXXFLAGS = -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security
    CXX = g++
    OBJEXT = o
    CPPFLAGS = -D_FORTIFY_SOURCE=2  
    LDFLAGS = -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -L/build/ruby2.1-3vrZnx/ruby2.1-2.1.9/debian/lib -fstack-protector -rdynamic -Wl,-export-dynamic
    CFLAGS = -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -fPIC
    CC = gcc
    NACL_SDK_VARIANT = 
    NACL_SDK_ROOT = 
    NACL_TOOLCHAIN = 
    target_os = linux-gnu
    target_vendor = pc
    target_cpu = x86_64
    target = x86_64-pc-linux-gnu
    host_os = linux-gnu
    host_vendor = pc
    host_cpu = x86_64
    host = x86_64-pc-linux-gnu
    RUBY_VERSION_NAME = ruby-2.1.0
    RUBYW_BASE_NAME = rubyw
    RUBY_BASE_NAME = ruby
    build_os = linux-gnu
    build_vendor = pc
    build_cpu = x86_64
    build = x86_64-pc-linux-gnu
    RUBY_RELEASE_DATE = 2016-03-30
    RUBY_PROGRAM_VERSION = 2.1.9
    target_alias = x86_64-linux-gnu
    host_alias = 
    build_alias = x86_64-linux-gnu
    LIBS = -lpthread -lgmp -ldl -lcrypt -lm 
    ECHO_T = 
    ECHO_N = -n
    ECHO_C = 
    DEFS = 
    mandir = /usr/share/man
    localedir = /usr/share/locale
    libdir = /usr/lib
    psdir = /usr/share/doc/ruby
    pdfdir = /usr/share/doc/ruby
    dvidir = /usr/share/doc/ruby
    htmldir = /usr/share/doc/ruby
    infodir = /usr/share/info
    docdir = /usr/share/doc/ruby
    oldincludedir = /usr/include
    includedir = /usr/include
    localstatedir = /var
    sharedstatedir = /usr/com
    sysconfdir = /etc
    datadir = /usr/share
    datarootdir = /usr/share
    libexecdir = /usr/lib/ruby2.1
    sbindir = /usr/sbin
    bindir = /usr/bin
    program_transform_name = s&$&2.1&;s&^&&
    exec_prefix = /usr
    PACKAGE_URL = 
    PACKAGE_BUGREPORT = 
    PACKAGE_STRING = 
    PACKAGE_VERSION = 
    PACKAGE_TARNAME = 
    PACKAGE_NAME = 
    PATH_SEPARATOR = :
    SHELL = /bin/bash
    archdir = /usr/lib/x86_64-linux-gnu/ruby/2.1.0
    topdir = /usr/lib/x86_64-linux-gnu/ruby/2.1.0

Activated Ruby gems

    bundler => 1.13.7
    io-console => 0.4.3
    psych => 2.0.5
    rake => 12.0.0
    RedCloth => 4.3.2
    i18n => 0.7.0
    json => 1.8.3
    minitest => 5.10.1
    thread_safe => 0.3.5
    tzinfo => 1.2.2
    activesupport => 4.2.7.1
    builder => 3.2.2
    erubis => 2.7.0
    mini_portile2 => 2.1.0
    nokogiri => 1.6.8.1
    rails-deprecated_sanitizer => 1.0.3
    rails-dom-testing => 1.0.8
    loofah => 2.0.3
    rails-html-sanitizer => 1.0.3
    actionview => 4.2.7.1
    rack => 1.6.5
    rack-test => 0.6.3
    actionpack => 4.2.7.1
    globalid => 0.3.7
    activejob => 4.2.7.1
    mime-types-data => 3.2016.0521
    mime-types => 3.1
    mail => 2.6.4
    actionmailer => 4.2.7.1
    actionpack-action_caching => 1.1.1
    actionpack-xml_parser => 1.0.2
    activemodel => 4.2.7.1
    arel => 6.0.4
    activerecord => 4.2.7.1
    public_suffix => 2.0.5
    addressable => 2.5.0
    asciidoctor => 1.5.5
    coderay => 1.1.1
    concurrent-ruby => 1.0.4
    creole => 0.5.0
    css_parser => 1.4.7
    dalli => 2.7.6
    github-markup => 1.4.0
    gitlab-grack => 2.0.0.pre
    gratr19 => 0.4.4.1
    rugged => 0.24.0
    gitolite-rugged => 1.1.0
    tilt => 2.0.5
    haml => 4.0.7
    sexp_processor => 4.7.0
    ruby_parser => 3.8.3
    html2haml => 2.0.0
    thor => 0.19.4
    railties => 4.2.7.1
    haml-rails => 0.9.0
    hiredis => 0.6.1
    htmlentities => 4.3.1
    jquery-rails => 3.1.4
    mimemagic => 0.3.2
    mysql2 => 0.3.21
    net-ldap => 0.12.1
    rubypants => 0.6.0
    org-ruby => 0.9.12
    protected_attributes => 1.1.3
    ruby-openid => 2.3.0
    rack-openid => 1.4.2
    sprockets => 3.7.1
    sprockets-rails => 3.2.0
    rails => 4.2.7.1
    rbpdf-font => 1.19.0
    rbpdf => 1.19.0
    redcarpet => 3.3.4
    redis => 3.3.2
    request_store => 1.0.5
    rmagick => 2.16.0
    roadie => 3.2.0
    roadie-rails => 1.1.1
    will_paginate => 3.1.5

Ruby load path ($LOAD_PATH)

    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/will_paginate-3.1.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/roadie-rails-1.1.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/roadie-3.2.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/rmagick-2.16.0
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rmagick-2.16.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rmagick-2.16.0/ext
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rmagick-2.16.0/deprecated
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/request_store-1.0.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/redis-3.3.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/redcarpet-3.3.4
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/redcarpet-3.3.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rbpdf-1.19.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rbpdf-font-1.19.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rails-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/sprockets-rails-3.2.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/sprockets-3.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-openid-1.4.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/ruby-openid-2.3.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/protected_attributes-1.1.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/org-ruby-0.9.12/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rubypants-0.6.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/net-ldap-0.12.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/mysql2-0.3.21
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mysql2-0.3.21/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mimemagic-0.3.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/jquery-rails-3.1.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/htmlentities-4.3.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/hiredis-0.6.1
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/hiredis-0.6.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/haml-rails-0.9.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thor-0.19.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/html2haml-2.0.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/ruby_parser-3.8.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/sexp_processor-4.7.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/haml-4.0.7/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tilt-2.0.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/bundler/gems/gitolite-rugged-85668adfb1f7/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/rugged-0.24.0
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rugged-0.24.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/gratr19-0.4.4.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/bundler/gems/grack-1bc51d833970/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/github-markup-1.4.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/dalli-2.7.6/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/css_parser-1.4.7/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/creole-0.5.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/concurrent-ruby-1.0.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/coderay-1.1.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/asciidoctor-1.5.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/addressable-2.5.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/public_suffix-2.0.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-xml_parser-1.0.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-action_caching-1.1.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionmailer-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mail-2.6.4/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mime-types-3.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mime-types-data-3.2016.0521/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activejob-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/globalid-0.3.7/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-test-0.6.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionview-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rails-html-sanitizer-1.0.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/loofah-2.0.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rails-dom-testing-1.0.8/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rails-deprecated_sanitizer-1.0.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/nokogiri-1.6.8.1
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/nokogiri-1.6.8.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/mini_portile2-2.1.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/erubis-2.7.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/builder-3.2.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/minitest-5.10.1/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/json-1.8.3
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/extensions/x86_64-linux/2.1.0/RedCloth-4.3.2
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/RedCloth-4.3.2/lib
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/RedCloth-4.3.2/lib/case_sensitive_require
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/RedCloth-4.3.2/ext
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rake-12.0.0/lib
    /usr/local/lib/site_ruby/2.1.0
    /usr/local/lib/x86_64-linux-gnu/site_ruby
    /usr/local/lib/site_ruby
    /usr/lib/ruby/vendor_ruby/2.1.0
    /usr/lib/x86_64-linux-gnu/ruby/vendor_ruby/2.1.0
    /usr/lib/ruby/vendor_ruby
    /usr/lib/ruby/2.1.0
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0

Ruby loaded libraries ($LOADED_FEATURES)

    enumerator.so
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/enc/encdb.so
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/enc/trans/transdb.so
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/rbconfig.rb
    /usr/lib/ruby/2.1.0/rubygems/compatibility.rb
    /usr/lib/ruby/2.1.0/rubygems/defaults.rb
    /usr/lib/ruby/2.1.0/rubygems/deprecate.rb
    /usr/lib/ruby/2.1.0/rubygems/errors.rb
    /usr/lib/ruby/2.1.0/rubygems/version.rb
    /usr/lib/ruby/2.1.0/rubygems/requirement.rb
    /usr/lib/ruby/2.1.0/rubygems/platform.rb
    /usr/lib/ruby/2.1.0/rubygems/basic_specification.rb
    /usr/lib/ruby/2.1.0/rubygems/stub_specification.rb
    /usr/lib/ruby/2.1.0/rubygems/util/stringio.rb
    /usr/lib/ruby/2.1.0/rubygems/specification.rb
    /usr/lib/ruby/2.1.0/rubygems/exceptions.rb
    /usr/lib/ruby/vendor_ruby/rubygems/defaults/operating_system.rb
    /usr/lib/ruby/2.1.0/rubygems/core_ext/kernel_gem.rb
    thread.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/thread.so
    /usr/lib/ruby/2.1.0/monitor.rb
    /usr/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb
    /usr/lib/ruby/2.1.0/rubygems.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/etc.so
    /usr/lib/ruby/2.1.0/fileutils.rb
    /usr/lib/ruby/2.1.0/tmpdir.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tmpio.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info/operating_system.rb
    /usr/lib/ruby/2.1.0/rubygems/path_support.rb
    /usr/lib/ruby/2.1.0/rubygems/dependency.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info/ruby.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/platform_info/binary_compatibility.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/constants.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/native_support.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/socket.so
    /usr/lib/ruby/2.1.0/socket.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/ruby_core_enhancements.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tmpdir.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/preloader_shared_helpers.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/public_api.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/debug_logging.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/loader_shared_helpers.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/fcntl.so
    /usr/lib/ruby/vendor_ruby/phusion_passenger/message_channel.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/message_client.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils/native_support_utils.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils/unseekable_socket.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler/thread_handler.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/request_handler.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/stringio.so
    /usr/lib/ruby/vendor_ruby/phusion_passenger/utils/tee_input.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/rack/thread_handler_extension.rb
    /usr/lib/ruby/vendor_ruby/phusion_passenger/analytics_logger.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/postit_trampoline.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/pathname.so
    /usr/lib/ruby/2.1.0/pathname.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/constants.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/io/console.so
    /usr/lib/ruby/2.1.0/rubygems/user_interaction.rb
    /usr/lib/ruby/2.1.0/rubygems/config_file.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/rubygems_integration.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/current_ruby.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/shared_helpers.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/build_error.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/builder.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/configure_builder.rb
    /usr/lib/ruby/2.1.0/delegate.rb
    /usr/lib/ruby/2.1.0/tempfile.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/ext_conf_builder.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/rake_builder.rb
    /usr/lib/ruby/2.1.0/optparse.rb
    /usr/lib/ruby/2.1.0/rubygems/command.rb
    /usr/lib/ruby/2.1.0/rubygems/ext/cmake_builder.rb
    /usr/lib/ruby/2.1.0/rubygems/ext.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/errors.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/environment_preserver.rb
    /usr/lib/ruby/2.1.0/timeout.rb
    /usr/lib/ruby/2.1.0/net/protocol.rb
    /usr/lib/ruby/2.1.0/uri/common.rb
    /usr/lib/ruby/2.1.0/uri/generic.rb
    /usr/lib/ruby/2.1.0/uri/ftp.rb
    /usr/lib/ruby/2.1.0/uri/http.rb
    /usr/lib/ruby/2.1.0/uri/https.rb
    /usr/lib/ruby/2.1.0/uri/ldap.rb
    /usr/lib/ruby/2.1.0/uri/ldaps.rb
    /usr/lib/ruby/2.1.0/uri/mailto.rb
    /usr/lib/ruby/2.1.0/uri.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/zlib.so
    /usr/lib/ruby/2.1.0/net/http/exceptions.rb
    /usr/lib/ruby/2.1.0/net/http/header.rb
    /usr/lib/ruby/2.1.0/net/http/generic_request.rb
    /usr/lib/ruby/2.1.0/net/http/request.rb
    /usr/lib/ruby/2.1.0/net/http/requests.rb
    /usr/lib/ruby/2.1.0/net/http/response.rb
    /usr/lib/ruby/2.1.0/net/http/responses.rb
    /usr/lib/ruby/2.1.0/net/http/proxy_delta.rb
    /usr/lib/ruby/2.1.0/net/http/backward.rb
    /usr/lib/ruby/2.1.0/net/http.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/date_core.so
    /usr/lib/ruby/2.1.0/date/format.rb
    /usr/lib/ruby/2.1.0/date.rb
    /usr/lib/ruby/2.1.0/time.rb
    /usr/lib/ruby/2.1.0/rubygems/request.rb
    /usr/lib/ruby/2.1.0/cgi/core.rb
    /usr/lib/ruby/2.1.0/cgi/util.rb
    /usr/lib/ruby/2.1.0/cgi/cookie.rb
    /usr/lib/ruby/2.1.0/cgi.rb
    /usr/lib/ruby/2.1.0/rubygems/uri_formatter.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/digest.so
    /usr/lib/ruby/2.1.0/digest.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/openssl.so
    /usr/lib/ruby/2.1.0/openssl/bn.rb
    /usr/lib/ruby/2.1.0/openssl/cipher.rb
    /usr/lib/ruby/2.1.0/openssl/config.rb
    /usr/lib/ruby/2.1.0/openssl/digest.rb
    /usr/lib/ruby/2.1.0/openssl/x509.rb
    /usr/lib/ruby/2.1.0/openssl/buffering.rb
    /usr/lib/ruby/2.1.0/openssl/ssl.rb
    /usr/lib/ruby/2.1.0/openssl.rb
    /usr/lib/ruby/2.1.0/securerandom.rb
    /usr/lib/ruby/2.1.0/resolv.rb
    /usr/lib/ruby/2.1.0/rubygems/remote_fetcher.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/gem_remote_fetcher.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/digest/sha1.so
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/plugin/api/source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/plugin/api.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/plugin.rb
    /usr/lib/ruby/2.1.0/rubygems/util.rb
    /usr/lib/ruby/2.1.0/rubygems/source/git.rb
    /usr/lib/ruby/2.1.0/rubygems/source/installed.rb
    /usr/lib/ruby/2.1.0/rubygems/source/specific_file.rb
    /usr/lib/ruby/2.1.0/rubygems/source/local.rb
    /usr/lib/ruby/2.1.0/rubygems/source/lock.rb
    /usr/lib/ruby/2.1.0/rubygems/source/vendor.rb
    /usr/lib/ruby/2.1.0/rubygems/source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/gem_helpers.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/match_platform.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/rubygems_ext.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/settings.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/yaml_serializer.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/strscan.so
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source/path.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source/git.rb
    /usr/lib/ruby/2.1.0/rubygems/text.rb
    /usr/lib/ruby/2.1.0/rubygems/name_tuple.rb
    /usr/lib/ruby/2.1.0/rubygems/spec_fetcher.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source/rubygems.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/lockfile_parser.rb
    /usr/lib/ruby/2.1.0/set.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/definition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/dependency.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/ruby_dsl.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/dsl.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source_list.rb
    /usr/lib/ruby/2.1.0/erb.rb
    /usr/lib/ruby/2.1.0/psych/exception.rb
    /usr/lib/ruby/2.1.0/psych/syntax_error.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/psych.so
    /usr/lib/ruby/2.1.0/psych/omap.rb
    /usr/lib/ruby/2.1.0/psych/set.rb
    /usr/lib/ruby/2.1.0/psych/class_loader.rb
    /usr/lib/ruby/2.1.0/psych/scalar_scanner.rb
    /usr/lib/ruby/2.1.0/psych/nodes/node.rb
    /usr/lib/ruby/2.1.0/psych/nodes/stream.rb
    /usr/lib/ruby/2.1.0/psych/nodes/document.rb
    /usr/lib/ruby/2.1.0/psych/nodes/sequence.rb
    /usr/lib/ruby/2.1.0/psych/nodes/scalar.rb
    /usr/lib/ruby/2.1.0/psych/nodes/mapping.rb
    /usr/lib/ruby/2.1.0/psych/nodes/alias.rb
    /usr/lib/ruby/2.1.0/psych/nodes.rb
    /usr/lib/ruby/2.1.0/psych/streaming.rb
    /usr/lib/ruby/2.1.0/psych/visitors/visitor.rb
    /usr/lib/ruby/2.1.0/psych/visitors/to_ruby.rb
    /usr/lib/ruby/2.1.0/psych/visitors/emitter.rb
    /usr/lib/ruby/2.1.0/psych/handler.rb
    /usr/lib/ruby/2.1.0/psych/tree_builder.rb
    /usr/lib/ruby/2.1.0/psych/visitors/yaml_tree.rb
    /usr/lib/ruby/2.1.0/psych/json/ruby_events.rb
    /usr/lib/ruby/2.1.0/psych/visitors/json_tree.rb
    /usr/lib/ruby/2.1.0/psych/visitors/depth_first.rb
    /usr/lib/ruby/2.1.0/psych/visitors.rb
    /usr/lib/ruby/2.1.0/psych/parser.rb
    /usr/lib/ruby/2.1.0/psych/coder.rb
    /usr/lib/ruby/2.1.0/psych/core_ext.rb
    /usr/lib/ruby/2.1.0/psych/deprecated.rb
    /usr/lib/ruby/2.1.0/psych/stream.rb
    /usr/lib/ruby/2.1.0/psych/json/yaml_events.rb
    /usr/lib/ruby/2.1.0/psych/json/tree_builder.rb
    /usr/lib/ruby/2.1.0/psych/json/stream.rb
    /usr/lib/ruby/2.1.0/psych/handlers/document_stream.rb
    /usr/lib/ruby/2.1.0/psych.rb
    /usr/lib/ruby/2.1.0/yaml.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/enc/utf_16le.so
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/enc/utf_16be.so
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/ui.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/ui/silent.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/ui/rg_proxy.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/lazy_specification.rb
    /usr/lib/ruby/2.1.0/tsort.rb
    /usr/lib/ruby/2.1.0/forwardable.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/spec_set.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/gem_version_promoter.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source/git/git_proxy.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/source/gemspec.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/runtime.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/dep_proxy.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/index.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/remote_specification.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/stub_specification.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/endpoint_specification.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/bundler-1.13.7/lib/bundler/setup.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack/multipart.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack/utils.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/rack-1.6.5/lib/rack/builder.rb
    /opt/redmine/redmine-3.3.1/config/boot.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/ruby_version_check.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe/synchronized_delegator.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/array/prepend_and_append.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/deep_merge.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/except.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/slice.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib/i18n/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib/i18n/exceptions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib/i18n/interpolate/ruby.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib/i18n.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/lazy_load_hooks.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/i18n-0.7.0/lib/i18n/config.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/i18n.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe/non_concurrent_cache_backend.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe/mri_cache_backend.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/thread_safe-0.3.5/lib/thread_safe/cache.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/inflector/inflections.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/inflections.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/inflector/methods.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/dependencies/autoload.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/gem_version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/array/extract_options.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/attribute_accessors.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/concern.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/logger_silence.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/logger_thread_safe_level.rb
    /usr/lib/ruby/2.1.0/logger.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/logger.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support.rb
    /usr/lib/ruby/2.1.0/singleton.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/kernel/singleton_class.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/delegation.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation/instance_delegator.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/notifications/instrumenter.rb
    /usr/lib/ruby/2.1.0/mutex_m.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/notifications/fanout.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/per_thread_registry.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/notifications.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation/behaviors.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation/reporting.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/aliasing.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation/method_wrappers.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation/proxy_wrappers.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/deprecation.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/deprecation.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/kernel/reporting.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/keys.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/blank.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/key_generator.rb
    /usr/lib/ruby/2.1.0/base64.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/security_utils.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/message_verifier.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/initializable.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/ordered_options.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/acts_like.rb
    /usr/lib/x86_64-linux-gnu/ruby/2.1.0/bigdecimal.so
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/duplicable.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/deep_dup.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/itself.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/try.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/inclusion.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/to_query.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/to_param.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/multibyte.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/multibyte.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/inflector/transliterate.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/inflections.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_time/calculations.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/xml_mini/rexml.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/xml_mini.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/array/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/acts_like.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/duration.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/ruby_core_support.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/offset_rationals.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/time_or_datetime.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_definition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_offset.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_transition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_transition_definition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_index_definition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/data_timezone_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/linked_timezone_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/transition_data_timezone_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/zoneinfo_timezone_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/data_source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/ruby_data_source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/zoneinfo_data_source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_period.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/info_timezone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/data_timezone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/linked_timezone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/timezone_proxy.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/country_index_definition.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/country_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/ruby_country_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/zoneinfo_country_info.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/country.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo/country_timezone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/tzinfo-1.2.2/lib/tzinfo.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/values/time_zone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/time_with_zone.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_and_time/zones.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/zones.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_and_time/calculations.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date/zones.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date/calculations.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/calculations.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time/marshal.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date/acts_like.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/remove_method.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_time/acts_like.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_time/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_time/zones.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/date_time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/numeric/time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/integer/time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/zones.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/array/wrap.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/reverse_merge.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/hash/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/instance_variables.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/version.rb
    /usr/lib/ruby/2.1.0/ostruct.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/generic_object.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/common.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/pure/parser.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/pure/generator.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json/pure.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/json-1.8.3/lib/json.rb
    /usr/lib/ruby/2.1.0/bigdecimal/util.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/big_decimal/conversions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/json.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/option_merger.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object/with_options.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/object.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/paths.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/rack.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/configuration.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/inflector.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/introspection.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/railtie.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/engine/railties.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/engine.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/application.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/gem_version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/file_update_checker.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails/railtie/configuration.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/i18n_railtie.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/railtie.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/class/attribute.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/rails.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_pack/gem_version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_pack/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_pack.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_dispatch.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/actionpack-4.2.7.1/lib/action_dispatch/railtie.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/railties-4.2.7.1/lib/rails.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib/active_model/gem_version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib/active_model/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib/active_model.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/crud.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/factory_methods.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/expressions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/predications.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/window_predications.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/math.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/alias_predication.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/order_predications.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/table.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/attributes/attribute.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/attributes.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/compatibility/wheres.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/visitor.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/depth_first.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/reduce.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/to_sql.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/sqlite.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/postgresql.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/mysql.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/mssql.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/oracle.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/where_sql.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/dot.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/ibm_db.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors/informix.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/visitors.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/collectors/plain_string.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/collectors/sql_string.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/tree_manager.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/insert_manager.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/select_manager.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/update_manager.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/delete_manager.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/node.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/select_statement.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/select_core.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/insert_statement.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/update_statement.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/bind_param.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/terminal.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/true.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/false.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/unary.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/grouping.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/ascending.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/descending.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/unqualified_column.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/with.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/binary.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/equality.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/in.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/join_source.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/delete_statement.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/table_alias.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/infix_operation.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/over.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/matches.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/and.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/function.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/count.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/extract.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/values.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/named_function.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/window.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/full_outer_join.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/inner_join.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/outer_join.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/right_outer_join.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/string_join.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes/sql_literal.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/nodes.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/gem_version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/version.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/attribute.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/attribute_set/builder.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/attribute_set.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/enumerable.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/filters.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib/active_model/attribute_methods.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/attribute_methods.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/decorator.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/mutable.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/numeric.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/time_value.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/value.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/integer.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/big_integer.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/binary.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/boolean.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/date.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/date_time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/decimal.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/decimal_without_scale.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/float.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/serialized.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/string.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/text.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/time.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/unsigned_integer.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/type_map.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type/hash_lookup_type_map.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/type.rb
    /usr/lib/ruby/2.1.0/benchmark.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/benchmark.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/schema_cache.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/schema_dumper.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/strip.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/schema_creation.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/arel-6.0.4/lib/arel/collectors/bind.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/quoting.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/database_statements.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/errors.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/migration.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/migration/join_table.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/string/access.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/schema_definitions.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/schema_statements.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/database_limits.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/query_cache.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/descendants_tracker.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/callbacks.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract_adapter.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record/scoping.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activerecord-4.2.7.1/lib/active_record.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activemodel-4.2.7.1/lib/active_model/railtie.rb
    /opt/redmine/.rvm/gems/ruby-2.1.4/gems/activesupport-4.2.7.1/lib/active_support/core_ext/module/attr_internal.rb
"
24775,Redmine,Defect,NA,Closed,Normal,"excute command ,work error.the command is bundle exec rake redmine:plugins:process_version_change RAILS_ENV=production --trace,how to fix?",xiaowen he,NA,2017-01-07T07:55:00Z,NA,NA,NA,NA,NA,0,2017-01-07T06:39:00Z,2017-01-07T07:55:00Z,NA,Invalid,NA,"bundle exec rake redmine:plugins:process_version_change RAILS_ENV=production --trace
(in /opt/redmine-3.1.1-1/apps/redmine/htdocs)
rake aborted!
Don't know how to build task 'redmine:plugins:process_version_change'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/task_manager.rb:62:in `[]'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:149:in `invoke_task'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:106:in `block (2 levels) in top_level'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:106:in `each'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:106:in `block in top_level'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:115:in `run_with_threads'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:100:in `top_level'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:78:in `block in run'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:176:in `standard_exception_handling'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/lib/rake/application.rb:75:in `run'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/gems/rake-10.4.2/bin/rake:33:in `<top (required)>'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/bin/rake:23:in `load'
/opt/redmine-3.1.1-1/apps/redmine/htdocs/vendor/bundle/ruby/2.0.0/bin/rake:23:in `<main>'"
24777,Redmine,Defect,NA,Closed,Normal,Non-www version of redmine.org does not work,Kenn Wilson,Jean-Philippe Lang,2017-01-08T01:22:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-01-08T01:06:00Z,2017-01-08T01:22:00Z,次のチケットと重複 #22281,Duplicate,NA,"Typing just ""redmine.org"" to get to this site returns a ""403 Forbidden"" error.

Steps to reproduce:

# Click http://redmine.org

Expected behavior: Site loads or redirects to www.redmine.org

This affects the non-SSL version only. The following links do work correctly:

* http://www.redmine.org/
* https://www.redmine.org/
* https://redmine.org/


Suggested fix: Redirect all of the above to https://www.redmine.org/. This will fix both the www and non-www URLs, while ensuring all visitors use SSL.
"
24802,Redmine,Defect,NA,Closed,Normal,Getting error message,gana dhar,NA,2017-01-11T09:23:00Z,Administration,NA,NA,NA,NA,0,2017-01-10T18:03:00Z,2017-01-11T09:23:00Z,NA,Invalid,NA,"Just installed Redmine on my Ubuntu system. But facing some problem as soon as i click on settings/add new users

the page displays the following message

*Internal error*

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error."
24803,Redmine,Defect,NA,Closed,Normal,Incoming mailm subject are truncated,Fred B,NA,2017-01-18T20:26:00Z,Email receiving,NA,NA,NA,NA,0,2017-01-10T20:47:00Z,2017-01-18T20:25:00Z,次のチケットと重複 #16859,Duplicate,2.4.3,"Most of the time it's because it have localized (french) characters in them. But sometimes it even miss ans stop improting subject with standard characters.

Sometimes it work and won't truncate.. I don't kmnow why.

formulaire de demande de formulaire compl?t? > formulaire de demande de formulaire compl?t

"
24821,Redmine,Defect,NA,New,Normal,Cannot use mailto: in link custom field,Maxim Kru?ina,NA,2017-02-09T11:37:00Z,Custom fields,NA,NA,NA,NA,0,2017-01-12T20:41:00Z,NA,NA,NA,3.3.0,"I would like to have a custom field for storing e-mails.
So I created custom field ""e-mail"" and set URL to ""mailto:%value%"" but Redmine will not allow me to save this with error: URL is invalid
I tried to do this via Text custom field and same URL (mailto:%value%) but still no way..."
24829,Redmine,Defect,NA,Confirmed,Normal,Dropdown Mobile view menu partially unreadable,Jesse Tebbetts,NA,2017-01-13T16:25:00Z,UI - Responsive,NA,NA,NA,NA,0,2017-01-13T15:44:00Z,NA,NA,NA,NA,"Wanted to report an issue that seems to be occurring using Edge (latest), Chromium (latest stable), & Chrome (latest stable). This is the behavior showing on 3.3.1 when the browser window is not full size and goes to a more mobile or compact view. 

In Edge, the background is white and text is white/grayish and only legible when you mouse over the options
!capture14.png!

In Chrome, the background is showing the same way.
!capture15.png!

In Firefox 50.1.0, the background is showing blue, with white text.
!capture16.png!

Thanks. 
"
24831,Redmine,Defect,NA,Closed,Normal,undefined method `require_sudo_mode' for EmailAddressesController:Class,Ben Senior,NA,2017-01-15T12:23:00Z,NA,NA,NA,NA,NA,0,2017-01-14T20:51:00Z,2017-01-15T12:23:00Z,次のチケットが重複 #24838,Invalid,NA,"When upgrading (finally) from 2.5.2 to 3.3 on debian 8 (mysql Ver 14.14 Distrib 5.5.40) using apache2 and passengers, I get the following error:

<pre>
Web application could not be started

undefined method `require_sudo_mode' for EmailAddressesController:Class (NoMethodError)
  /usr/share/redmine/app/controllers/email_addresses_controller.rb:21:in `<class:EmailAddressesController>'
  /usr/share/redmine/app/controllers/email_addresses_controller.rb:18:in `<top (required)>'
  /usr/lib/ruby/vendor_ruby/active_support/dependencies.rb:247:in `require'
...
</pre>

I can see that I have a sudo_mode.rb in /usr/share/redmine/lib/redmine but this doesn't seem to be getting included.

I installed redmine from https://svn.redmine.org/redmine/branches/3.3-stable

In fact, here are exactly the steps I took :

<pre>

sudo apt-get update

sudo apt-get upgrade

cd /usr/share/

#Lets keep a copy of the old one

sudo mv redmine redmine-2.5.2-old

sudo svn co https://svn.redmine.org/redmine/branches/3.3-stable redmine

sudo chown -R www-data:www-data redmine

cd redmine

#copy the old config

sudo cp /etc/redmine/default/database.yml ./config/

#upgrade the bundle

sudo bundle install

sudo RAILS_ENV=production bundle exec rake db:migrate
</pre>

Is this a problem with the packaging, or am I doing something wrong?  :-/"
24835,Redmine,Defect,NA,Closed,Normal,"Updatet db:migrate - kaminari syntax error, unexpected tLABEL",Roman Pickl,NA,2017-01-15T16:54:00Z,NA,NA,NA,NA,NA,0,2017-01-15T11:22:00Z,2017-01-15T12:20:00Z,NA,Invalid,3.3.2,"when trying to upgrade to 3.3.2 I get the following error:

root@host:/var/www/redmine-intern/redmine# ruby --version
ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]
root@host:/var/www/redmine-intern/redmine# rake --version
rake, version 12.0.0
root@host:/var/www/redmine-intern/redmine# rails --version
Expected string default value for '--rc'; got false (boolean)
Rails 4.2.7.1
root@host:/var/www/redmine-intern/redmine# bundle exec rake db:migrate RAILS_ENV=production
Your Gemfile lists the gem simplecov-rcov (>= 0) more than once.
You should probably keep only one of them.
While it's not a problem now, it could cause errors if you change the version of just one of them later.
rake aborted!
SyntaxError: /var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: syntax error, unexpected tLABEL
...ef initialize(template, window: nil, outer_window: nil, left...
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: Can't assign to nil
...itialize(template, window: nil, outer_window: nil, left: nil...
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: Can't assign to nil
...window: nil, outer_window: nil, left: nil, right: nil, inner...
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: Can't assign to nil
..., outer_window: nil, left: nil, right: nil, inner_window: ni...
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: Can't assign to nil
...ow: nil, left: nil, right: nil, inner_window: nil, **options...
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:9: Can't assign to nil
... right: nil, inner_window: nil, **options) #:nodoc:
...                               ^
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:85: class definition in method body
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/helpers/paginator.rb:189: syntax error, unexpected keyword_end, expecting $end
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `require'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `block in require'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:240:in `load_dependency'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `require'
/var/lib/gems/1.9.1/gems/kaminari-core-1.0.0/lib/kaminari/core.rb:15:in `<top (required)>'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `require'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `block in require'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:240:in `load_dependency'
/var/lib/gems/1.9.1/gems/activesupport-4.2.7.1/lib/active_support/dependencies.rb:274:in `require'
/var/lib/gems/1.9.1/gems/kaminari-1.0.0/lib/kaminari.rb:2:in `<top (required)>'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:76:in `require'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:76:in `block (2 levels) in require'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:72:in `each'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:72:in `block in require'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:61:in `each'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler/runtime.rb:61:in `require'
/var/lib/gems/1.9.1/gems/bundler-1.7.2/lib/bundler.rb:133:in `require'
/var/www/redmine-intern/redmine/config/application.rb:5:in `<top (required)>'
/var/www/redmine-intern/redmine/Rakefile:5:in `require'
/var/www/redmine-intern/redmine/Rakefile:5:in `<top (required)>'
/var/lib/gems/1.9.1/gems/rake-12.0.0/exe/rake:27:in `<top (required)>'
(See full trace by running task with --trace)
"
24859,Redmine,Defect,NA,Closed,Normal,New url for the redmine_bitbucket plugin,Mehdi Achour,NA,2017-01-19T11:51:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-01-17T22:09:00Z,2017-01-19T11:51:00Z,NA,Fixed,NA,"The link provided on http://www.redmine.org/plugins/redmine_bitbucket doesn't work anymore, here's the updated link : https://bitbucket.org/steveqian/redmine_bitbucket"
24862,Redmine,Defect,NA,Closed,Normal,old data used in new redmine,xianfeng zhou,NA,2017-01-18T12:12:00Z,NA,NA,NA,NA,NA,0,2017-01-18T11:51:00Z,2017-01-18T12:12:00Z,NA,Invalid,NA,I have the 2.3.1 version's data.If I can import it to the new version redmine(3.3.5)
24864,Redmine,Defect,NA,New,Low,"svn.redmine.org: ""The certificate is not issued by a trusted authority""",Gwyll Gwyllin,NA,2017-10-24T19:21:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-01-18T12:46:00Z,NA,"関連している #24509, 関連している #22281",NA,NA,"Your certificate is expired.

Error validating server certificate for 'https://svn.redmine.org:443':
 - The certificate is not issued by a trusted authority. Use the
   fingerprint to validate the certificate manually!
Certificate information:
 - Hostname: svn.redmine.org
 - Valid: from Jan  8 00:00:00 2017 GMT until Jan  8 23:59:59 2020 GMT
 - Issuer: Gandi, Paris, Paris, FR
 - Fingerprint: AB:F1:C8:B7:69:A6:99:BD:20:C1:59:A4:5F:60:9E:27:2D:81:82:B7
"
24866,Redmine,Defect,NA,Closed,Normal,SQLServer: Visibility not included in list,Ronny .,NA,2017-02-14T13:39:00Z,Issues list,NA,NA,NA,NA,0,2017-01-18T15:57:00Z,2017-02-14T13:39:00Z,NA,Invalid,3.3.2,"I have an empty, just installed Redmine.
While try to have a look at issue list i get a message ""visibility ist not included in list"".

Having some google i found some issues with table queries und some sql to fix  NULL problem.
As my queries table has no content (Count(*) = 0) such fix would not have an effect.

Any idea whats going on here?

thanks und by  from germany
Ronny

Windows Server 2012R2
Sql Server 2016
Installed yesterday and no content (tickets or so on).

<pre>
Environment:
  Redmine version                3.3.2.stable
  Ruby version                   2.1.7-p400 (2015-08-18) [x64-mingw32]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               SQLServer
SCM:
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
24873,Redmine,Defect,NA,Closed,Normal,Incorrect release year of latest version on Wiki side column,Yuji IMAI,Go MAEDA,2017-06-25T13:58:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-01-19T01:35:00Z,2017-01-19T01:42:00Z,NA,Fixed,NA,"Need increment year of latest release appeared at side column of https://www.redmine.org/ .

<pre>
Latest releases

3.3.2 (2016-01-07)
3.2.5 (2016-01-07)
</pre>"
24880,Redmine,Defect,NA,Closed,Normal,Documentation for enabling HTTPS is not clear,Jonathan Schneider,NA,2017-01-24T17:40:00Z,Documentation,NA,NA,NA,NA,0,2017-01-19T15:49:00Z,2017-01-19T16:52:00Z,関連している #25577,Wont fix,3.2.2,"I have been running Remine for years, updated it several times with no trouble, experience of configuring Apache and of creating keys and certificates but NOT of Ruby and Rails as a programmer.

I have just installed the server key and certificate and they are fine and https works. But the links within Redmine are http.

I gather from random pages that @RequestHeader set X_FORWARDED_PROTO 'https'@ is good and that does indeed change the problem.

But both the http and https services are on non-standard ports not least as that makes my ""redmine"" user need no privileges (with a little DNAT).

Now the links are https which is good but not to the actual https port. I gather tweaking @ssl_option@ is in in order and changed the line in my configuration.rb so it said

<pre>@ssl_options = { port : 8443 }</pre>

but obviously the syntax wasn't right.

Please could the documentation be fixed with a complete guide on HTTPS setup particularly where non-standard (TCP) ports are used. I have found mentions in the forums but it hasn't helped me.

It would be reasonable to assume the business of preparing keys and certificates and dealing with Apache is documented elsewhere many times over.

Thank you."
24882,Redmine,Defect,NA,New,Normal,Email notifications possibly sent out before whole transaction is complete,Felix Sch?fer,NA,2017-01-20T10:22:00Z,NA,NA,NA,NA,NA,0,2017-01-20T10:22:00Z,NA,NA,NA,NA,"In some cases email notifications might be sent out for changes that will subsequently be rolled back.

The case we observed was with 2 related issues. The update was to close the primary issue, which caused the related issue to be closed too. The primary update failed because of a stale object error (the primary issue had been updated by another user between when the first user opened the issue page and he tried saving it), this also rolled back closing the related issue.

Unfortunately the email notifications for the closing of the related issue had already been sent out, and users were confused to have received a notification about the closing of the issue, but not seeing the issue closed nor seeing the change in the journals."
24889,Redmine,Defect,NA,Closed,Normal,"Get ""Requested resource is forbidden"" error when calling redmine.user.all() and redmine.user.filter()",Steven Zhang,NA,2017-01-21T02:22:00Z,REST API,NA,NA,NA,NA,0,2017-01-21T00:39:00Z,2017-01-21T02:22:00Z,NA,Invalid,2.5.0,"I'm trying to get all users on redmine using Python API, but get error said ""Requested resource is forbidden"". I don't know what the solution is to this error or any workaround? Or how can I get a user id by passing his/her login name. Thanks"
24898,Redmine,Defect,NA,Closed,Normal,Internal Error while create new project,athena tang,NA,2017-01-23T13:29:00Z,Issues,NA,NA,NA,NA,0,2017-01-22T07:19:00Z,2017-01-23T13:29:00Z,NA,Invalid,2.5.2,"while I am going to login the system , create a new project or a new user,it will give *internal error*.
the error on the page like this:
Internal error
An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.
If you are the Redmine administrator, check your log files for details about the error.
Back

And the log like this:
Processing by WelcomeController#index as HTML
  Current user: admin (id=1)
  Rendered welcome/index.html.erb within layouts/base (4.6ms)
Completed 500 Internal Server Error in 28.3ms

ActionView::Template::Error (undefined method `create' for Psych::Visitors::YAMLTree:Class):
    9: <%= favicon %>
    10: <%= stylesheet_link_tag 'jquery/jquery-ui-1.9.2', 'application', :media => 'all' %>
    11: <%= stylesheet_link_tag 'rtl', :media => 'all' if l(:direction) == 'rtl' %>
    12: <%= javascript_heads %>
    13: <%= heads_for_theme %>
    14: <%= call_hook :view_layouts_base_html_head %>
    15: <!-- page specific tags -->
  app/models/user.rb:310:in `pref'
  app/helpers/application_helper.rb:1291:in `javascript_heads'
  app/views/layouts/base.html.erb:12:in `_app_views_layouts_base_html_erb___1235638970148253882_36973120'

The environment of information:
ruby 1.9.3p550
Rails 3.2.19
redmine 2.5.2"
24906,Redmine,Defect,NA,New,Normal,Session expiration not visible when editing issues,Immanuel Wilhelmy,NA,2017-01-23T11:35:00Z,Accounts / authentication,NA,NA,NA,NA,0,2017-01-23T11:35:00Z,NA,NA,NA,3.3.0,"h2. Session expiration not visible when editing issues

As some tickets already address redmine's behavior when you are _currently_ editing a ticket and get (in the meantime) logged out, this addresses an aditional scenario:

h3. Problem

if your session has expired, you can *still click on edit* for a currently shown issue and editing is still possible.
However if you hit *save* you will be notified your session has expired. Selecting Back (on firefox) redirects you to the login page and your edits are lost.

h3. How to test

Log in
Select an issue (viewing mode)
open redmine in a second tab and logout on this
Return to the issue tab
Select edit (editing is possible)
Select save
--> you will be notified that your session is expired and your edits are lost

h3. Desired behavior

If your session has expired at least the ""edit"" function should be blocked and user should get notification on invalid session. Ideally the user would be shown (when session expires during editing) the login-dialog with the possibility to authenticate, resume and save the current edit.

h2. our environment

Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.4-p265 (2014-10-27) [x86_64-linux]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.10
  redmine_all_files              0.0.3
  redmine_edit_custom_fields     0.0.4
  redmine_extended_watchers      1.0.5
  redmine_issues_tree            0.0.8
  redmine_lightbox2              0.3.1
  redmine_my_page_queries        2.1.6
  redmine_people                 1.2.0
  redmine_silencer               0.4.1
  redmine_tweaks                 0.5.6
  redmine_wiki_extensions        0.7.0
  redmine_wiki_lists             0.0.6
  redmine_xapian                 1.6.5
  sidebar_hide                   0.0.7"
24907,Redmine,Defect,NA,Closed,Normal,"Issue queries: ""Default columns"" option conflicts with ""Show description""",Jens Kr?mer,Jean-Philippe Lang,2017-01-29T14:12:00Z,Issues filter,3.4.0,NA,NA,NA,0,2017-01-23T11:40:00Z,2017-01-29T14:12:00Z,NA,Fixed,3.3.2,"When editing an issue query, it is impossible to activate the _Show description_ option while _Default columns_ is selected. This is somewhat confusing. Probably _Show description_ should be moved into the _Columns_ fieldset which is toggled by the _Default columns_ checkbox?"
24908,Redmine,Defect,NA,Closed,Normal,Reply to email with signature picture problems,Esteve Navas,NA,2017-02-09T03:56:00Z,Email receiving,NA,NA,NA,NA,0,2017-01-23T12:36:00Z,2017-02-09T03:56:00Z,NA,Duplicate,3.1.3,"I've configured the reply to email feature and it works nicely, people can reply to the mail Redmine sends and the reply is added as a Note.

The problem I have is that it does not work when the user has a picture attached to the signature, with a <img src=""""> html tag. If I have the signature in plain text it works without any issue.

I'm checking the production.log and this is the log when I add a note from Redmine:

<pre>
Started PATCH ""/redmine/issues/1961"" for 192.168.200.100 at 2017-01-23 12:30:25 +0100
Processing by IssuesController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""jhKmG0UwjXxniTl5XAavxbjXZrHpcOVsREn9BiLuuZwi2j+NvN3+6Gz3+UDDUxb98rmr5YpVb72/Fmgob/LSuw=="", ""form_update_triggered_by""=>"""", ""issue""=>{""is_private""=>""0"", ""project_id""=>""2"", ""tracker_id""=>""11"", ""subject""=>""Reply to mail isn't working"", ""description""=>""I create this ticket to make the tests for it."", ""status_id""=>""2"", ""priority_id""=>""2"", ""assigned_to_id""=>""5"", ""start_date""=>""2017-01-22"", ""due_date""=>"""", ""custom_field_values""=>{""33""=>""IT"", ""34""=>""RedMine""}, ""notes""=>""32454354352435432543543"", ""private_notes""=>""0"", ""lock_version""=>""12""}, ""last_journal_id""=>""7074"", ""commit""=>""Submit"", ""prev_issue_id""=>""1629"", ""next_issue_id""=>""1627"", ""issue_position""=>""4"", ""issue_count""=>""20"", ""id""=>""1961""}
  Current user: esteve.n (id=5)
  Rendered mailer/_issue.text.erb (4.8ms)
  Rendered mailer/issue_edit.text.erb within layouts/mailer (5.5ms)
  Rendered mailer/_issue.html.erb (0.8ms)
  Rendered mailer/issue_edit.html.erb within layouts/mailer (2.5ms)
Redirected to http://192.168.200.202/redmine/issues/1961?issue_count=20&issue_position=4&next_issue_id=1627&prev_issue_id=1629
Completed 302 Found in 1818ms (ActiveRecord: 21.3ms)
</pre>

This is the log when I try to add a note from email:

<pre>
Started GET ""/redmine/issues/1961?issue_count=20&issue_position=4&next_issue_id=1627&prev_issue_id=1629"" for 192.168.200.100 at 2017-01-23 12:30:57 +0100
Processing by IssuesController#show as HTML
  Parameters: {""issue_count""=>""20"", ""issue_position""=>""4"", ""next_issue_id""=>""1627"", ""prev_issue_id""=>""1629"", ""id""=>""1961""}
  Current user: esteve.n (id=5)
  Rendered issues/_action_menu.html.erb (5.5ms)
  Rendered plugins/redmine_close_button/app/views/issues/_close_button.html.erb (0.9ms)
  Rendered issue_relations/_form.html.erb (2.9ms)
  Rendered issues/_relations.html.erb (4.4ms)
  Rendered issues/_history.html.erb (256.2ms)
  Rendered issues/_action_menu.html.erb (3.0ms)
  Rendered issues/_form_custom_fields.html.erb (1.9ms)
  Rendered issues/_attributes.html.erb (19.0ms)
  Rendered issues/_form.html.erb (31.2ms)
  Rendered attachments/_form.html.erb (2.1ms)
  Rendered issues/_edit.html.erb (37.1ms)
  Rendered issues/_sidebar.html.erb (4.8ms)
  Rendered watchers/_watchers.html.erb (4.7ms)
  Rendered issues/show.html.erb within layouts/base (355.3ms)
Completed 200 OK in 422ms (Views: 368.4ms | ActiveRecord: 9.5ms)
Saving attachment '/opt/redmine/redmine-3.3.1/files/2017/01/170123123106_nkfoclgkbojlghok.jpg' (5574 bytes)
</pre>

Is seems that treats the picture as an attachment? Could be that the problem?

Thank you for your help."
24915,Redmine,Defect,NA,Needs feedback,High,Activity shows issues and text of issues which should not,Thomas L?fgren,NA,2017-01-24T12:22:00Z,Security,NA,NA,NA,NA,0,2017-01-24T12:05:00Z,NA,関連している #22120,NA,3.3.1,"If as user only allowed to see your issues (Issues assigned or created by user) and you click on a different member of the project from the Project overview side.

* You will see all the tickets assigned to that user and some of the content of the tickets as well.
* If you click on a ticket from the activity you will get 403 Forbidden.

This may be applicable on other kind of activities."
24924,Redmine,Defect,NA,Closed,Normal,Redmine installation produces different results depending on the date installed,Angelo Bertolli,NA,2017-01-27T06:45:00Z,Gems support,NA,NA,NA,NA,0,2017-01-25T21:59:00Z,2017-01-26T03:02:00Z,NA,Wont fix,3.3.1,"h2. The general problem

Redmine releases leave their dependencies open-ended, and assume that later versions of gems will always be backward compatible and can be installed with the release.

If you install Redmine on a system using the instructions on the site, you will get a different result depending on what version of a gem happens to be available at that time.

h2. A side effect, specific example of this being an issue

When the Gemfile specifies a version like '>= x.x.x' it will throw an error during installation if the newest version of a gem has changed dependencies.

e.g.

* When Redmine 3.3.1 was released it could be installed on RHEL 7 using Ruby 2.0
* At some point in time, nokogiri 1.7 was released that requires Ruby 2.1
* When attempting to run bundler to install Redmine on an identical system after this point will generate an error requiring Ruby 2.1

h2. Solution

The current/correct practice for maintaining a Gemfile should be to use '~> x.x.x' whenever possible.  This ensures both that (1) the version of the gem that was verified with a particular release is used, and (2) future gem versions do not cause unresolved dependency problems.

"
24925,Redmine,Defect,NA,Closed,Normal,setting wiki page for a project version invalidates all version links,Pavel Kveton,NA,2017-01-27T00:27:00Z,NA,NA,NA,NA,NA,0,2017-01-26T08:11:00Z,2017-01-27T00:27:00Z,NA,Invalid,3.3.1,"in the project settings (Settings->Versions), as per the attached screenshot:

in the first column (""Version""), you can click on the version (e.g. 3.1.0.p9, link https://myseerver/versions/186) and get the list of issues targeting this version).

When I open the version settings (""Edit"" in the last column) and fill in the ""Wiki page"", the link https://myseerver/versions/186 becomes invalid (see ""invalid page"" screenshot).

When I empty ""Wiki page"" for the version, the link becomes valid again.

I'm not sure where the link https://myseerver/versions/186 should point when the version wiki page is filled, I'd expect it still should show the list of the issues.

"
24928,Redmine,Defect,NA,Closed,Low,Wrong text in log/delete.me,Ronny .,Jean-Philippe Lang,2017-03-19T08:52:00Z,Code cleanup/refactoring,3.4.0,NA,NA,NA,0,2017-01-26T13:27:00Z,2017-01-26T19:47:00Z,NA,Fixed,3.3.2,"The text was copied from upload directory.
Should be
default directory for log files
instead of
default directory for uploaded files

or even no such files, these files have no purpose in my eyes."
24957,Redmine,Defect,NA,New,Normal,demo.redmine.org: wrong spelling,Peter Mortensen,Jean-Philippe Lang,2017-02-02T09:13:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-01-30T20:34:00Z,NA,NA,NA,NA,"On page http://demo.redmine.org/ ""demo for uses to test"" should probably be ""demo for users to test"".
"
24970,Redmine,Defect,NA,Closed,Normal,Net::LDAP::LdapError is deprecated,Pavel Rosick?,Jean-Philippe Lang,2017-07-08T18:36:00Z,LDAP,4.0.0,NA,NA,NA,0,2017-02-01T12:12:00Z,2017-07-08T15:47:00Z,NA,Fixed,NA,"reference
http://www.rubydoc.info/gems/net-ldap/Net/LDAP/LdapError
Deprecation warning: Net::LDAP::LdapError is no longer used

please use
*Net::LDAP::Error*
http://www.rubydoc.info/gems/net-ldap/Net/LDAP/Error

<pre>
class AuthSourceLdap < AuthSource
  NETWORK_EXCEPTIONS = [
    Net::LDAP::LdapError,
    Errno::ECONNABORTED, Errno::ECONNREFUSED, Errno::ECONNRESET,
    Errno::EHOSTDOWN, Errno::EHOSTUNREACH,
    SocketError
  ]
</pre>"
24979,Redmine,Defect,NA,New,Normal,"Email ""keyword"" lines deleted even if the sender doesn't have permission to edit that field",Felix Sch?fer,NA,2017-02-13T05:20:00Z,Email receiving,NA,NA,NA,NA,0,2017-02-02T16:53:00Z,NA,NA,NA,NA,"When receiving an email with keyword lines ([[RedmineReceivingEmails#Issue-attributes]]) Redmine will destructively remove these lines, even when the sender doesn't have the permission to edit those attributes. The value of the issue's attributes will not be changed as per the field permission (that is correct) but the line with that value will be removed nonetheless (this is surprising).

One step further might even be to only remove lines with keywords if the value is a possible value for the attribute in question, but that's not quite the scope of my current issue."
24992,Redmine,Defect,NA,Needs feedback,Normal,MailHandler: an unexpected error occurred when receiving email: invalid byte sequence in UTF-8,Deoren Moor,NA,2017-04-13T16:40:00Z,Email receiving,NA,NA,NA,NA,0,2017-02-03T19:10:00Z,NA,次のチケットが重複 #27361,NA,NA,"h5. Problem description

We have set @RAILS_ENV@ to *@development@* for our email scraping, so we were fortunate enough to have this logged when we found that several emails had been rejected:

<pre>
MailHandler: an unexpected error occurred when receiving email: invalid byte sequence in UTF-8
Message 190 can not be processed
</pre>

The subject line of the email had this text:

<pre>
Boleti?n de entomologi?a venezolana.
</pre>

h5. Redmine installation info

@# bin/about@

{{collapse
<pre>
/var/lib/gems/2.3.0/gems/htmlentities-4.3.1/lib/htmlentities/mappings/expanded.rb:465: warning: key ""inodot"" is duplicated and overwritten on line 466

sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
sh: 1: git: not found
Environment:
  Redmine version                3.3.2.stable.16201
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.3
  Filesystem
Redmine plugins:
  no plugin installed
</pre>
}}

@# bundle list@

{{collapse
<pre>
Gems included by the bundle:
  * actionmailer (4.2.7.1)
  * actionpack (4.2.7.1)
  * actionpack-action_caching (1.1.1)
  * actionpack-xml_parser (1.0.2)
  * actionview (4.2.7.1)
  * activejob (4.2.7.1)
  * activemodel (4.2.7.1)
  * activerecord (4.2.7.1)
  * activesupport (4.2.7.1)
  * addressable (2.4.0)
  * arel (6.0.3)
  * builder (3.2.2)
  * bundler (1.11.2)
  * coderay (1.1.1)
  * concurrent-ruby (1.0.2)
  * css_parser (1.4.5)
  * erubis (2.7.0)
  * globalid (0.3.7)
  * htmlentities (4.3.1)
  * i18n (0.7.0)
  * jquery-rails (3.1.4)
  * json (1.8.3)
  * loofah (2.0.3)
  * mail (2.6.4)
  * mime-types (3.1)
  * mime-types-data (3.2016.0521)
  * mimemagic (0.3.2)
  * mini_portile2 (2.1.0)
  * minitest (5.9.1)
  * mysql2 (0.3.21)
  * net-ldap (0.12.1)
  * nokogiri (1.6.8.1)
  * protected_attributes (1.1.3)
  * rack (1.6.4)
  * rack-openid (1.4.2)
  * rack-test (0.6.3)
  * rails (4.2.7.1)
  * rails-deprecated_sanitizer (1.0.3)
  * rails-dom-testing (1.0.7)
  * rails-html-sanitizer (1.0.3)
  * railties (4.2.7.1)
  * rake (11.3.0)
  * rbpdf (1.19.0)
  * rbpdf-font (1.19.0)
  * rdoc (4.3.0)
  * redcarpet (3.3.4)
  * request_store (1.0.5)
  * rmagick (2.16.0)
  * roadie (3.2.0)
  * roadie-rails (1.1.1)
  * ruby-openid (2.3.0)
  * sprockets (3.7.0)
  * sprockets-rails (3.2.0)
  * thor (0.19.1)
  * thread_safe (0.3.5)
  * tzinfo (1.2.2)
  * yard (0.9.5)
</pre>
}}

I don't know what the fix actually is, but this Stackoverflow.com[1] thread mentioned this:

> The combination of using: <code>@file = IO.read(file).force_encoding(""ISO-8859-1"").encode(""utf-8"", replace: nil)</code> and <code>#encoding: UTF-8</code> solved the issue.

I don't have Ruby knowledge, but I'll start digging through the code on my end to see if I can find where to make those changes. Please let me know if you need additional information.

---

fn1. http://stackoverflow.com/questions/9607554/ruby-invalid-byte-sequence-in-utf-8
"
25027,Redmine,Defect,NA,Closed,Normal,Missing information about limits in listing projects,Kinga Knapik,NA,2017-03-07T06:50:00Z,Documentation,NA,NA,NA,NA,0,2017-02-07T14:44:00Z,2017-03-07T06:50:00Z,NA,NA,NA,"There is no information in the documentation ([[Rest_Projects]]) that only 25 projects will be returned on GET /projects.json without 'limit' parameter, which also isn't mentioned as an available parameter."
25064,Redmine,Defect,NA,Closed,Normal,Issue description edit link corrupted in low resolution,Vasili Korol,Jean-Philippe Lang,2017-06-07T21:37:00Z,UI - Responsive,3.3.4,NA,NA,NA,0,2017-02-14T10:20:00Z,2017-06-07T21:37:00Z,NA,Fixed,3.2.4,"When editing an issue in a low resolution (width < 900px), the ""Edit"" link loses it's icon and is truncated to ""dit"" (see image)

<pre>
Environment:
  Redmine version                3.2.4.stable
  Ruby version                   2.0.0-p384 (2014-01-12) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  advanced_roadmap_v2            2.4.2
</pre>

!redmine-error.jpg!
"
25077,Redmine,Defect,NA,Closed,Normal,Issue description filter's 'none' operator does not match issues with blank descriptions,Mischa The Evil,Jean-Philippe Lang,2017-06-29T21:57:00Z,Issues filter,3.4.0,NA,NA,NA,0,2017-02-15T09:57:00Z,2017-03-07T18:51:00Z,関連している #1159,Fixed,NA,"Use of the issue description filter with the 'none' operator always returns nothing as it does not include issues with blank descriptions. I think most users expect that issues with blank descriptions are going to be matched when using the filter with the 'none' operator, as such the actual results may be unexpected.

Currently, the 'none' operator only matches issues that are assigned to trackers that have the description field disabled (which is not yet possible with the core, see #25052).
"
25118,Redmine,Defect,NA,Closed,Normal,ThemesTest#test_without_theme_js may fail if third-party theme is installed,Go MAEDA,Jean-Philippe Lang,2017-03-02T19:20:00Z,Themes,3.4.0,NA,NA,NA,0,2017-02-18T09:15:00Z,2017-03-02T19:20:00Z,NA,Fixed,NA,"test/unit/lib/redmine/themes_test.rb may fail if third party theme which has javascripts/theme.js is installed.

<pre>
  1) Failure:
ThemesTest#test_without_theme_js [test//integration/lib/redmine/themes_test.rb:43]:
Expected exactly 0 elements matching ""script[src^=""/themes/redminecrm/javascripts/theme.js""]"", found 1..
Expected: 0
  Actual: 1
</pre>

This issue can be fixed by the following patch:

<pre><code class=""diff"">
Index: test/integration/lib/redmine/themes_test.rb
===================================================================
--- test/integration/lib/redmine/themes_test.rb	(revision 16332)
+++ test/integration/lib/redmine/themes_test.rb	(working copy)
@@ -37,6 +37,8 @@
   end

   def test_without_theme_js
+    # simulate a state theme.js does not exists
+    @theme.javascripts.clear
     get '/'

     assert_response :success
</code></pre>
"
25130,Redmine,Defect,NA,New,Normal,support of agglutinative languages like Hungarian/Magyar,Greg T,NA,2017-03-23T10:34:00Z,Translations,NA,NA,NA,NA,0,2017-02-20T13:26:00Z,NA,関連している #25402,NA,NA,"I tried to fix hu.yml, but the time related strings are used in to many contexts incompatibly, so even subtle/clumsy rewording can't help in all cases. We don't use plural form after numbers greater than one, but we use other forms for different expressions.

E.g. _hour_ is _?ra_ in Magyar;
[point in time] _x hour(s) ago_ is _x ?r?ja_ or _x ?r?val ezel?tt_;
[present perfect continuous] _for x hour(s)_ is _x ?r?ja_;
[past, future or undetermined tense] _for x hour(s)_ is _x ?r?ig_ or _x ?r?n_ ?t.

Label_added_time_by needs point in time (and optional non-relative times, but that's a different issue, although a possible workaround);
while e.g. setting_session_lifetime needs _?ra_ without agglutination.

Filters:
label_between: _between x [and] y_ should be _x ?s y k?z?tt_;
day related filters are somewhat clumsy in English, too (e.g. _less than days ago ... days_), but I could improve it in Magyar: ""label_less_than_ago: nem r?gebbi, mint"" meaning _not older than_, but it must be followed by _x nap_ (base word of day), not _x napja_ (point in time);
label_in_the_past_days: needs to be followed by _napban_ (base word of day + _in_ postfix), etc."
25138,Redmine,Defect,NA,Closed,Normal,Redmine::I18nTest Fails,Stefan Rinkes,NA,2017-02-21T14:38:00Z,NA,NA,NA,NA,NA,0,2017-02-21T11:53:00Z,2017-02-21T12:05:00Z,NA,NA,3.3.2,"I'm running in this reproducable test fail with Version redmine-3.3.2.tar.gz (md5: 8e403981dc3a19a42ee978f055be62ca)
This test doesn't fail with redmine-3.3.0

<pre>
  1) Error:
Redmine::I18nTest#test_languages_options_should_ignore_locales_without_general_lang_name_key:
I18n::InvalidLocale: ""foo"" is not a valid locale
    lib/redmine/i18n.rb:58:in `ll'
    lib/redmine/i18n.rb:110:in `block in languages_options'
    lib/redmine/i18n.rb:110:in `map'
    lib/redmine/i18n.rb:110:in `languages_options'
    test/unit/lib/redmine/i18n_test.rb:203:in `test_languages_options_should_ignore_locales_without_general_lang_name_key'
</pre>

I suspect it has something to do with the rails update from 3.3.0 (rails 4.2.6) and 3.3.2 (rails 4.2.7.1)
"
25141,Redmine,Defect,NA,New,Normal,Changing the scope and resetting the position of an acts_as_positioned object inserts it at the one-before-last position,Felix Sch?fer,NA,2017-02-21T16:46:00Z,NA,NA,NA,NA,NA,0,2017-02-21T16:46:00Z,NA,NA,NA,NA,"We have a model where objects should be appended to the list in the new scope when the list scope of the object is changed. We do this by setting the @self.position = nil@ before it is saved, unfortunately this inserts the object at the one-before-last position.

The following patch solves this problem:

<pre><code class=""diff"">
diff --git a/lib/redmine/acts/positioned.rb b/lib/redmine/acts/positioned.rb
index 75041fe38..d3959a335 100644
--- a/lib/redmine/acts/positioned.rb
+++ b/lib/redmine/acts/positioned.rb
@@ -67,7 +67,7 @@ module Redmine

         def set_default_position
           if position.nil?
-            self.position = position_scope.maximum(:position).to_i + (new_record? ? 1 : 0)
+            self.position = position_scope.maximum(:position).to_i + ((new_record? || position_scope_changed?) ? 1 : 0)
           end
         end

</code></pre>

This affects trunk."
25156,Redmine,Defect,NA,Closed,Normal,Regarding history visible in redmine 3.3.0,jaydip jadeja,NA,2017-02-22T20:35:00Z,NA,NA,NA,NA,NA,0,2017-02-22T18:12:00Z,2017-02-22T20:35:00Z,NA,Invalid,NA,I had upgraded redmine 2.5.2 to bitnami redmine 3.3.0. I didn't find history of old version.                         I would great help for me if anyone can.
25203,Redmine,Defect,NA,New,Normal,Email delivery error: end of file reached while sending reminder,Waqar Javaid,NA,2017-07-20T13:40:00Z,Email notifications,NA,NA,NA,NA,0,2017-02-27T07:08:00Z,NA,NA,NA,3.3.1,"I face no issue in email notification whele creation/updation tracker.
The face email notification when i send bulk email using reminder 

i also face this error on 3.1.1 version

*here is log:*
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (31.3ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (31.2ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.7ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (0.0ms)
> Email delivery error: end of file reached
> Rendered mailer/reminder.text.erb within layouts/mailer (0.0ms)
> Rendered mailer/reminder.html.erb within layouts/mailer (15.6ms)
> Email delivery error: end of file reached

*My reminder Command*
> bundle exec rake project=""weekly-action-items"" redmine:send_reminders  tracker=""7"" days=400 RAILS_ENV=""production"""
25207,Redmine,Defect,NA,Closed,Normal,Cannot assign users to project of projects to user,Bruno Silva,NA,2017-03-26T15:07:00Z,NA,NA,NA,NA,NA,0,2017-02-27T12:31:00Z,2017-03-26T15:07:00Z,NA,NA,NA,"I cannot assign users to projects, after updating to the latest git update. When I click on add ""New member"" or assign project to user, the configuration window doesn't open, just appears a glimpse of spinner and then nothing happen.

At git master: r16340

Environment:
  Redmine version                3.3.2.devel
  Ruby version                   2.4.0-p0 (2016-12-24) [i686-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.3
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  no plugin installed"
25212,Redmine,Defect,NA,Closed,Normal,User profile should link to issues assigned to user or his groups,Felix Sch?fer,Jean-Philippe Lang,2017-06-07T21:36:00Z,Issues filter,3.2.7,NA,NA,NA,0,2017-02-27T17:22:00Z,2017-06-07T21:36:00Z,"関連している #8153, 関連している #13758, 次のチケットが重複 #26078",Fixed,3.2.0,"On the user profile page, the count of the issues assigned to the user includes issues assigned to groups of the user, whereas the query the link points to does only include issues directly assigned to the user.

The link without groups and count on the user profile page: source:/trunk/app/views/users/show.html.erb@16340#L28
The @Issue.assigned_to@ scope specifically including groups: source:/trunk/app/models/issue.rb@16340#L94

A patch to correct this will follow shortly."
25214,Redmine,Defect,NA,Closed,Low,"auto add "".git"" , when set New repository",kk kk,NA,2017-03-01T03:28:00Z,UI,NA,NA,NA,NA,0,2017-02-28T01:45:00Z,2017-03-01T03:28:00Z,NA,Invalid,NA,"why not auto add "".git"" when set a New repository ?"
25222,Redmine,Defect,NA,Needs feedback,Normal,404 error when visiting project's repository tab without a main repository,Llu?s Vilanova,NA,2017-02-28T21:09:00Z,NA,NA,NA,NA,NA,0,2017-02-28T19:32:00Z,NA,NA,NA,NA,"I have a newly created project with some repositories, but none of them is marked as ""main"".  If I now go to the repository tab, redmine shows a nice error page, saying it could not find an entry or revision in the repo (number 404). More importantly, the non-main repositories do not appear on the side-bar, where they usually are.

If I create an empty main repository using git the error persists, since git has no initial commit in it.

Only after I do some initial commit on the main repo, I can see the list of sub-repos in that project."
25235,Redmine,Defect,NA,Closed,Normal,Validating Name field In Tracker for maxlength 100,Hiral Shah,NA,2017-03-21T17:20:00Z,NA,NA,NA,NA,NA,0,2017-03-01T10:55:00Z,2017-03-21T17:20:00Z,NA,Invalid,2.6.1,Validating name field in patch does not work it still specifies the error message of core file.
25239,Redmine,Defect,NA,Closed,Normal,Lack of Http Only Cookie Flag,ajeesh b,NA,2017-03-30T07:34:00Z,NA,NA,NA,NA,NA,0,2017-03-01T19:57:00Z,2017-03-30T07:34:00Z,NA,Invalid,NA,When a user accessing other sites which are vulnerable to Cross-Site Scripting might be affected since that site will have access to the session cookies set in the Parks Australia application. How can I add a proper HttpOnly flag in my redmine installation.
25242,Redmine,Defect,NA,New,Normal,Automatic start date based on parent issue,Aleksandar Pavic visit redminecookbook.com,NA,2017-05-02T07:48:00Z,Issues planning,NA,NA,NA,NA,0,2017-03-02T09:11:00Z,NA,NA,NA,3.3.1,"If you have following situation, parent issue with relation to start n days after some other issue, 
and try to add sub-issue, it will populate start date with today's date.

Instead, it should populate start date with calculated date, because any date entered before 
calculated date would result with following error message:

<pre>
Issue start date cannot be earlier than (actual calculated date) because of preceding issues
</pre> 
"
25246,Redmine,Defect,NA,Closed,Normal,copy paste in fails in within issue description or wiki editing only with mozilla firefox,Michael Ziegler,NA,2017-03-13T08:35:00Z,Issues,NA,NA,NA,NA,0,2017-03-02T22:25:00Z,2017-03-11T05:02:00Z,NA,Invalid,NA,"when i for instance create a ticket and want to do a copy paste
then the past within the ticket description does only work with the context menue (right mouse butten and paste)

here is my configuration of my current environment of my redmine version:
Environment:
  Redmine version                3.1.1.stable
  Ruby version                   2.0.0-p647 (2015-08-18) [x86_64-linux]
  Rails version                  4.2.4
  Environment                    production
  Database adapter               Mysql2


and here is my firefox version: 51.0.1 (32-Bit)

it seems that this issue startet with someone last update of the firefox?!

if i try chrome browser this copy paste works fine!"
25256,Redmine,Defect,NA,Closed,Normal,Mail parts with empty content should be ignored,Felix Sch?fer,Jean-Philippe Lang,2017-03-07T18:54:00Z,Email receiving,3.4.0,NA,NA,NA,0,2017-03-03T15:34:00Z,2017-03-07T18:54:00Z,関連している #25269,Fixed,3.3.2,Some email clients seem to send text parts that are empty with html emails. Those empty text parts should be ignored.
25258,Redmine,Defect,NA,Closed,Normal,Field permissions ignored if the user and the group one belongs to share the same role,Marcin Szewczyk,NA,2017-03-04T12:43:00Z,Issues workflow,NA,NA,NA,NA,0,2017-03-04T00:15:00Z,2017-03-04T12:39:00Z,次のチケットが重複 #19569,Duplicate,3.0.0,"I've marked version 3.0.0 as the affected one because in Debian the package is versioned as 3.0~20140825, but the code suggests that the current Redmine might still be affected.

As stated in the subject, when there is a following situation:
User 9 gets its role (6) directly and from the group's (12) role. For role 6 there is a ""required"" flag for some field.
<pre>
# select member_roles.id, role_id, member_id,
  user_id, inherited_from, type
  from member_roles
  join members on member_roles.member_id = members.id
  join users on user_id = users.id
  where user_id in (9, 12);
 id | role_id | member_id | user_id | inherited_from | type  
----+---------+-----------+---------+----------------+-------
 33 |       6 |        13 |      12 |                | Group
 38 |       6 |        15 |       9 |             33 | User
 29 |       6 |        15 |       9 |                | User
(3 rows)
</pre>
Field permissions (like ""required"") are ignored which leads to a workflow violation.

The reason is that in @models/issue.rb@ inside @workflow_rule_by_attribute()@ there is a line @next if rules.size < roles.size@. When a role for the user comes from both directly the user and the group, the same role is returned twice by @roles_for_project()@ and the condition becomes true. In consequence the returned result of @workflow_rule_by_attribute()@ is empty.

I propose changing one line in @models/user.rb@ in @roles_for_project()@, i.e. from @membership.roles@ to @membership.roles.uniq@. A short patch attached.

Note to future self: @next if rules.size < roles.size@ means ""don't apply permissions if for the field for any of the roles there is none set (inherited lack of restrictions)""."
25269,Redmine,Defect,NA,Closed,Normal,Emails with no text or html Content not handled properly,Felix Sch?fer,Jean-Philippe Lang,2017-03-07T18:54:00Z,Email receiving,NA,NA,NA,NA,0,2017-03-06T17:51:00Z,2017-03-07T18:54:00Z,関連している #25256,Fixed,NA,"This currently only affects trunk.

The change to the handling of incoming emails committed in r16371 and proposed in #25256 unfortunately improperly handles emails with multipart content but no content in a text or html part of the email. This might be the case if the email is intentionally left blank.

I will provide a patch and a test for that case."
25273,Redmine,Defect,NA,Closed,Normal,Cannot create project/subproject,Carsten Weise,NA,2017-03-28T21:22:00Z,Projects,NA,NA,NA,NA,0,2017-03-07T00:00:00Z,2017-03-28T21:22:00Z,NA,Invalid,3.3.2,"When trying to create a project or subproject, redmine goes into an infinite loop (apparently - longest time I checked was 1 hour).
Browser tab becomes inactive, saying ""waiting for localhost"". Memory consumption will increase, after a while it will slow down the browser and also the computer tremendously (probably due to swapping).

This will not only happen when using the browser GUI, but also when creating a project programmatically (from Ruby).

Last time I was able to add a project was in February. Only when I tried today, it did not work anymore.

My current configuration:
Environment:
  Redmine version                3.3.2.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               SQLite (3.17.0 2017-02-13)
SCM:
  Subversion                     1.9.5
  Git                            2.11.1
  Filesystem                     
Redmine plugins:
  no plugin installed

In fact, it happened to me while I still was on redmine 3.2, but I have upgraded now to 3.3.2, and the behavior is the same.
Everything else works fine as far as I can see - I can add issues and delete projects, but not add new ones.

This happens with my current database. I have tried with a fresh database - I was able to create three projects, but then ran into the same problem.

My current guess is that this will be hard to reproduce. However, I would be nice to have some ideas where to start searching for
the problem... for debugging I'm running from the command line, but I only get the usual hello messages, nothing else.


"
25282,Redmine,Defect,NA,Needs feedback,Normal,Explanation for attachment change in r16285,James Moore,NA,2017-07-18T05:31:00Z,Attachments,NA,NA,NA,NA,0,2017-03-07T19:07:00Z,NA,NA,NA,3.2.5,"I'm looking at the 3.2 branch and there was a backport made (r16285) on 1/29/17 that changed images to be sent to the browser as attachments instead of inline. I'm not able to access the issue that's referenced in the commit (#24199). The comment in app/controllers/attachment_controller.rb:download still reads ""images are sent inline"".

Can someone offer an explanation as to why this change was made?

Thanks!"
25289,Redmine,Defect,NA,Closed,Normal,Adding a principal to 2 projects with member inheritance leads to an error,Felix Sch?fer,Jean-Philippe Lang,2017-03-08T21:52:00Z,Administration,3.4.0,NA,NA,NA,0,2017-03-08T20:54:00Z,2017-03-08T21:37:00Z,NA,Fixed,NA,"When batch adding a user or a group to a project through the projects tab of the user/group page, adding the a user or group to 2 projects where one project inherits its members from the other might lead to an error (depending on the order of the projects, the parent project must come before the child project for this to happen, which it should as in the batch add view projects are arranged in trees). If more than those 2 projects are involved in the batch addition to a project, the user or group won't be added to all projects that come after the child project as the processing stops on the error.

This happens in source:/trunk/app/models/member.rb@16379#L175: First all @Member@ s are created, then they are saved in the @principal.members << members@ line. Saving the @Member@ object for a parent project with a child project inheriting its members will create a @Member@ object for the child project too, which then leads to an error when the @Member@ error created for that child project is saved and recognised as a duplicate."
25296,Redmine,Defect,NA,New,Normal,RestAPI doesn't allow anonymous account registration but web interface does.,Sgargel Sgargel,NA,2017-04-07T10:07:00Z,REST API,NA,NA,NA,NA,0,2017-03-09T16:53:00Z,NA,NA,NA,2.5.2,"Rest API [[Rest_Users]] doesn't allow a the creation of a new user if no admin rights are provided but is it possible for non authenticated user to registers through web interface at http://redmine/account/register

<pre>
Environment:
  Redmine version                2.5.2.devel
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.1.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
25299,Redmine,Defect,NA,New,Normal,Markdown pre-block could derive incorrect wiki sections,Kiichi Ozaki,NA,2017-04-05T15:01:00Z,Wiki,4.1.0,NA,NA,NA,0,2017-03-10T08:01:00Z,NA,NA,NA,NA,"In markdown formatting, pre-block by @```@ including @#@ derives incorrect wiki editable-sections.

Example:

<pre>
# H1

## H2

```
## pre-block
```

### H3
</pre>

!redmine-wiki.png!

----

Editing section ""H2"":

<pre>
## H2

```
</pre>

and editing section ""H3"":

<pre>
## pre-block
```

### H3
</pre>

As above, @#@ in pre-block is treated as markdown header.

*NOTE* pre-block by @~~~@ does right results.

<pre>
# H1

## H2

~~~
## pre-block
~~~

### H3
</pre>

Editing ""H2"":

<pre>
## H2

~~~
## pre-block
~~~

### H3
</pre>

and editing ""H3"":

<pre>
### H3
</pre>

I attached a fix patch."
25301,Redmine,Defect,NA,Needs feedback,Normal,"""Related issues"" list in version type custom field detail",Anton Emil,NA,2017-04-09T06:43:00Z,Custom fields,NA,NA,NA,NA,0,2017-03-10T13:22:00Z,NA,NA,NA,3.3.2,"When we look at the details of a version type custom field, there isn't this Related issues list, but the issue list of default version field is OK."
25337,Redmine,Defect,NA,New,Normal,Redmine patch for Rails breaks functionality of select_tag,Stephan Wiehr,NA,2017-03-15T14:06:00Z,Rails support,NA,NA,NA,NA,0,2017-03-15T14:06:00Z,NA,NA,NA,3.3.2,"The Redmine patch in @config/initializers/10-patches.rb@ breaks the functionality of @ActionView::Helpers::FormTagHelper::select_tag@, which states in the Rails documentation:

<pre>
:include_blank - If set to true, an empty option will be created. If set to a string, the string will be used as the option’s content and the value will be empty.
[...]
select_tag ""people"", options_from_collection_for_select(@people, ""id"", ""name""), include_blank: ""All""
# => <select id=""people"" name=""people""><option value="""">All</option><option value=""1"">David</option></select>
</pre>

With the patch a string value given for @:include_blank@ is not taken into account for the resulting option which will be @&amp;nbsp;@ unless the option @:prompt@ is given.
This means the above example will result in
<pre>
select_tag ""people"", options_from_collection_for_select(@people, ""id"", ""name""), include_blank: ""All""
# => <select id=""people"" name=""people""><option value="""">&nbsp;</option><option value=""1"">David</option></select>
</pre>

PS: I did not check but this is possibly similar for the other patches trying to correct the invalid @<option value=""""></option>@

My Redmine environment:
* Redmine version                3.3.2.stable.16377
* Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
* Rails version                  4.2.7.1
* Environment                    production
* Database adapter               Mysql2"
25339,Redmine,Defect,NA,New,Normal,Markdown:  list renders only with leading newline,Dietmar H,NA,2017-03-15T19:07:00Z,Text formatting,NA,NA,NA,NA,0,2017-03-15T19:07:00Z,NA,NA,NA,NA,"With Text formatting set to *Markdown*, the following doesn't render correctly:

<pre>
List:
* item 1
* item 2
</pre>

In order to have the list items rendered (with bullet point and indentation), a leading newline is necessary, like this:
<pre>
List:

* item 1
* item 2
</pre>

My team mates continue creating lists which don't render because of this anti-intuitive syntax.
In github and other markdown based systems I haven't seen this behaviour, thus I think it's a bug.

Observed in Redmine 3.3.1"
25354,Redmine,Defect,NA,Closed,Normal,"Mail configuration and sent successfully, but can not receive mail",di yu,NA,2017-03-21T16:49:00Z,NA,NA,NA,NA,NA,0,2017-03-17T06:44:00Z,2017-03-21T16:49:00Z,NA,Invalid,NA,"Redmine mail configuration successfully sent successfully, but but can not receive this email
redmine:3.3.1  MYSQL:5.7.17  RUBY:2.2.0
log:
with: No such file or directory - ""bzr"" --version
scm: error during get scm available: No such file or directory - ""bzr"" --version
SCM command failed, make sure that your SCM command (e.g. svn) is in PATH (C:/RailsInstaller/Ruby2.2.0/lib/ruby/gems/2.2.0/bin;D:\ImageMagick\ImageMagick-7.0.5-Q16;C:\Perl64\site\bin;C:\Perl64\bin;C:\Perl\site\bin;C:\Perl\bin;D:\ActivePerl\site\bin;D:\ActivePerl\bin;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files\MySQL\MySQL Server 5.5.20\bin;D:\Dev-C++\Dev-Cpp\MinGW64\bin;D:\dmake\dmake;C:\Program Files (x86)\HP\LoadRunner\strawberry-perl\perl\bin;D:\MySQL\mysql-5.5.54-winx64\bin;C:\Program Files (x86)\Windows Kits\8.1\Windows Performance Toolkit\;C:\Program Files\Microsoft SQL Server\110\Tools\Binn\;C:\Program Files\MySQL\MySQL Utilities 1.6\;C:\Program Files\MySQL\MySQL Server 5.7\bin;D:\SVN\bin;C:\RailsInstaller\Git\cmd;C:\RailsInstaller\Ruby2.2.0\bin)
You can configure your scm commands in config/configuration.yml.
""bzr"" --version
with: No such file or directory - ""bzr"" --version
scm: error during get version string: No such file or directory - ""bzr"" --version
  Rendered settings/_repositories.html.erb (94.1ms)
  Rendered common/_tabs.html.erb (215.2ms)
  Rendered settings/edit.html.erb within layouts/admin (216.2ms)
  Rendered admin/_menu.html.erb (7.0ms)
  Rendered layouts/base.html.erb (14.0ms)
Completed 200 OK in 256ms (Views: 230.7ms | ActiveRecord: 15.0ms)
"
25355,Redmine,Defect,NA,Closed,Normal,"Unable to edit tracker on issue with status ""new"" if not ""create an issue"" selected on profile",Marilyne Guillebaud,NA,2017-04-15T07:40:00Z,Permissions and roles,NA,NA,NA,NA,0,2017-03-17T10:13:00Z,2017-04-15T07:40:00Z,NA,Invalid,3.3.0,"If an user haven't ""create an issue"" selected on his profile, he can't edit tracker on issue with ""new"" status. However ""All trackers"" is selected on ""modify issues"" column.
It should be able to modify the trackers on issues with the ""new"" status, even if he can't create them."
25362,Redmine,Defect,NA,New,Normal,Filter's sorting by last comment (last change),Viktor Kudlak,NA,2017-03-18T21:38:00Z,Issues filter,NA,NA,NA,NA,0,2017-03-18T21:38:00Z,NA,NA,NA,NA,"to configure and use redmine in CRM cases needed sorting by updated_at.
this case can be used to to work by round robin of selected tasks"
25371,Redmine,Defect,NA,Closed,Normal,Git 2.9 compatibility,Tamara S,NA,2017-03-25T04:38:00Z,SCM,3.2.6,NA,NA,NA,0,2017-03-20T15:50:00Z,2017-03-25T04:38:00Z,NA,Fixed,NA,"With git 2.9 I have some problems with redmine git tests.

Failure:
RepositoryGitTest#test_fetch_changesets_from_scratch [redmine/trunk/test/unit/repository_git_test.rb:139]:
Expected: 39
Actual: 38 

This patch heals it."
25408,Redmine,Defect,NA,Closed,Normal,Gemfile Error,mahesh m,NA,2017-03-23T03:37:00Z,NA,NA,NA,NA,NA,0,2017-03-22T19:29:00Z,2017-03-23T03:37:00Z,NA,Invalid,3.3.2,"When adding gemfile content plugin to 3.3.x-2 version, the error occurs and application was unavailable and Thin Redmine and thin redmine2 servers stopped automatically."
25460,Redmine,Defect,NA,Closed,Normal,Redmine 3.3.2 db:migrate terminate with cryptic error message,Ruben Kelevra,NA,2017-03-29T08:27:00Z,NA,NA,NA,NA,NA,0,2017-03-29T08:12:00Z,2017-03-29T08:16:00Z,関連している #25048,Invalid,3.3.2,"I tried to update my Redmine installation to 3.3.2 but the db:migrate does not go thru:

<pre>
/usr/lib/ruby/gems/2.4.0/gems/htmlentities-4.3.1/lib/htmlentities/mappings/expanded.rb:465: warning: key ""inodot"" is duplicated and overwritten on line 466
/usr/lib/ruby/gems/2.4.0/gems/activesupport-4.2.7.1/lib/active_support/core_ext/numeric/conversions.rb:121: warning: constant ::Fixnum is deprecated
/usr/lib/ruby/gems/2.4.0/gems/activesupport-4.2.7.1/lib/active_support/core_ext/numeric/conversions.rb:121: warning: constant ::Bignum is deprecated
rake aborted!
SystemStackError: stack level too deep
/usr/share/webapps/redmine/config/environment.rb:14:in `<top (required)>'
/usr/bin/bundle:22:in `load'
/usr/bin/bundle:22:in `<main>'
Tasks: TOP => db:migrate => environment
(See full trace by running task with --trace)
</pre>"
25470,Redmine,Defect,NA,Closed,Normal,Fix Japanese mistranslation for field_base_dn,Go MAEDA,NA,2017-04-03T16:40:00Z,Translations,3.4.0,NA,NA,NA,0,2017-03-29T15:25:00Z,2017-04-03T16:40:00Z,NA,Fixed,3.2.5,"The current translation ""検索範囲"" should be changed to ""ベースDN"".

We usually use ""ベースDN"". ""ベース"" is transliteration of ""base"". Here are some examples (please search ""ベース DN"" or ""ベースDN"" in the following pages):

* https://technet.microsoft.com/ja-jp/library/cc731530(v=ws.11).aspx
* http://www.ibm.com/support/knowledgecenter/ja/SSGRP3_2.0.0/doc/iwd/ldap_setparam_mad.html
* http://software.fujitsu.com/jp/manual/manualfiles/M060056/B1WN6231/01Z202/secur05/secur160.htm

The current translation ""検索範囲"" means ""search scope"". It does not make sense in this context.


<pre><code class=""diff"">
Index: config/locales/ja.yml
===================================================================
--- config/locales/ja.yml	(revision 16444)
+++ config/locales/ja.yml	(working copy)
@@ -290,7 +290,7 @@
   field_host: ホスト
   field_port: ポート
   field_account: アカウント
-  field_base_dn: 検索範囲
+  field_base_dn: ベースDN
   field_attr_login: ログイン名属性
   field_attr_firstname: 名前属性
   field_attr_lastname: 苗字属性
</code></pre>"
25478,Redmine,Defect,NA,Closed,Normal,"Related to ""no open issues"" shows all issues",Kevin Fischer,Jean-Philippe Lang,2017-04-08T09:39:00Z,Issues filter,3.2.6,NA,NA,NA,0,2017-03-30T12:09:00Z,2017-04-08T09:39:00Z,NA,Fixed,3.3.2,"When filtering for issues that are related (bi-directional relationship) to ""No open issues"", all issues and not just the ones related to none or closed issues are shown."
25489,Redmine,Defect,NA,New,Normal,Redmine::UiTest::IssuesTest fails,Alisa M,NA,2017-03-31T14:37:00Z,NA,NA,NA,NA,NA,0,2017-03-31T14:27:00Z,NA,NA,NA,NA,"test/ui/issues_test_ui.rb 

  1) Failure:
Redmine::UiTest::IssuesTest#test_default_start_date_proposed_in_date_picker [test/ui/issues_test_ui.rb:181]:
Expected: ""2012-04-01""
  Actual: ""2017-03-30""


  2) Failure:
Redmine::UiTest::IssuesTest#test_default_due_date_proposed_in_date_picker [test/ui/issues_test_ui.rb:162]:
Expected: ""2027-04-01""
  Actual: ""2017-03-30""
"
25501,Redmine,Defect,NA,Closed,Normal,Time entries query through multiple projects by issue custom field not possible anymore.,Felix Sch?fer,Jean-Philippe Lang,2017-04-06T19:11:00Z,Custom fields,3.3.3,NA,NA,NA,0,2017-04-03T14:41:00Z,2017-04-06T19:11:00Z,"関連している #24014, 関連している #1662",Fixed,3.3.1,"This is related to #24014

Since r15890 / #24014 it is not possible to filter time entries from different projects by an issue custom field anymore.

Sometimes it might be necessary to for example show all time entries logged against issues with a certain custom field set to some value, regardless of what project the time entry and issue are in. If one subproject is not a subproject of the other, this is not possible anymore in one query.

I can understand the concern raised in #24014, but I think restricting the global query to only issue custom fields that are ""for all projects"" is too restrictive. I can understand that there might be many issue custom fields, but those should only be restricted on the project time entry query, not on the global time entry query.

While researching for this I have also noticed that an issue custom field defined in a subproject will not be available anymore in the time entry query of the parent project unless the parent project also has this issue custom field defined.

I propose to show all issue custom fields (maybe limited to those active on active projects?) on the global time entry query and to show only the issue custom fields active in the current project and its subprojects on the project time entry query.

(Please note that the same problem exists on the global issue query and that it could be solved the same way)"
25563,Redmine,Defect,NA,Closed,Normal,Remove is_binary_data? from String,Dmitry Lisichkin,NA,2017-06-10T07:13:00Z,Code cleanup/refactoring,3.4.0,NA,NA,NA,0,2017-04-10T10:34:00Z,2017-06-10T07:13:00Z,NA,Fixed,NA,"Method is_binary_data? was removed from String class in ruby 1.9.2
https://apidock.com/ruby/v1_9_1_378/String/is_binary_data%3F

Then it was returned to String by redmine in 'rails 3.2' branch (r9475)

It cause problem with ruby-debug-ide gem:
https://github.com/ruby-debug/ruby-debug-ide/blob/ce3dbe0a76e11f34abf60740b7c88b23a1c3b5bf/lib/ruby-debug-ide/xml_printer.rb#L355
Almost all non-ASCII strings in debugger shown as [BinaryData]

I'll prefer remove that method at all but it used by SCM system.
It is a very old code (r5204) and I don't know about it is actual for now days.

But you can just rename that method to something different (see patch)"
25583,Redmine,Defect,NA,Closed,Normal,EVM Plugin Issue,vignesh moorthy,NA,2017-04-11T17:40:00Z,NA,NA,NA,NA,NA,0,2017-04-11T13:49:00Z,2017-04-11T17:40:00Z,NA,Invalid,2.4.2,"Processing by BaselinesController#index as HTML
  Parameters: {""project_id""=>""pcb""}
  Current user: keshav (id=15)
Redirected to http://192.168.0.208:8090/redmine/baselines/15
Completed 302 Found in 13.3ms (ActiveRecord: 1.3ms)
Started GET ""/redmine/baselines/15"" for 192.168.0.116 at 2017-04-11 17:16:05 +0530
Processing by BaselinesController#show as HTML
  Parameters: {""id""=>""15""}
  Current user: keshav (id=15)
DEPRECATION WARNING: Passing the format in the template name is deprecated. Please pass render with :formats => [:js] instead. (called from _plugins_redmine_evm_app_views_baselines_show_html_erb__3099829965297914905_61604880 at /usr/share/redmine/plugins/redmine_evm/app/views/baselines/show.html.erb:14)
  Rendered plugins/redmine_evm/app/views/baselines/_init_translations.js.erb (27.3ms)
  Rendered plugins/redmine_evm/app/views/baselines/show.html.erb within layouts/base (43.2ms)
Completed 500 Internal Server Error in 56.0ms

ActionView::Template::Error (comparison of String with Date failed):
    157:     <%= render(:partial => '/baselines/chart_js',
    158:                :locals => { maximum_chart_date: @project.maximum_chart_date(@baseline),
    159:                             project_chart_data: @project.data_for_chart(@baseline, @forecast_is_enabled) }) %>
    160:   </div>
    161:   <!-- Versions Charts -->
    162:   <div id=""evm-versions-charts"">
    163:     <% @project.versions.each do |version| %>
  plugins/redmine_evm/lib/redmine_evm/patches/project_patch.rb:129:in `each'
  plugins/redmine_evm/lib/redmine_evm/patches/project_patch.rb:129:in `max'
  plugins/redmine_evm/lib/redmine_evm/patches/project_patch.rb:129:in `maximum_chart_date'
  plugins/redmine_evm/app/views/baselines/show.html.erb:160:in `_plugins_redmine_evm_app_views_baselines_show_html_erb__3099829965297914905_61604880'
"
25594,Redmine,Defect,NA,Closed,Normal,Format mismatch between Textile and CKeditor text formatting,Hamdi JMII,NA,2017-04-12T12:37:00Z,NA,NA,NA,NA,NA,0,2017-04-12T11:53:00Z,2017-04-12T12:37:00Z,NA,Invalid,2.5.3,I installed CKeditor wiki plugin but I saw that my old wikis were bad formatted since their were formatted with Textile text formatting. It's normal to see this mismatch ?
25596,Redmine,Defect,NA,Closed,Normal,"when creating a new issue, custom fields for trackers don't update on tracker change",Brad Barnett,NA,2017-05-12T08:40:00Z,Issues,NA,NA,NA,NA,0,2017-04-12T23:48:00Z,2017-05-12T08:40:00Z,NA,Invalid,2.5.2,"I googled, and searched -- but could not find this issue in the tracker.  Apologies if this is a dup.

I have 4 trackers.  Each have differing custom fields.  Some are required.

When I click on new issue, if a tracker is 'A', and I switch to 'B', the custom fields for 'A' still show.

Only if I click 'submit', and receive an error (because a custom field isn't filled out), will I then be presented with the correct 'new issue' page for that particular tracker.

Debian Jessie.

/usr/share/redmine$ ruby bin/about

sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
sh: 1: git: not found
Environment:
  Redmine version                2.5.2.devel
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.1.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Filesystem
Redmine plugins:
  redmine_pretend                0.0.2+git20130821
"
25604,Redmine,Defect,NA,New,Normal,Redmine does not appear to strip leading spaces from new issues,Library Systems Dept,NA,2017-04-13T16:10:00Z,Issues,NA,NA,NA,NA,0,2017-04-13T16:10:00Z,NA,関連している #9588,NA,NA,"h4. Overview

We have a group that manually creates new issues for us. Occasionally they don't pay close attention and will create new issues that contain a leading space in the Subject field. This doesn't affect basic functionality, but when attempting to sort on the Subject field we get back unexpected results. We finally figured out that the issue is caused by the leading space in the Subject line.

Does Redmine intentionally provide support for creating issues with leading spaces or is this a case where it fails to strip leading/trailing spaces from that field when creating new issues? I assume the latter and am filing this report accordingly.

Thank you for your time.

h4. Redmine instance details

@bin/about@
<pre>
sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
sh: 1: git: not found
Environment:
  Redmine version                3.3.3.stable.16539
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.3
  Filesystem
Redmine plugins:
  no plugin installed
</pre>

Internal ref: !#52875"
25605,Redmine,Defect,NA,New,Normal,The '{{toc}}' macro is not included in the list of macros when using '{{macro_list}}',Library Systems Dept,NA,2017-04-14T07:26:00Z,Text formatting,NA,NA,NA,NA,0,2017-04-14T02:40:00Z,NA,NA,NA,NA,"I see that the @{{toc}}@ item is listed as a tag on the [[RedmineTextFormattingTextile]] page. Is this different than a macro, even though it dynamically builds the list of headings on a page?

Are there other tags besides @{{toc}}@?

Thank you for your time."
25705,Redmine,Defect,NA,Closed,Low,bundle and jdbc gems,James H,NA,2017-04-27T06:04:00Z,Gems support,NA,NA,NA,NA,0,2017-04-26T21:52:00Z,2017-04-27T06:04:00Z,NA,NA,3.3.3,"While upgrading (3.2.x to 3.3.2 and 3.3.2 to 3.3.3), running bundle install immediately pops these notices out:

<pre>
The dependency activerecord-jdbc-adapter (~> 1.3.2) will be unused by any of the platforms Bundler is installing for. Bundler is installing for x64-mingw32 but the dependency is only for java. To add those platforms to the bundle, run `bundle lock --add-platform java`.
The dependency activerecord-jdbcmysql-adapter (>= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for x64-mingw32 but the dependency is only for java. To add those platforms to the bundle, run `bundle lock --add-platform java`.
</pre>

It displays this message for 30sec-1minute before continuing. The bundle eventually runs and does it thing without much issue."
25712,Redmine,Defect,NA,Closed,Normal,How to make a custom query on a project/subproject for all users to see,sg s,NA,2017-04-27T07:31:00Z,NA,NA,NA,NA,NA,0,2017-04-27T06:20:00Z,2017-04-27T07:31:00Z,NA,Invalid,2.5.0,"Interested in making a custom query on a sub project and making the same available to all users on any project, so that  the users can be on any project, but can execute this custom query.
Example: we have users working on different enhancements, but need the same users to see customer reported issues. So need them to have a look at a particular place, where they are added as watchrs, to pick up issues. plz help!"
25726,Redmine,Defect,NA,Confirmed,High,Issue details page shows default values for custom fields that aren't actually set,Jens Kr?mer,NA,2017-06-09T05:57:00Z,Custom fields,4.1.0,NA,NA,NA,0,2017-04-28T17:13:00Z,NA,"関連している #9849, 関連している #21074",NA,3.2.0,"I posted this already as a comment in #21074 as this is where this behavior was most certainly introduced but it's probably a good idea to open a new issue for this.

*The problem*

When creating an issue custom field with a default value, the issue details page of issues that have existed before shows the field with this default value. However since the value is not really set in the DB you cannot see it in the issues list, nor can you find any of these issues when searching for it through the filters.

*Steps to reproduce*

* Create a new issue.
* Create a new issue custom field (I tried with boolean and text types) with a default value
* look at the previously created issue in issues list (have the custom field displayed) and detail view
* note the different values being shown for the custom field - issue details page shows the configured default, while the issue list shows the field as unset (empty).
* When filtering the issue list for the field's value (or simply looking at the database) it turns out that the field is indeed unset (neither filtering for the field being 'yes' or 'no' turns up the issue). So clearly the details view is lying about the field's true value by replacing _unset_ with the configured default.

*Desired Behavior*

Imho the default value for unset custom fields (where no corresponding @custom_value@ exists) should only be preset in the edit form, but not when merely showing the issue details. Under all circumstances the details view should be consistent with the issues list in this regard.

I came up with a patch that checks if there is actually any custom value present in the database for the given field before calling show_value, but it feels more like a workaround than a solution.

Another related thing I observed is that, when editing such an issue and setting the custom field's value for the first time and to something other than the default, a journal detail is created saying ""field xy was changed from <default> to <new value>"", though the default was never really set on the field.

Finally, it might be a useful feature to offer the option of applying the default to all issues (matching tracker / project selection) when saving a custom field with a default set."
25727,Redmine,Defect,NA,Needs feedback,Normal,Interface not responsive to mobile device,Nurul Anisa Sri Winarsih,NA,2017-04-29T09:03:00Z,UI - Responsive,NA,NA,NA,NA,0,2017-04-29T08:37:00Z,NA,NA,NA,NA,Interface not responsive to mobile device
25733,Redmine,Defect,NA,Needs feedback,High,Messages get bounced,Rene H,NA,2017-05-14T09:37:00Z,Email receiving,NA,NA,NA,NA,0,2017-05-02T09:30:00Z,NA,NA,NA,3.3.1,"I found out we seem to have a problem with incoming emails not being updated into redmine. Our setup goes via Google Apps, and the messages get forwarded to our postfix-server:

user sends message to support@ourdomain.tld that is handled by googlel apps. The message get's routed back to our redmine-server that responds on support-add@redmineserver.ourdomain.tld

In postfix i have configured an alias that runs the rdm-mailhandler.rb

<pre>
/usr/local/rvm/rubies/ruby-2.3.0/bin/ruby /etc/postfix/rdm-mailhandler.rb \
--project support   \
--tracker New issues \
--unknown-user create \
--no-permission-check \
--no-check-certificate \
--url https://redmineserver.ourdomain.tld \
--key [randomstuff] \
--allow-override all \
--no-account-notice \
--default-group Support</pre>

I still get though the following error

<pre>
""permission denied. Command output: Request was denied by your Redmine server. Possible reasons: email is sent from an invalid email address or is missing some information""
</pre>

This is my currentn setup
<pre>
Environment:
  Redmine version                3.3.1.stable
  Ruby version                   2.3.0-p0 (2015-12-25) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  accept                         0.0.2
  issue_mail_with_attachments    0.1.0
  redmine_autoclose              0.0.4
  redmine_close_button           0.0.8
  redmine_default_assign         0.6
  redmine_gc_sync                1.0.0
  redmine_mail_reminder          3.0.0.0001
  redmine_pretend                2.0.1
  redmine_tweaks                 1.0.0
</pre>"
25741,Redmine,Defect,NA,Closed,Normal,Can't locate Apache/Authn/Redmine.pm in @INC,lijun yin,NA,2017-05-03T05:39:00Z,NA,NA,NA,NA,NA,0,2017-05-02T17:08:00Z,2017-05-03T05:39:00Z,NA,Invalid,3.3.3,"When I tried to config httpd to access git with redmine auth, got this error.
mod_perl was installed yet.
Anyone who can fix this problem, please help me.
Thanks.

OS
CentOS with the latest update.

# ruby --version
ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]

# rails --version
Rails 4.2.8

Redmine 3.3.3

# httpd -v
Server version: Apache/2.4.6 (CentOS)
Server built: Apr 12 2017 21:03:28

mkdir -p /usr/lib/perl5/Apache/Authn
ln -s /var/lib/redmine/extra/svn/Redmine.pm /usr/lib/perl5/Apache/Authn/Redmine.pm

# systemctl status httpd -l
● httpd.service - The Apache HTTP Server
Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled; vendor preset: disabled)
Active: failed (Result: exit-code) since Fri 2017-04-28 09:20:34 CST; 2min 8s ago
Docs: man:httpd(8)
man:apachectl(8)
Process: 2744 ExecStop=/bin/kill -WINCH ${MAINPID} (code=exited, status=1/FAILURE)
Process: 2742 ExecStart=/usr/sbin/httpd $OPTIONS -DFOREGROUND (code=exited, status=1/FAILURE)
Main PID: 2742 (code=exited, status=1/FAILURE)

Apr 28 09:20:34 rmserver systemd1: Starting The Apache HTTP Server...
Apr 28 09:20:34 rmserver httpd2742: AH00526: Syntax error on line 1 of /etc/httpd/conf.d/redmine.conf:
Apr 28 09:20:34 rmserver httpd2742: Can't locate Apache/Authn/Redmine.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 . /etc/httpd) at (eval 2) line 2.\n
Apr 28 09:20:34 rmserver systemd1: httpd.service: main process exited, code=exited, status=1/FAILURE
Apr 28 09:20:34 rmserver kill2744: kill: cannot find process """" 
Apr 28 09:20:34 rmserver systemd1: httpd.service: control process exited, code=exited status=1
Apr 28 09:20:34 rmserver systemd1: Failed to start The Apache HTTP Server.
Apr 28 09:20:34 rmserver systemd1: Unit httpd.service entered failed state.
Apr 28 09:20:34 rmserver systemd1: httpd.service failed."
25761,Redmine,Defect,NA,Closed,Normal,icon-only links show text and multiple icons overlayed,Tom Glastonbury,NA,2017-05-06T04:09:00Z,NA,NA,NA,NA,NA,0,2017-05-04T12:33:00Z,2017-05-06T04:09:00Z,NA,Invalid,NA,"Various links render as multiple icons with text overlaid. From what I've seen, this affects all links rendered with class @icon-only@. Chrome screenshot attached. Also seen on ""Edit this section"" links in wiki pages (which is also class @icon-only@). I've tried different themes, same problem.

Environment:
  Redmine version                3.3.3.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem
Redmine plugins:
  no plugin installed
"
25771,Redmine,Defect,NA,Closed,Normal,how to change title in redmine to my title,fefar divyesh,NA,2017-05-05T12:03:00Z,NA,NA,NA,NA,NA,0,2017-05-05T11:58:00Z,2017-05-05T12:03:00Z,NA,Invalid,2.4.2,how to change title in redmine to my title
25780,Redmine,Defect,NA,Closed,Normal,suddenly page cannot be displayed,Randa Bustami,NA,2017-05-07T15:09:00Z,NA,NA,NA,NA,NA,0,2017-05-07T14:24:00Z,2017-05-07T15:09:00Z,NA,Invalid,3.3.3,"i was working in the redmine then open a new tap to open another site, when i return to the redmine tab, and click any link, suddenly page cannot be displayed 
it happened with reminde.org and also with my redmine site at the company.
i used to clear the cash , close the   chrome browser and open it again then it work again!.
pls help because sometime i am in a middle of work and it force me to close all the tabs and open new browsers windows"
25787,Redmine,Defect,NA,Needs feedback,Normal,"""Custom field permissions"" only work if I select all roles before",ozgur yazilimas,NA,2017-06-06T20:47:00Z,Custom fields,NA,NA,NA,NA,0,2017-05-08T13:57:00Z,NA,NA,NA,NA,"I want to add ""required"" permission to my custom field for specific role and tracker. I'm selecting only related role and tracker to do it but it doesn't work. Field permissions table showing my ""required"" selection after saving process but this field is not showing as ""required"" with red ""*"" symbol on issue page.

If I select all roles on ""field permissions"" table, it works. But I don't want to add ""required"" permission to all roles.

<pre>
Environment:
  Redmine version                3.0.7.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux]
  Rails version                  4.2.3
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.8.3.1
  Filesystem                     
</pre>"
25791,Redmine,Defect,NA,Closed,Normal,Bypass Tracker role-based permissions when copying issues,Shane Coronado,Jean-Philippe Lang,2017-06-06T22:55:00Z,Issues permissions,3.3.4,NA,NA,NA,0,2017-05-08T22:13:00Z,2017-06-06T22:55:00Z,NA,Fixed,3.3.2,"Not sure if intended: We use the permission settings for our roles. However, our Developer role is able to create an issue that the role does not have permission to create. This was done by Copying said issue and not changing the Tracker field. By leaving the Tracker field blank, the user is able to create an issue that bypasses the role's permissions."
25794,Redmine,Defect,NA,Closed,Urgent,Mass-deleted attachments are not represented correctly in email notifications,Felix Sch?fer,Jean-Philippe Lang,2017-05-27T10:53:00Z,Issues,NA,NA,NA,NA,0,2017-05-09T10:37:00Z,2017-05-27T10:46:00Z,"関連している #13072, 関連している #25538, 関連している #26627",Fixed,NA,"When deleting more than one attachment through the mass-delete attachments feature on the issue edit pane, only the first deleted attachment is in email notifications that are sent out for this event. The journal details are also created for the remaining deleted attachments, but they are not part of the email notifications.

This is due to source:/trunk/app/models/issue.rb@16545#L1742 calling @current_journal.save@ after each deleted attachment. This causes the email notification for the journal to be sent on the first time it is called, still missing the other attachment deletions.

I'm not quite sure of the best way to solve this as removing the @currrent_journal.save@ messes with other things, for example removing a single attachment via clicking the trash bin next to it."
25808,Redmine,Defect,NA,New,Normal,Change Import->Project Feild  from drop-down menu to dynamic mapping,Jack Black,NA,2017-05-11T06:50:00Z,Importers,NA,NA,NA,NA,0,2017-05-11T04:46:00Z,NA,NA,NA,NA,"When I use Import menu to create new issues, I found I could't import all issue in different project all same time.
I had to import one project at once, that feel not convenience.
So I wish redmine can support Project Feild dynamic mapping via csv file."
25822,Redmine,Defect,NA,Closed,Normal,'Spent time' report is timezone-dependent (which it should not),Sergey User,NA,2017-06-10T14:02:00Z,Time tracking,NA,NA,NA,NA,0,2017-05-12T07:10:00Z,2017-06-10T14:02:00Z,次のチケットと重複 #16482,Duplicate,3.3.2,"It appears that 'Spent time' report is timezone-dependent. That means it may show data differently depending on current TZ setting of the user. This results in weird artifacts, like:

1. Selecting 'past month' filter may still show two months (some hours which were reported at the end of the past/beginning of the current month will show either in past month or current month, depending on the TZ setting)
2. 'past month', if broken down by 'Months', may show more than one month.

This does not appear to be correct - Dates should be accounted for regardless of current TZ setting. For instance, if user reported Date as 2017-03-01, it should remain the same under all settings, and may only be visible for this month (and not in February 2017, for instance)."
25858,Redmine,Defect,NA,Closed,Normal,Easy Gantt crashes my browser Firefox,Niti Panchal,NA,2017-05-16T12:06:00Z,NA,NA,NA,NA,NA,0,2017-05-16T08:26:00Z,2017-05-16T12:06:00Z,NA,Invalid,NA,So every time I use Project Gantt my browser crashes. But when i use Easy Gantt for a specific project it work. i reinstalled the browser it is stillt he same problem. We are group of people using this tool but for some poeple it works for some it does not
25867,Redmine,Defect,NA,New,Normal,Assignable users should respect database collation,Pavel Rosick?,NA,2017-05-18T21:58:00Z,Database,NA,NA,NA,NA,0,2017-05-16T22:10:00Z,NA,NA,NA,NA,"mysql collation: utf8_general_ci
['a','u','?'] should be sorted as ['a','?','u'] but because of ruby sort it's reordered back as ['a','u','?']

<pre>
  def assignable_users
    users = project.assignable_users(tracker).to_a
    users << author if author && author.active?
    if assigned_to_id_was.present? && assignee = Principal.find_by_id(assigned_to_id_was)
      users << assignee
    end
    
    users.uniq.sort
  end
</pre>

I can provide a patch, are you interested or is it desired behaviour?

<pre>
Environment (not important, all redmine versions and databases are affected):
  Redmine version                3.3.3.devel.16557
  Ruby version                   2.1.5-p273 (2014-11-13) [x64-mingw32]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.5
  Git                            2.11.0
  Filesystem
Redmine plugins:
  no plugin installed
</pre>"
25868,Redmine,Defect,NA,Needs feedback,Normal,Can't upload over 2GB file,allen chen,NA,2017-05-17T16:04:00Z,Attachments,NA,NA,NA,NA,0,2017-05-17T02:24:00Z,NA,NA,NA,NA,"I use bitnami-redmine-3.3.3-0-windows-installer.exe to install Redmine.
My OS is win7 64 bit.
I set the upload file limit to 4GB.
But when I upload the large file that over 2 GB file it will show Internal Server error.

The Productions.log show below.

Processing by AttachmentsController#upload as JS
  Parameters: {""attachment_id""=>""1"", ""filename""=>""release1.tgz"", ""content_type""=>""application/gzip""}
  Current user: admin (id=1)
Completed 500 Internal Server Error in 140ms (ActiveRecord: 78.0ms)

RangeError (bignum too big to convert into `long'):
  app/controllers/attachments_controller.rb:92:in `upload'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
"
25996,Redmine,Defect,NA,Needs feedback,Normal,ActiveRecord::StatementInvalid,Jone Jone,NA,2017-05-18T09:01:00Z,Database,NA,NA,NA,NA,0,2017-05-18T08:40:00Z,NA,NA,NA,3.2.6,"I use nginx server.
log:
Completed 500 Internal Server Error in 51113ms (ActiveRecord: 51068.8ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Lock wait timeout exceeded; try restarting transaction: UPDATE `issues` SET `issues`.`status_id` = 3, `issues`.`updated_on` = '2017-05-18 11:02:23', `issues`.`lock_version` = 2 WHERE `issues`.`id` = 21991 AND `issues`.`lock_version` = 1):
  app/models/issue.rb:182:in `create_or_update'
  app/controllers/issues_controller.rb:499:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:487:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:185:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'"
26002,Redmine,Defect,NA,Confirmed,Normal,Issues can be assigned to this role  - didnt work correctly,Maxim Kru?ina,NA,2017-06-21T18:30:00Z,Issues,NA,NA,NA,NA,0,2017-05-19T18:17:00Z,NA,NA,NA,3.3.1,"We have an API user and special role for this user.
This role have ""Issues can be assigned to this role"" box unchecked.
But when ticket is created by this API user, he's still listed in Assignee field of the ticket and the ticket can be aasigned to this user.
When ticket is created by someone else, it works OK."
26004,Redmine,Defect,NA,Needs feedback,Normal,Settings / Issue tracking: Can't move issue column between available and visible,Roderick Gadellaa,NA,2017-06-30T22:14:00Z,Issues list,NA,NA,NA,NA,0,2017-05-20T09:23:00Z,NA,NA,NA,3.3.3,"Under Settings / Issue tracking / Default columns displayed on the issue list (screenshot attached), I try to move a issue column from available to visible but it doesn't work.

When I open the dev console I see a javascript error:

<pre>
/redmine/settings:446 Uncaught ReferenceError: moveOptions is not defined
    at HTMLInputElement.onclick (/redmine/settings:446)
</pre>

Information:

<pre>
Environment:
  Redmine version                3.3.3.stable
  Ruby version                   2.1.5-p273 (2014-11-13) [arm-linux-gnueabihf]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  periodictask                   3.2.1
  redmine_checklists             3.1.5
  redmine_issue_badge            0.0.6
  redmine_issue_completion       0.0.2
  redmine_issue_templates        0.1.5
</pre>"
26010,Redmine,Defect,NA,Needs feedback,Normal,can't create Thread,Jone Jone,NA,2017-05-22T07:02:00Z,Issues,NA,NA,NA,NA,0,2017-05-22T05:04:00Z,NA,NA,NA,3.2.6,"there is the issue's log，if log is not enough,please let me method to debug it,thank you

ThreadError (can't create Thread: Resource temporarily unavailable):
  app/models/mailer.rb:458:in `deliver_mail'
  config/initializers/10-patches.rb:154:in `deliver'
  app/models/mailer.rb:98:in `block (2 levels) in deliver_issue_edit'
  app/models/issue.rb:952:in `each_notification'
  app/models/mailer.rb:97:in `block in deliver_issue_edit'
  app/models/journal.rb:90:in `block in each_notification'
  app/models/journal.rb:88:in `each'
  app/models/journal.rb:88:in `each_notification'
  app/models/mailer.rb:96:in `deliver_issue_edit'
  app/models/journal.rb:302:in `send_notification'
  app/models/journal.rb:67:in `save'
  app/models/issue.rb:1681:in `create_journal'
  app/models/issue.rb:182:in `create_or_update'
  app/controllers/issues_controller.rb:499:in `block in save_issue_with_child_records'
  app/controllers/issues_controller.rb:487:in `save_issue_with_child_records'
  app/controllers/issues_controller.rb:185:in `update'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'"
26016,Redmine,Defect,NA,Closed,High,Redmine is slow to some users,Ren? Barbosa,NA,2017-07-03T20:16:00Z,Performance,NA,NA,NA,NA,0,2017-05-22T18:08:00Z,2017-07-03T20:16:00Z,関連している #19102,NA,3.3.0,"We updated our Redmine environment to the version 3.3.0 and some users are complaining about slowness in their activities. 

We found that just some users (the ones with 1000+ projects) are with this problem. Users with ~600- projects are not affected. 

I've attached 2 files at this issue, they're a Redmine debug log of an user with several projects (slow.log) and an user with few projects (slow.log). The difference is really notable."
26023,Redmine,Defect,NA,New,Normal,Category filter only shows categories of current project,Felix Sch?fer,NA,2017-06-03T10:18:00Z,Issues filter,Candidate for next major release,NA,NA,NA,0,2017-05-23T13:13:00Z,NA,"関連している #8192, 関連している #17761, 関連している #23198, 関連している #26091, 関連している #6793, 次のチケットが重複 #8854",NA,NA,"The category filter currently only shows the categories of the current project, this means the global query can not use categories, and projects with subprojects can not use the categories from the subproject as filters.

I will provide a patch shortly to solve this issue."
26029,Redmine,Defect,NA,Closed,Normal,Recovery Deleted Issue,mujhahid karim,NA,2017-05-24T16:59:00Z,Administration,NA,NA,NA,NA,0,2017-05-24T09:55:00Z,2017-05-24T16:59:00Z,NA,Invalid,2.5.2,"I have one issue that desappear from my database, I need to know who deleted this issue, can I know using some querys on the database?
"
26051,Redmine,Defect,NA,Closed,High,Please correct the vulnerability of imagemagick(CVE-2017-9098),Sahya Norn,NA,2017-06-06T02:29:00Z,NA,NA,NA,NA,NA,0,2017-05-27T08:45:00Z,2017-06-06T02:29:00Z,NA,Wont fix,NA,"Please correct the vulnerability of imagemagick(CVE-2017-9098)

https://access.redhat.com/security/cve/cve-2017-9098"
26055,Redmine,Defect,NA,Closed,Normal,Three issues with Redmine::SyntaxHighlighting::CodeRay.language_supported?,Mischa The Evil,Jean-Philippe Lang,2017-06-28T20:31:00Z,Code cleanup/refactoring,3.2.7,NA,NA,NA,0,2017-05-28T15:40:00Z,2017-06-07T21:35:00Z,関連している #25634,Fixed,NA,"h2. Issues

While reviewing/researching #25634 (and in its extend, r16501 & r16502 for #25503), I noticed three issues with the implementation - both pre and post r16568:
# @Redmine::SyntaxHighlighting::CodeRay.language_supported?@ includes internal CodeRay scanners (@default@, @debug@, @raydebug@ & @scanner@)
# @Redmine::SyntaxHighlighting::CodeRay.language_supported?@ has multiple responsibilities:
## retrieval of the array of supported languages symbols from CodeRay library
### storing of a reference to the resulting array in a local variable
## checking if the passed @language@ argument is included in the array referenced by the local variable and return the result
# the array containing supported languages symbols is rebuild for every invocation of @Redmine::SyntaxHighlighting::CodeRay.language_supported?@, ie. for each and every pre-formatted, syntax-highlighted code block (this seems a uselessly CPU-intensive approach since the array's values won't change unless Redmine is restarted)

h2. Fixes/changes

I've applied the following four changes to solve each of the three issues:

* _change 1 (0001-Remove-internal-CodeRay-scanners.patch)_: remove the four internal CodeRay scanners by subtracting a hard-coded array containing the symbols of these scanners
** It does not seem to be possible to do this in a more dynamical way.
* _change 2 (0002-Pull-up-retrieve_supported_languages-private-class-m.patch)_: pull-up a new @Redmine::SyntaxHighlighting::CodeRay.retrieve_supported_languages@ private class method (that doesn't store the result)
* _change 3 (0003-Use-stored-ref.-to-array-holding-supported-languages.patch)_: use a stored reference to the resulting array ? retrieved by @Redmine::SyntaxHighlighting::CodeRay.retrieve_supported_languages@, holding the supported languages symbols ? via a constant[1]
** I think there are two ways of solving this: storing a reference to the resulting array 1) in a _memoized instance variable_ or 2) in a _constant_. After some benchmarking[1] I decided to go with the constant-storage approach as it seems a tiny bit faster than the memoized instance variable storage approach. Though, both approaches are ~360-400 times faster than the approaches where the array is rebuild on every invocation of @Redmine::SyntaxHighlighting::CodeRay.language_supported?@.
* _change 4 (0004-Tests-for-Redmine-SyntaxHighlighting-CodeRay.retriev.patch)_: add test-coverage for @Redmine::SyntaxHighlighting::CodeRay.retrieve_supported_languages@ and remove obsolete @ApplicationHelperTest#test_syntax_highlight_by_coderay_alias@ (there's no need to test through @textilizable@)

This patch serial, against current source:/trunk@16580, is produced using @git format-patch@, which makes the individual patches apply-able using ""@patch -p1 < 0001-...@"".

h2. Environment

<pre>
Environment:
  Redmine version                3.3.3.devel@r16580
  Ruby version                   2.3.3-p222 (2016-11-21) [x86_64-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Git                            1.9.1
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>

h2. Footnotes

fn1. I passed the following benchmark script to @rails runner -e production@: <pre><code class=""ruby"">
puts ""####################""
puts ""Using benchmark:""
puts ""####################""

puts

require 'benchmark'

Benchmark.bmbm do |x|
x.report("".language_supported_core_pre_25634?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_pre_25634?('ruby') end }
x.report("".language_supported_core?"")            { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core?('ruby') end }
x.report("".language_supported_core_ext?"")        { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext?('ruby') end }
x.report("".language_supported_core_ext_split?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext_split?('ruby') end }
x.report("".language_supported_ivar_ext_split?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_ivar_ext_split?('ruby') end }
x.report("".language_supported_const_ext_split?"") { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_const_ext_split?('ruby') end }
end

puts

puts ""####################""
puts ""Using benchmark/ips:""
puts ""####################""

puts

require 'benchmark/ips'

Benchmark.ips do |x|
  # Configure the number of seconds used during
  # the warmup phase (default 2) and calculation phase (default 5)
  x.config(:time => 5, :warmup => 2)

  x.report("".language_supported_core_pre_25634?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_pre_25634?('ruby') end }
  x.report("".language_supported_core?"")            { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core?('ruby') end }
  x.report("".language_supported_core_ext?"")        { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext?('ruby') end }
  x.report("".language_supported_core_ext_split?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext_split?('ruby') end }
  x.report("".language_supported_ivar_ext_split?"")  { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_ivar_ext_split?('ruby') end }
  x.report("".language_supported_const_ext_split?"") { 100.times do Redmine::SyntaxHighlighting::CodeRay.language_supported_const_ext_split?('ruby') end }


  # Compare the iterations per second of the various reports
  x.compare!
end

</code></pre> on a modified ./lib/redmine/syntax_highlighting.rb file[2], which gave me the following results: <pre>
####################
Using benchmark:
####################

Rehearsal ------------------------------------------------------------------------
.language_supported_core_pre_25634?    0.010000   0.010000   0.020000 (  0.017590)
.language_supported_core?              0.010000   0.000000   0.010000 (  0.018621)
.language_supported_core_ext?          0.020000   0.010000   0.030000 (  0.018680)
.language_supported_core_ext_split?    0.010000   0.000000   0.010000 (  0.018822)
.language_supported_ivar_ext_split?    0.000000   0.000000   0.000000 (  0.000302)
.language_supported_const_ext_split?   0.000000   0.000000   0.000000 (  0.000069)
--------------------------------------------------------------- total: 0.070000sec

                                           user     system      total        real
.language_supported_core_pre_25634?    0.030000   0.000000   0.030000 (  0.025548)
.language_supported_core?              0.010000   0.000000   0.010000 (  0.018236)
.language_supported_core_ext?          0.020000   0.000000   0.020000 (  0.018472)
.language_supported_core_ext_split?    0.020000   0.000000   0.020000 (  0.018835)
.language_supported_ivar_ext_split?    0.000000   0.000000   0.000000 (  0.000068)
.language_supported_const_ext_split?   0.000000   0.000000   0.000000 (  0.000049)

####################
Using benchmark/ips:
####################

Warming up --------------------------------------
.language_supported_core_pre_25634?
                         5.000  i/100ms
.language_supported_core?
                         5.000  i/100ms
.language_supported_core_ext?
                         4.000  i/100ms
.language_supported_core_ext_split?
                         4.000  i/100ms
.language_supported_ivar_ext_split?
                         1.763k i/100ms
.language_supported_const_ext_split?
                         2.084k i/100ms
Calculating -------------------------------------
.language_supported_core_pre_25634?
                         53.819  (± 5.6%) i/s -    270.000  in   5.035559s
.language_supported_core?
                         53.027  (± 5.7%) i/s -    265.000  in   5.015003s
.language_supported_core_ext?
                         50.711  (± 5.9%) i/s -    256.000  in   5.071990s
.language_supported_core_ext_split?
                         49.493  (± 8.1%) i/s -    248.000  in   5.055206s
.language_supported_ivar_ext_split?
                         17.443k (±10.2%) i/s -     86.387k in   5.011711s
.language_supported_const_ext_split?
                         19.710k (±11.7%) i/s -     97.948k in   5.045098s

Comparison:
.language_supported_const_ext_split?:  19710.5 i/s
.language_supported_ivar_ext_split?:   17443.3 i/s - same-ish: difference falls within error
.language_supported_core_pre_25634?:      53.8 i/s - 366.23x  slower
.language_supported_core?:                53.0 i/s - 371.71x  slower
.language_supported_core_ext?:            50.7 i/s - 388.68x  slower
.language_supported_core_ext_split?:      49.5 i/s - 398.24x  slower

</pre>

fn2. including six different implementations looking like:
|_. Nr. |_. Method                                                                    |_. Description                                                                                  |_. Abbreviated implementation code |
| 1.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_core_pre_25634?@   | state of trunk, pre #25634                                                                     | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      class << self
        ...

        def language_supported_core_pre_25634?(language)
          ::CodeRay::Scanners.list.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
      end
</code></pre>
}} |
| 2.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_core?@             | current state of trunk, post #25634                                                            | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      class << self
        ...

        def language_supported_core?(language)
          supported_languages =
            ::CodeRay::Scanners.list +
            ::CodeRay::Scanners.plugin_hash.keys.map(&:to_sym)
          supported_languages.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
      end
</code></pre>
}} |
| 3.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext?@         | current state of trunk, post #25634, with _change 1_ applied                                   | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      class << self
        ...

        def language_supported_core_ext?(language)
          supported_languages =
            ::CodeRay::Scanners.list +
            ::CodeRay::Scanners.plugin_hash.keys.map(&:to_sym) -
            %w(debug default raydebug scanner).map(&:to_sym)
          supported_languages.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
      end
</code></pre>
}} |
| 4.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_core_ext_split?@   | current state of trunk, post #25634, with _change 1 and 2_ applied                             | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      def self.retrieve_supported_languages
        ::CodeRay::Scanners.list +
        # Add CodeRay scanner aliases
        ::CodeRay::Scanners.plugin_hash.keys.map(&:to_sym) -
        # Remove internal CodeRay scanners
        %w(debug default raydebug scanner).map(&:to_sym)
      end
      private_class_method :retrieve_supported_languages

      class << self
        ...

        def language_supported_core_ext_split?(language)
          supported_languages = retrieve_supported_languages
          supported_languages.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
      end
</code></pre>
}} |
| 5.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_ivar_ext_split?@   | current state of trunk, post #25634, with _change 1, 2 and 3 (memoized ivar variant)_ applied  | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      def self.retrieve_supported_languages
        ::CodeRay::Scanners.list +
        # Add CodeRay scanner aliases
        ::CodeRay::Scanners.plugin_hash.keys.map(&:to_sym) -
        # Remove internal CodeRay scanners
        %w(debug default raydebug scanner).map(&:to_sym)
      end
      private_class_method :retrieve_supported_languages

      class << self
        ...

        def language_supported_ivar_ext_split?(language)
          @supported_languages ||= retrieve_supported_languages
          @supported_languages.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
</code></pre>
}} |
| 6.    | @Redmine::SyntaxHighlighting::CodeRay.language_supported_const_ext_split?@  | current state of trunk, post #25634, with _change 1, 2 and 3 (constant variant)_ applied       | {{collapse(View abbreviated implementation...)
<pre><code class=""ruby"">
      def self.retrieve_supported_languages
        ::CodeRay::Scanners.list +
        # Add CodeRay scanner aliases
        ::CodeRay::Scanners.plugin_hash.keys.map(&:to_sym) -
        # Remove internal CodeRay scanners
        %w(debug default raydebug scanner).map(&:to_sym)
      end
      private_class_method :retrieve_supported_languages

      SUPPORTED_LANGUAGES = retrieve_supported_languages

      class << self
        ...

        def language_supported_const_ext_split?(language)
          SUPPORTED_LANGUAGES.include?(language.to_s.downcase.to_sym)
        rescue
          false
        end
</code></pre>
}} |
"
26056,Redmine,Defect,NA,Closed,Normal,"Existing closed bug , can't re-open from Redmine!!",Pradeep Garg,NA,2017-06-19T13:42:00Z,Issues,NA,NA,NA,NA,0,2017-05-29T08:37:00Z,2017-06-19T13:42:00Z,NA,Invalid,3.1.3,"I found an issue in my project during testing , and it was fixed then verified/closed by me.
But same issue again observed in next build. So, want to re-open existing bug, but there were no option for re-open that issue.
And that status field was mandatory, without fill anything there, i will be able to update an issue.

Attached snapshot for detailed Information!!"
26066,Redmine,Defect,NA,New,Low,Selenium::WebDriver doesn't work with current version of Firefox,Pavel Rosick?,NA,2017-06-27T09:57:00Z,Gems support,NA,NA,NA,NA,0,2017-05-29T16:48:00Z,NA,NA,NA,NA,"selenium-webdriver version was locked in order to support outdated Ruby 1.9.3 #24092
could you allow selenium-webdriver 3.4.0 if Ruby 2.0+ is used? I'm getting this error because of it:

Selenium::WebDriver::Error::WebDriverError:
  unable to obtain stable firefox connection in 60 seconds (127.0.0.1:7055)

Firefox 53.0.3
(selenium-webdriver 3.4.0 solves the problem)

thanks

"
26085,Redmine,Defect,NA,Needs feedback,Normal,Subtasks are not assigning to correct parent,Mark Wintch,NA,2017-12-28T17:59:00Z,Issues,NA,NA,NA,NA,0,2017-06-01T17:28:00Z,NA,NA,NA,3.3.0,"To replicate the issue one needs to:
* 1. Create a level 1 issue.  This will be the parent of all other issues.  Let's call it Issue #100
* 2. Then create any number greater than 1 subtasks of that parent.  We will create five and say they are issue ID's 110, 120, 130, 140, and 150.
* 3. Now under issue ID create a subtask with issue ID 111.  That will work fine.
* Here comes the problem:
* 4. Move 111 to 150 and it will be abandoned.
* 5. Move 111 to 140 and it will say 140 is the parent, but it will actually be placed under 150.

Looking at the issues table in SQL the problem seems to be that the lft and rgt fields do not increment when adding the new subtask to a new parent that did not have tasks previously.  So, the new task fails over to the next available range of lft rgt bounds.  If there is no parent to that range then the issue is orphaned, otherwise it assigns the issue to the next range available, but not the one that the user desires even though the application will say the tasks is a child of the correct parent.

---

Our current workaround is as follows using the example from above:
Edit issue 140 or 150 whichever you are working with as follows.  Remove the parent of 100 and set it to blank and save. Then edit issue 111 so that it has no parent and save it.  Go back to issue 140 or 150 and set the parent to 100 and save it.  Then go to issue 111 and assign to either 140 or 150 and it will now work. 

<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [x64-mingw32]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               SQLServer
SCM:
  Filesystem
Redmine plugins:
  redmine_agile                  1.4.1
</pre>
"
26089,Redmine,Defect,NA,Closed,Normal,Plugin Issue,Kashif Mukhtar,NA,2017-06-02T13:48:00Z,NA,NA,NA,NA,NA,0,2017-06-02T13:20:00Z,2017-06-02T13:48:00Z,NA,Invalid,NA,"I have installed redmine_timesheet_plugins for managing issues time of users.I have getting internal server error 500 while downloading csv.I am downloading all previous month csv's but getting error on downloading last month May CSV.When i download csv its redirect me internal server 500 error.Can you suggest me the solution.Its bit urgent.

"
26090,Redmine,Defect,NA,New,Normal,Dutch (NL) translation: some small issues found during review of r16029 for #24407,Mischa The Evil,Mischa The Evil,2017-07-13T06:11:00Z,Translations,Candidate for next minor release,NA,NA,NA,0,2017-06-02T15:31:00Z,NA,関連している #24407,NA,NA,"I started a review of r16029 for ? great ? issue #24407 some time ago and found some small issues, which I noted (using old-style pencil and paper). I wasn't able to complete this review and post my findings properly though.

I will complete the review and post my findings (have to look-up that piece of paper) before version#119 gets released (the version which will include the changes from r16029). Meanwhile I post this issue as a placeholder and personal reminder."
26124,Redmine,Defect,NA,Closed,Normal,Error 404 when trying to download issue-attached file with url-encoded link,Andrey Iskousnykh,NA,2017-06-08T19:10:00Z,NA,NA,NA,NA,NA,0,2017-06-08T17:53:00Z,2017-06-08T19:10:00Z,NA,Invalid,3.3.0,"Issue appears when I try to download file, that is attached to issue and which name contains non-latin chars (russian letters). Somehow file name become corrupted during get request.
Here log parts:
Upload request (OK)
<pre>
Started POST ""/redmine/uploads.js?attachment_id=1&filename=Scan10001%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F.jpg&content_type=image%2Fjpeg"" for 127.0.0.1 at 2017-06-07 18:02:43 +0300
Processing by AttachmentsController#upload as JS
  Parameters: {""attachment_id""=>""1"", ""filename""=>""Scan10001 ? копия.jpg"", ""content_type""=>""image/jpeg""}
  Current user: NK (id=3)
Saving attachment 'C:/BitNami/redmine-3.3.0-1/apps/redmine/htdocs/files/2017/06/170607180244_6da4361f84cca44f87c91e3fe3171a32.jpg' (966578 bytes)
  Rendered attachments/upload.js.erb (0.0ms)
Completed 200 OK in 129ms (Views: 0.0ms | ActiveRecord: 80.0ms)
</pre>
File and db-record are both fine.
Failed download request:
<pre>
Started GET ""/redmine/attachments/download/1452/Scan10001%20‥94%20копия.jpg"" for 127.0.0.1 at 2017-06-07 18:02:51 +0300
Processing by AttachmentsController#download as HTML
  Parameters: {""id""=>""1452"", ""filename""=>""Scan10001 \xE2\x80\x94 \xD0\xBA\xD0\xBE\xD0\xBF\xD0\xB8\xD1\x8F.jpg""}
  Current user: NK (id=3)
  Rendered common/error.html.erb within layouts/base (0.0ms)
Filter chain halted as :find_attachment rendered or redirected
Completed 404 Not Found in 47ms (Views: 15.6ms | ActiveRecord: 15.6ms)
</pre>
Even log record is corrupted, printscreen of notepad++ attached (unprintable chars present):
!prntscr1.PNG!

HTML-anchor in issue looks fine.

My environment:
Redmine is installed using @Bitnami Redmine Stack@.
<pre>
Environment:
  Redmine version                3.3.0.stable
  Ruby version                   2.1.8-p440 (2015-12-16) [i386-mingw32]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
</pre>"
26129,Redmine,Defect,NA,Closed,Normal,"Email notification function problem,",James Lai,NA,2017-06-09T14:44:00Z,Email notifications,NA,NA,NA,NA,0,2017-06-09T12:26:00Z,2017-06-09T14:43:00Z,NA,Duplicate,NA,"We came across  a problem during the using of Redmine : mail notification can't be triggered in two Issues of one Project, but we got mail notification before, and there is no similiar situation in other Issues. We want to know, is this a bug in Redmine? BTW, the fuction went normal after we copy the Issues into a new one, but the original Issues still got this problem. Please help to check it,thanks!

Environment:
  Redmine version                3.3.2.stable
  Ruby version                   2.3.2-p217 (2016-11-15) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.14
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  _query                         0.0.2
  clipboard_image_paste          1.10
  easy_wbs                       2016-0.0
  redmine_agile                  1.4.2
  redmine_ckeditor               1.1.4
  redmine_contacts               4.0.6
  redmine_custom_workflows       0.1.6
  redmine_dashboard              2.7.1
  redmine_dmsf                   1.5.8
  redmine_favorite_projects      2.0.3
  redmine_knowledgebase          3.2.1"
26132,Redmine,Defect,NA,Closed,Normal,Redmine site cannot be displayed in an iframe,CM Gui,NA,2017-07-09T21:10:00Z,Administration,NA,NA,NA,NA,0,2017-06-09T20:52:00Z,2017-06-10T07:04:00Z,NA,Invalid,3.3.0,"We used to be able to display our Redmine site in an iframe.    But after upgrading to 3.3.0 last September, we are unable to display our site in an iframe.   We get this error from the browser: ""To help protect the security of information you enter into this website, the publisher of this content does not allow it to be displayed in a frame.""
Is there any way we can make our Redmine site display in an iframe again?
Thank you very much.
"
26145,Redmine,Defect,NA,Closed,Normal,Don't redirect anonymous users to the login form for disabled modules,Adam Clark,Jean-Philippe Lang,2017-09-30T17:55:00Z,Permissions and roles,4.0.0,NA,NA,NA,0,2017-06-12T23:41:00Z,2017-06-26T23:09:00Z,NA,Fixed,2.5.2,"The use case is that a project enables a module (the Files module is the one we encountered) but later turns it off. If there are stray links to that URL, these generate a 403 error, which for anonymous users redirects to the login/registration page.

In our case, we had projects that served files publicly, then moved these to another location and turned off the Files module. The result is we now get a lot of spurious registration requests from users who are trying to download these files, because to the user it looks like the site is asking them to register before they can access the files.

I was able to address our immediate problem by patching ApplicationController.authorize to check whether the request is associated with a disabled project module, and redirect to the main project page in that case. I'm not sure how correct this code is (I don't know the Redmine internals all that well) and I know that this doesn't work for some modules (eg. Issues) which apparently operate through some other method. So this code is just for illustration, I guess.

<pre><code class=""ruby"">
    def authorize_with_custom(ctrl = params[:controller], action = params[:action], global = false)
      allowed = User.current.allowed_to?({:controller => ctrl, :action => action}, @project || @projects, :global => global)
      if allowed
        true
      else
        if @project
          logger.debug 'Handling auth error for ' + ctrl + '/' + action

          # Figure out whether the permission for this path is handled by a module
          project_module = Redmine::AccessControl.permissions.select {|p| p.actions.include?(ctrl + '/' + action)}.first.try(:project_module)
          logger.debug 'Permission module is ' + project_module.to_s

          # If it is a module, and the module isn't enabled in this project, try to redirect to the main project page
          if project_module && !@project.module_enabled?(project_module)
            can_view_project = User.current.allowed_to?({:controller => :projects, :action => :show}, @project)
            logger.debug 'Can the user view the main project page? ' + can_view_project.to_s
            if can_view_project
              redirect_to project_path(@project)
              return false
            end
          end
        end
        if @project && @project.archived?
          render_403 :message => :notice_not_authorized_archived_project
        else
          deny_access
        end
      end
    end
</code></pre>"
26156,Redmine,Defect,NA,Closed,Normal,Spent time not working correctly with user's zone different from system's time zone,Martin Jungowski,NA,2017-06-13T18:51:00Z,Time tracking,NA,NA,NA,NA,0,2017-06-13T18:19:00Z,2017-06-13T18:51:00Z,次のチケットと重複 #16482,Duplicate,3.3.3,"I've found a weird bug after updating from Redmine 3.1.1 to 3.3.3: time tracking is broken and somehow dependent on individual time zone and language preference.

Our Redmine server is located in central Europe (CEST, or GMT+1), I am located in Texas (CT, or GMT-6). When I set my personal timezone accordingly in ""My account"", time entries under ""spent time"" are not showing up properly anymore. Instead, to see today's time entries I have to select ""yesterday"" from the dropdown menu, and to see this week's time entries I have to select ""last week"". And to make matters worse it somehow also depends on my personal language preference configured under ""My account"" as well:

# time zone GMT+1, language German
** all good; see attached screenshots 1_de_cest_today & 2_de_cest_thisweek. This is what I expect to see regardless of time zone and language.
# time zone GMT-6, language German
** today = yesterday; see 3_de_ct_today & 4_de_ct_yesterday,
** this week = broken, monday is missing and can be found in last week's view; see 5_de_ct_thisweek & 6_de_ct_lastweek
# time zone GMT-6, language English
** today = yesterday, same behavior as in 2
** this week = working, monday showing up as expected, see 7_en_ct_thisweek & 8_en_ct_lastweek

This has only started after the update from Redmine 3.1.1 to 3.3.3 yesterday, it was all working perfectly fine until just yesterday. I also have to add that this happens independent of time and date. The time and date, when those screenshots were taken:

CEST in Europe: 6/13/2017, 6:00pm
CT in Texas: 6/13/2017, 11:00am

I've tried this yesterday as well when it was around 10pm in Europe and 3pm in Texas, and later also when it was 6pm in Texas but already 1am the next day in Europe. Results were the same.

System info:

<pre>
sh: 1: svn: not found
sh: 1: darcs: not found
sh: 1: hg: not found
sh: 1: cvs: not found
sh: 1: bzr: not found
Environment:
  Redmine version                3.3.3.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  localizable                    0.4.0
  projects_table                 0.0.4
  redmine_agile                  1.4.3
  redmine_base_deface            0.0.1
  redmine_base_select2           0.0.1
  redmine_contacts               4.0.2
  redmine_contacts_helpdesk      3.0.7
  redmine_multiprojects_issue    3.3.0
  redmine_theme_changer          0.2.0
  sidebar_hide                   0.0.8
</pre>

I've tested it with all plugins disabled and all themes removed, and it behaved the same. Something seems to be broken somewhere somehow."
26183,Redmine,Defect,NA,Closed,Normal,Use Nokogiri 1.7.2,Go MAEDA,Jean-Philippe Lang,2017-06-25T10:37:00Z,Security,3.2.7,NA,NA,NA,0,2017-06-17T11:45:00Z,2017-06-25T10:37:00Z,"関連している #25538, 関連している #27505",Fixed,3.2.6,"Redmine 3.3-stable / 3.2-stable uses Nokogiri 1.6.8 but version from 1.6.8 from 1.7.1 has some security issues (see https://github.com/sparklemotion/nokogiri/blob/master/CHANGELOG.md for details).

Fixed in 1.7.2:

* CVE-2017-5029
* CVE-2016-4738

Fixed in 1.7.1:

* CVE-2016-4658
* CVE-2016-5131

We should use Nokogiri >= 1.7.2 but unfortunately it requires Ruby >= 2.1.0 (see r16167). The attached patch uses Nokogiri ~> 1.7.2 if RUBY_VERSION >= 2.1.0.

I received this report from ""Sho Hashimoto"":/users/284508."
26216,Redmine,Defect,NA,Closed,Normal,translation missing: en.label_x_open_issues_abbr_on_total,Uro? Malen?ek,NA,2017-09-27T10:35:00Z,NA,NA,NA,NA,NA,0,2017-06-20T18:22:00Z,2017-06-20T18:52:00Z,NA,Invalid,3.3.3,"On the Project overview page there is an 'Issue tracking' block that should display total count of the issues.

Expected (gues) info is:
  bugs: 4 open / 123
Actual:
  bugs: translation missing: en.label_x_open_issues_abbr_on_total

I am not sure if this is Redmine core or some plugin related.

It could be raleted with this commit:
http://source.dussan.org/commit/?r=mirrors/redmine.git&h=5812a373826dbabdf4bbb2160f3af1c7c4ad27dd"
26238,Redmine,Defect,NA,Closed,Normal,Subtask changes the parent task situation,Paula medina Tavares,NA,2017-06-22T17:25:00Z,Projects,NA,NA,NA,NA,0,2017-06-22T16:58:00Z,2017-06-22T17:25:00Z,NA,Invalid,NA,"Subtask changes situation of parent task in some projects.

Example 1: 

http://chamados.publicacoesonline.com.br/issues/34737 - This task in that father project was not changed by the child task.

Example 2: 

http://chamados.publicacoesonline.com.br/issues/34746 - This task in that father project was changed by the child task.

Does project has configuration about this problem?
My company has a workfkow and it disrupts our routine.

Thanks!


"
26247,Redmine,Defect,NA,Closed,Normal,Missing translation for email reminder when user sets language to 'auto',Micha? Siudyka,NA,2017-06-24T11:51:00Z,Email notifications,NA,NA,NA,NA,0,2017-06-23T15:23:00Z,2017-06-24T11:51:00Z,NA,Cant reproduce,3.2.6,There is missing translation when user sets language option to 'auto' for email reminder.
26259,Redmine,Defect,NA,Closed,Normal,The name of the attachment is not uniform,zhao Wang,NA,2017-06-26T08:18:00Z,NA,NA,NA,NA,NA,0,2017-06-26T07:44:00Z,2017-06-26T08:18:00Z,NA,Invalid,NA,"The pictures pasted with the redmine_image_clipboard_paste plugin are uploaded as attachments, and the names are not uniform
!?片20170626134042.png!
!?片20170626134304.png!"
26281,Redmine,Defect,NA,Closed,Normal,Can not open task attachment,Roman Fesenko,NA,2017-06-27T12:50:00Z,Attachments,NA,NA,NA,NA,0,2017-06-27T11:13:00Z,2017-06-27T12:50:00Z,NA,Invalid,3.3.3,"There is a problem with task attachment opening:
when working through the proxy (squid) - I have and ""Zero size reply"" 

But in the log production.log I can see that is all ""OK"" with senidng attachment file:
[ruby@mail redmine-3.3.3]$ tail /opt/redmine-3.3.3/log/production.log -f
  Parameters: {""id""=>""15"", ""filename""=>""!1111111.png""}
  Current user: admin (id=1)
Sent file /opt/redmine-3.3.3/files/2017/06/170627050716_fd10e9bb8c8a02820e178817bd8c0f79.png (0.1ms)
Completed 200 OK in 13ms (ActiveRecord: 2.8ms)
Started GET ""/attachments/download/15/!1111111.png"" for 95.67.17.36 at 2017-06-27 05:07:39 -0400
Processing by AttachmentsController#download as HTML
  Parameters: {""id""=>""15"", ""filename""=>""!1111111.png""}
  Current user: admin (id=1)
Sent file /opt/redmine-3.3.3/files/2017/06/170627050716_fd10e9bb8c8a02820e178817bd8c0f79.png (0.1ms)
Completed 200 OK in 17ms (ActiveRecord: 6.5ms)

If I work with Redmine without proxy, I just have browser message ""Can not display this page"".

System info:

Redmine 3.3.3.stable
Default administrator account changed 	
File repository writable 	
Plugin assets directory writable (./public/plugin_assets) 	
RMagick available (optional) 	
ImageMagick convert available (optional) 	

Environment:
  Redmine version                3.3.3.stable
  Ruby version                   2.2.3-p173 (2015-08-18) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.7.14
  Darcs                          2.8.4
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  redmine_timesheet_plugin       0.7.0



"
26304,Redmine,Defect,NA,Closed,Normal,Updating the issue update text does not affect updated time information,ANS ANS,NA,2017-06-29T16:02:00Z,Issues,NA,NA,NA,NA,0,2017-06-29T14:41:00Z,2017-06-29T15:59:00Z,次のチケットと重複 #16256,Duplicate,NA,"When an issue update text is edited, it is neither informed to the users by e-mail nor updated the update date of the update."
26310,Redmine,Defect,NA,Closed,Normal,"""attachment:filename"" should generate a link to preview instead of download",Go MAEDA,Jean-Philippe Lang,2017-07-02T12:00:00Z,Text formatting,NA,NA,NA,NA,0,2017-07-02T08:05:00Z,2017-07-02T12:00:00Z,関連している #25988,Fixed,NA,"The default behavior of links to an attachment has been switched from downloading to previewing by #25988 for 3.4.0.
But I noticed that ""attachment:filename"" in wiki formatting still generates a download link. This should be changed to preview link for consistency.

!{width: 500px;}.defect-attachment-link@2x.png!"
26337,Redmine,Defect,NA,Closed,Normal,Can't download attachments with russian letters in name (from issue),VVD VVD,NA,2017-07-04T10:25:00Z,Attachments,NA,NA,NA,NA,0,2017-07-04T07:49:00Z,2017-07-04T08:45:00Z,次のチケットが重複 #27076,Invalid,3.4.0,"Work perfect before upgrade from 3.3.3 to 3.4.0.

production.log from 3.4.0:
<pre>
Started GET ""/attachments/5450/%d0%a2%d0%97.pdf"" for 10.0.0.1 at 2017-07-04 08:12:53 +0300
Processing by AttachmentsController#show as HTML
  Parameters: {""id""=>""5450"", ""filename""=>""\xD0\xA2\xD0\x97.pdf""}
  Current user: VVD (id=3)
  Rendered common/error.html.erb within layouts/base (0.2ms)
Filter chain halted as :find_attachment rendered or redirected
Completed 404 Not Found in 76ms (Views: 28.6ms | ActiveRecord: 42.5ms)
</pre>

production.log from 3.3.3:
<pre>
Started GET ""/attachments/5450/%d0%a2%d0%97.pdf"" for 10.0.0.1 at 2017-07-04 08:34:34 +0300
Processing by AttachmentsController#show as HTML
  Parameters: {""id""=>""5450"", ""filename""=>""ТЗ.pdf""}
  Current user: VVD (id=3)
  Rendered common/_other.html.erb (1.4ms)
  Rendered layouts/_file.html.erb (56.8ms)
  Rendered attachments/other.html.erb within layouts/base (94.4ms)
Completed 200 OK in 297ms (Views: 203.5ms | ActiveRecord: 53.5ms)
</pre>

Look at difference:
> ""filename""=>""\xD0\xA2\xD0\x97.pdf""
> ""filename""=>""ТЗ.pdf""
2nd is correct name.

Work fine with only latin letters in attachment name:
production.log from 3.4.0:
<pre>
Started GET ""/attachments/5490/TZ.pdf"" for 10.0.0.1 at 2017-07-04 08:18:21 +0300
Processing by AttachmentsController#show as HTML
  Parameters: {""id""=>""5490"", ""filename""=>""TZ.pdf""}
  Current user: VVD (id=3)
  Rendered common/_other.html.erb (0.5ms)
  Rendered layouts/_file.html.erb (7.0ms)
  Rendered attachments/other.html.erb within layouts/base (7.4ms)
Completed 200 OK in 79ms (Views: 48.6ms | ActiveRecord: 20.7ms)
</pre>"
26351,Redmine,Defect,NA,Closed,Normal,"2.6.9, 3.0.7 and 3.1.3 versions are missing due dates",Mischa The Evil,Jean-Philippe Lang,2017-07-08T15:16:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-07-05T03:52:00Z,2017-07-08T15:16:00Z,NA,Fixed,NA,"Like stated in the subject, these tree versions are missing due dates here on redmine.org. This makes that they show up in places where they shouldn't (see eg. the _bottom_ of the version list on the roadmap sidebar).

Please set the correct release date (2015-12-05, news#103) as their due dates to fix this issue. Thanks in advance."
26364,Redmine,Defect,NA,Closed,Normal,Sort is not reflected when export CSV of issues list,Tatsuya Saito,Jean-Philippe Lang,2017-07-06T18:53:00Z,Issues list,3.4.1,NA,NA,NA,0,2017-07-06T00:43:00Z,2017-07-06T18:53:00Z,関連している #22354,Fixed,3.4.0,"Sort is not reflected when export CSV of issues list on 3.4.0.

Steps to reproduce it:

1. Open issues page.
2. Sort Priority column.
3. Export CSV.

I attach a patch to fix it."
26368,Redmine,Defect,NA,Closed,Normal,view-customize plugin,Ashish Bansal,NA,2017-07-06T10:51:00Z,NA,NA,NA,NA,NA,0,2017-07-06T09:13:00Z,2017-07-06T10:51:00Z,NA,Invalid,3.3.3,"bitnami redmine 3.3.3 on windows 10 for view-customize plugin :not able to get menu added in admin section . I did below:
1-created folder view_customize at path C:\Bitnami\redmine-3.3.3-0\apps\redmine\htdocs\plugins
2-run gem install juggernaut (successfully)
3-bundle exec rake redmine:plugins:migrate get issue as below; though i am able to connect MySQL from phpAdmin
DL is deprecated, please use Fiddle
rake aborted!
Mysql2::Error: Access denied for user 'root'@'localhost' (using password: NO)
C:/Bitnami/redmine-3.3.3-0/apps/redmine/htdocs/vendor/bundle/ruby/2.1.0/gems/mysql2-0.4.2-x86-mingw32/lib/mysql2/client.rb:87:in `connect'"
26377,Redmine,Defect,NA,Closed,Normal,500 Internal Server Error while search in projects,Raju M,NA,2017-07-07T11:04:00Z,Database,NA,NA,NA,NA,0,2017-07-07T08:19:00Z,2017-07-07T11:04:00Z,NA,NA,NA,"Recently i migrated from windows to linux.
Getting below error in my production log while searching in projects.
And also, I am not able to update ticket with emoji symbol.
All other things are working fine.
Please help me how to resole the issue.

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'contacts.visibility' in 'where clause': SELECT DISTINCT `contacts`.`created_on`, `contacts`.`id` FROM `contacts` LEFT OUTER JOIN `contacts_projects` ON `contacts_projects`.`contact_id` = `contacts`.`id` LEFT OUTER JOIN `projects` ON `projects`.`id` = `contacts_projects`.`project_id` LEFT OUTER JOIN `addresses` ON `addresses`.`addressable_id` = `contacts`.`id` AND `addresses`.`address_type` = 'business' AND `addresses`.`addressable_type` = 'Contact' LEFT OUTER JOIN `notes` ON `notes`.`source_id` = `contacts`.`id` AND `notes`.`source_type` = 'Contact' WHERE ((projects.id <> -1 ) AND ((contacts.visibility = 1) OR ((1=0)) )) AND (((contacts.first_name LIKE '%asd%') OR (contacts.middle_name LIKE '%asd%') OR (contacts.last_name LIKE '%asd%') OR (contacts.company LIKE '%asd%') OR (contacts.email LIKE '%asd%') OR (addresses.full_address LIKE '%asd%') OR (contacts.background LIKE '%asd%') OR (notes.content LIKE '%asd%')))  ORDER BY `contacts`.`created_on` DESC, `contacts`.`id` DESC):
  lib/plugins/acts_as_searchable/lib/acts_as_searchable.rb:171:in `fetch_ranks_and_ids'
  lib/plugins/acts_as_searchable/lib/acts_as_searchable.rb:91:in `search_result_ranks_and_ids'
  lib/redmine/search.rb:127:in `block in load_result_ids'
  lib/redmine/search.rb:125:in `each'
  lib/redmine/search.rb:125:in `load_result_ids'
  lib/redmine/search.rb:115:in `block in load_result_ids_from_cache'
  lib/redmine/search.rb:114:in `load_result_ids_from_cache'
  lib/redmine/search.rb:99:in `result_ids'
  lib/redmine/search.rb:70:in `result_count'
  app/controllers/search_controller.rb:75:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
"
26379,Redmine,Defect,NA,Closed,Normal,Fix thumbnail rendering for images with height >> width,Gabriel Cardoso,Jean-Philippe Lang,2017-07-16T13:49:00Z,Attachments,3.4.2,NA,NA,NA,0,2017-07-07T12:05:00Z,2017-07-16T13:49:00Z,NA,Fixed,3.4.0,"The ImageMagick format rule being `100x100>` (given 100 as thumbnail size in settings), when uploading images with a height much greater than the width (like websites templates) the thumbnail will have a height of 100px and a computed width so homothety is respected.

In the `thumbnail_tag` helper from `ApplicationHelper`, the width attribute is set width `Setting.thumbnails_size`. I suggest to remove this attribute from the image tag since the source thumbnail has the right size. 

Am I missing some cases where this change could have an important impact ?"
26380,Redmine,Defect,NA,Closed,Normal,Un-install  Redmine CRM plugin (Light version),Raju M,NA,2017-07-07T14:30:00Z,NA,NA,NA,NA,NA,0,2017-07-07T12:14:00Z,2017-07-07T14:30:00Z,NA,Invalid,NA,"To uninstall plugin i used the following command but still showing in plugins list.
rake redmine:plugins NAME=redmine_contacts VERSION=0 RAILS_ENV=production 
rm -r vendor/plugins/redmine_contacts"
26388,Redmine,Defect,NA,Closed,Normal,Remove unnecessary spaces from CHANGELOG,Go MAEDA,NA,2017-07-09T09:24:00Z,Documentation,NA,NA,NA,NA,0,2017-07-09T07:06:00Z,2017-07-09T09:24:00Z,NA,NA,NA,"Unnecessary spaces around a subject should be stripped when generating CHANGELOG (please see #25616#note-14).
These patches will fix the changelog generator and CHANGELOG."
26389,Redmine,Defect,NA,Closed,Normal,summary issue list disappeared from project overview page,Randa Bustami,NA,2017-07-10T07:57:00Z,NA,NA,NA,NA,NA,0,2017-07-09T15:06:00Z,2017-07-10T07:57:00Z,次のチケットと重複 #26376,Duplicate,NA,"summary issue list disappeared from project overview page after upgrade to 3.4.0 for all users except admin
"
26393,Redmine,Defect,NA,Closed,Normal,Error when unchecking all settings on some plugins configurations,Keith Dickmann,Jean-Philippe Lang,2017-07-16T13:48:00Z,Administration,3.4.2,NA,NA,NA,0,2017-07-10T05:50:00Z,2017-07-16T13:48:00Z,NA,Fixed,3.4.1,"To Reproduce
1 - install a plugin that only as checkboxes on it settings page (or use uploaded test plugin)
2 - check everything and save
3 - uncheck everything and save
4 - crash

NoMethodError (undefined method `permit!' for nil:NilClass):
  app/controllers/settings_controller.rb:70:in `plugin'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
"
26410,Redmine,Defect,NA,Closed,Normal,Gravatar icon is misaligned in gantt,Go MAEDA,Go MAEDA,2017-11-25T16:49:00Z,Gantt,3.3.6,NA,NA,NA,0,2017-07-11T06:24:00Z,2017-11-25T16:42:00Z,NA,Fixed,3.3.5,"The Gravatar icon is misaligned upward.
Confirmed in 3.3 and 3.4.

!misaligned-icon.png!"
26428,Redmine,Defect,NA,Closed,Normal,Japanese Emoticon characters cause error in issue desc and journal,Matthew Paul,NA,2017-07-26T14:49:00Z,Database,NA,NA,NA,NA,0,2017-07-13T15:16:00Z,2017-07-13T16:13:00Z,NA,Invalid,3.3.1,"When I add the following string to a new issue or the journal note for an issue it throws an error. Looking at documentation here I believe it is to do with the fact that my Bitnami stack creates the tables in mysql utf8 which is 3 byte not 4 byte.  This given, could we patch or add code or an option so that, in that case, it simply converts any bad characters to ? - I see code that does that anyway so I'm not sure why that isn't happening automatically.

The text is this -

Here is the character that causes a problem with mysql utf-8 tables"
26438,Redmine,Defect,NA,Needs feedback,Normal,Issues on right click of issues should allow edit on status change event,Shreyas Moolya,NA,2017-07-14T11:19:00Z,Issues,NA,NA,NA,NA,0,2017-07-14T09:11:00Z,NA,関連している #23755,NA,3.2.6,"When I try to change an issue status, *with right-click*, the views asks me to set a custom field and does not allow me to save the issue and the view also does not show the set custom field as per workflow.

!direct edit of calls.png!

But in the same scenario, when I *left-click* on the issue and then try to edit the call it asks me to set the custom field as per workflow with the view showing me to set the custom field.



"
26442,Redmine,Defect,NA,Needs feedback,Normal,CSS formating classes like p(box). prepended with wiki-class-,Hal Glenn,Mischa The Evil,2017-07-29T07:50:00Z,Text formatting,NA,NA,NA,NA,0,2017-07-14T18:33:00Z,NA,NA,NA,3.4.1,"This worked in the 3.3 trunk, updated to 3.4 and box's are no longer there but text is still displayed.

This method of text formatting was taken from the ""Mastering Redmine Book"" page 322."
26450,Redmine,Defect,NA,Closed,Normal,user can enter more than 24 hours in the same day,Randa Bustami,NA,2017-07-16T15:48:00Z,NA,NA,NA,NA,NA,0,2017-07-16T14:26:00Z,2017-07-16T15:48:00Z,次のチケットと重複 #24005,Duplicate,NA,"user can enter more than 24 hours in the same day, can you make validation to prevent user from enrting more than 24 hours per day ?"
26451,Redmine,Defect,NA,Needs feedback,Normal,Error attach files,Anton Gubarev,NA,2017-07-17T05:34:00Z,Attachments,NA,NA,NA,NA,0,2017-07-16T14:41:00Z,NA,NA,NA,NA,"When i try attach any file in issue i have the error

<pre>
attachments.js:71 Uncaught TypeError: Cannot read property 'length' of undefined
    at Object.<anonymous> (attachments.js:71)
    at j (jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:2)
    at Object.fireWith [as resolveWith] (jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:2)
    at x (jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:4)
    at XMLHttpRequest.b (jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:4)
(anonymous)	@	attachments.js:71
j	@	jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:2
fireWith	@	jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:2
x	@	jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:4
b	@	jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js:4

</pre>

attachments.js line 71

redmine 3.4.1
"
26468,Redmine,Defect,NA,Closed,Normal,"Using custom fields of type ""File"" leads to unsolvable error if filetype is not allowed",Mischa Mundwiler,Jean-Philippe Lang,2017-07-22T09:12:00Z,Custom fields,3.4.3,NA,NA,NA,0,2017-07-18T13:44:00Z,2017-07-22T09:12:00Z,NA,Fixed,3.4.1,"I have setup the following custom field using the ""File"" format with the restriction of allowed filetypes:  doc, docx, pdf

If I create a new ticket with any of the three types everything is fine.

But if I upload a file of differnte file type I get the following message:

- CR-Dokument is invalid (Allowed extensions: doc, docx, pdf)  -> this is OK

BUT: I cannot change the document anymore nor can I remove it. Therefore I am stuck in the dialog and the only possiblity is to cancel everyhting (compare attached screenshot).

Expected behavior: Upload another file or remove it should be possible.




"
26471,Redmine,Defect,NA,Closed,Normal,Issue Query: inconsistency between spent_hours sum and sum of shown spent_hours values,Jens Kr?mer,Jean-Philippe Lang,2017-07-22T09:11:00Z,Issues list,3.4.3,NA,NA,NA,0,2017-07-19T10:28:00Z,2017-07-22T09:11:00Z,NA,Fixed,3.4.2,"Steps to reproduce:

* Create two projects A and B, enable the spent time module only in A.
* Create issues in A and log time for them.
* Move one of these issues to B.
* go to /issues, configure filters so all issues created in step two are shown, add the _Spent time_ column and also tick the _Spent time_ checkbox in the _Totals_ row.

Result:

The _Spent time_ sum shown above the table is the sum of the time logged in step two, though the issue moved to B shows _0_ in the Spent Time column. (because the module is disabled in Project B and thus it's time entries aren't @visible@ anymore).

Expected Result:

The total should be the sum of the values shown for each issue in the corresponding column.

Easiest way to fix it would certainly be to fix the totals computation so it only includes hours from visible time entries. In addition to the module enabled / disabled situation described above, it might also be that, with an enabled spent time module in B, but given I do not have permission to see time entries in B, the moved issues' time entries are still counted. This issue would be fixed with above solution as well I think.

The sum should (preferably only if we know it isn't complete) be amended with a hint (footnote or something else) informing the user that this sum is (or possibly is) not the complete sum due to permissions / modules not being enabled)."
26498,Redmine,Defect,NA,Closed,Normal,Rails5: scm entry *.html causes 404 Not Found,Toshi MARUYAMA,NA,2017-07-22T12:49:00Z,SCM,NA,NA,NA,NA,0,2017-07-22T12:38:00Z,2017-07-22T12:49:00Z,関連している #23630,NA,NA,"source:trunk/public/404.html

r16848:

<pre><code class=""diff"">
=== (+9,-9) config/routes.rb ===
@@ -244,7 +244,7 @@
 
   get 'projects/:id/repository/:repository_id/changes(/*path)',
       :to => 'repositories#changes',
-      :format => false
+      :format => 'html'
</code></pre>

<pre>
Started GET ""/projects/redmine-svn/repository/entry/trunk/public/404.html"" for 127.0.0.1 at 2017-07-22 19:29:57 +0900
Processing by RepositoriesController#entry as HTML
...
Shelling out: 'svn' list --xml 'http://svn.redmine.org/redmine/trunk/public'@HEAD --no-auth-cache --non-interactive
...
Completed 404 Not Found in 3860ms (Views: 43.7ms | ActiveRecord: 3.2ms)
</pre>
"
26504,Redmine,Defect,NA,New,Normal,Rails 5 unit and functional tests,Toshi MARUYAMA,NA,2017-11-23T21:58:00Z,NA,4.0.0,NA,NA,NA,0,2017-07-23T19:08:00Z,NA,NA,NA,NA,"On trunk r16872, ""rake test:units"" and ""rake test:functionals"" cannot run.
Rails 5 changes directories.

* test/unit       -> test/models
* test/functional -> test/controllers

http://guides.rubyonrails.org/testing.html#rails-sets-up-for-testing-from-the-word-go"
26506,Redmine,Defect,NA,Closed,Normal,User link syntax causes an exception while sending email notification on Rails 5.1,Go MAEDA,Jean-Philippe Lang,2017-07-24T19:11:00Z,Text formatting,NA,NA,NA,NA,0,2017-07-24T05:41:00Z,2017-07-24T19:00:00Z,関連している #23630,Fixed,NA,"Steps to reproduce:

# Open ""New issue"" page.
# Enter something in the subject field.
# Enter ""@admin"" in the description field.
# Press ""Create"" button. You will see ""NoMethodError"" exception (please see the attached screenshot).

Affected version: r16859 and later"
26508,Redmine,Defect,NA,Needs feedback,Normal,excel have wrong column name  at custom field,Randa Bustami,NA,2017-08-23T09:43:00Z,NA,NA,NA,NA,NA,0,2017-07-24T10:35:00Z,NA,NA,NA,3.4.1,"i had added some custom fields , but when i export to excel it display beside the name of the field  "" translation missing: en.""
pls check attached image
"
26509,Redmine,Defect,NA,Closed,Normal,Page layout went crazy when migrating to 3.4.2.stable,Pedro Calvo,NA,2017-07-24T11:56:00Z,UI,NA,NA,NA,NA,0,2017-07-24T11:04:00Z,2017-07-24T11:50:00Z,NA,Invalid,3.4.2,"Something wrong with styles/css? Menu layout is a complete mess... as you can see in attached picture.

!Capture.PNG!

Environment:
  Redmine version                3.4.2.stable
  Ruby version                   2.3.3-p222 (2016-11-21) [i386-mingw32]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.12
  Git                            2.7.0
  Filesystem                     
Redmine plugins:
  no plugin installed
Operating system: Windows
Ruby-aware server used: Thin"
26515,Redmine,Defect,NA,Needs feedback,Normal,Email not being sent for NEW issues using async_smtp AND non-standard emission address,Matthew Paul,NA,2017-08-20T12:15:00Z,Email notifications,NA,NA,NA,NA,0,2017-07-24T17:45:00Z,NA,NA,NA,3.3.0,"This is similar to an old issue about async_smtp mail.  To reproduce -

Project A - setup with inbound/outbound email the same like tracker@example.com
Project B - setup with inbound email like test@example.com but outbound the same tracker@example.com

On project A, new issues will cause emails to be sent fine
On Project B, new issues will cause emails to NOT be sent for NEW issues. UPDATES however will work fine.

So this is like similar issues I see. I fixed it by returning to smtp emails, but this is not as good, obviously.  It looks like when you fixed the original issue from a few years back, you fixed it for email UPDATES but not for NEW emails with an email address different from the inbound email address."
26518,Redmine,Defect,NA,Closed,Normal,"Rails 5: Adding a block in My Page causes ""Invalid form authenticity token.""",Go MAEDA,Jean-Philippe Lang,2017-07-25T19:25:00Z,My page,NA,NA,NA,NA,0,2017-07-25T04:09:00Z,2017-07-25T19:25:00Z,関連している #23630,Fixed,NA,"Steps to reproduce:

1. Open ""My Page"".
2. Add an any block. You will see ""Invalid form authenticity token.""


development.log:

There is an error ""Can't verify CSRF token authenticity"".

<pre>
Started POST ""/my/add_block"" for 127.0.0.1 at 2017-07-25 11:00:28 +0900
Processing by MyController#add_block as HTML
  Parameters: {""utf8""=>""?"", ""block""=>""issuequery""}
Can't verify CSRF token authenticity.
  AnonymousUser Load (0.3ms)  SELECT  ""users"".* FROM ""users"" WHERE ""users"".""type"" IN ('AnonymousUser') ORDER BY ""users"".""id"" ASC LIMIT ?  [[""LIMIT"", 1]]
  Rendering common/error.html.erb within layouts/base
  Rendered common/error.html.erb within layouts/base (1.5ms)
Filter chain halted as :verify_authenticity_token rendered or redirected
Completed 422 Unprocessable Entity in 28ms (Views: 24.5ms | ActiveRecord: 0.3ms)
</pre>"
26520,Redmine,Defect,NA,Closed,Normal,"Blank ""Issue"" field on the ""Log time"" from the ""Spent time - Details"" page for an issue",Hiroshi YUKI,Jean-Philippe Lang,2017-10-15T13:17:00Z,Time tracking,3.4.3,NA,NA,NA,0,2017-07-25T09:38:00Z,2017-10-15T13:17:00Z,NA,Fixed,3.4.2,"When I tried to log time from a ""Spent time - Details"" page (like https://example.com/projects/project-identifier/time_entries?issue_id=%7E12345 ), I clicked the ""Log time"" link, and I saw an entry form for spent time with blank ""issue"" field and an orphan time entry was created unexpectedly.

Steps to reproduce:

1. Visit a list of issues under any project. (`/projects/project-identifier/issues`)
2. Visit an issue.
3. Click the ""Log time"" link.
4. Fill ""Hours"" field with a value `1`.
5. Choose any activity.
6. Click the ""Create"" button.
7. Then you'll see a list of spent time under the project.
8. Back to the issue.
9. Then you'll see a link like ""Spent time: 1.00h"".
10. Click the ""Spent time: 1.00h"" link.
11. Then you'll see a list of spent time for the issue. (`/projects/project-identifier/time_entries?issue_id=%7E123`)
 12. Click the ""Log time"" link in the page.

Expected result:

An entry form is shown with a ""Issue"" field filled with a value like `123` (or any issue number.) 

Actual result:

An entry form is shown with a blank ""Issue"" field. There is no issue number.

Confrimed versions with unexpected behavior:

 * Redmine 3.4.2
 * Redmine 3.4.1
 * Redmine 3.3.0

At the step 12, the link URL is generated for the project itself, like: `/projects/project-identifier/time_entries/new`.

Confirmed versions with expected behavior:

 * Redmine 3.2.0

At the step 12, the link URL is generated for the project itself, like: `/issues/123/time_entries/new`."
26549,Redmine,Defect,NA,Closed,Normal,redminInstall problem,carol Gao,NA,2017-07-27T15:05:00Z,NA,NA,NA,NA,NA,0,2017-07-27T11:42:00Z,2017-07-27T15:05:00Z,NA,Fixed,NA,"Step 6 - Database schema objects creation

Create the database structure, by running the following command under the application root directory:

RAILS_ENV=production bundle exec *rails* db:migrate

Maybe the command should be changed to RAILS_ENV=production bundle exec *rake* db:migrate"
26564,Redmine,Defect,NA,Closed,Urgent,Enumerations sorting does not work,Sergey Gnuskov,Jean-Philippe Lang,2017-07-30T18:32:00Z,Administration,3.4.3,NA,NA,NA,0,2017-07-28T10:49:00Z,2017-07-30T18:32:00Z,NA,Fixed,3.4.2,"When drag/drop enumerations, it makes successful request to server, but position does not change after page reload. The problem is that @position@ attribute is not added to permitted params in enumerations controller, so it's skipped."
26567,Redmine,Defect,NA,Closed,Normal,ActionView::Template::Error when trying to access time_entries,Kevin K?llmann,NA,2017-08-08T20:30:00Z,NA,NA,NA,NA,NA,0,2017-07-28T15:24:00Z,2017-07-28T15:55:00Z,次のチケットが重複 #26637,Invalid,3.4.2,"I just upgraded Redmine from 3.3.3 to 3.4.2.
Now, when trying to access the time entries of an issue (or a whole project),
I get an Internal Server Error (500).

The production log states:
<pre>
Started GET ""/projects/idial-server/time_entries"" for 192.168.0.254 at 2017-07-28 15:17:40 +0200
Processing by TimelogController#index as HTML
  Parameters: {""project_id""=>""idial-server""}
  Current user: kevin.koellmann (id=8)
  Rendered queries/_filters.html.erb (4.0ms)
  Rendered queries/_query_form.html.erb (4.3ms)
  Rendered timelog/_date_range.html.erb (4.4ms)
  Rendered timelog/index.html.erb within layouts/base (4.8ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 11.5ms)

ActionView::Template::Error (undefined method `remote' for #<Hash:0x007fb44f144280>):
    1: <%= javascript_tag do %>
    2: var operatorLabels = <%= raw_json Query.operators_labels %>;
    3: var operatorByType = <%= raw_json Query.operators_by_filter_type %>;
    4: var availableFilters = <%= raw_json query.available_filters_as_json %>;
    5: var labelDayPlural = <%= raw_json l(:label_day_plural) %>;
    6:
    7: var filtersUrl = <%= raw_json queries_filter_path(:project_id => @query.project.try(:id), :type => @query.type) %>;
  app/models/query.rb:464:in `block in available_filters_as_json'
  app/models/query.rb:462:in `each'
  app/models/query.rb:462:in `available_filters_as_json'
  app/views/queries/_filters.html.erb:4:in `block in _app_views_queries__filters_html_erb___218005857970535534_70206203145280'
  app/views/queries/_filters.html.erb:1:in `_app_views_queries__filters_html_erb___218005857970535534_70206203145280'
  app/views/queries/_query_form.html.erb:10:in `_app_views_queries__query_form_html_erb__4133403555005295366_70206203058420'
  app/views/timelog/_date_range.html.erb:1:in `_app_views_timelog__date_range_html_erb__3845577496136492909_70206203018520'
  app/views/timelog/index.html.erb:10:in `block in _app_views_timelog_index_html_erb__4526196220538483806_70206202905200'
  app/views/timelog/index.html.erb:9:in `_app_views_timelog_index_html_erb__4526196220538483806_70206202905200'
  app/controllers/timelog_controller.rb:54:in `block (2 levels) in index'
  app/controllers/timelog_controller.rb:48:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

My environment:
<pre>
Environment:
  Redmine version                3.4.2.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.3
  Cvs                            1.12.13
  Git                            2.7.4
  Filesystem                     
Redmine plugins:
  redmine_agile                  1.4.4
  redmine_ckeditor               1.1.5
  redmine_gitlab_hook            0.1.3
  redmine_ldap_sync              2.0.8.devel.gf916e6574e
  redmine_tagging                0.1.6
</pre>"
26598,Redmine,Defect,NA,Needs feedback,Normal,no issue-filtering permission for non-admin user,Lucie Zemann,NA,2017-08-29T15:56:00Z,Permissions and roles,NA,NA,NA,NA,0,2017-08-01T10:00:00Z,NA,NA,NA,3.3.1,"only administrators can filter issues.
non-admin users with full issue-permissions (view, edit...) get ""No data to display"" on the default filter-page /projects/<name>/issues.
removing the ""Status"" filter and ""Apply""ing, though, then shows all issues in that project.

<pre>
Environment:
  Redmine version                3.3.1.stable
  Ruby version                   2.3.3-p222 (2016-11-21) [x86_64-linux-gnu]
  Rails version                  4.2.9
  Environment                    production
  Database adapter               PostgreSQL
SCM:
  Subversion                     1.9.5
  Git                            2.11.0
  Filesystem                     
Redmine plugins:
  redmine_local_avatars          1.0.0
</pre>

all from debian packages"
26599,Redmine,Defect,NA,Closed,Normal,Corrupted file name when exporting a wiki page with Non-ASCII title using Microsoft's browsers,Go MAEDA,NA,2017-08-31T06:09:00Z,Wiki,3.3.5,NA,NA,NA,0,2017-08-01T13:02:00Z,2017-08-31T06:09:00Z,NA,Fixed,3.3.4,"Steps to reproduce:

1. Create a wiki page with Non-ASCII title (e.g. ""日本語"").
2. Open the wiki page using Microsoft Edge or Internet Explorer.
3. Click ""TXT"" in ""Also available in"" area.
4. The page will be exported but its file name is corrupted.

!currepted-filename.png!"
26610,Redmine,Defect,NA,Resolved,Normal,Migration file generated by redmine_plugin_model generator is not compatible with Rails 5.1,Go MAEDA,NA,2017-08-03T03:27:00Z,Plugin API,4.0.0,NA,NA,NA,0,2017-08-02T15:08:00Z,NA,関連している #23630,NA,NA,"plugins/polls/db/migrate/001_create_polls.rb:
(generated by @bin/rails generate redmine_plugin_model polls poll question:string yes:integer no:integer@)
<pre><code class=""ruby"">
class CreatePolls < ActiveRecord::Migration
  def change
    create_table :polls do |t|
      t.string :question
      t.integer :yes
      t.integer :no
    end
  end
end
</code></pre>


error:
<pre>
$ bin/rails redmine:plugins:migrate
Migrating polls (Polls plugin)...
DEPRECATION WARNING: schema_migrations_table_name is deprecated and will be removed from Rails 5.2 (called from current_version at /Users/somebody/redmines/redmine-trunk/lib/redmine/plugin.rb:487)
DEPRECATION WARNING: schema_migrations_table_name is deprecated and will be removed from Rails 5.2 (called from migrated at /Users/somebody/redmines/redmine-trunk/lib/redmine/plugin.rb:493)
DEPRECATION WARNING: schema_migrations_table_name is deprecated and will be removed from Rails 5.2 (called from migrated at /Users/somebody/redmines/redmine-trunk/lib/redmine/plugin.rb:493)
rails aborted!
StandardError: An error has occurred, this and all later migrations canceled:

Directly inheriting from ActiveRecord::Migration is not supported. Please specify the Rails release the migration was written for:

  class CreatePolls < ActiveRecord::Migration[4.2]
/Users/somebody/redmines/gems/ruby/2.4.0/gems/activerecord-5.1.2/lib/active_record/migration.rb:525:in `inherited'
/Users/somebody/redmines/redmine-trunk/plugins/polls/db/migrate/001_create_polls.rb:1:in `<top (required)
</pre>"
26619,Redmine,Defect,NA,New,Normal,Workflow field permissions does not work with several different roles,Sergey Gnuskov,NA,2017-11-19T08:52:00Z,Permissions and roles,NA,NA,NA,NA,0,2017-08-03T16:27:00Z,NA,NA,NA,3.4.2,"I have 2 roles and 1 tracker: 
* first one does not have permission @edit_issues@ at all, it has no any workflow field permissions configured;
* second has permission @edit_issues@, but there is a workflow field permission, where some fields is in readonly state for my tracker and that role (in all statuses).

When user has both roles for project he *CAN* edit this readonly fields until I create same workflow field permissions to first role. Is this correct? I think, workflow field permissions should be found only among roles that have @edit_issues@ permission."
26628,Redmine,Defect,NA,Closed,Normal,"When assignee change, previous assignee did't notified",Eugen Daltin,NA,2017-08-05T08:20:00Z,Email notifications,NA,NA,NA,NA,0,2017-08-05T07:32:00Z,2017-08-05T08:20:00Z,次のチケットと重複 #26627,Duplicate,3.4.2,"If ticket assignee to ""Fist_Person"" - he receive email. If than ticker change assignee to ""Second_person"" - ""Fist_Person"" did't  receive email with this change. Need send last notification with information about assignee changes.

Settings:
Email notification set to: ""Only for things i watch or I'm involved in"""
26633,Redmine,Defect,NA,Closed,Normal,Timesheet plugin,Валерий Никитин,NA,2017-08-06T07:11:00Z,NA,NA,NA,NA,NA,0,2017-08-05T19:49:00Z,2017-08-06T07:11:00Z,NA,Invalid,3.4.2,"I'm trying to install this plugin, but when I go into it I get this error in the log / production.log.
<pre>
NoMethodError (undefined method `sort_criteria' for nil:NilClass):
  plugins/timesheet/app/controllers/timesheets_controller.rb:20:in `show'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>
What am I doing wrong?
Debian 8.8
Redmine 3.4.2
Ruby 2.2.0
Rails 4.2.8"
26637,Redmine,Defect,NA,Closed,Normal,ActionView::Template::Error (undefined method `remote' for #<Hash:0x007f9aede03320>),Martin Blom,NA,2018-01-05T03:12:00Z,NA,NA,NA,NA,NA,0,2017-08-06T10:51:00Z,2017-08-06T20:28:00Z,次のチケットと重複 #26567,Invalid,3.4.2,"Patch #24787 seems to have introduced the following error that I get when I upgraded from 3.3.0 to 3.4.2. 

<pre>
Processing by IssuesController#index as HTML
  Parameters: {""project_id""=>""term""}
  Current user: mb (id=27)
  Rendered queries/_filters.html.erb (14.1ms)
  Rendered queries/_query_form.html.erb (20.7ms)
  Rendered issues/index.html.erb within layouts/base (33.4ms)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 32.3ms)

ActionView::Template::Error (undefined method `remote' for #<Hash:0x007f9aede03320>):
    1: <%= javascript_tag do %>
    2: var operatorLabels = <%= raw_json Query.operators_labels %>;
    3: var operatorByType = <%= raw_json Query.operators_by_filter_type %>;
    4: var availableFilters = <%= raw_json query.available_filters_as_json %>;
    5: var labelDayPlural = <%= raw_json l(:label_day_plural) %>;
    6: 
    7: var filtersUrl = <%= raw_json queries_filter_path(:project_id => @query.project.try(:id), :type => @query.type) %>;
  app/models/query.rb:464:in `block in available_filters_as_json'
  app/models/query.rb:462:in `each'
  app/models/query.rb:462:in `available_filters_as_json'
  app/views/queries/_filters.html.erb:4:in `block in _app_views_queries__filters_html_erb___1036324529149116392_40939120'
  app/views/queries/_filters.html.erb:1:in `_app_views_queries__filters_html_erb___1036324529149116392_40939120'
  app/views/queries/_query_form.html.erb:10:in `_app_views_queries__query_form_html_erb___3000346872455193333_41555900'
  app/views/issues/index.html.erb:11:in `block in _app_views_issues_index_html_erb__2853989323921202783_43093980'
  app/views/issues/index.html.erb:10:in `_app_views_issues_index_html_erb__2853989323921202783_43093980'
  app/controllers/issues_controller.rb:51:in `block (2 levels) in index'
  app/controllers/issues_controller.rb:46:in `index'
  lib/redmine/sudo_mode.rb:63:in `sudo_mode'
</pre>

I am aware of #26567 and I do have the Agile Plugin installed, but the stack trace seems to indicates that the plugin is not responsible...?

I hacked around the error like this:

<pre><code class=""diff"">
diff --git a/app/models/query.rb b/app/models/query.rb
index c8c8986..95d43f5 100644
--- a/app/models/query.rb
+++ b/app/models/query.rb
@@ -461,9 +461,9 @@ class Query < ActiveRecord::Base
     json = {}
     available_filters.each do |field, filter|
       options = {:type => filter[:type], :name => filter[:name]}
-      options[:remote] = true if filter.remote
+      options[:remote] = true if filter.respond_to?('remote') && filter.remote
 
-      if has_filter?(field) || !filter.remote
+      if has_filter?(field) || !filter.respond_to?('remote') || !filter.remote
         options[:values] = filter.values
         if options[:values] && values_for(field)
           missing = Array(values_for(field)).select(&:present?) - options[:values].map(&:last)
</code></pre>

I'm not a Ruby coder so I'm not sure why the remote method is missing, or if the logic is correct when the method is missing, though.

My environment:

<pre>


Environment:
  Redmine version                3.4.2.stable
  Ruby version                   2.2.1-p85 (2015-02-26) [x86_64-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  bestest_timer                  1.1.2
  redmine_agile                  1.4.4
  redmine_checklists             3.1.3
  redmine_editor_preview_tab     0.1.5
  redmine_issue_templates        0.1.6
  redmine_ldap_sync              2.0.4.gab2ba815ed-dirty
  redmine_tags                   3.1.1
  sidebar_hide                   0.0.8
</pre>
"
26645,Redmine,Defect,NA,Closed,Normal,git 2.14 compatibility,Philip Taffner,NA,2017-08-26T06:55:00Z,SCM,3.3.5,NA,NA,NA,0,2017-08-07T13:53:00Z,2017-08-26T06:55:00Z,"関連している #5324, 次のチケットが重複 #26765",Fixed,3.4.2,"There is no ""--no-color"" argument for ""git version"" anymore.

Potential fix:

<pre><code class=""diff"">
Index: lib/redmine/scm/adapters/git_adapter.rb
===================================================================
--- lib/redmine/scm/adapters/git_adapter.rb     (revision 16828)
+++ lib/redmine/scm/adapters/git_adapter.rb     (working copy)
@@ -54,7 +54,7 @@
           end
 
           def scm_version_from_command_line
-            shellout(""#{sq_bin} --version --no-color"") { |io| io.read }.to_s
+            shellout(""#{sq_bin} --version"") { |io| io.read }.to_s
           end
         end
</code></pre>"
26665,Redmine,Defect,NA,Closed,Normal,comment button in wiki editing page not work,James Wang,NA,2017-08-14T14:29:00Z,Wiki,NA,NA,NA,NA,0,2017-08-11T09:53:00Z,2017-08-14T08:34:00Z,NA,Invalid,NA,"I searched a lot and found nothing about this ""comment"" feature. 
I did not see anything happened when adding something in comment input box.
So I wonder this is a bug."
26668,Redmine,Defect,NA,New,Normal,"Create ""Documentation support"" subsection in the ""Non Code Related"" section of the ""Contribution"" page.",Masakazu IZUI,NA,2017-11-26T05:21:00Z,Documentation,NA,NA,NA,NA,0,2017-08-12T10:33:00Z,NA,NA,NA,NA,"It would be great to show ""how to contribute to documentation"" in the ""Non Code Related"" section of the ""Contribute"" page.

The related information is already in the ""Code documentation"" subsection in the ""Code Related"" section. Surely, code documentation needs code experience, but the documentation on this site doesn't necessarily need code experience. So non code related section is a good place to put this kind of information in, I think. It would be easier for new contributors to find.

The most of Redmine documentation is written on the ""Wiki"" of redmine.org. So, that is better to have a link to ""Submitting a Wiki improvement"" subsection in the ""Submissions"" page in this section.

For example,

> **How to contribute to documentation on this site**
>
> ----
>
> You can contribute to the documentation on this site with directly [[Submissions#Submitting a-Wiki-improvement|editing the Wiki]]. Firstly you need to register your account on this site and you can edit the Wiki. Some Wiki pages doesn't allow you to edit and in the case you need to file an issue on the issue queue with the category ""documentation"".
"
26678,Redmine,Defect,NA,Closed,Normal,Custom field required not work with 3.4.2,James Wang,NA,2017-08-14T14:32:00Z,Permissions and roles,NA,NA,NA,NA,0,2017-08-14T14:17:00Z,2017-08-14T14:32:00Z,NA,Invalid,3.4.2,"I created a custom field and setup in the workflow as required during some status and not worked. 
But Setting default field as required worked.

I also tried 3.3.2 and still same."
26691,Redmine,Defect,NA,New,Normal,N + 1 queries when rendering the Gantt,jwjw yy,NA,2017-08-15T18:59:00Z,Performance,4.1.0,NA,NA,NA,0,2017-08-15T03:27:00Z,NA,NA,NA,NA,"Rails 4.2.7.1
20000 issues in the database
When rendering the GanttsController.show action, it will issue a lot of queries to get the the start_date and due_date of an project like:


<pre><code class=""sql"">
SELECT MIN(`issues`.`start_date`) FROM `issues` WHERE `issues`.`project_id` = ?  [[""project_id"", 1436]]
SELECT MAX(`issues`.`due_date`) FROM `issues` WHERE `issues`.`project_id` = ?  [[""project_id"", 1436]]
SELECT MIN(`issues`.`start_date`) FROM `issues` WHERE `issues`.`project_id` = ?  [[""project_id"", 1317]]
SELECT MAX(`issues`.`due_date`) FROM `issues` WHERE `issues`.`project_id` = ?  [[""project_id"", 1317]]
</code></pre>

Which will make the performance very bad.

My solution is that add cached_due_date and cached_start_date for projects.rb, and while constructing the project_tree, I will use a group query to retrieve the corresponding start_date and due_date for a group of projects, so that they don't need to issue N queries later on."
26708,Redmine,Defect,NA,New,Normal,Diff formatting results empty lines if they contains HTML tags,Robert Korulczyk,NA,2017-08-16T22:49:00Z,Text formatting,NA,NA,NA,NA,0,2017-08-16T22:48:00Z,NA,NA,NA,3.3.4,"h2. Steps to reproduce:

In issue description write something like (need to remove space in @< /pre>@):

<pre>
<pre><code class=""diff"">
--- a/test.php
+++ b/test.php
@@ -329,7 +329,7 @@

-echo '<div></div>';
+echo '<div id=""test""></div>';

</code>< /pre>
</pre>

h2. Expected result:

Proper diff.

h2. What I get:

!058577fc.png!
"
26730,Redmine,Defect,NA,Closed,Normal,Context Menu is broken on 3.4.2,fabrice salvaire,NA,2017-09-07T07:26:00Z,UI,NA,NA,NA,NA,0,2017-08-21T10:55:00Z,2017-09-07T07:26:00Z,NA,Invalid,3.4.2,"On 3.3.0, I found these occurrences of contextMenuInit

<pre>
redmine-3.3.0/public/javascripts/context_menu.js:function contextMenuInit(url) {
redmine-3.3.0/test/functional/versions_controller_test.rb:    assert_select ""script"", :text => Regexp.new(Regexp.escape(""contextMenuInit('/issues/context_menu')""))
redmine-3.3.0/app/helpers/application_helper.rb:    javascript_tag ""contextMenuInit('#{ url_for(url) }')""
</pre>

rather than on 3.4.2

<pre>
redmine-3.4.2/public/javascripts/context_menu.js:function contextMenuInit(url) {
</pre>

A diff shows

<pre><code class=""diff"">
@ -1154,7 +1297,7 @@
     end
   end
 
-  def context_menu(url)
+  def context_menu
     unless @context_menu_included
       content_for :header_tags do
         javascript_include_tag('context_menu') +
@@ -1167,7 +1310,7 @@
       end
       @context_menu_included = true
     end
-    javascript_tag ""contextMenuInit('#{ url_for(url) }')""
+    nil
   end
 
   def calendar_for(field_id)
</code></pre>"
26765,Redmine,Defect,NA,Closed,Normal,Redmine 3.3.3.stable Cannot find binary for Git 2.14,Mike Pento,NA,2017-08-26T06:54:00Z,SCM,NA,NA,NA,NA,0,2017-08-25T23:58:00Z,2017-08-26T06:54:00Z,次のチケットと重複 #26645,Duplicate,3.3.3,"Redmine 3.3.3.stable cannot locate binary for Git version past 2.13.3 (Archlinux)

<pre>
Environment:
  Redmine version                3.3.3.stable
  Ruby version                   2.3.4-p301 (2017-03-30) [x86_64-linux]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.13.3
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.12
  red_jenkins                    1.0.3
  redcase                        1.0

</pre>
Attempting to add a repository to a project in Redmine after upgrading to Git v2.14.1 shows the following in the passenger log:

<pre>
[ 2017-08-23 18:01:37.7908 1020/7fecc85f0700 age/Cor/CoreMain.cpp:917 ]: Checking whether to disconnect long-running connections for
 process 15964, application /usr/share/webapps/redmine/public (production)
App 14348 stderr: error: unknown option `no-color'
App 14348 stderr: usage: git version [<options>]
App 14348 stderr: 
App 14348 stderr:     --build-options       also print build options
App 14348 stderr: 
App 14367 stdout: Version: ImageMagick 6.9.9-9 Q16 x86_64 2017-08-21 http://www.imagemagick.org
App 14367 stdout: Copyright: ? 1999-2017 ImageMagick Studio LLC
App 14367 stdout: License: http://www.imagemagick.org/script/license.php
App 14367 stdout: Features: Cipher DPC HDRI Modules OpenCL OpenMP 
App 14367 stdout: Delegates (built-in): bzlib cairo fontconfig freetype gslib jng jp2 jpeg lcms lqr ltdl lzma openexr pangocairo png ps rsvg tiff webp wmf x xml zlib
</pre> 

Investigation leads to passing the '--no-color' option from the git adapter, presumably when trying to determine if the binary is present and in the path."
26769,Redmine,Defect,NA,Closed,Normal,Create issue does not allow for category_id,John Bolthouse,NA,2017-08-28T06:16:00Z,REST API,NA,NA,NA,NA,0,2017-08-28T05:50:00Z,2017-08-28T06:16:00Z,NA,Invalid,3.4.1,"When I create new issues via the API, no matter what I try, I cannot seem to get them to create with a properly assigned category.

I am including the category_id in the JSON post, and have tried string and integer values, but nothing seems to trigger the ID.

<pre>
Environment:
  Redmine version                3.4.1.stable
  Ruby version                   2.0.0-p598 (2014-11-13) [x86_64-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               SQLServer
SCM:
  Subversion                     1.7.14
  Git                            1.8.3.1
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.12
  redmine_agile                  1.4.4
  redmine_checklists             3.1.5
  redmine_contacts               4.1.1
  redmine_contacts_helpdesk      3.0.8
  redmine_embedded_video         0.0.3.1
  redmine_lightbox2              0.3.2
  redmine_login_attempts_limit   0.1.0
  redmine_mentions               0.0.1
  sidebar_hide                   0.0.8
</pre>"
26778,Redmine,Defect,NA,New,Normal,"Wrong CSS class for themes if its name includes ""_"" or "" """,Go MAEDA,NA,2017-09-17T18:38:00Z,Themes,NA,NA,NA,NA,0,2017-08-28T16:20:00Z,NA,NA,NA,NA,"The body element in HTML has CSS classes correspond to the current theme, project, controller and action.

But ""theme-*"" class name is broken when the directory name of the theme includes ""_"" or "" "". Assume that you have installed a theme whose directory name is ""foo_bar"". Redmine will generate a class name ""theme-Foo bar"". But it is clearly broken because a whitespace is used as a separater.

Here is an example.

<pre><code class=""html"">
<body class=""theme-Foo bar project-ecookbook controller-issues action-index avatars-off"">
</code></pre>"
26780,Redmine,Defect,NA,Closed,Normal,Translation for label_week in time report is not working,Alexander Meindl,Jean-Philippe Lang,2017-10-15T13:24:00Z,Time tracking,3.3.5,NA,NA,NA,0,2017-08-28T17:32:00Z,2017-10-15T13:24:00Z,関連している #20221,Fixed,3.4.2,"Translation for label_week is not working in time report, because i18n translation is used duplicated.

Attached is a patch to fix it."
26785,Redmine,Defect,NA,Confirmed,Normal,Wrong columns after CSV export,Vincent Robert,NA,2017-09-24T03:41:00Z,Issues filter,NA,NA,NA,NA,0,2017-08-29T11:31:00Z,NA,NA,NA,3.4.2,"On the @/issues@ page, if we create a new CSV export with all columns, every columns are selected next time we visit the html page.

Selected columns should remain unchanged after the CSV export.

!Capture11.30.02.png!"
26836,Redmine,Defect,NA,New,Normal,Filtering issues via context menu should not reset selected columns,Vincent Robert,NA,2017-09-04T10:47:00Z,Issues list,NA,NA,NA,NA,0,2017-09-04T10:47:00Z,NA,NA,NA,3.4.2,"If we use the context menu to filter issues, selected columns are reset to default.

Steps to reproduce this bug:

# On /issues, change selected column and apply
# Check several issues
# Apply ""filter"" in context menu
# The query is applied: issues are well selected, but we lose our selected columns

!01.png!

!02.png!

!03.png!
"
26844,Redmine,Defect,NA,Closed,Normal,Не отправляются уведомления по email,IVAN RYZHKOV,NA,2017-09-06T14:00:00Z,Email notifications,NA,NA,NA,NA,0,2017-09-06T07:08:00Z,2017-09-06T14:00:00Z,NA,Invalid,2.5.1,"Если проект не имеет родительского проекта, то уведомления отправляются без нареканий (согласно настройкам).
Если у проекта есть ""родительский проект"" то уведомления по email не отправляются. подскажите как исправить/настроить ПО для отправки уведомлений. Версия REDMIN 

Environment:
  Redmine version                2.5.1.stable
  Ruby version                   2.1.2-p95 (2014-05-08) [x86_64-linux]
  Rails version                  3.2.17
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.6.11
  Git                            1.7.1
  Filesystem                     
Redmine plugins:
  redmine_ldap_sync              2.0.8.devel.gf916e6574e-dirty"
26858,Redmine,Defect,NA,Closed,Normal,Exporting issues  to csv/pdf has garbage characters.,john calizar,NA,2017-09-09T05:32:00Z,NA,NA,NA,NA,NA,0,2017-09-08T12:27:00Z,2017-09-09T05:32:00Z,NA,Invalid,NA,"I exported the list of issues to csv or pdf and the japanese characters are displayed as garbage.

The subject is in Japanese.

The output in csv/pdf are like these:

???×?y?[?W??‰?‘??A?b?v???[?h?????R???“?g????????
in pdf , Kanji are in boxes but hiragana characters are okay.
"
26863,Redmine,Defect,NA,Closed,Normal,file: issue_query.rb   function:sql_for_issue_id_field  line: ids = value.first.to_s.scan(/\d+/).map(&:to_i) should the first to be deleted?,jiangshan song,NA,2017-09-09T14:52:00Z,NA,NA,NA,NA,NA,0,2017-09-09T08:19:00Z,2017-09-09T14:52:00Z,NA,Invalid,3.4.2,"I'm writing a redmine plugin using: IssueQuery
where when I want to use :
myquery.add_filter(""issue_id"" , ""="", [""123"", ""124"",""125""])
I got only the first issue. 
finally i find the function:sql_for_issue_id_field

<pre><code class=""ruby"">
  def sql_for_issue_id_field(field, operator, value)
    if operator == ""=""
      # accepts a comma separated list of ids
      ids = value.first.to_s.scan(/\d+/).map(&:to_i)
      if ids.present?
        ""#{Issue.table_name}.id IN (#{ids.join("","")})""
      else
        ""1=0""
      end
    else
      sql_for_field(""id"", operator, value, Issue.table_name, ""id"")
    end
  end
</code></pre>

I seems that the ""first"" is a error?

BTW: i'm new to ruby and redmine. 
"
26880,Redmine,Defect,NA,Confirmed,Normal,Cannot clear all watchers when copying an issue,Go MAEDA,NA,2017-12-01T09:50:00Z,Issues,3.4.4,NA,NA,NA,0,2017-09-11T04:47:00Z,NA,関連している #10460,NA,3.4.2,"We can select/deselect watchers when we create an issue by copying existing issue (#10460). 

But if you deselect *all* watchers, the original watchers are preselected in the newly created issue despite the exception that the copied issue has no watcher.

*Steps to reproduce:*

1. The original issue has 2 watchers.

!{width: 800px; border: 1px solid #ccc;}.01-copy-source@2x.png!

2. Click ""Copy"" and deselect *all* watcher.

!{width: 800px; border: 1px solid #ccc;}.02-deselect-watchers@2x.png!

3. The newly created issue should not have any watchers but all watchers are preserved.


!{width: 800px; border: 1px solid #ccc;}.03-watchers-are-preserved@2x.png!"
26892,Redmine,Defect,NA,New,Normal,Link to user in wiki syntax only works when login is written in lower case,Anders Thomsen,NA,2017-10-11T17:24:00Z,Text formatting,4.1.0,NA,NA,NA,0,2017-09-12T12:10:00Z,NA,関連している #4179,NA,3.4.2,"Related: #4179

The plugin ""Redmine Mentions"" gives a handy dropdown with users when hitting ""@"" on the keyboard. Selecting a user puts ""@loginname"" in the textbox. This works great with the feature implemented in #4179. However, if the user's login contains capital letters it is not recognized by the regex in application_helper. 

""Redmine mentions"" puts in the actual login-name with exact casing (what I believe is the correct behaivour).

The regex should be ajusted to *a-zA-Z*"
26974,Redmine,Defect,NA,New,Normal,Collapse macro conflicts with header section edit buttons,Jonathan Cormier,NA,2017-09-15T13:27:00Z,Wiki,NA,NA,NA,NA,0,2017-09-13T20:27:00Z,NA,関連している #13723,NA,3.3.4,"Using the collapse macro to hide header sections (h1,h2,h3,etc) causes the edit buttons next to non-collapsed sections to be incorrect.

The [[Macro_Conflict]] page already reproduces this. Found it from issue #16077.

If you click edit on Section ""second collapse"", you end up editing Section ""collapse1Item1"".

{{collapse(My redmine environment)
<pre>
Environment:
  Redmine version                3.3.1.stable
  Ruby version                   2.1.9-p490 (2016-03-30) [x86_64-linux-gnu]
  Rails version                  4.2.7.1
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.8
  Darcs                          2.8.4
  Mercurial                      2.8.2
  Cvs                            1.12.13
  Bazaar                         2.7.0
  Git                            2.10.1
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.10
  google_analytics_plugin        1.0.0
  redmine_banner                 0.1.2
  redmine_charts2                0.2.1
  redmine_checklists             3.1.5
  redmine_favourite_projects     0.7
  redmine_jstoolbar_ext          0.2.1
  redmine_jstoolbar_ext_buttons  0.2.1
  redmine_jstoolbar_ext_images   0.3.1
  redmine_project_alias_2        1.0.2
  redmine_release_notes          1.3.1
  redmine_silencer               0.4.1
  redmine_tags                   3.1.1
  redmine_wiki_extensions        0.7.0
  redmine_wiki_notes             0.0.2
  redmine_xlsx_format_issue_exporter 0.1.3
  wiki_issue_fields              0.5.1
</pre>
}}
"
26975,Redmine,Defect,NA,Closed,Normal,custom fiels are not updating in redmine 2.3.2,Bharath Kumar Reddy,NA,2017-09-14T04:00:00Z,NA,NA,NA,NA,NA,0,2017-09-13T21:47:00Z,2017-09-14T04:00:00Z,NA,Invalid,2.3.2,"we have one created one issue 8060 to update the custom_fields (fixed_in_build, found_in_build, and tested_build)

so when we release new version of application the issue is updated like below

AdminUpdate::Tested in Build:app1.0;Fixed in Build:app1.0;Found in Build:app1.0
next release
AdminUpdate::Tested in Build:app2.0;Fixed in Build:app2.0;Found in Build:app2.0

and the release what  we did will go update the in above three custom fields
 

now we are unable to update 1234 issue what we created for custom fields showin error as 500 internal error.

now i have created one more issue 72994 and able to update issue with app release 


AdminUpdate::Tested in Build:app3.0;Fixed in Build:app3.0;Found in Build:app3.0

But app3.0 is not getting updated in custom fields, 

as i'm new to redmine, few years back, old employees setup this, now i'm new employee and new to this tool.

could some please tell me what is link between issue and custom field, now why the releases are not updating in custom feild,

-------------------------------------------------------
Below is the my redmine error log
-------------------------------------------------------

CRM ID field not activate for this project
ENTRY adjust_children

found_record = [] size = 0 type Array

debug Entry adjust_children 72994 found code review false trackerName Support number children = 0 code_review_id 0

EXIT adjust_children

ENTRY adjust_assigned_reviewer id = 72994 children = 0

debug info  72994  self.tracker.name = Support status New

fieldId = 43  type String

EXIT adjust_assigned_reviewer AFTER_SAVE 2017-09-13 20:18:10 +0100 id 72994

Performance end adjust_assigned_reviewer AFTER_SAVE 2017-09-13 20:18:10 +0100 id 72994

backlogs:issue_patch history BEFORE seld.id = 72994

"
27003,Redmine,Defect,NA,Closed,Normal,import subtask csv,manel mammou,NA,2017-09-14T19:08:00Z,NA,NA,NA,NA,NA,0,2017-09-14T18:14:00Z,2017-09-14T19:08:00Z,NA,Invalid,NA,"hello how can i import a sub task to redmine in csv format
i tried this

""Tracker"",""Status"",""Priority"",""Subject"",""Author"",""Assignee"",""Category"",""Target version"",""Start date"",""Due date"",""Estimated time"",""Private"",""Exigences"",""Parent task"",""Description""
""Development"",""In Progress"",""Subject"",""some Author"",""some Assignee"",""CAT_SAA"",""G.Ag_V0"",""2017-02-01"",""2017-02-10"",""16.00"",""No"",""test"",""#703"",""Description""

PS: #703 is an existing task already imported

I get this error : Unique field must be specified because the column Parent task needs to refer to other tasks"
27038,Redmine,Defect,NA,New,Normal,Lost Password link on login page is not accessible on iOS VoiceOver,Leon Blakey,NA,2017-10-19T08:21:00Z,UI,NA,NA,NA,NA,0,2017-09-19T17:51:00Z,NA,NA,NA,3.4.2,"The forgot password link on the login page is not accessible to VoiceOver on iOS. When swiping left-right it just reads ""Password lost password"" but doesn't let you click on it. I have to hunt for the link with my finger. 

Even on Jaws on Windows the ""Lost Password"" link is not in the tab order. However it can be worked around since Jaws can find all links on the page. 

I believe it's because the <a> is inside the <label> for the password field. 

<pre>
Environment:
  Redmine version                3.4.2.stable
  Ruby version                   2.4.2-p198 (2017-09-14) [x86_64-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>"
27043,Redmine,Defect,NA,New,Normal,SVN repos with spaces allow for browsing but not file viewing,Oliver Robson,NA,2017-09-20T04:11:00Z,SCM,NA,NA,NA,NA,0,2017-09-20T04:11:00Z,NA,関連している #7505,NA,3.2.5,"Our Subversion repository naming structure incorporates spaces in it (@http://some.url/svn/repo with spaces/@), and it seems this is not working perfectly in Redmine. I can see the files within the repository, however if I try and view a file or the diff of a file, I get a ""404 The entry or revision was not found in the repository."". If I try the same thing with a different repository with no spaces in the name, it works as I believe it should (can view / diff files). Interestingly, if I go to a specific revision and 'View differences' it will do a diff of all of the changes in that revision perfectly fine, it's only upon diffing / viewing a single file that it fails.

I have tried replacing the spaces with %20, however this stops me being able to browse the repo at all. I have tried putting the repo string in quotes, however this is not accepted by Redmine as quotes are considered an invalid character in that box.

Having a space in a file name doesn't cause any issues with regards to viewing / diffing, it's just with the repo itself.

The resolution in #7505 shows the repo browsing to be working as intended (like it is for me), however upon attempting to view those files in Redmine is where the issue appears."
27063,Redmine,Defect,NA,Closed,Normal,"Tracker configuration, issue status field can't be updated",Hal Glenn,NA,2017-10-02T08:20:00Z,NA,NA,NA,NA,NA,0,2017-09-23T23:25:00Z,2017-10-02T08:20:00Z,NA,Invalid,3.4.2,"h2. System Info

Ubuntu 14.04.5
sqlite 2.8.17
ruby 2.1.5
rails (4.2.8, 4.2.7.1, 4.2.5.2, 4.2.4, 3.2.22.2, 3.2.21) ?? from GEM list
Redmine 3.4.2

The plugins we are running are:

# Additionals
# Redmine Drawio plugin
# Image Clipboard Paste
# Redmine Lightbox 2
# Redmine Silencer 2
# Redmine Theme Changer plugin
# Redmine Wiki Lists plugin
# ERPmine
# Redmine Workflow Enhancements

h2. Tracker configuration issue

When configuring a tracker (we have about 35 of them), *all the fields will updated when save is pressed accept for any selected ""Issue statuses"".* Trackers that had ""Issue statuses"" set, are not changed, and new trackers can not have there ""Issue statuses"" set. We have about 80 issues statuses FWIW.

Looking at the redmine logs, here is the loged output from two ""Saves"", one with two issue status checked, one with non checked. regardless the ""Patch"" does not appear to affect the database. 

-----

*Save 1 with 2 issue statuses selected (ID's highlighted)*

Started PATCH ""/redmine/trackers/39"" for 192.168.50.254 at 2017-09-23 14:36:44 -0500
Processing by TrackersController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""boE2LA057ubck5DzP5jXEpPWbSfjH+NVwm06uQaTwV1OIXpakRvbmbnD7AVPXmnGB2cxAAmnfvOecG+NGy2+Tw=="", ""tracker""=>{""name""=>""Actuator Connector"", ""default_status_id""=>""73"", ""is_in_roadmap""=>""1"", core_fields""=>[""assigned_to_id"", ""description"", """"], ""custom_field_ids""=>[""""], ""project_ids""=>[""61"", """"], *_""predef_issue_status_ids""=>[""14"", ""73""]}_*, ""commit""=>""Save"", ""id""=>""39""}
  Current user: hglenn (id=3)

*Save 2 with no issues status selected, (""predef_issue_status_ids"" missing from commit)*

Started PATCH ""/redmine/trackers/39"" for 192.168.50.254 at 2017-09-23 14:37:25 -0500
Processing by TrackersController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""6Bmn2eE2l1aXKoX70yY1zd/Rmg2wXNK6QRqCq2dDCBrIueuvfRSiKfJ6+Q2j4IsZS2DGKlrkTxwdB9efev13CA=="", ""tracker""=>{""name""=>""Actuator Connector"", ""default_status_id""=>""73"", ""is_in_roadmap""=>""1"", ""core_fields""=>[""assigned_to_id"", ""description"", """"], ""custom_field_ids""=>[""""], ""project_ids""=>[""61"", """"]}, ""commit""=>""Save"", ""id""=>""39""}

-----

It appears the commit / PATCH is not updating the ""predef_issue_status_ids"" fields, but all other fields seem to work as expected. I looked through the database and could verify that *""tracker_statuses""* Table was not being updated after the PATCH.

This redmine instance is running redmine 3.4.2, but the issue also existed in 3.4.1. 

*I believe the issue started when we updated from 2.6.X to 3.4.1.* But we did not catch it right away.

I suppose it could also be a plugin issues, I have not disabled / removed them yet to see if it fixes it. If that could be helpful let me know and I will do so.

Thanks for an amazing system.

"
27066,Redmine,Defect,NA,Closed,Normal,issue parents is wrong,Randa Bustami,NA,2017-09-27T13:35:00Z,NA,NA,NA,NA,NA,0,2017-09-24T13:36:00Z,2017-09-27T12:24:00Z,NA,NA,NA,"i  added a sub task to a task but when i save it appeared under another task
example
under task  69759 i had added task 253921 but it appeared under task  69755 !
pls check  screen shots attached.
"
27071,Redmine,Defect,NA,New,High,"Error testing LDAPS Connection: ""Unable to connect (hostname X.X.X.X does not match the server certificate)""",Carlos Sim?,NA,2017-10-20T09:59:00Z,LDAP,NA,NA,NA,NA,0,2017-09-25T15:46:00Z,NA,NA,NA,3.2.1,"I've migrated from a 2.4.2 Redmine server to a new 3.2.1. 
Everything is working OK but failing to test LDAPS (LDAP + SSL) connections (LDAP connections -without SSL- are working OK). 
I've tested with different users and different LDAP servers and always get the same result: auth_source form shows an error message: ""Unable to connect (hostname X.X.X.X does not match the server certificate)"".
I've not found relevant info in production.log file:

<pre>
Started PATCH ""/auth_sources/8"" for 172.19.12.124 at 2017-09-25 12:46:16 +0200
Processing by AuthSourcesController#update as HTML
  Parameters: {""utf8""=>""?"", ""authenticity_token""=>""Fa1QoVLFef+zngYYwypUipDda1/c0Yh0mqqGmtWThvA0D2zNmqqeDLiGUwN0pwgTWfklBjrZ73G4KpDo/53qTA=="", ""auth_source""=>{""name""=>""OpenLdap"", ""host""=>""X.X.X.X"", ""port""=>""636"", ""tls""=>""1"", ""account""=>""uid=xxxxxxx,ou=xxxxxx,dc=xxxxx,dc=xx"", ""base_dn""=>""ou=xxxxxx,dc=xxxxxx,dc=xx"", ""filter""=>"""", ""timeout""=>"""", ""onthefly_register""=>""0"", ""attr_login""=>""sAMAccountName"", ""attr_firstname""=>"""", ""attr_lastname""=>"""", ""attr_mail""=>""""}, ""dummy_password""=>""[FILTERED]"", ""commit""=>""Save"", ""id""=>""8""}
  SQL (4.3ms)  UPDATE `tokens` SET `tokens`.`updated_on` = '2017-09-25 12:46:16' WHERE `tokens`.`user_id` = 1 AND `tokens`.`value` = '932b09e00f3e76cd17f3b9b92f4dfacc77b0b3c2' AND `tokens`.`action` = 'session' AND (created_on > '2017-09-24 12:46:16.911570') AND (updated_on > '2017-09-25 00:46:16.911805')
   (0.3ms)  SELECT MAX(`settings`.`updated_on`) FROM `settings`
  User Load (0.3ms)  SELECT  `users`.* FROM `users` WHERE `users`.`type` IN ('User', 'AnonymousUser') AND `users`.`status` = 1 AND `users`.`id` = 1 LIMIT 1
  Current user: admin (id=1)
  AuthSource Load (0.2ms)  SELECT  `auth_sources`.* FROM `auth_sources` WHERE `auth_sources`.`id` = 8 LIMIT 1
   (0.1ms)  BEGIN
  AuthSource Exists (0.3ms)  SELECT  1 AS one FROM `auth_sources` WHERE (`auth_sources`.`name` = BINARY 'OpenLdap' AND `auth_sources`.`id` != 8) LIMIT 1
  SQL (0.2ms)  UPDATE `auth_sources` SET `port` = 636, `tls` = 1 WHERE `auth_sources`.`id` = 8
   (1.2ms)  COMMIT
Redirected to https://<my_server>/auth_sources
Completed 302 Found in 15ms (ActiveRecord: 6.8ms).
</pre>

I've tested from SSL connections with openssl to LDAP connection with ldapsearch, and it not seems to be anything wrong. 
Using the same users credentials and the same server connections (early configured into Redmine), with ldapseach goes everything OK.



Data about my environment:

root@asscc111s:/usr/share/redmine# ruby bin/about

<pre>
Environment:
  Redmine version                3.2.1.stable
  Ruby version                   2.3.1-p112 (2016-04-26) [x86_64-linux-gnu]
  Rails version                  4.2.6
  Environment                    production
  Database adapter               Mysql2
SCM:
  Git                            2.7.4
  Filesystem
Redmine plugins:
  no plugin installed
</pre>

root@asscc111s:/usr/share/redmine# mysql -V
mysql  Ver 14.14 Distrib 5.7.19, for Linux (x86_64) using  EditLine wrapper


Finally, all installed over a Ubuntu Server 16.04.



"
27076,Redmine,Defect,NA,Closed,Normal,Cannot open attachements with special characters in filename,Markus Schenk,NA,2017-09-26T16:27:00Z,Attachments,NA,NA,NA,NA,0,2017-09-26T09:30:00Z,2017-09-26T12:45:00Z,次のチケットと重複 #26337,Duplicate,3.4.2,"When an attachment is added to a new entry with a special character in the filename, it is not possible to open the attachment after saving (404 - document not found).
After some investigating I found that the attachment in the database uses two columns to determine the matching between displayname and actual file on disk - 'filename' and 'disk_filename'.
An attachment with a special character in the filename (eg. t?st.txt) is saved in the database like that: 'filename' => 't?st.txt', 'disk_filename' => '170926091327_3de45324.....txt'. 
In redmine, the attachment name is shown as t?st.txt but the underlying href link points to t%C3%C4st.txt and on open leads - as mentioned before - to an error 404. 

Now, when I update the corresponding database entry to 'filename' => 't%C3%C4st.txt' the link then works. Unfortunately redmine then displays the name as 't%C3%A4st.txt'."
27079,Redmine,Defect,NA,Closed,Normal,cannot chose multiple value for a custom field,Randa Bustami,NA,2017-09-27T16:04:00Z,Custom fields,NA,NA,NA,NA,0,2017-09-26T13:48:00Z,2017-09-27T16:04:00Z,NA,Invalid,NA,"i had added custom field type"" list""  and activate multiple values check box but when i tried to chose 2 values it display server error
but when i chose one value it  save the setting 
attached the custom field setting

"
27101,Redmine,Defect,NA,New,Normal,Project identifier model constraint doesn't match with text_project_identifier_info and JS-generated identifiers,Mischa The Evil,NA,2017-10-29T12:05:00Z,Project settings,4.1.0,NA,NA,NA,0,2017-09-29T17:17:00Z,NA,関連している #9225,NA,NA,"I was looking at the project identifier constraint today and noticed a discrepancy between:
* the text of @text_project_identifier_info@ (_Only lower case letters (a-z), numbers, dashes and underscores are allowed, *must start with a lower case letter*.<br />Once saved, the identifier cannot be changed._)
* the auto-generated identifiers from #9225

and the actual enforced model constraint for the project identifier (@/\A(?!\d+$)[a-z0-9\-_]*\z/@).

Based on the model constraint, project identifiers starting with a:
* number
* dash
* underscore

are allowed and seem to work properly. This can be tested by adding the following test assertions to @ProjectTest#test_validate_identifier@:
<pre><code class=""diff"">
diff --git a/test/unit/project_test.rb b/test/unit/project_test.rb
index 24f6958..a0bd95f 100644
--- a/test/unit/project_test.rb
+++ b/test/unit/project_test.rb
@@ -116,7 +116,10 @@ class ProjectTest < ActiveSupport::TestCase
                ""ab-12"" => true,
                ""ab_12"" => true,
                ""12"" => false,
-               ""new"" => false}
+               ""new"" => false,
+               ""12ab"" => true,
+               ""-12ab"" => true,
+               ""_12ab"" => true}

     to_test.each do |identifier, valid|
       p = Project.new
</code></pre>

Despite the textual hint and the auto-generated project identifiers, the above given test assertions succeed without any problems.

IMO there are two ways of solving this:
# change the model constraint to match the textual hint and JS-project identifier generation script ? that is to not allow project identifiers starting with a number, dash or underscore;
# change the textual hint and JS-project identifier generation script to match the actual model constraint ? which is to allow project identifiers starting with a number, dash or underscore.

I think that the second solution is the best, because that won't affect already existing projects with identifiers starting with these characters. I'd like to get some feedback on this matter before we make a change either way.
"
27108,Redmine,Defect,NA,Needs feedback,Normal,"Bug in creation of ""custom queries"" to view issues in a given way",LI AR,NA,2017-10-15T14:21:00Z,NA,NA,NA,NA,NA,0,2017-10-02T09:49:00Z,NA,NA,NA,NA,"In redmine 2.5.2.devel (Debian 8 latest)

1. Go in Issues
2. Open/Unfold the ""Options"" item
3. Select ""%DONE"" on the left (""available columns"") and add it on the right (""selected columns"")
4. If it is not already the case, Select ""%DONE"" in the ""selected columns"" and Move it upwards 2 or 3 times 
5. Select ""Apply""

Either the ""%DONE"" column alone or only all the columns above ""%DONE"" will be shown. 

In fact, only the selected/highlighted columns of the pane ""selected columns"" are taken into account when you click on ""apply"""
27110,Redmine,Defect,NA,Closed,Normal,Changing the tracker to a tracker with the tracker field set to read-only won't work,Felix Sch?fer,Go MAEDA,2017-11-26T03:33:00Z,Issues,3.3.6,NA,NA,NA,0,2017-10-02T11:30:00Z,2017-11-26T03:33:00Z,NA,Fixed,3.3.5,"When a tracker has the tracker field set to read-only in the workflow permissions, it is not possible to change to that tracker. When in the issue edit form the tracker field is changed to the tracker with the tracker field set to read-only, the form is reloaded but without the tracker field (as it is read-only). Submitting this form doesn't include the tracker, thus the tracker is not changed.

Additionally, when the issue edit form is reloaded again, for example for a status change, the form is reloaded to the original tracker and changes in fields active in the target tracker but not active in the original tracker will be lost."
27117,Redmine,Defect,NA,Closed,Urgent,Cannot select versions in Spent time report,Maxim Kru?ina,NA,2017-10-03T22:46:00Z,NA,NA,NA,NA,NA,0,2017-10-03T22:32:00Z,2017-10-03T22:46:00Z,次のチケットと重複 #26667,Duplicate,3.4.2,"We're using a bit complicated project structure (ie 5-level tree) with versions defined on each levels and shared in a different ways.
Anyway, now when I'm in parent project (not the topmost but very high in structure) I'm unable to choose Target versions in filter
URL is: https://ourredmineinstance.xyz/projects/project-name/time_entries/report
I tried it in a different projects but select box is always empty."
27153,Redmine,Defect,NA,Confirmed,Normal,Custom query breaks calendar view with error 500,Bernhard Rohloff,NA,2017-10-31T11:14:00Z,Calendar,3.4.4,NA,NA,NA,0,2017-10-10T10:44:00Z,NA,次のチケットが重複 #26544,NA,3.4.2,"When the custom query includes a second sort criteria the calendar view breaks with an error 500.

Steps to reproduction:

# Create a custom query with a second sort criteria
# Select the custom query in the calendar view

This results into:

!Screenshot-2017-10-10 500 - Redmine.png!"
27165,Redmine,Defect,NA,New,Normal,Delete_all_members,Enrique Vera,NA,2017-10-29T11:25:00Z,Projects,NA,NA,NA,NA,0,2017-10-11T11:53:00Z,NA,NA,NA,NA,"The method delete_all_members in the model Project is the next:

<pre><code class=""ruby"">
def delete_all_members
    me, mr = Member.table_name, MemberRole.table_name
    self.class.connection.delete(""DELETE FROM #{mr} WHERE #{mr}.member_id IN (SELECT #{me}.id FROM #{me} WHERE #{me}.project_id = #{id})"")
    Member.delete_all(['project_id = ?', id])
end
</code></pre>

I was doing some test capturing the destroy event on a member patch and I realized that the event on this patch was only ran in some members. 

The question is, why we have to do a class.connection to delete the member_roles and then run a member.delete_all if we have connected the models correctly.

I proved with this:

<pre><code class=""ruby"">
def delete_all_members
    me, mr = Member.table_name, MemberRole.table_name
    Member.destroy_all(['project_id = ?', id])
end
</code></pre>

and the results were ok. Is there something that I don't know of it's a defect?

Thanks!
"
27168,Redmine,Defect,NA,Closed,Normal,Delete wiki pages,Mischa The Evil,NA,2017-10-12T04:33:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-10-11T22:29:00Z,2017-10-12T04:33:00Z,NA,NA,NA,"Please delete the following two wiki pages, created by anonymous:
* [[H1_Documentacion_]]
* [[Redmine_Info_]]

I've already reverted the edits of [[Overview]] (v.69 & v.70)."
27173,Redmine,Defect,NA,Closed,Low,when i installed redmine on ubuntu it's not working i am facing permission to access /redmine/ on this server,ram ram,NA,2017-10-12T12:33:00Z,NA,NA,NA,NA,NA,0,2017-10-12T11:31:00Z,2017-10-12T12:33:00Z,NA,Invalid,3.4.0,"i am flowing this one 
http://martin-denizet.com/30-minutes-to-redmine-an-express-installation-guide/

Forbidden

You don't have permission to access /redmine/ on this server.

Apache/2.4.7 (Ubuntu) Server at 192.168.12.139 Port 80

can any one  help me"
27174,Redmine,Defect,NA,Closed,Normal,Projects page show incorrect format when I use firefox and use bitnami Version 3.4.2-4 redmine setup.,zhangzhi liao,NA,2017-10-13T03:44:00Z,Projects,NA,NA,NA,NA,0,2017-10-12T13:19:00Z,2017-10-13T03:44:00Z,次のチケットと重複 #26853,Duplicate,NA,"Projects page show incorrect format when I use firefox.
I use Redmine 3.4.2-4 (64-bit) on linux setup. The problem use internet explorer(IE) have not the problem,but have the problem when I use firefox.
The page show like this picture!
!redmine_firefox.png!
The page I want this display.
!redmine_i want like this.png!

I konw the problem with the version 3.3 not have.
I'm not sure the problem is just the bitnami on linux setup environment *or* the original redmine 3.4.2 version.
If just the bitnami on linux environment problem ,How can I solve the problem?
"
27195,Redmine,Defect,NA,Closed,Low,Sir When i am installing redmine3.4 i am  Getting Web application could not be started undefined method,ram ram,NA,2017-10-14T18:27:00Z,NA,NA,NA,NA,NA,0,2017-10-14T09:29:00Z,2017-10-14T18:27:00Z,NA,Invalid,3.4.2,"Sir redmine:3.4  again getting same error after installation completed 
i am able access  apache page 
but i am't able to access redmine page it's getting this error Sir
Web application could not be started
undefined method `main_menu=' for CustomFieldEnumerationsController:Class (NoMethodError)
i am trying to resolve
first i am installed dependency packages 
https://gorails.com/setup/ubuntu/14.10
i am not getting any error in installation process 
after getting this error sir
<img src=""/uploads/default/or

please give me replay to this issue"
27206,Redmine,Defect,NA,Closed,Normal,cannot install public_suffix if ruby < 2.1,Gena Makhomed,NA,2017-10-19T17:48:00Z,NA,3.3.6,NA,NA,NA,0,2017-10-16T23:00:00Z,2017-10-17T17:12:00Z,関連している #27229,Fixed,NA,"it don't work:
<pre>
# bundle install --without development test
[...]

Gem::InstallError: public_suffix requires Ruby version >= 2.1.
An error occurred while installing public_suffix (3.0.0), and Bundler cannot continue.
Make sure that `gem install public_suffix -v '3.0.0'` succeeds before bundling.

# gem install public_suffix -v '3.0.0'
ERROR:  Error installing public_suffix:
        public_suffix requires Ruby version >= 2.1.
</pre>

So, I can't upgrade Redmine to new version on latest CentOS 7.4 server. 

Can you please fix this bug?

<pre>
# cat /etc/redhat-release
CentOS Linux release 7.4.1708 (Core)

# ruby -v
ruby 2.0.0p648 (2015-12-16) [x86_64-linux]

# yum update ruby
No packages marked for update
</pre>
"
27209,Redmine,Defect,NA,Closed,Normal,"Redmine version V3.4  also have the prolem Defect #26072,but bug fix just Redmine version V3.3 not V3.4",zhangzhi liao,NA,2017-10-31T16:45:00Z,NA,NA,NA,NA,NA,0,2017-10-17T04:02:00Z,2017-10-17T05:40:00Z,NA,Invalid,NA,"Redmine version V3.4  have the prolem Defect #26072,but bug fix just  Redmine version V3.3.
I see the Changelog 3.3.4 (2017-07-02)
[Issues]
Defect #26072: Set default assignee before validation

But Changelog 3.4 not the bug or problem fix."
27213,Redmine,Defect,NA,Closed,Normal,Euro symbol (?) is replaced by ? when performing a CSV export,Stephane Evr,NA,2017-10-17T19:21:00Z,NA,NA,NA,NA,NA,0,2017-10-17T14:02:00Z,2017-10-17T16:14:00Z,関連している #26279,Invalid,NA,"Tested on Vanilla redmine, versions 3.3.0 and 3.4.2, for languages French and English

Any ? symbol is replaced by ? on csv export. Should the exports be in UTF8 format ?"
27228,Redmine,Defect,NA,Closed,Normal,outgoing email doesn't work after 3.4.3 upgrade,Laurent GILBERT,NA,2017-10-19T18:29:00Z,Email notifications,NA,NA,NA,NA,0,2017-10-19T12:15:00Z,2017-10-19T18:29:00Z,NA,Invalid,3.4.3,"I use REDMINE for many years. Yesterday, I upgraded my REDMINE from 3.3.1 to 3.4.3 after switching to FREEBSD 11.1 (prev 11.0). I upgraded ruby too.

Everything seems to be ok : Yesterday, I created a new version of my project, added new files and created a news.

Today, I see I didn't receive any email notifications... 

I try to send an email from the console : ok (@mail x@x.com@ , @echo ""Subject: test 3"" | sendmail -i -v x@x.com@ ) .
I try to send a test email from redmine : it says ok but nothing is done. No error, no log...

I use msmtp and mstmp log is enabled.

my configuration parameters :
> production:
> > email_delivery:
> > delivery_method: :async_sendmail
> > async_sendmail_settings:
> > arguments: -i





"
27229,Redmine,Defect,NA,Closed,Normal,public_suffix requires Ruby version >= 2.0,Pavel Potcheptsov,NA,2017-10-19T17:54:00Z,Gems support,NA,NA,NA,NA,0,2017-10-19T14:34:00Z,2017-10-19T17:54:00Z,関連している #27206,Fixed,3.4.3,"There is ""table"":https://www.redmine.org/projects/redmine/wiki/RedmineInstall#Ruby-interpreter which states that ruby 1.9.3 is compatible with redmine 3.4.
However 3.4.3 has in Gemfile:
<pre>
gem ""public_suffix"", ""~> 2.0.5"" if RUBY_VERSION < ""2.1""
</pre>
But
<pre>
gem install public_suffix -v '2.0.5'
ERROR:  Error installing public_suffix:
        public_suffix requires Ruby version >= 2.0.
</pre>
So 3.4.3 is no longer works with Ruby 1.9.3 or is it possible to use older ""version"":https://rubygems.org/gems/public_suffix/versions/1.4.6 of this gem with support of Ruby 1.9.3?"
27246,Redmine,Defect,NA,Needs feedback,Low,UI bug on the main category page- comment area,karina demyanenko,NA,2017-10-23T06:10:00Z,UI - Responsive,NA,NA,NA,NA,0,2017-10-22T23:16:00Z,NA,NA,NA,2.3.1,when i click on some comment it opens and all the paragraph jumps. the paragraph shouldn't jump at clicking on it.
27296,Redmine,Defect,NA,Needs feedback,Normal,Custom Query roles aren't per project,Jon Schell,NA,2017-11-24T02:34:00Z,Issues,NA,NA,NA,NA,0,2017-10-25T01:02:00Z,NA,NA,NA,3.0.3,"When creating a custom query, and it's set to only be visible to certain roles, as long as a user has that role on any project then the query is visible, even if they don't have that role in the particular project the user is looking at."
27333,Redmine,Defect,NA,Closed,Normal,"Switching SCM fails after validation error in ""New repository"" page",Mizuki ISHIKAWA,Go MAEDA,2017-12-10T16:50:00Z,SCM,3.3.6,NA,NA,NA,0,2017-10-31T08:04:00Z,2017-12-10T16:50:00Z,NA,Fixed,NA,"Steps to reproduce:

# Open “New repository” ( /projects/:project_name/repositories/new )
# Click the Create button without making any changes.
# Change SCM (e.g. ""Subversion"" to ""Git"") 
==> The input form does not change at all. As below.

|Incorrect form for 'Git'|Correct form for 'Git'|
|!incorrect_git.png!|!correct_git.png!|

development.log:
There is an error ""ActionController::RoutingError (No route matches [GET] ""/projects/:project_name/repositories""):"".

You can solve the problem by making the following changes.

<pre><code class=""diff"">
diff --git a/app/helpers/repositories_helper.rb b/app/helpers/repositories_helper.rb
index 314c0b29b..435041b72 100644
--- a/app/helpers/repositories_helper.rb
+++ b/app/helpers/repositories_helper.rb
@@ -138,7 +138,7 @@ module RepositoriesHelper
     select_tag('repository_scm',
                options_for_select(scm_options, repository.class.name.demodulize),
                :disabled => (repository && !repository.new_record?),
-               :data => {:remote => true, :method => 'get'})
+               :data => {:remote => true, :method => 'get', :url => new_project_repository_path(repository.project)})
   end
 
   def with_leading_slash(path)
</code></pre>

"
27334,Redmine,Defect,NA,Closed,Normal,How to show a date_time input control on 'start_date' and 'due_date' field in redmine3.3.3-1H,Di Yao,NA,2017-10-31T11:35:00Z,NA,NA,NA,NA,NA,0,2017-10-31T09:44:00Z,2017-10-31T11:35:00Z,NA,Invalid,NA,"When I create a task useing the redmine3.3.3-1, the start date and due date didn't popup a control for input.
How can I resolve it?"
27356,Redmine,Defect,NA,Needs feedback,Normal,Confusing statements concerning fixed versions on Security Advisories wiki page,Gregor Schmidt,Gregor Schmidt,2017-12-05T09:35:00Z,Website (redmine.org),NA,NA,NA,NA,0,2017-11-01T15:35:00Z,NA,NA,NA,NA,"The ""fixed versions"" for two old Rails related vulnerabilities listed on [[Security Advisories]]  are very confusing.

Here's the relevant part of the table:

|{background-color:#f88}. Critical|Ruby on Rails vulnerability (""announcement"":https://groups.google.com/forum/?fromgroups=#!topic/rubyonrails-security/1h2DR63ViGo)||All releases prior to 2.2.1 and 2.1.6|""Fix for 1.4.7"":/news/78|
|{background-color:#f88}. Critical|Ruby on Rails vulnerability (""announcement"":https://groups.google.com/forum/#!msg/rubyonrails-security/c7jT-EeN9eI/L0u4e87zYGMJ)||All releases prior to 2.2.1 and 2.1.6|version:1.4.7|


I assume the proper 'Fixed Versions' would be:

|{background-color:#f88}. Critical|Ruby on Rails vulnerability (""announcement"":https://groups.google.com/forum/?fromgroups=#!topic/rubyonrails-security/1h2DR63ViGo)||All releases prior to 2.2.1 and 2.1.6|version:2.2.1, version:2.1.6, ""Fix for 1.4.7"":/news/78|
|{background-color:#f88}. Critical|Ruby on Rails vulnerability (""announcement"":https://groups.google.com/forum/#!msg/rubyonrails-security/c7jT-EeN9eI/L0u4e87zYGMJ)||All releases prior to 2.2.1 and 2.1.6|version:2.2.1, version:2.1.6, version:1.4.7|


Though I am not absolutely sure, if this change is correct - due to the confusing-ness of the current version."
27361,Redmine,Defect,NA,Closed,Normal,Failed when using Emoji,Charles So,NA,2017-11-03T16:05:00Z,Database,NA,NA,NA,NA,0,2017-11-02T04:38:00Z,2017-11-03T16:05:00Z,次のチケットと重複 #24992,Duplicate,3.0.4,"Tried to create Issue directly or via email with emoji, reply to forum via email using emoji, and all failed.

Here is output from Production.log

ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xF0\x9F\x87\xA6\xF0\x9F...' for column 'description' at row 1: INSERT INTO `issues` (`project_id`, `author_id`, `priority_id`, `tracker_id`, `status_id`, `subject`, `description`, `start_date`, `updated_on`, `created_on`, `lock_version`) VALUES (33, 4, 4, 2, 1, 'CCCCC list', '-"
27397,Redmine,Defect,NA,Closed,Normal,issues with custom field sql query error,Evgeniy Fedorov,NA,2017-11-07T14:27:00Z,Custom fields,NA,NA,NA,NA,0,2017-11-07T13:36:00Z,2017-11-07T14:27:00Z,NA,Invalid,3.4.3,"When adding custom field in issues list,
USING MS SQL 2016

<pre>
generates query 
SELECT custom_values.*, cv.cnt, cv.field_format FROM [custom_values] INNER JOIN
    (
ERROR 1 ---	SELECT cv.id
			cv.cnt,
			cv.field_format
	FROM
	(
	SELECT cv.id,
			cv_m.cnt,
			cf.field_format,
			case when cf.multiple = 1 and cf.acl_trim_multiple = 1 then 1 else 0 end as mlt,
ERROR 2 ---			ROW_NUMBER() OVER (PARTITION BY i.id, cv.custom_field_id, ORDER BY i.id, cv.custom_field_id, cv.id) as row_number
	FROM custom_values cv
			INNER JOIN custom_fields cf on cf.id = cv.custom_field_id
			INNER JOIN issues i on i.id = cv.customized_id
			INNER JOIN (SELECT COUNT(1) as cnt, cv.custom_field_id, cv.customized_id FROM custom_values cv WHERE cv.customized_type = ''Issue'' and cv.custom_field_id IN (1) and cv.customized_id IN (1015,1012,1010,1005,49,48,46,44,41,29,28,27,23,22,18,13,11,10,9,8,7) GROUP BY cv.custom_field_id, cv.customized_id) cv_m on cv_m.custom_field_id = cf.id and cv_m.customized_id = i.id
	WHERE cv.customized_type = ''Issue''
		and cv.custom_field_id IN (1)
		and i.id IN (1015,1012,1010,1005,49,48,46,44,41,29,28,27,23,22,18,13,11,10,9,8,7)
ERROR 3 ---	ORDER BY i.id, cv.custom_field_id, cv.id
	) cv
	WHERE cv.mlt = 0 OR cv.row_number <= 3
	) cv on cv.id = custom_values.id  ORDER BY [custom_values].[customized_id] ASC, [custom_values].[custom_field_id] ASC, [custom_values].[id] ASC
 
with 3 errors. 
</pre>

1) no comma after id
2) ROW_NUMBER() OVER (PARTITION BY i.id, cv.custom_field_id, ORDER BY i.id, cv.custom_field_id, cv.id) as row_number
the comma doesn't be before order by
3)  ORDER BY 
The ORDER BY clause is invalid in views, inline functions, derived tables, subqueries, and common table expressions, unless TOP, OFFSET or FOR XML is also specified."
27399,Redmine,Defect,NA,Closed,Normal,Issue in project list,匿名ユーザー,NA,2017-11-08T18:00:00Z,UI,NA,NA,NA,NA,0,2017-11-07T21:20:00Z,2017-11-08T18:00:00Z,次のチケットと重複 #26853,Duplicate,3.4.3,"On the 'Projects' page, the list of the projects appear on the same line with weird irregular space between two project.
Attached a screenshot of my projects page.

Issue appear on the latest version on a fresh installation"
27406,Redmine,Defect,NA,Closed,Normal,Internal Server Error while posting smile in issue's description,Pavel Potcheptsov,NA,2017-11-08T15:11:00Z,NA,NA,NA,NA,NA,0,2017-11-08T13:31:00Z,2017-11-08T14:02:00Z,NA,Invalid,3.4.3,"It took a time to realize why issue's creation throw Internal Error.
It turned out that text was actually copy-pasted to description from somewhere and it contains smile.
I can't provide full text because of privacy but here is relevant error from log:

<pre>
Processing by IssuesController#create as HTML
..skipped..
Completed 500 Internal Server Error in 130ms (ActiveRecord: 67.5ms)
ActiveRecord::StatementInvalid (Mysql2::Error: Incorrect string value: '\xF0\x9F\x98\x8A\x0D\x0A...' for column 'description' at row 1:
</pre>
Relevant ""article"":https://mathiasbynens.be/notes/mysql-utf8mb4#character-sets to fix issue."
27407,Redmine,Defect,NA,Confirmed,Normal,Default assignee in issue categories doesn't work for groups,Alex Stanev,NA,2017-12-08T05:14:00Z,Project settings,NA,NA,NA,NA,0,2017-11-08T14:10:00Z,NA,NA,NA,3.4.3,"In project settings->issue categories we can select certain user to be assigned by default for every category. Choosing group instead of user is accepted here, but the group then doesn't get assigned when this category is selected.
We have enabled ""Allow issue assignment to groups""."
27512,Redmine,Defect,NA,New,Normal,Totals on custom fields with different role contexts,Pierre de LESPINAY,NA,2017-11-10T19:01:00Z,Custom fields,NA,NA,NA,NA,0,2017-11-10T19:01:00Z,NA,NA,NA,3.4.3,"Totals should exclude values from custom fields for which the context does not allow the user to see.

Example:
We have a custom field *field1* defined that is only visible by a manager.
!screen1.png!

I'm a developer on project 1 and a manager on project 2.

If I go in the project 1's issues I can see the *field1* in the columns, it is empty since I don't have the permission to see it, but I can see it summarized in the totals:
!screen2.png!

I didn't find any issue talking about it.
Is it a work in progress ?
"
27518,Redmine,Defect,NA,Closed,Normal,redmine custom queries for watcher,doanh nguyen,NA,2017-12-04T05:00:00Z,NA,NA,NA,NA,NA,0,2017-11-13T05:40:00Z,2017-12-04T05:00:00Z,NA,Invalid,NA,"help me,

in issue private,i want member see all data if member add in issue watcher.
who help me !
very thanks,"
27538,Redmine,Defect,NA,Closed,Normal,"Redmine installation documentation incorrectly suggests setting uploaded file permissions to 0755, making them executable for everybody",cas dev,NA,2017-12-14T13:58:00Z,Documentation,NA,NA,NA,NA,0,2017-11-15T12:37:00Z,2017-12-14T13:15:00Z,NA,Fixed,NA,"Official redmine installation documentation at https://www.redmine.org/projects/redmine/wiki/RedmineInstall#Step-8-File-system-permissions tells us to
<pre>
chmod -R 755 files log tmp public/plugin_assets
</pre>
to setup correct file system permissions.

However, this leads to all user uploaded files to get 0755 file permissions, which makes them executable (for everybody).

You'd rather should suggest something like
<pre>
find files log tmp public/plugin_assets -type d -exec chmod 775 {} +
find files log tmp public/plugin_assets -type f -exec chmod 664 {} +
</pre>

instead.

Check and update of documentation is needed before the Redmine Docker image maintainers update their docker-entrypoint.sh accordingly, see https://github.com/docker-library/redmine/issues/94

Thanks for having a look at this!"
27543,Redmine,Defect,NA,New,Normal,Key/value-pair custom field type not available to all customisable contents,Felix Sch?fer,NA,2017-11-26T10:51:00Z,Custom fields,Candidate for next major release,NA,NA,NA,0,2017-11-16T11:53:00Z,NA,NA,NA,NA,"The key/value-pair custom field type is currently limited to the same customisable contents as User and Version custom fields. For the key/value-pair custom field type this limitation is not necessary as the key/value-pairs are not project dependant.

The following patch removes the limitation inherited from the @RecordList@ in the @EnumerationFormat@.

<pre><code class=""diff"">--- a/lib/redmine/field_format.rb
+++ b/lib/redmine/field_format.rb
@@ -723,6 +723,8 @@ module Redmine
     end

     class EnumerationFormat < RecordList
+      self.customized_class_names = nil
+
       add 'enumeration'
       self.form_partial = 'custom_fields/formats/enumeration'

</code></pre>

Another possibility would be to move the limitation from the parent class @RecordList@ to the child classes that need it (@UserFormat@, @VersionFormat@), but that would mean that other existing subclasses (e.g. from plugins) would need to be updated if they rely on this limitation."
27549,Redmine,Defect,NA,Closed,Normal,Rewite url filter issue redmine,doanh nguyen,NA,2017-12-04T05:01:00Z,Issues,NA,NA,NA,NA,0,2017-11-17T04:16:00Z,2017-12-04T05:01:00Z,NA,Invalid,NA,"hi All 

i need Rewrite url filter issue redmine 
http://domain/projects/ngan-sach/issues?utf8=%E2%9C%93&set_filter=1&sort=id%3Adesc&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=assigned_to_id&op%5Bassigned_to_id%5D=%3D&v%5Bassigned_to_id%5D%5B%5D=149&f%5B%5D=&c%5B%5D=tracker&c%5B%5D=subject&c%5B%5D=done_ratio&c%5B%5D=priority&c%5B%5D=assigned_to&c%5B%5D=due_date&c%5B%5D=cf_1&c%5B%5D=author&group_by=

http://domain/projects/ngan-sach/issues/%E2%9C%93/1/3Adesc...

Very Th?nks"
27556,Redmine,Defect,NA,Closed,Normal,"Changes in the project view, the information is displayed in the form of columns.",Jorge Garcia,NA,2017-11-18T16:47:00Z,Projects,NA,NA,NA,NA,0,2017-11-17T16:09:00Z,2017-11-18T16:47:00Z,次のチケットと重複 #26853,Duplicate,3.4.3,"The project view comes out in the form of columns, which makes the reading of the projects uncomfortable. If this is the new way to show the projects, could I disable it?

In addition, if the description of the project is too long, it jumps to the other column."
27558,Redmine,Defect,NA,Closed,Urgent,Project view looks like is a bug in v3.4.3,howie.woo woo,NA,2017-11-18T16:50:00Z,Projects,NA,NA,NA,NA,0,2017-11-18T07:35:00Z,2017-11-18T16:50:00Z,次のチケットと重複 #26853,Duplicate,3.4.3,"When I test the new version v3.4.x,the ""projects"" table shows some issues, the project lists are messed up but not happened in v3.3x .please show the pictures."
27560,Redmine,Defect,NA,Closed,Normal,RJS is messing up Nginx proxy for static files,Erwin Mueller,NA,2017-12-03T19:26:00Z,UI,NA,NA,NA,NA,0,2017-11-18T11:17:00Z,2017-12-03T19:26:00Z,次のチケットと重複 #17770,Duplicate,3.4.3,"I have a simple Redmine+Nginx setup and I upgraded to the latest Redmine version. I see that the following is not working:

* issues: switch version, switch tracker
* custom field: switch format
* probably a lot more

The issue is that I have the following Nginx configuration:

<pre>
location ~* ^.+\.(?:css|js|jpe?g|gif|htc|ico|png|html)$
</pre>

That is fairly common to serve static files directly and make use of Nginx speed. But it breaks RJS apparently.

Because you have this requests:

<pre>
<script>
//<![CDATA[

$('#custom_field_field_format').change(function(){
  $.ajax({
    url: '/custom_fields/new.js',
    type: 'get',
    data: $('#custom_field_form').serialize(),
    complete: toggleDisabledInit
  });
});

//]]>
</script>
</pre>

And Nginx returns a 404:

<pre>
nginx_1    | 2017/11/18 09:50:09 [error] 18#18: *53 open() ""/var/www/html/public/custom_fields/new.js"" failed (2: No such file or directory), client: 192.168.80.1, server: _, request: ""GET /custom_fields/new.js?utf8=%E2%9C%93&authenticity_token=xBi4lllxH%2FNxCGxOPy1355fFA8Z5nvJ6cUKKuOJm3UjR13XVRk0jmPwbEIM1qQcXjxPkJuxr8e3l6tzKK%2BGL%2Bw%3D%3D&custom_field%5Bfield_format%5D=bool&custom_field%5Bname%5D=Affected+Version&custom_field%5Bdescription%5D=&custom_field%5Bmin_length%5D=&custom_field%5Bmax_length%5D=&custom_field%5Bregexp%5D=&custom_field%5Btext_formatting%5D=&custom_field%5Bdefault_value%5D=&custom_field%5Burl_pattern%5D=&custom_field%5Bis_required%5D=0&custom_field%5Bis_required%5D=1&custom_field%5Bis_filter%5D=0&custom_field%5Bis_filter%5D=1&custom_field%5Bsearchable%5D=0&custom_field%5Bsearchable%5D=1&custom_field%5Bvisible%5D=1&custom_field%5Brole_ids%5D%5B%5D=&custom_field%5Btracker_ids%5D%5B%5D=1&custom_field%5Btracker_ids%5D%5B%5D=&custom_field%5Bis_for_all%5D=0&custom_field%5Bproject_ids%5D%5B%5D=&type=IssueCustomField HTTP/1.1"", host: ""localhost:8080"", referrer: ""http://localhost:8080/custom_fields/new?utf8=%E2%9C%93&type=IssueCustomField""
</pre>

Nginx sees a request to @new.js@ and thinks it's a static file and tries to serve it directly.

RJS shouldn't be used anyway: #15560

Workaround:

Add a new location for @new.js@ and let it serve from the Rails server.

<pre>
location ~* ^.+new\.js$ {
  proxy_pass http://redmine:3000;
</pre>
"
27584,Redmine,Defect,NA,Needs feedback,Normal,REST-API projects modules not working XML,Eva Encabo,NA,2017-12-12T18:57:00Z,REST API,NA,NA,NA,NA,0,2017-11-19T23:03:00Z,NA,NA,NA,3.4.2,"hi,
No module assign to project when we do
<enabled_module_names>issue_tracking</enabled_module_names>
the other values are well assigned."
27586,Redmine,Defect,NA,Closed,Normal,"""Uncheck all"" icon at the upper left corner in workflow status transitions page is not working",Go MAEDA,Go MAEDA,2017-11-25T16:42:00Z,Administration,3.3.6,NA,NA,NA,0,2017-11-20T07:17:00Z,2017-11-25T14:02:00Z,NA,Fixed,3.3.5,"We can check / uncheck multiple checkboxes by clicking ""?"" icons in WorkflowsController#edit page.

But the ""?"" icon at the upper left corner, supposed to be able to check / uncheck all checkboxes, is not working as expected. ""Check all"" works fine but ""Uncheck all"" does not work at all.

!{width: 366px;}.workflow-uncheck-all@2x.png!"
27609,Redmine,Defect,NA,Closed,Low,The requested URL /redmine was not found on this server.,muralidharan h,NA,2017-11-22T14:13:00Z,NA,NA,NA,NA,NA,0,2017-11-22T06:53:00Z,2017-11-22T14:13:00Z,NA,Invalid,NA,"hi Team,


After  installing successfully redmine .  the page is not loading  
"
27622,Redmine,Defect,NA,New,Normal,"When disabling notes for a role, file upload disapperas too at issue update",Kl?ra Szab?,NA,2017-12-10T04:54:00Z,Issues,NA,NA,NA,NA,0,2017-11-23T09:12:00Z,NA,NA,NA,3.4.3,"When the ""Add notes"" possibility for a role is disabled, the user with that role can't upload file when editing an issue.
This problem is not present when a new issue is made, the file upload module is visible and working, this problem occurs only when an existing issue is edited (and any kind of adding or editing note function is disabled). View and manage files option is enabled.

I noticed this problem in Redmine version 3.4.3, 3.4.2, and 3.3.2.

Is there a setting which i miss? (looked up the problem here in redmine and google, but could not find anything) Is there a guick fix solution, which i can use until it is resolved (if it is really a defect)?

Thanks for a response in advance."
27634,Redmine,Defect,NA,Closed,Normal,The redmime product plugin cant work on TOP Menu in V3.4.3,howie.woo woo,NA,2017-11-24T02:51:00Z,NA,NA,NA,NA,NA,0,2017-11-24T02:46:00Z,2017-11-24T02:51:00Z,NA,Invalid,3.4.3,"When I set the redmine product plugin，it doesn't work on TOP Menu in V3.4.3，but it work in V3.3.5？
Please see the attached picture."
27658,Redmine,Defect,NA,New,Low,Git merge-graph does not respect first parent,Joshua Judson Rosen,NA,2017-11-28T04:31:00Z,SCM,NA,NA,NA,NA,0,2017-11-27T20:55:00Z,NA,NA,NA,3.3.1,"The git DAG Mainly that the DAG always seems to be oriented backward:
?The revisions that ""git log --graph"" and gitk/qgit/etc. display as the left-hand side is on the right (what git calls the ""first parent"" is drawn as the `last parent'), and so all of the merges appear to be inverted."
27673,Redmine,Defect,NA,Closed,Normal,Watchers cannot see issue with restricted issue visibility,Jess Nielsen,NA,2017-11-29T11:53:00Z,Issues permissions,NA,NA,NA,NA,0,2017-11-29T11:05:00Z,2017-11-29T11:53:00Z,次のチケットと重複 #9330,Duplicate,3.2.1,"People added as watchers cannot see the respective issue 
when ""Issues visibility"" is set to ""Issues created by or assigned to the user"" 
for the role they belong to.

This is very annoying, please up-prioritize it."
27683,Redmine,Defect,NA,Closed,Normal,Filter assignee field,Lara R,NA,2017-12-01T09:31:00Z,Issues,NA,NA,NA,NA,0,2017-11-30T19:03:00Z,2017-12-01T09:31:00Z,NA,Invalid,NA,"I have a project with several groups and users and when I create an issue,in the Assignee field I see the groups created but also the users from all those groups. I just want to show the groups and not the users.

Any ideas?"
27685,Redmine,Defect,NA,Closed,Normal,redmine_highlightjs plugin fix,Alexey Prohasko,NA,2017-12-01T09:22:00Z,NA,NA,NA,NA,NA,0,2017-12-01T07:07:00Z,2017-12-01T09:22:00Z,NA,Invalid,NA,"In redmine version 3.4.x, the theme change does not work in the plugin Redmine HighlightJS syntax(http://www.redmine.org/plugins/redmine_highlightjs). To fix this in a file located on the path: /{your redmine directory}/plugins/redmine_highlightjs/lib/hooks/view_highlighted_hook.rb you need to change

@setting = Setting.plugin_redmine_highlightjs [: theme]@

on

@setting = Setting.plugin_redmine_highlightjs ['theme']@

"
27693,Redmine,Defect,NA,New,Normal,"In queries, operator ""Any"" should be ""Not empty""",Stephane Evr,NA,2017-12-27T17:07:00Z,NA,NA,NA,NA,NA,0,2017-12-01T14:43:00Z,NA,NA,NA,NA,"In queries, the operator ""All"" actually returns only fields which are not empty.
Let's say I create an Issue Query with the following filter:

<pre>
      Assignee:      ALL  
</pre>

This will return all the issues with the assignee field *not empty*, same for any filter where the operator ""ALL"" is available.

* Could we change the naming of ""ALL"" to ""Not empty"" somewhat?
* It can still be useful to have a true ""ALL"" operator which returns any result (Empty OR Not Empty), because then we can quickly change the operator without having to remove/add the filter (especially if many filters are available to select from)"
27728,Redmine,Defect,NA,Closed,Normal,"Internal wiki anchors with ""name"" are deprecated and don't work with last Chrome versions",Mattia Gentilini,NA,2017-12-29T13:46:00Z,Wiki,NA,NA,NA,NA,0,2017-12-05T12:13:00Z,2017-12-29T13:46:00Z,NA,Invalid,NA,"When I create a heading in a Redmine wiki page, it is rendered as such:

<pre><code class=""html"">
<a name=""Heading-title""></a>
</code></pre>

Using @name@ attribute to create fragment HTML anchors is deprecated; Furthermore, current Chrome versions do not support linking to this, so the TOC links don't work. These anchors should be created using @id@ attribute instead, better if added to the @<h1>@, @<h2>@ ... tag without creating an empty @<a>@ tag.

I can't determine which Redmine version I'm using so I don't know if this is fixed in a newer release."
27754,Redmine,Defect,NA,Closed,Normal,Strip whitespace from email addresses on lost password page,Felix Sch?fer,Go MAEDA,2017-12-09T03:44:00Z,Accounts / authentication,3.4.4,NA,NA,NA,0,2017-12-07T12:25:00Z,2017-12-09T03:44:00Z,関連している #22532,Fixed,NA,Sometimes people will not notice that they copied and pasted or inadvertently entered a whitespace when entering their email address in the lost password page. This currently leads to no password recovery being sent as the whitespaces will prevent a user from being found.
27769,Redmine,Defect,NA,New,Normal,utf8 4 bytes on SQL Server 2014 Standard,Jan W?jcik,NA,2017-12-10T04:48:00Z,Database,NA,NA,NA,NA,0,2017-12-09T22:07:00Z,NA,NA,NA,3.4.2,"We've just came across a major issue in our production Redmine instance.

Description of the problem.

One of our coworkers tried to create a ticket containing a smiley face (copy paste from MS Outlook).

http://www.fileformat.info/info/unicode/char/1f60a/index.htm

Form submission resulted in a 500 server error.

!2.jpg!

She removed the smiley face and the issue had been successfully submitted. Then other coworkers created about 10 more issues. The system was running fine. However the failed request created *an open transaction*.

!1.jpg!

We suspect that other issues where created in the scope of this running transaction as nested transactions. The transaction was active for about 24 hours and was blocking some of our housekeeping jobs and we had to kill it. As a result we lost all 10 issues that were (successfully) submitted after the one with the smiley face in it (resulting in a 500 error).

I was able to recreate the problem folowing the steps above.

BR
Jan"
27780,Redmine,Defect,NA,New,Normal,Attachment sort doesn't work with Unicode,Амир Мусин,NA,2017-12-12T03:24:00Z,Attachments,NA,NA,NA,NA,0,2017-12-11T17:47:00Z,NA,関連している #20369,NA,NA,"casecmp method doesn't work with Unicode symbol - https://bugs.ruby-lang.org/issues/14055
decision is to use casecmp? instead of casecmp - https://bugs.ruby-lang.org/issues/12786"
27798,Redmine,Defect,NA,Closed,Normal,Error 404 occurred when opening attached file having Japanese (multibyte) file name,tacafumi tadocolo,NA,2017-12-18T05:41:00Z,Attachments,NA,NA,NA,NA,0,2017-12-15T05:18:00Z,2017-12-18T05:41:00Z,NA,Invalid,3.4.2,"This problem sometimes occurs.
The wrong URL ""%E7%94?%E8?%8B%E6%9B?"" is @""%E7%94(DCB3)%E8(DCAB)%8B%E6%9B(DCB8)""@.
And that must be ""%E7%94%B3%E8%AB%8B%E6%9B%B8"".
It seems that the ""%"" character of the URL is changing to binary \xdc.
See these logs below.

* Logs on success

*Apache log (logs/accsss.log)
<pre>
10.10.45.59 - - [13/Dec/2017:10:14:45 +0900] ""GET /redmine/attachments/3054/PJ%E7%94%B3%E8%AB%8B%E6%9B%B8.txt HTTP/1.1"" 200 40204
</pre>

*Redmine log (log/production.log)*
<pre>
Started GET ""/redmine/attachments/3054/PJ%E7%94%B3%E8%AB%8B%E6%9B%B8.txt"" for 127.0.0.1 at 2017-12-13 10:14:45 +0900
Processing by AttachmentsController#show as HTML
  Parameters: {""id""=>""3054"", ""filename""=>""PJ申請書.txt""}
  Current user: admin (id=1)
  Rendered common/_file.html.erb (0.0ms)
  Rendered layouts/_file.html.erb (15.6ms)
  Rendered attachments/file.html.erb within layouts/base (15.6ms)
  Rendered plugins/clipboard_image_paste/app/views/clipboard_image_paste/_headers.html.erb (0.0ms)
  Rendered plugins/sidebar_hide/app/views/sidebar/_hideButton_partial.html.erb (0.0ms)
  Rendered plugins/clipboard_image_paste/app/views/clipboard_image_paste/_add_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 52.3ms | ActiveRecord: 15.6ms)
</pre>

* Logs on failure

*Apache log (logs/accsss.log)*
<pre>
10.10.45.59 - - [13/Dec/2017:10:14:39 +0900] ""GET /redmine/attachments/3054/PJ%E7%94%B3%E8%AB%8B%E6%9B%B8.txt HTTP/1.1"" 404 12492
</pre>

*Redmine log (log/production.log)*
<pre>
Started GET ""/redmine/attachments/3054/PJ%E7%94?%E8?%8B%E6%9B?.txt"" for 127.0.0.1 at 2017-12-13 10:14:39 +0900
Processing by AttachmentsController#show as HTML
  Parameters: {""id""=>""3054"", ""filename""=>""PJ\xE7\x94\xB3\xE8\xAB\x8B\xE6\x9B\xB8.txt""}
  Current user: admin (id=1)
  Rendered common/error.html.erb within layouts/base (0.0ms)
  Rendered plugins/clipboard_image_paste/app/views/clipboard_image_paste/_headers.html.erb (0.0ms)
  Rendered plugins/sidebar_hide/app/views/sidebar/_hideButton_partial.html.erb (0.0ms)
  Rendered plugins/clipboard_image_paste/app/views/clipboard_image_paste/_add_form.html.erb (15.6ms)
Filter chain halted as :find_attachment rendered or redirected
Completed 404 Not Found in 47ms (Views: 36.4ms | ActiveRecord: 0.0ms)
</pre>

<pre>
Environment:
  Redmine version                3.4.2.stable
  Ruby version                   2.3.3-p222 (2016-11-21) [x64-mingw32]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.5
  Filesystem                     
Redmine plugins:
  clipboard_image_paste          1.12
  easy_baseline                  1.4
  easy_gantt                     1.10
  easy_gantt_pro                 1.10
  redmine_dmsf                   1.5.9
  redmine_graphs                 0.1.0
  redmine_issue_templates        0.1.8
  redmine_issues_summary_graph   0.0.9
  redmine_issues_tree            0.0.10
  redmine_monitoring_controlling 0.1.1
  redmine_nikoca_re              0.2.0
  sidebar_hide                   0.0.8
</pre>

Other environment:
<pre>
OS:  Windows 2008 R2
Web server:  Apache 2.2.32
Additional gems:
  thin (1.7.2)
  thin_service (0.0.7)
</pre>
"
27825,Redmine,Defect,NA,Closed,Normal,Issues are automatically filtered as open only,Viliam Slobodn?k,NA,2017-12-27T16:18:00Z,Issues filter,NA,NA,NA,NA,0,2017-12-20T09:28:00Z,2017-12-27T16:18:00Z,NA,Duplicate,NA,With new version of Redmine there is automatic filter for open issues only. How to switch it off? Or please disable this feature.
27861,Redmine,Defect,NA,Closed,Normal,bundle install fails for nokogiri 1.7.2 (x64-mingw32) and ruby 2.4.3 on Windows,Kenan Dervisevic,NA,2017-12-28T14:12:00Z,Ruby support,NA,NA,NA,NA,0,2017-12-28T13:41:00Z,2017-12-28T14:12:00Z,次のチケットと重複 #27505,Duplicate,3.4.3,"_bundle install_ command fails for *nokogiri 1.7.2 (x64-mingw32)* and *ruby 2.4.3* on Windows with the following message:

!nokogiri.png!

Ruby version installed: ruby 2.4.3p205 (2017-12-14 revision 61247) [x64-mingw32] (from rubyinstaller.org)

According to https://github.com/sparklemotion/nokogiri/issues/1618, nokogiri 1.8.0 fixes this. I've bumped the version to 1.8.0 in Gemfile and it did the trick."
27862,Redmine,Defect,NA,Closed,Normal,Preformatted text overflows in preview,Kenan Dervisevic,Go MAEDA,2018-01-19T06:15:00Z,Issues,3.3.7,NA,NA,NA,0,2017-12-28T14:40:00Z,2018-01-19T06:15:00Z,NA,Fixed,3.3.6,"If user uses *pre* in his note and the note has some long text, it overflows over the sidebar on the right.

"
27862,Redmine,Defect,NA,New,Normal,Issue notes overflow when using pre,Kenan Dervisevic,NA,2017-12-28T14:41:00Z,Issues,NA,NA,NA,NA,0,2017-12-28T14:40:00Z,NA,NA,NA,3.4.3,"If user uses *pre* in his note and the note has some long text, it overflows over the sidebar on the right.

"
27865,Redmine,Defect,NA,Closed,Normal,RailsBaseURI ignored while creating robots.txt,Grischa Zengel,NA,2017-12-29T15:59:00Z,NA,4.0.0,NA,NA,NA,0,2017-12-28T20:27:00Z,2017-12-29T15:59:00Z,NA,Fixed,3.4.3,"In my case I use
RailsBaseURI /redmine
which results to URLs like /redmine/issues but in robots.txt are URLs without the prefix /redmine:

<pre>
User-agent: *
Disallow: /projects/support/repository
Disallow: /projects/support/issues
Disallow: /projects/support/activity
Disallow: /issues/gantt
Disallow: /issues/calendar
Disallow: /activity
Disallow: /search
</pre>

The expected robots.txt must be

<pre>
User-agent: *
Disallow: /redmine/projects/support/repository
Disallow: /redmine/projects/support/issues
Disallow: /redmine/projects/support/activity
Disallow: /redmine/issues/gantt
Disallow: /redmine/issues/calendar
Disallow: /redmine/activity
Disallow: /redmine/search
</pre>

As a feature request, it would be nice to have some additional URLs which I could add in configuration.

Something like:

<pre>
User-agent: *
<% @projects.each do |p| -%>
Disallow: /projects/<%= p.to_param %>/repository
Disallow: /projects/<%= p.to_param %>/issues
Disallow: /projects/<%= p.to_param %>/activity
<% @config.robots_project.each do |u| -%>
Disallow: /projects/<%= p.to_param %>/<%= u.to_param %>
<% end -%>
<% end -%>
Disallow: /issues/gantt
Disallow: /issues/calendar
Disallow: /activity
Disallow: /search
<% @config.robots_main.each do |u| -%>
Disallow: /<%= u.to_param %>
<% end -%>
</pre>"
27871,Redmine,Defect,NA,Closed,Normal,Failed to run plugins test,Tatsuya Saito,Go MAEDA,2018-01-02T11:19:00Z,Rails support,NA,NA,NA,NA,0,2017-12-31T03:16:00Z,2018-01-01T11:35:00Z,関連している #23630,Fixed,NA,"I run plugins test with following, but failed it.

<pre>
/yyyyy/redmine/trunk $ bundle exec rake --trace redmine:plugins:test
** Invoke redmine:plugins:test (first_time)
** Execute redmine:plugins:test
** Invoke redmine:plugins:test:units (first_time)
** Invoke db:test:prepare (first_time)
** Invoke environment (first_time)
** Execute environment
** Invoke db:load_config (first_time)
** Execute db:load_config
** Execute db:test:prepare
** Invoke db:test:load (first_time)
** Invoke db:test:purge (first_time)
** Invoke environment 
** Invoke db:load_config 
** Invoke db:check_protected_environments (first_time)
** Invoke environment 
** Invoke db:load_config 
** Execute db:check_protected_environments
** Execute db:test:purge
** Execute db:test:load
** Invoke db:test:load_schema (first_time)
** Invoke db:test:purge 
** Execute db:test:load_schema
** Execute redmine:plugins:test:units
rake aborted!
NoMethodError: undefined method `rake_run' for Minitest:Module
/yyyyy/redmine/trunk/lib/tasks/redmine.rake:165:in `block (4 levels) in <top (required)>'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `block in execute'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `each'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `execute'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:195:in `block in invoke_with_call_chain'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:188:in `invoke_with_call_chain'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:181:in `invoke'
/yyyyy/redmine/trunk/lib/tasks/redmine.rake:156:in `block (3 levels) in <top (required)>'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `block in execute'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `each'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `execute'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:195:in `block in invoke_with_call_chain'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:188:in `invoke_with_call_chain'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/task.rb:181:in `invoke'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:160:in `invoke_task'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `each'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block in top_level'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:125:in `run_with_threads'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:110:in `top_level'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:83:in `block in run'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:186:in `standard_exception_handling'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/lib/rake/application.rb:80:in `run'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/xxxxx/.rbenv/versions/2.4.1/bin/rake:22:in `load'
/xxxxx/.rbenv/versions/2.4.1/bin/rake:22:in `<top (required)>'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli/exec.rb:74:in `load'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli/exec.rb:74:in `kernel_load'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli/exec.rb:27:in `run'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli.rb:362:in `exec'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli.rb:22:in `dispatch'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/cli.rb:13:in `start'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/exe/bundle:30:in `block in <top (required)>'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/xxxxx/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.15.4/exe/bundle:22:in `<top (required)>'
/xxxxx/.rbenv/versions/2.4.1/bin/bundle:22:in `load'
/xxxxx/.rbenv/versions/2.4.1/bin/bundle:22:in `<main>'
Tasks: TOP => redmine:plugins:test:units
</pre>

This is caused by r16859 .
I tried to fix it and attach the patch.


**Environment**

<pre>
Environment:
  Redmine version                3.4.3.devel.17136
  Ruby version                   2.4.1-p111 (2017-03-22) [x86_64-darwin16]
  Rails version                  5.1.4
  Environment                    production
  Database adapter               SQLite
SCM:
  Subversion                     1.9.4
  Git                            2.14.3
  Filesystem                     
Redmine plugins:
  no plugin installed
</pre>
"
27881,Redmine,Defect,NA,Closed,Normal,"No validation errors when entering an invalid ""Estimate hours"" value",Go MAEDA,NA,2018-01-07T22:43:00Z,Issues,3.3.6,NA,NA,NA,0,2018-01-03T08:36:00Z,2018-01-07T22:43:00Z,"関連している #12955, 関連している #2465",Fixed,NA,"This problem was reported as a part of #12955 by ""Daniel Felix"":/users/61731 five years ago. I confirmed that the latest versions of Redmine (3.4 and trunk) are still affected.

> The helper for the estimated time doesn't check the correctness of the string. For example, you can define hours by 2h30m to get 2.5 or 3h5m to get 3.08 as timevalue. But if you enter abc or 3j (misstyped) the string isn't checked. The issue just returns ""update successfully"" and sets the estimated time to nil. The string should be checked and should raise some error, if the input isn't correct."
27881,Redmine,Defect,NA,New,Normal,"No validation errors when entering an invalid ""Estimate hours"" value",Go MAEDA,NA,2018-01-03T09:27:00Z,Issues,3.3.6,NA,NA,NA,0,2018-01-03T08:36:00Z,NA,"関連している #12955, 関連している #2465",NA,NA,"This problem was reported as a part of #12955 by ""Daniel Felix"":/users/61731 five years ago. I confirmed that the latest versions of Redmine (3.4 and trunk) are still affected.

> The helper for the estimated time doesn't check the correctness of the string. For example, you can define hours by 2h30m to get 2.5 or 3h5m to get 3.08 as timevalue. But if you enter abc or 3j (misstyped) the string isn't checked. The issue just returns ""update successfully"" and sets the estimated time to nil. The string should be checked and should raise some error, if the input isn't correct."
27884,Redmine,Defect,NA,New,Normal,Support RTL Bidirection text,Hooman Valibeigi,NA,2018-01-25T10:41:00Z,Text formatting,3.4.5,NA,NA,NA,0,2018-01-03T11:09:00Z,NA,NA,NA,3.4.2,"The fix at #8121 is broken as stated in my last comment there.

My environment: Redmine 3.4.2, Google Chrome 63

1. `p(rtl).` maps to `class=""wiki-class-rtl""` in html, but there is no such class in application.css
2. `unicode-bidi:bidi-override` must be removed or set to `normal`
See https://www.w3schools.com/cssref/pr_text_unicode-bidi.asp
"
27884,Redmine,Defect,NA,New,Normal,Support RTL Bidirection text,Hooman Valibeigi,NA,2018-01-03T11:09:00Z,Text formatting,NA,NA,NA,NA,0,2018-01-03T11:09:00Z,NA,NA,NA,3.4.2,"The fix at #8121 is broken as stated in my last comment there.

My environment: Redmine 3.4.2, Google Chrome 63

1. `p(rtl).` maps to `class=""wiki-class-rtl""` in html, but there is no such class in application.css
2. `unicode-bidi:bidi-override` must be removed or set to `normal`
See https://www.w3schools.com/cssref/pr_text_unicode-bidi.asp
"
27895,Redmine,Defect,NA,New,Normal,"Trackers with ""Parent task"" field set to ""Read-only"" should not be shown when adding a new subtask",Go MAEDA,NA,2018-01-04T14:17:00Z,Issues,NA,NA,NA,NA,0,2018-01-04T14:17:00Z,NA,関連している #22345,NA,NA,"If ""Parent task"" field of a tracker is set to read-only, the tracker should not be shown in the new issue form for subtasks because issues with such tracker cannot be a subtask.

Steps to reproduce:
# Set the ""Parent task"" field of the tracker (hereafter called ""Tracker-X"") to ""Read-only"" on ""Fields permissions"" tab on ""Workflow"" page.
# Create a parent issue.
# Go to the new issue form for subtasks by clicking ""Add"" in ""Subtasks"" area of the parent issue.
# You can select Tracker-X in the new issue form. But the newly created issue never be a subtask because ""Parent task"" field of Tracker-X is read-only."
27902,Redmine,Defect,NA,Needs feedback,Normal,Overview page is very slow for private projects with large number of members,simon butcher,NA,2018-01-08T10:21:00Z,NA,NA,NA,NA,NA,0,2018-01-05T17:24:00Z,NA,NA,NA,NA,"I have over 2000 members in a non-public project. Hence, these members get shown on the overview page. This makes the display of the overview page take around 3-4seconds.
<pre>
..
  Rendered projects/_members_box.html.erb (579.5ms)
  Rendered projects/show.html.erb within layouts/base (596.2ms)
...
Completed 200 OK in 3430ms (Views: 622.8ms | ActiveRecord: 37.4ms)
</pre>"
27915,Redmine,Defect,NA,New,Low,Invalid SQL for SQLSERVER,sergio rolanski,NA,2018-01-09T06:24:00Z,NA,NA,NA,NA,NA,0,2018-01-08T21:27:00Z,NA,NA,NA,3.4.2,"Using Redmine 3.4.2 with jruby

I'm trying to migrate from MySQL to MSSQL, i used database migration tool from Microsoft. The migrated data seems fine, but I get this invalid SQL statments sometimes. The MSSQL is version 2016, but I set the compatibility level to 110 (SQLSERVER 2012).

@ActiveRecord::JDBCError: Sintaxe incorreta pr?xima ? palavra-chave 'with'. Se esta instru??o for uma express?o de tabela comum, uma cl?usula xmlnamespaces ou uma cl?usula de contexto de controle de altera??es, a instru??o anterior dever? terminar com ponto-e-v?rgula.: SELECT [issues].[id] FROM [issues] WITH(UPDLOCK) WHERE (root_id IN (SELECT root_id FROM issues WHERE id IN (N'767'))) ORDER BY [issues].[id] ASC WITH(UPDLOCK)@

In this case there is an extra @'WITH(UPDLOCK)'@ at the end

Also when I try to create a new database and get the same error:

@== 105 BuildProjectsTree: migrating ===========================================
rake aborted!
StandardError: An error has occurred, this and all later migrations canceled:

ActiveRecord::JDBCError: Sintaxe incorreta pr?xima ? palavra-chave 'with'. Se esta instru??o for uma express?o de tabela comum, uma cl?usula xmlnamespaces ou uma cl?usula de contexto de controle de altera??es, a instru??o anterior dever? terminar com ponto-e-v?rgula.: SELECT [projects].[id] FROM [projects] WITH(UPDLOCK)  ORDER BY [projects].[id] ASC  WITH(UPDLOCK)
arjdbc/jdbc/RubyJdbcConnection.java:888:in `execute_query'
/home/tomcat/redmine-3.4.2/lib/redmine/nested_set/project_nested_set.rb:139:in `rebuild_tree!'
/home/tomcat/redmine-3.4.2/lib/redmine/nested_set/project_nested_set.rb:138:in `rebuild_tree!'
/home/tomcat/redmine-3.4.2/db/migrate/105_build_projects_tree.rb:3:in `up'
/opt/jruby/bin/bundle:23:in `(root)'
Tasks: TOP => db:migrate
(See full trace by running task with --trace)
@

bundle install output:
@Using rake 12.2.1
Using i18n 0.7.0
Using minitest 5.10.3
Using thread_safe 0.3.6 (java)
Using tzinfo 1.2.4
Using activesupport 4.2.8
Using builder 3.2.3
Using erubis 2.7.0
Using nokogiri 1.6.8.1 (java)
Using rails-deprecated_sanitizer 1.0.3
Using rails-dom-testing 1.0.9
Using crass 1.0.3
Using loofah 2.1.1
Using rails-html-sanitizer 1.0.3
Using actionview 4.2.8
Using rack 1.6.8
Using rack-test 0.6.3
Using actionpack 4.2.8
Using globalid 0.4.1
Using activejob 4.2.8
Using mini_mime 1.0.0
Using mail 2.7.0
Using actionmailer 4.2.8
Using actionpack-xml_parser 1.0.2
Using activemodel 4.2.8
Using arel 6.0.4
Using activerecord 4.2.8
Using activerecord-jdbc-adapter 1.3.24
Using jdbc-jtds 1.3.1
Using activerecord-jdbcmssql-adapter 1.3.24
Using addressable 2.4.0
Using bundler 1.16.1
Using coderay 1.1.2
Using concurrent-ruby 1.0.5 (java)
Using css_parser 1.6.0
Using htmlentities 4.3.4
Using thor 0.20.0
Using railties 4.2.8
Using jquery-rails 3.1.4
Using jruby-jars 1.7.27
Using jruby-rack 1.1.21
Using mime-types 2.99.3
Using mimemagic 0.3.2
Using net-ldap 0.12.1
Using protected_attributes 1.1.4
Using ruby-openid 2.3.0
Using rack-openid 1.4.2
Using sprockets 3.7.1
Using sprockets-rails 3.2.1
Using rails 4.2.8
Using rails-html-sanitizer-jruby 1.0.0 from git://github.com/jkraemer/rails-html-sanitizer-jruby.git (at master@341880b)
Using rbpdf-font 1.19.1
Using rbpdf 1.19.3
Using request_store 1.0.5
Using roadie 3.2.2
Using roadie-rails 1.1.1
Using rubyzip 1.2.1
Using warbler 1.4.10
@"
27920,Redmine,Defect,NA,Needs feedback,Normal,No button to create new version when all versions are locked or closed,Ivan Cenov,NA,2018-01-18T06:47:00Z,UI,NA,NA,NA,NA,0,2018-01-09T13:08:00Z,NA,NA,NA,NA,"If all versions are closed or locked and there is no any version opened, there is no way to create new version when creating new issue or editing existing issue.

When there are no opened versions the field ""Target version"" is not shown and the (+) button next to it is also not shown.

I think that this is omission, because if there is at least one opened version, the (+) button for creating new version is shown."
27968,Redmine,Defect,NA,New,Normal,Image filename for HDPI monitors (image@2x.jpg) are misrecognized as email address,Go MAEDA,NA,2018-01-11T08:53:00Z,Text formatting,NA,NA,NA,NA,0,2018-01-11T08:53:00Z,NA,関連している #26507,NA,NA,"Image files for HDMI monitors (e.g.,  MacBook Pro Retina monitors) usually have ""@2x"" suffix in their filename, like ""logo@2x.png"". If you write such filenames in issues or wiki pages, Redmine misrecognizes them as email addresses and they will have useless ""mailto:"" link.

Example:

<pre>
logo@2x.png
</pre>

is rendered as

<pre>
""<a href=""mailto:logo@2x.png"">logo@2x.png</a>""
</pre>"
27974,Redmine,Defect,NA,Closed,Normal,Issue-state can't set to done if state of one subissue is not set to done,Entwicklung AMIT,NA,2018-01-15T15:10:00Z,Issues,NA,NA,NA,NA,0,2018-01-12T11:12:00Z,2018-01-15T15:10:00Z,関連している #10989,Wont fix,3.4.3,"h3. Workflow:

There is an error in the workflow to set the state of an issue to ""done"" if there exists subtasks with a state which is not set to ""done"".
State of an issue can't be set to state ""done"" if the state of one subtask do not have the state ""done"".

h3. Ticket-configuration:

This takes effect independent of the current configuration for ticket-properties according to the option for properties of superior tasks and there the option ""%done"" is set to ""independent to subtasks"".

<pre>
Environment:
  Redmine version                3.4.3.stable
  Ruby version                   2.3.3-p222 (2016-11-21) [i386-mingw32]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.9.2
  Git                            2.14.1
  Filesystem
</pre>"
27983,Redmine,Defect,NA,Needs feedback,Normal,Got error when I create an issue with a special character,Thanh LE,NA,2018-01-13T05:34:00Z,Issues,NA,NA,NA,NA,0,2018-01-13T04:52:00Z,NA,NA,NA,3.4.2,"Internal error

An error occurred on the page you were trying to access.
If you continue to experience problems please contact your Redmine administrator for assistance.

If you are the Redmine administrator, check your log files for details about the error.

Back"
27999,Redmine,Defect,NA,Closed,Normal,Inappropriate file uploads in the documentation,Bernhard Rohloff,NA,2018-01-26T01:01:00Z,Website (redmine.org),NA,NA,NA,NA,0,2018-01-16T13:31:00Z,2018-01-26T01:01:00Z,NA,Fixed,NA,"There are file uploads in the user guide which have nothing to do with Redmine and should be deleted.
Many of the files where added by the user ""Jiljil Govind"".

For example on this wiki page: http://www.redmine.org/projects/redmine/wiki/RedmineAttachedFiles
If i find more of them, I'll add the pages to this issue."
28001,Redmine,Defect,NA,Closed,Normal,API query custom_fields: authorization fails,Wolfgang Ocker,NA,2018-01-17T08:01:00Z,REST API,NA,NA,NA,NA,0,2018-01-16T17:02:00Z,2018-01-16T18:08:00Z,NA,Cant reproduce,3.4.4,"Querying the custom_fields using the API:

<pre>
wget -O - --header='Accept: application/json' --header='X-Redmine-API-Key: mykey' ""http://server:3000/custom_fields.json""                                        
</pre>

fails with ""401 Unauthorized Username/Password - Authentication Failed.""

Log:

<pre>
Started GET ""/custom_fields.json"" for 10.144.178.63 at 2018-01-16 15:57:06 +0000
Processing by CustomFieldsController#index as JSON
  Current user: anonymous
Filter chain halted as :require_admin rendered or redirected
Completed 401 Unauthorized in 6ms (ActiveRecord: 1.2ms)
</pre>

Whereas querying the users with the same credentials succeeds:

<pre>
wget -O - --header='Accept: application/json' --header='X-Redmine-API-Key: mykey' ""http://server:3000/users.json""                                        
</pre> 

Log:

<pre>
Started GET ""/users.json"" for 10.144.178.63 at 2018-01-16 15:58:05 +0000
Processing by UsersController#index as JSON
  Current user: weo (id=5)
  Rendered users/index.api.rsb (17.5ms)
Completed 200 OK in 38ms (Views: 17.7ms | ActiveRecord: 4.5ms)
</pre>

<pre>
Environment:
  Redmine version                3.4.4.stable
  Ruby version                   2.4.3-p205 (2017-12-14) [x86_64-linux]
  Rails version                  4.2.8
  Environment                    production
  Database adapter               Mysql2
SCM:
  Subversion                     1.8.10
  Mercurial                      3.1.2
  Bazaar                         2.7.0
  Git                            2.1.4
  Filesystem                     
Redmine plugins:
  a_common_libs                  2.3.3
  redmine_image_clipboard_paste  3.3.0
  redmine_issue_tabs             1.2.3
  sidebar_hide                   0.0.8
</pre>"
28005,Redmine,Defect,NA,Closed,Normal,Broken Project page,leonid terekhov,NA,2018-01-17T13:23:00Z,UI,NA,NA,NA,NA,0,2018-01-17T10:29:00Z,2018-01-17T10:42:00Z,次のチケットと重複 #26853,Duplicate,3.4.4,"I have problems with the projects page. I use the redmine installed in the docker.

Redmine version 3.4.4"
28015,Redmine,Defect,NA,Needs feedback,High,Status is not editable for reporter in redmine version-3.4.4,NetOps Team,NA,2018-01-21T06:36:00Z,Issues permissions,NA,NA,NA,NA,0,2018-01-18T15:41:00Z,NA,NA,NA,3.4.4,"I was using Redmin-1.0.4.stable version where user under role reporter are able to change Status while updating issues but Now I have upgraded it not Redmine-3.4.4-stable version where not finding editable status field for user under role reporter.

Kindly refer attached file.

File: version-104.jpg where finding fieled.
File: version-344.jpg where not finding status field.

Kindly suggest solution path or any workaround for the same.
"
28016,Redmine,Defect,NA,Closed,Normal,Incorrect placement of description box of new issue and edit issue,Valeriu Piduna,NA,2018-01-19T17:13:00Z,NA,NA,NA,NA,NA,0,2018-01-18T22:01:00Z,2018-01-19T17:13:00Z,NA,Invalid,NA,"I read old report from your forum

#26243

But i have another situation. I don't have emoji plugin to resolve it. 
Tell me please, which file with styles is responsible for this ?

!text_area_issue.jpg!

My soft:
1) Redmine: 3.4.2
2) MariaDB: 10.1.26
3) Ruby: 2.3.3p222
4) gem list

<pre>
*** LOCAL GEMS ***

actionmailer (4.2.8, 4.2.7.1, 4.2.5.2)
actionpack (4.2.8, 4.2.7.1, 4.2.5.2)
actionpack-action_caching (1.2.0, 1.1.1)
actionpack-xml_parser (1.0.2)
actionview (4.2.8, 4.2.7.1, 4.2.5.2)
activejob (4.2.8, 4.2.7.1, 4.2.5.2)
activemodel (4.2.8, 4.2.7.1, 4.2.6, 4.2.5.2)
activerecord (4.2.8, 4.2.7.1, 4.2.6, 4.2.5.2)
activesupport (4.2.8, 4.2.7.1, 4.2.6, 4.2.5.2)
addressable (2.5.1, 2.5.0, 2.4.0)
arel (6.0.4, 6.0.3)
bigdecimal (1.2.8)
builder (3.2.3, 3.2.2)
bundler (1.13.6)
coderay (1.1.1)
concurrent-ruby (1.0.5, 1.0.4, 1.0.2, 1.0.1)
css_parser (1.5.0, 1.4.8, 1.3.7)
dalli (2.7.6)
dav4rack (0.3.0)
did_you_mean (1.0.0)
erubis (2.7.0)
globalid (0.4.0, 0.3.7, 0.3.6)
htmlentities (4.3.4, 4.3.1)
httpclient (2.8.3)
i18n (0.7.0)
io-console (0.4.5)
jquery-rails (3.1.4)
json (1.8.6, 1.8.3)
loofah (2.0.3)
mail (2.6.6, 2.6.4)
mime-types (3.1, 3.0)
mime-types-data (3.2016.0521, 3.2016.0221)
mimemagic (0.3.2, 0.3.1)
mini_portile2 (2.1.0, 2.0.0)
minitest (5.10.3, 5.10.1, 5.9.0)
molinillo (0.5.0)
mysql2 (0.4.8, 0.4.4, 0.3.21, 0.3.20)
net-http-persistent (2.9.4)
net-ldap (0.12.1)
net-telnet (0.1.1)
nokogiri (1.7.2, 1.6.8.1, 1.6.7.2)
power_assert (0.2.7)
protected_attributes (1.1.4, 1.1.3)
psych (2.1.0)
public_suffix (2.0.5)
rack (1.6.8, 1.6.5, 1.6.4)
rack-openid (1.4.2)
rack-test (0.6.3)
rails (4.2.8, 4.2.7.1, 4.2.5.2)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.8, 1.0.7)
rails-html-sanitizer (1.0.3)
railties (4.2.8, 4.2.7.1, 4.2.5.2)
rake (12.0.0, 11.1.2, 10.5.0)
rbpdf (1.19.2, 1.19.0)
rbpdf-font (1.19.1, 1.19.0)
rdoc (4.2.1)
redcarpet (3.4.0, 3.3.4)
RedCloth (4.3.2)
redmine_extensions (0.2.4, 0.2.0, 0.1.17, 0.0.29, 0.0.28)
request_store (1.0.5)
roadie (3.2.2, 3.2.1, 3.1.1)
roadie-rails (1.1.1)
ruby-openid (2.3.0)
rubyzip (1.2.1, 1.2.0)
simple_enum (2.3.0)
sprockets (3.7.1, 3.6.0, 3.5.2)
sprockets-rails (3.2.0, 3.0.4)
svg-graph (2.1.0)
test-unit (3.1.7)
thor (0.19.4, 0.19.1)
thread_safe (0.3.6, 0.3.5)
tzinfo (1.2.3, 1.2.2)
uuidtools (2.1.5)
wayback_machine_downloader (1.1.4)
xapian-full-alaveteli (1.2.21.1)
zip-zip (0.3)
</pre>

Tell me please, how can i fix it ? Thanks for you attention."
28021,Redmine,Defect,NA,Closed,Normal,limit to 33 sub-projects,Micha? Bierski,NA,2018-01-22T09:51:00Z,Projects,NA,NA,NA,NA,0,2018-01-19T09:41:00Z,2018-01-22T09:51:00Z,NA,NA,3.4.2,"I'm wonder but looks to Redmine has limit display of sub-projects. Please take a look on my screenshots.

!redmine_issue_1.png!
!redmine_issue_3.png!"
28033,Redmine,Defect,NA,New,Normal,"Unable to turn off ""For all projects"" flag of custom queries",Go MAEDA,NA,2018-01-23T02:50:00Z,Issues,NA,NA,NA,NA,0,2018-01-22T10:32:00Z,NA,NA,NA,NA,"The ""For all projects"" flag of custom queries cannot be disabled if once enabled.

Steps to reproduce:
# Create a query with ""For all projects"" flag enabled.
# Edit the newly created query.
# Uncheck ""For all projects"" checkbox and save the query.
# Edit the query again.
# ""For all projects"" checkbox is expected to be cleared, but it is actually checked."
28035,Redmine,Defect,NA,Needs feedback,Normal,Order of versions is not correctly ordered,Robert Schneider,NA,2018-01-24T18:57:00Z,NA,NA,NA,NA,NA,0,2018-01-22T11:23:00Z,2018-01-24T18:57:00Z,NA,NA,NA,"I see this with version 3.4.2 and on redmine.org at different places:

* in project configuration
* in custom field 
* in Roadmap: completed versions in sidebar or when all gets shown
* in issue list filter for version custom field

Which kind of sorting is it currently? It is not the id and it doesn't seem to be the name."
28078,Redmine,Defect,NA,New,Normal,"Workflows inconsistencies when removing ""add/edit issue"" permission to a role which already has a workflow defined",Stephane Evr,NA,2018-01-25T18:14:00Z,NA,NA,NA,NA,NA,0,2018-01-25T18:14:00Z,NA,NA,NA,NA,"I've tested this on a vanilla Redmine (3.4):


Steps to reproduce, as admin:

Setup:

- Set 2 new roles with add/edit issues permission. We have: Role A, Role B
- Set 1 new Tracker: Tracker A
- Set 3 new statuses: Status A, Status B, Status C

- Define a Workflow for Role A, Tracker A with the following: *All transitions are checked between Status A, Status B*. Transitions to and from Status C are NOT checked.
- Define a Workflow for Role B, Tracker A with the following: *All transitions are checked between Status A, Status B, Status C*.


Correct case:

- As an admin, or as a user with Role A AND Role B, go to the New issues form, and for tracker, choose ""Tracker A""

- In the ""Status"" dropdown, Status A, Status B and Status C are shown

Incorrect case:

- As an admin, remove the add/edit issues permission for Role B

- As an admin, or as a user with Role A AND Role B, go to the New issues form, and for tracker, choose ""Tracker A""

Observed:
- In the ""Status"" dropdown, *Status A, Status B and Status C are shown*

Expected:
- In the ""Status"" dropdown, *Status A and Status B are shown*


Reasons why this happens:
- When we uncheck the permission add/edit issues from a Role, the WorkflowRules are kept in base.
- In the method used to get the new statuses allowed, we don't filter out roles which are not allowed to add/edit issues, hence still reading the WorkflowRules above. 

See details below

Details: 

https://github.com/redmine/redmine/blob/e8bc1dbaa80dd714254da9c19e4ffaae4fbf9736/app/models/issue.rb#L988
https://github.com/redmine/redmine/blob/d105365e06eddfdd66406c56b5f45dba2fda6769/app/models/issue_status.rb#L66


Options to solve the problem:
- Delete the WorkflowRules associated with the role when add/edit issues permission is unchecked (maybe too destructive)
- Always filter (see links above) on roles for which the method @consider_workflow?@ returns true (seems the simplest)"
28079,Redmine,Defect,NA,New,Normal,The green tick is positioned after the label in the new member modals,Marius BALTEANU,NA,2018-01-26T00:50:00Z,UI,NA,NA,NA,NA,0,2018-01-26T00:50:00Z,NA,関連している #27807,NA,NA,"This is a patch extracted from #27807 in order to fix it earlier (in a minor version)

The green tick is positioned after the label in the new member modals from: 
- admin (Users -> Edit user -> Projects -> Add Project)
- project setting (Project setting -> Membership -> New members

I've  attached:
- two screenshoots with the issue
- a patch that fixes these issues.
"
28080,Redmine,Defect,NA,Closed,Normal,Delete inappropriate page: [[Api]],Go MAEDA,NA,2018-01-26T09:28:00Z,Documentation,NA,NA,NA,NA,0,2018-01-26T01:39:00Z,2018-01-26T09:28:00Z,NA,NA,NA,The page [[Api]] is not a valid page and should be deleted.
