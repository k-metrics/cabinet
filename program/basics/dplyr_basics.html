<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="k-metrics" />


<title>dplyrのすゝめ</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="site_libs/datatables-binding-0.2/datatables.js"></script>
<link href="site_libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-bootstrap-1.10.12/js/jquery.dataTables.min.js"></script>
<script src="site_libs/dt-core-bootstrap-1.10.12/js/dataTables.bootstrap.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">環境基礎</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./index.html">Top</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="./coding_style.html">Coding Style</a>
    </li>
    <li>
      <a href="./r_basics.html">R Basics</a>
    </li>
    <li>
      <a href="./r_basics_2.html">R Basics part2</a>
    </li>
    <li>
      <a href="./rstudio_basics.html">RStudio Basics</a>
    </li>
    <li>
      <a href="./dplyr_basics.html">dplyrのすゝめ</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Others
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./about.html">About</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Program
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../index.html">
        <span class="fa fa-home"></span>
         
        Program Top
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../env/index.html">
        <span class="fa fa-laptop"></span>
         
        分析環境
      </a>
    </li>
    <li>
      <a href="./index.html">
        <span class="fa fa-info-circle"></span>
         
        環境基礎
      </a>
    </li>
    <li>
      <a href="../others/">
        <span class="fa fa-commenting"></span>
         
        その他
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-github"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../">
        <span class="fa fa-github"></span>
         
        Cabinet
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../../import/">　Import</a>
    </li>
    <li>
      <a href="../tidy/">　Tidy/Transform</a>
    </li>
    <li>
      <a href="../index.html">　Model/Infer</a>
    </li>
    <li>
      <a href="../../visualize/">　Visualize</a>
    </li>
    <li>
      <a href="../../communicate/">　Communicate/Automate</a>
    </li>
    <li>
      <a href="../../program/">
        <span class="fa fa-home"></span>
         
        Program
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="https://sites.google.com/site/kantometrics/home">
        <span class="fa fa-google"></span>
         
        データ分析勉強会
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">dplyrのすゝめ</h1>

</div>


<!-- Common Links -->
<!-- SQiP and others -->
<!-- Books -->
<!-- Net Community -->
<!-- Style Guide -->
<!-- Creative Commons -->
<!-- R -->
<!-- R Packages -->
<!-- RStudio -->
<!-- Docker -->
<!-- Cabinet Pages -->
<hr />
<div id="はじめに" class="section level1 unnumbered">
<h1>はじめに</h1>
<p>データ分析を行ってみたいがデータが思うように揃わないということは多々あります。ところが色々と調べてみると意外にも記録として様々な形で分散してることがあります。ただ、このような記録はそのままでは分析データとして使えないために整理する必要があります。整理するにしても手動では手間がかかり過ぎたり間違いが混入したりと容易に予想できますし、そのようなデータは大抵手順などが属人化し過ぎて再現（復元）が困難です。<br />
　</p>
<div id="データハンドリング" class="section level2 unnumbered">
<h2>データハンドリング</h2>
<p>そこで、散らばっている様々な記録を分析データとして扱えるようにする処理がデータハンドリングです。一般的に統計分析処理においてデータ分析に費やす時間は全体の一割程度と言われます。残りの九割は分析データとして扱えるように行う処理、すなわち、データハンドリングに費やされていることになります。逆に言えば、データハンドリングはデータ分析において重要な工程なのです。<br />
　</p>
</div>
<div id="処理の自動化" class="section level2 unnumbered">
<h2>処理の自動化</h2>
<p>データハンドリングはデータ分析には必須ですが、手間がかかる作業は自動化したいものです。特にデータ量が多くなってくると手動でのデータハンドリングには限界があります。分析環境とデータハンドリング環境は別の環境でも構いませんが、全体の作業効率を考えると分析環境でデータハンドリングができるのがベストです。そこで、活用したいのが<a href="https://www.r-project.org/" title="The R Project">R</a>のデータハンドリング用パッケージと言える<code>tidyverse</code>パッケージです。本資料では<code>tidyverse</code>パッケージの中でも整然データ（Tidy Data）を作るのに必須と言える<code>dplyr</code>パッケージと<code>tidyr</code>パッケージを中心に解説していきます。<br />
　</p>
</div>
</div>
<div id="整然データとは" class="section level1">
<h1><span class="header-section-number">1</span> 整然データとは</h1>
<p>整然データ（Tidy Data）とはJournal of Statistical Software Vol.59(2014)に掲載されたHadley Wickhamの論文<a href="https://www.jstatsoft.org/article/view/v059i10">Tidy Data</a>において提唱されたデータ分析に有用な概念です。簡潔に日本語で整理された情報は<a href="http://id.fnshr.info/2017/01/09/tidy-data-intro/">整然データとは何か</a>や<a href="https://speakerdeck.com/fnshr/zheng-ran-detatutenani">整然データってなに？</a>で公開されていますので、まずは、こちらで整然データ（Tidy Data）の概念を把握して下さい。<br />
　</p>
<div id="雑然データ" class="section level2">
<h2><span class="header-section-number">1.1</span> 雑然データ</h2>
<p>整然データと対をなすのは雑然データ（Messy Data）と言われるものです。雑然データはデータ分析環境にとっては扱いにくいデータなのですが、人間にとっては理解しやすい構造のために多用されています。概ね記録は雑然データとして残されています。<br />
　</p>
</div>
<div id="雑然データと整然データ" class="section level2">
<h2><span class="header-section-number">1.2</span> 雑然データと整然データ</h2>
<p>言葉だけでは分かりにくいので具体な比較してみましょう。</p>
<table>
<caption>雑然データ</caption>
<thead>
<tr class="header">
<th align="left">日付</th>
<th align="center">項目A</th>
<th align="center">項目B</th>
<th align="center">項目C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="center">1</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="left">2017-5-2</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="left">2017-5-3</td>
<td align="center">3</td>
<td align="center">NA</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<table>
<caption>整然データ</caption>
<thead>
<tr class="header">
<th align="left">日付</th>
<th align="left">項目</th>
<th align="center">値</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="left">項目A</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="left">2017-5-1</td>
<td align="left">項目B</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="left">項目C</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<p>このように雑然データはクロス集計されたような形式であり行と列が交差する部分を読み取らないとデータの意味が理解できない形式です。一方、整然データは雑然データに比べて冗長ですが行を読み取るだけで一つのデータの意味が理解できる形式です。 　</p>
</div>
<div id="整然データの定義" class="section level2">
<h2><span class="header-section-number">1.3</span> 整然データの定義</h2>
<p>上記から分かるように整然データとは以下の満たしたデータ形式のことです。</p>
<ol style="list-style-type: decimal">
<li>個々の変数が一つの列になっている</li>
<li>個々の観測（値）が一つの行になっている</li>
<li>個々の観測（値）の構成単位の累計が一つの表になっている</li>
<li>個々の値は一つのセルになっている</li>
</ol>
<p><a href="https://www.r-project.org/" title="The R Project">R</a>をはじめとした分析環境はデータ形式が整然データであることを要求しますので、データハンドリングの基本として整然データを作れるようになるのが一番のポイントとなります。 　</p>
</div>
</div>
<div id="データハンドリング基礎" class="section level1">
<h1><span class="header-section-number">2</span> データハンドリング基礎</h1>
<p>では、実際に<code>dplyr</code>パッケージと<code>tidyr</code>パッケージを用いたデータハンドリングの具体例を学んでいきましょう。</p>
<div id="パイプ演算子" class="section level2">
<h2><span class="header-section-number">2.1</span> パイプ演算子</h2>
<p><code>dplyr</code>パッケージや<code>tidyr</code>パッケージを始めとした<code>tidyverse</code>パッケージではパイプ演算子<code>%&gt;%</code>を用いて記述されることが殆どですので、まずはパイプ演算子<code>%&gt;%</code>を覚える必要があります。 パイプ演算子は</p>
<ul>
<li>演算子の左側の値を演算子の右側の（関数の）第一引数として渡す</li>
</ul>
<p>演算子です。最も簡単な事例で見てみましょう。<code>1 + 2</code>をパイプ演算子を使って記述すると以下のようになります。</p>
<pre class="r"><code>1 %&gt;% 
  + 2</code></pre>
<pre><code>## [1] 3</code></pre>
<p>関数の場合は<code>summary(iris)</code>をパイプ演算子を使って記述すると以下のようになります。</p>
<pre class="r"><code>iris %&gt;% 
  summary()</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<p>パイプ演算子のメリットは、演算子左右のデータ型が一致していれば数珠つなぎのような記述が可能なことです。例えばアヤメの種別毎に平均値を計算し表として整形する場合は以下のようにパイプ演算子でつなげることで処理できます。</p>
<pre class="r"><code>iris %&gt;% 
  group_by(Species) %&gt;% 
  dplyr::summarise_if(is.numeric, funs(mean), na.rm = TRUE) %&gt;% 
  knitr::kable(caption = &quot;種別毎の平均値&quot;)</code></pre>
<table>
<caption>種別毎の平均値</caption>
<thead>
<tr class="header">
<th align="left">Species</th>
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">setosa</td>
<td align="right">5.006</td>
<td align="right">3.428</td>
<td align="right">1.462</td>
<td align="right">0.246</td>
</tr>
<tr class="even">
<td align="left">versicolor</td>
<td align="right">5.936</td>
<td align="right">2.770</td>
<td align="right">4.260</td>
<td align="right">1.326</td>
</tr>
<tr class="odd">
<td align="left">virginica</td>
<td align="right">6.588</td>
<td align="right">2.974</td>
<td align="right">5.552</td>
<td align="right">2.026</td>
</tr>
</tbody>
</table>
<p>この様にパイプ演算子は中間変数を作成することなく処理の手順を記述できます。コードの可読性が上がるというメリットもあります。</p>
<p>では、パイプ演算子以外のデータハンドリング処理に必要な関数を見ていきましょう。 　</p>
</div>
<div id="data-overview" class="section level2">
<h2><span class="header-section-number">2.2</span> Data Overview</h2>
<p>利用するデータは<code>nycflight13</code>パッケージのデータセットを用います。このデータは2013年のNYC発のフライトデータで以下のようなデータセットで構成されています。</p>
<div id="flights" class="section level4 unnumbered">
<h4>flights</h4>
<p><code>nycflight13</code>パッケージの中心となるデータフレームです。項目数が多いすが基本となる飛行データで約33万レコードあります。</p>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_time</th>
<th align="right">sched_dep_time</th>
<th align="right">dep_delay</th>
<th align="right">arr_time</th>
<th align="right">sched_arr_time</th>
<th align="right">arr_delay</th>
<th align="left">carrier</th>
<th align="right">flight</th>
<th align="left">tailnum</th>
<th align="left">origin</th>
<th align="left">dest</th>
<th align="right">air_time</th>
<th align="right">distance</th>
<th align="right">hour</th>
<th align="right">minute</th>
<th align="left">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">517</td>
<td align="right">515</td>
<td align="right">2</td>
<td align="right">830</td>
<td align="right">819</td>
<td align="right">11</td>
<td align="left">UA</td>
<td align="right">1545</td>
<td align="left">N14228</td>
<td align="left">EWR</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1400</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">533</td>
<td align="right">529</td>
<td align="right">4</td>
<td align="right">850</td>
<td align="right">830</td>
<td align="right">20</td>
<td align="left">UA</td>
<td align="right">1714</td>
<td align="left">N24211</td>
<td align="left">LGA</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1416</td>
<td align="right">5</td>
<td align="right">29</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">542</td>
<td align="right">540</td>
<td align="right">2</td>
<td align="right">923</td>
<td align="right">850</td>
<td align="right">33</td>
<td align="left">AA</td>
<td align="right">1141</td>
<td align="left">N619AA</td>
<td align="left">JFK</td>
<td align="left">MIA</td>
<td align="right">160</td>
<td align="right">1089</td>
<td align="right">5</td>
<td align="right">40</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
</tbody>
</table>
</div>
<div id="airlines" class="section level4 unnumbered">
<h4>airlines</h4>
<p>航空会社のコードと名称のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">carrier</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">9E</td>
<td align="left">Endeavor Air Inc.</td>
</tr>
<tr class="even">
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
<tr class="odd">
<td align="left">AS</td>
<td align="left">Alaska Airlines Inc.</td>
</tr>
</tbody>
</table>
</div>
<div id="airports" class="section level4 unnumbered">
<h4>airports</h4>
<p>空港のコード、名称、位置、タイムゾーン等のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">faa</th>
<th align="left">name</th>
<th align="right">lat</th>
<th align="right">lon</th>
<th align="right">alt</th>
<th align="right">tz</th>
<th align="left">dst</th>
<th align="left">tzone</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">04G</td>
<td align="left">Lansdowne Airport</td>
<td align="right">41.13047</td>
<td align="right">-80.61958</td>
<td align="right">1044</td>
<td align="right">-5</td>
<td align="left">A</td>
<td align="left">America/New_York</td>
</tr>
<tr class="even">
<td align="left">06A</td>
<td align="left">Moton Field Municipal Airport</td>
<td align="right">32.46057</td>
<td align="right">-85.68003</td>
<td align="right">264</td>
<td align="right">-6</td>
<td align="left">A</td>
<td align="left">America/Chicago</td>
</tr>
<tr class="odd">
<td align="left">06C</td>
<td align="left">Schaumburg Regional</td>
<td align="right">41.98934</td>
<td align="right">-88.10124</td>
<td align="right">801</td>
<td align="right">-6</td>
<td align="left">A</td>
<td align="left">America/Chicago</td>
</tr>
</tbody>
</table>
</div>
<div id="planes" class="section level4 unnumbered">
<h4>planes</h4>
<p>飛行機のコード、製造年、メーカ、モデル等のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">tailnum</th>
<th align="right">year</th>
<th align="left">type</th>
<th align="left">manufacturer</th>
<th align="left">model</th>
<th align="right">engines</th>
<th align="right">seats</th>
<th align="right">speed</th>
<th align="left">engine</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N10156</td>
<td align="right">2004</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">EMBRAER</td>
<td align="left">EMB-145XR</td>
<td align="right">2</td>
<td align="right">55</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
<tr class="even">
<td align="left">N102UW</td>
<td align="right">1998</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">AIRBUS INDUSTRIE</td>
<td align="left">A320-214</td>
<td align="right">2</td>
<td align="right">182</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
<tr class="odd">
<td align="left">N103US</td>
<td align="right">1999</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">AIRBUS INDUSTRIE</td>
<td align="left">A320-214</td>
<td align="right">2</td>
<td align="right">182</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
</tbody>
</table>
</div>
<div id="weather" class="section level4 unnumbered">
<h4>weather</h4>
<p>空港の気象に関するデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">origin</th>
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">hour</th>
<th align="right">temp</th>
<th align="right">dewp</th>
<th align="right">humid</th>
<th align="right">wind_dir</th>
<th align="right">wind_speed</th>
<th align="right">wind_gust</th>
<th align="right">precip</th>
<th align="right">pressure</th>
<th align="right">visib</th>
<th align="left">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">37.04</td>
<td align="right">21.92</td>
<td align="right">53.97</td>
<td align="right">230</td>
<td align="right">10.35702</td>
<td align="right">11.91865</td>
<td align="right">0</td>
<td align="right">1013.9</td>
<td align="right">10</td>
<td align="left">2013-01-01 09:00:00</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">37.04</td>
<td align="right">21.92</td>
<td align="right">53.97</td>
<td align="right">230</td>
<td align="right">13.80936</td>
<td align="right">15.89154</td>
<td align="right">0</td>
<td align="right">1013.0</td>
<td align="right">10</td>
<td align="left">2013-01-01 10:00:00</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">37.94</td>
<td align="right">21.92</td>
<td align="right">52.09</td>
<td align="right">230</td>
<td align="right">12.65858</td>
<td align="right">14.56724</td>
<td align="right">0</td>
<td align="right">1012.6</td>
<td align="right">10</td>
<td align="left">2013-01-01 11:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sample" class="section level2">
<h2><span class="header-section-number">2.3</span> sample</h2>
<p>データをサンプリングする関数はサンプル数を数字で指定する<code>dplyr::sample_n</code>と比率で指定する<code>dplyr::sample_frac</code>関数があります。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%              # 100個のデータをランダムサンプリング
  DT::datatable(style = &#39;bootstrap&#39;)    # インタラクティブな表として表示する</code></pre>
<div id="htmlwidget-d00cb2c40fd8fa1734ea" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d00cb2c40fd8fa1734ea">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[7,1,6,9,9,4,10,7,3,6,12,4,10,4,5,2,11,6,9,10,12,12,8,8,4,3,5,12,9,12,1,12,5,8,10,6,11,8,3,11,6,1,2,4,7,4,11,12,7,3,6,10,4,3,6,6,8,2,10,11,4,11,6,8,7,12,10,9,5,6,12,7,6,5,8,4,2,10,8,6,7,12,7,12,7,7,9,4,2,10,2,11,1,5,10,1,3,10,8,7],[19,10,24,29,17,22,19,26,25,18,27,15,1,16,19,13,24,5,11,16,19,11,1,25,22,27,27,2,17,8,30,27,27,6,2,27,1,1,21,14,9,10,24,5,22,15,16,28,21,14,28,20,24,27,29,25,22,27,29,17,23,3,30,16,3,22,24,20,16,6,20,15,26,14,24,17,14,4,3,26,30,10,19,7,3,5,24,12,28,4,1,16,30,3,6,1,8,17,16,12],[null,1944,753,1925,924,842,652,1152,1614,1433,1830,1233,1047,1454,759,1730,538,1736,1458,1422,1521,2135,2024,1623,1030,956,1755,1639,1249,619,1741,1025,1820,1426,1629,1243,1508,632,733,1908,600,1219,743,1051,null,1854,1027,1202,1148,2353,2157,1704,1727,1234,1340,1050,1110,737,1454,1828,1732,1855,2145,1456,1437,2300,1524,1025,2053,827,2140,1830,554,1830,1019,611,1048,1157,641,1422,1550,null,650,1902,1836,836,1924,1918,1321,839,2059,727,727,1545,1309,1439,849,1055,848,2007],[1955,1945,800,1930,930,819,655,1159,1620,1435,1832,1235,1055,1440,805,1730,540,1710,1442,1415,1520,2101,1822,1625,1034,1005,1800,1645,1259,630,1703,1025,1825,1430,1619,1245,1455,634,736,1905,600,1220,750,1100,1513,1855,1030,1200,1158,2245,1859,1700,1729,1245,1345,1100,1059,630,1454,1830,1430,1829,1853,1446,1440,2055,1528,1038,2030,835,2110,1830,600,1829,1025,615,1049,1159,645,1425,1600,1250,655,1825,1825,842,1930,1740,1049,618,1959,730,730,1559,1315,1445,820,1100,850,2000],[null,-1,-7,-5,-6,23,-3,-7,-6,-2,-2,-2,-8,14,-6,0,-2,26,16,7,1,34,122,-2,-4,-9,-5,-6,-10,-11,38,0,-5,-4,10,-2,13,-2,-3,3,0,-1,-7,-9,null,-1,-3,2,-10,68,178,4,-2,-11,-5,-10,11,67,0,-2,182,26,172,10,-3,125,-4,-13,23,-8,30,0,-6,1,-6,-4,-1,-2,-4,-3,-10,null,-5,37,11,-6,-6,98,152,141,60,-3,-3,-14,-6,-6,29,-5,-2,7],[null,2205,1052,2203,1107,1039,1036,1245,1738,1859,2014,1607,1336,1601,1041,2045,839,2019,1600,1659,1913,24,2344,1901,1147,1114,2059,2014,1455,947,1902,1124,1929,1702,1908,1534,1824,851,1055,2030,831,1341,930,1155,null,2123,1341,1421,1318,100,11,1939,2101,1553,1626,1215,1353,858,1736,2207,1841,2043,2329,1941,1621,10,1658,1210,2359,1003,2355,2032,846,2012,1133,834,1412,1316,834,1627,1824,null,913,2202,2001,1110,2213,2117,1625,1002,2237,835,1012,1701,1549,1558,1110,1322,953,2153],[2217,2241,1053,2231,1139,1021,1059,1314,1750,1750,2024,1552,1353,1605,1102,2023,850,2000,1554,1704,1852,2346,2155,1928,1153,1120,2115,2014,1501,938,1810,1127,2005,1725,1919,1550,1750,826,1115,2040,835,1343,1007,1213,1719,2134,1325,1434,1323,2354,2121,1945,2024,1600,1635,1210,1336,830,1712,1950,1537,2004,2056,1727,1643,2213,1659,1247,2356,1020,2339,2055,851,2032,1205,844,1400,1309,845,1625,1849,1350,930,2149,2009,1152,2231,1943,1400,726,2144,845,1004,1745,1520,1613,944,1341,1014,2140],[null,-36,-1,-28,-32,18,-23,-29,-12,69,-10,15,-17,-4,-21,22,-11,19,6,-5,21,38,109,-27,-6,-6,-16,0,-6,9,52,-3,-36,-23,-11,-16,34,25,-20,-10,-4,-2,-37,-18,null,-11,16,-13,-5,66,170,-6,37,-7,-9,5,17,28,24,null,184,39,153,null,-22,117,-1,-37,3,-17,16,-23,-5,-20,-32,-10,12,7,-11,2,-25,null,-17,13,-8,-42,-18,94,145,156,53,-10,8,-44,29,-15,86,-19,-21,13],["EV","9E","B6","DL","EV","EV","DL","9E","MQ","DL","UA","DL","B6","EV","DL","UA","AA","WN","EV","UA","DL","B6","UA","B6","EV","EV","DL","DL","US","B6","EV","B6","WN","B6","B6","AA","MQ","US","B6","EV","B6","B6","DL","US","EV","DL","AA","DL","EV","B6","FL","AA","UA","AA","AA","MQ","UA","MQ","UA","MQ","EV","MQ","EV","UA","DL","DL","EV","EV","B6","MQ","B6","WN","B6","US","AA","DL","B6","MQ","B6","EV","B6","AA","AA","AS","EV","UA","DL","YV","B6","EV","MQ","EV","DL","B6","9E","DL","9E","DL","9E","MQ"],[5395,3314,901,1435,5483,4676,315,4097,4622,1779,1053,1375,1,5745,1109,1637,2243,580,5899,1232,1982,499,1141,1117,3821,5711,17,477,2083,929,4373,518,1067,325,283,2041,3070,745,643,5383,517,66,2119,2171,4667,951,19,480,5795,608,778,45,1672,2253,753,3230,1712,4599,1107,3486,4434,3134,4372,1257,1231,462,4502,4237,677,4558,775,1454,371,297,325,1743,373,3386,675,4949,543,178,711,5,5207,1581,1435,2705,373,4241,4423,4114,807,6,3795,1972,4051,1647,3466,3591],["N730EV","N605LR","N712JB","N327NB","N708EV","N15980","N6708D","N8409N","N518MQ","N335NW","N37471","N3742C","N589JB","N830AS","N983DL","N26215","N5BRAA","N786SW","N12957","N78506","N971DL","N637JB","N27421","N590JB","N13994","N828AS","N192DN","N707TW","N162UW","N558JB","N13969","N375JB","N208WN","N590JB","N527JB","N621AA","N515MQ","N178US","N821JB","N391CA","N661JB","N274JB","N954DL","N732US","N27152","N177DN","N327AA","N957DL","N16976","N351JB","N942AT","N624AA","N54711","N3EJAA","N3HGAA","N528MQ","N14228","N525MQ","N31412","N519MQ","N13968","N522MQ","N18557","N33264","N353NB","N973DL","N12569","N16149","N705JB","N711MQ","N304JB","N746SW","N527JB","N552UW","N3GJAA","N301DQ","N659JB","N811MQ","N318JB","N391CA","N606JB","N3JRAA","N3FJAA","N423AS","N738EV","N73291","N336NB","N935LR","N505JB","N12957","N810MQ","N15555","N355NB","N354JB","N8588D","N319NB","N8932C","N669DN","N922XJ","N738MQ"],["LGA","JFK","JFK","LGA","LGA","EWR","JFK","JFK","LGA","LGA","EWR","JFK","JFK","LGA","LGA","EWR","JFK","EWR","EWR","EWR","LGA","LGA","EWR","LGA","EWR","JFK","JFK","JFK","LGA","JFK","EWR","JFK","LGA","JFK","JFK","JFK","JFK","EWR","JFK","LGA","EWR","JFK","LGA","LGA","EWR","JFK","JFK","JFK","EWR","JFK","LGA","JFK","EWR","LGA","LGA","JFK","EWR","LGA","EWR","LGA","EWR","EWR","EWR","LGA","LGA","JFK","EWR","EWR","JFK","LGA","JFK","EWR","LGA","JFK","LGA","JFK","LGA","JFK","JFK","LGA","EWR","JFK","LGA","EWR","LGA","EWR","LGA","LGA","LGA","EWR","JFK","EWR","EWR","JFK","EWR","JFK","JFK","LGA","JFK","LGA"],["TVC","JAX","FLL","TPA","MEM","GRR","SJU","BWI","BNA","FLL","CLE","SLC","FLL","IAD","TPA","TPA","MIA","HOU","DCA","IAH","MIA","MCO","SFO","TPA","MKE","IAD","LAX","LAX","CLT","RSW","DCA","BOS","BNA","TPA","MCO","MIA","TPA","CLT","SFO","ROC","MCO","BUF","MSP","DCA","MSP","ATL","LAX","ATL","PIT","PWM","ATL","LAS","IAH","MIA","DFW","DCA","IAH","MSP","DEN","BNA","MHT","ORD","CLT","IAH","DTW","BOS","BNA","OMA","LAX","CLE","MSY","MSY","FLL","CLT","ORD","ATL","FLL","DCA","MSY","GSO","PBI","BOS","DFW","SEA","BGR","SEA","TPA","CLT","FLL","DCA","RDU","BOS","ATL","BUF","CVG","DCA","BWI","ATL","DCA","RDU"],[null,120,150,132,123,93,189,34,115,165,71,307,139,45,139,168,155,192,41,197,155,153,355,122,112,52,332,339,86,181,51,40,109,137,129,150,169,84,351,44,131,60,146,42,null,111,351,115,54,49,117,308,209,159,194,48,182,122,245,null,38,116,83,null,82,37,128,151,319,72,172,154,146,74,102,115,179,42,148,72,131,null,172,339,55,315,139,89,164,41,74,35,141,50,105,56,32,115,40,74],[655,828,1069,1010,963,605,1598,184,764,1076,404,1990,1069,229,1010,997,1089,1411,199,1400,1096,950,2565,1010,725,228,2475,2475,544,1074,199,187,764,1005,944,1089,1005,529,2586,254,937,301,1020,214,1008,760,2475,760,319,273,762,2248,1400,1096,1389,213,1400,1020,1605,764,209,719,529,1416,502,187,748,1134,2475,419,1182,1167,1076,541,733,760,1076,213,1182,461,1023,187,1389,2402,378,2402,1010,544,1076,199,427,200,746,301,569,213,184,762,213,431],[19,19,8,19,9,8,6,11,16,14,18,12,10,14,8,17,5,17,14,14,15,21,18,16,10,10,18,16,12,6,17,10,18,14,16,12,14,6,7,19,6,12,7,11,15,18,10,12,11,22,18,17,17,12,13,11,10,6,14,18,14,18,18,14,14,20,15,10,20,8,21,18,6,18,10,6,10,11,6,14,16,12,6,18,18,8,19,17,10,6,19,7,7,15,13,14,8,11,8,20],[55,45,0,30,30,19,55,59,20,35,32,35,55,40,5,30,40,10,42,15,20,1,22,25,34,5,0,45,59,30,3,25,25,30,19,45,55,34,36,5,0,20,50,0,13,55,30,0,58,45,59,0,29,45,45,0,59,30,54,30,30,29,53,46,40,55,28,38,30,35,10,30,0,29,25,15,49,59,45,25,0,50,55,25,25,42,30,40,49,18,59,30,30,59,15,45,20,0,50,0],["2013-07-19T19:00:00Z","2013-01-10T19:00:00Z","2013-06-24T08:00:00Z","2013-09-29T19:00:00Z","2013-09-17T09:00:00Z","2013-04-22T08:00:00Z","2013-10-19T06:00:00Z","2013-07-26T11:00:00Z","2013-03-25T16:00:00Z","2013-06-18T14:00:00Z","2013-12-27T18:00:00Z","2013-04-15T12:00:00Z","2013-10-01T10:00:00Z","2013-04-16T14:00:00Z","2013-05-19T08:00:00Z","2013-02-13T17:00:00Z","2013-11-24T05:00:00Z","2013-06-05T17:00:00Z","2013-09-11T14:00:00Z","2013-10-16T14:00:00Z","2013-12-19T15:00:00Z","2013-12-11T21:00:00Z","2013-08-01T18:00:00Z","2013-08-25T16:00:00Z","2013-04-22T10:00:00Z","2013-03-27T10:00:00Z","2013-05-27T18:00:00Z","2013-12-02T16:00:00Z","2013-09-17T12:00:00Z","2013-12-08T06:00:00Z","2013-01-30T17:00:00Z","2013-12-27T10:00:00Z","2013-05-27T18:00:00Z","2013-08-06T14:00:00Z","2013-10-02T16:00:00Z","2013-06-27T12:00:00Z","2013-11-01T14:00:00Z","2013-08-01T06:00:00Z","2013-03-21T07:00:00Z","2013-11-14T19:00:00Z","2013-06-09T06:00:00Z","2013-01-10T12:00:00Z","2013-02-24T07:00:00Z","2013-04-05T11:00:00Z","2013-07-22T15:00:00Z","2013-04-15T18:00:00Z","2013-11-16T10:00:00Z","2013-12-28T12:00:00Z","2013-07-21T11:00:00Z","2013-03-14T22:00:00Z","2013-06-28T18:00:00Z","2013-10-20T17:00:00Z","2013-04-24T17:00:00Z","2013-03-27T12:00:00Z","2013-06-29T13:00:00Z","2013-06-25T11:00:00Z","2013-08-22T10:00:00Z","2013-02-27T06:00:00Z","2013-10-29T14:00:00Z","2013-11-17T18:00:00Z","2013-04-23T14:00:00Z","2013-11-03T18:00:00Z","2013-06-30T18:00:00Z","2013-08-16T14:00:00Z","2013-07-03T14:00:00Z","2013-12-22T20:00:00Z","2013-10-24T15:00:00Z","2013-09-20T10:00:00Z","2013-05-16T20:00:00Z","2013-06-06T08:00:00Z","2013-12-20T21:00:00Z","2013-07-15T18:00:00Z","2013-06-26T06:00:00Z","2013-05-14T18:00:00Z","2013-08-24T10:00:00Z","2013-04-17T06:00:00Z","2013-02-14T10:00:00Z","2013-10-04T11:00:00Z","2013-08-03T06:00:00Z","2013-06-26T14:00:00Z","2013-07-30T16:00:00Z","2013-12-10T12:00:00Z","2013-07-19T06:00:00Z","2013-12-07T18:00:00Z","2013-07-03T18:00:00Z","2013-07-05T08:00:00Z","2013-09-24T19:00:00Z","2013-04-12T17:00:00Z","2013-02-28T10:00:00Z","2013-10-04T06:00:00Z","2013-02-01T19:00:00Z","2013-11-16T07:00:00Z","2013-01-30T07:00:00Z","2013-05-03T15:00:00Z","2013-10-06T13:00:00Z","2013-01-01T14:00:00Z","2013-03-08T08:00:00Z","2013-10-17T11:00:00Z","2013-08-16T08:00:00Z","2013-07-12T20:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>比率は1を100%として指定します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_frac(0.001) %&gt;%          # 0.1%のデータをランダムサンプリング
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-70ed4bb4253a511974f2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-70ed4bb4253a511974f2">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[5,4,5,6,10,1,5,12,2,11,12,8,8,3,1,11,7,3,4,7,6,7,7,2,5,4,1,8,2,12,4,9,10,9,2,1,9,11,11,7,6,4,6,5,9,3,10,2,4,11,10,9,7,6,10,9,7,3,7,1,8,12,4,4,1,1,4,4,5,5,2,7,11,5,4,3,5,2,4,3,3,8,10,2,5,9,4,10,11,5,11,7,9,11,2,3,8,7,8,8,10,1,2,3,1,6,5,1,5,10,12,12,1,5,10,10,5,3,6,5,10,10,6,7,1,5,5,11,6,5,4,10,7,4,5,11,10,6,11,3,11,4,11,9,9,7,6,3,3,9,3,9,11,5,10,8,4,2,7,10,2,2,9,1,11,3,12,9,4,7,9,3,12,3,1,3,4,2,2,6,3,6,11,6,12,7,5,6,3,10,8,8,8,8,7,10,11,8,12,4,10,2,7,3,1,1,5,7,7,9,1,6,7,5,7,2,12,7,5,9,8,12,9,4,5,10,3,9,6,6,8,9,5,4,3,6,9,2,10,9,8,11,8,7,7,12,11,9,9,8,7,8,12,1,9,1,10,7,6,1,6,4,11,6,11,4,2,11,7,2,9,12,5,12,7,4,8,7,12,4,12,2,10,4,3,11,12,4,9,4,7,11,6,7,2,6,7,8,5,6,2,1,12,5,3,3,2,10,5,2,2,12,7,3,5,6,6,5,3,8,4,6,6,3,9,8,10,2,1,3,12,12,5,4,8,1,3],[26,30,20,12,24,2,25,25,27,27,4,11,1,31,28,10,27,16,4,6,18,19,1,15,13,26,29,26,13,9,12,27,24,9,1,25,2,21,23,10,6,28,16,31,22,6,11,21,22,21,20,13,13,9,21,18,15,26,8,25,31,16,17,4,4,16,10,30,28,14,20,9,23,4,15,26,10,4,13,21,16,22,30,15,9,30,18,2,1,20,17,9,20,7,26,18,3,25,25,3,23,21,27,19,27,29,13,25,24,17,18,1,9,16,4,6,10,3,29,5,27,8,6,16,24,19,31,23,4,19,15,30,11,9,10,27,14,1,28,5,20,9,14,20,2,4,24,9,11,1,3,27,25,22,1,19,4,28,17,12,25,12,28,4,2,4,16,17,29,9,3,28,31,2,5,26,16,27,28,13,14,4,12,26,4,8,12,23,7,7,5,21,3,29,28,26,11,28,10,9,21,12,8,30,15,4,30,4,4,27,20,12,5,29,28,26,7,9,29,8,2,20,13,6,5,25,2,1,22,8,4,7,20,17,28,19,6,23,17,25,22,20,13,24,31,11,10,12,15,7,27,19,31,14,27,22,11,30,16,16,13,2,29,7,18,10,11,9,19,21,29,2,19,15,7,24,18,9,16,19,21,12,6,7,1,4,30,1,26,23,11,17,27,5,24,29,20,11,23,27,15,22,13,1,1,22,14,12,6,19,26,16,31,5,28,23,25,1,3,1,9,10,22,1,18,29,18,12,19,13,4,20,17,17,25,11,5],[1314,828,1708,1457,538,724,1845,1641,941,1446,1745,1116,1924,1725,1504,2032,1237,1022,746,818,1908,1740,1720,1959,649,1523,1545,1804,1557,2109,2112,2051,1710,1055,1639,830,1853,800,631,null,1457,955,810,1355,2006,652,1746,648,2007,10,1922,2011,930,null,1050,1659,1152,535,1818,1324,1752,1458,707,2007,1231,1541,856,1341,1824,2044,1014,1950,839,1310,1815,1818,1157,2013,1926,649,1834,655,1005,723,1016,830,1306,1924,1706,1446,958,1527,808,1910,1943,853,816,810,2130,1056,1453,949,1854,936,1240,751,1605,1659,2029,1649,1529,644,2042,1728,950,1255,938,1812,2214,1529,1110,1515,1052,1656,854,957,757,2037,613,822,1522,1541,648,1850,756,823,558,1402,1953,537,1516,650,624,2003,1841,535,2059,844,554,1733,952,1254,829,1255,1300,1626,1154,1800,559,1259,551,821,933,813,622,1515,1106,1749,628,2347,659,744,1502,1938,836,1129,722,1812,1338,1826,2353,2038,823,1950,536,1747,913,1202,1532,2141,656,958,1438,819,2114,1101,1510,749,1627,1525,554,1351,1826,1253,2304,1711,2028,1039,1409,1348,614,1520,729,1657,808,1125,1243,1102,1354,903,1155,1052,1841,1121,825,2016,1359,1916,940,714,1621,637,1448,2218,1448,1951,1050,1256,1857,1258,1222,735,728,1419,19,1531,849,1531,1012,1558,704,1020,949,958,2252,1249,null,1007,2130,1609,808,614,716,2110,1856,727,1800,908,827,1355,653,1212,730,null,757,1804,1822,1055,824,830,1535,1014,731,1830,751,1645,1824,806,808,1257,830,1150,null,1838,828,1922,1800,1937,1957,834,1332,1852,1341,620,1658,1540,1700,543,1818,808,1459,1706,1157,1555,1804,1705,1008,1705,1531,1541,1141,1741,1544,1713,1624,1816,1844,659,1318,624,2150,736,623,1806,658,828,804],[1315,835,1659,1444,545,730,1845,1545,955,1450,1730,1125,1800,1738,1505,1945,1245,1030,725,821,1900,1643,1719,2000,648,1445,1545,1629,1420,2012,1900,2045,1715,1100,1630,730,1827,810,635,1624,1459,955,814,1359,1905,700,1600,655,2000,2359,1930,2010,930,2040,1055,1650,1200,540,1755,1315,1748,1500,709,1943,1236,1545,900,1345,1829,2031,1021,1855,845,1310,1806,1800,1200,1935,1714,649,1830,700,1010,700,1021,840,1225,1930,1700,1450,1000,1530,810,1845,1929,854,740,815,2116,1100,1455,958,1815,751,1245,700,1521,1700,1800,1651,1455,650,2040,1730,959,1247,930,1815,2150,1535,1115,1520,1059,1700,900,1000,800,2040,600,827,1530,1549,651,1855,801,829,600,1300,2000,540,1520,650,600,1905,1840,536,1545,830,600,1729,959,1259,832,1151,1300,1545,1200,1800,605,1300,600,817,940,810,630,1355,1110,1755,630,2245,659,750,1500,1900,838,1140,723,1700,1330,1805,2245,2020,830,1935,545,1630,918,1200,1530,2000,700,1000,1435,820,2000,1105,1520,755,1627,1530,600,1350,1829,1300,2245,1715,2030,1029,1415,1320,615,1520,735,1700,810,1124,1259,945,1400,910,1200,1059,1755,1125,829,1804,1350,1925,945,715,1625,640,1445,1925,1450,1930,1100,1300,1900,1259,1200,745,730,1300,2359,1540,900,1500,1015,1600,700,1030,829,1006,2245,1245,1550,1008,1815,1529,800,615,710,2030,1705,725,1600,915,830,1359,700,1219,735,721,743,1800,1820,1055,825,835,1530,1021,735,1824,600,1645,1829,815,810,1300,830,1151,1729,1825,835,1930,1800,1936,1929,745,1330,1855,1345,625,1700,1440,1655,545,1759,815,1458,1700,1159,1600,1805,1709,1005,1710,1510,1520,955,1617,1530,1715,1624,1815,1845,700,1320,608,2159,740,632,1804,700,828,810],[-1,-7,9,13,-7,-6,0,56,-14,-4,15,-9,84,-13,-1,47,-8,-8,21,-3,8,57,1,-1,1,38,0,95,97,57,132,6,-5,-5,9,60,26,-10,-4,null,-2,0,-4,-4,61,-8,106,-7,7,11,-8,1,0,null,-5,9,-8,-5,23,9,4,-2,-2,24,-5,-4,-4,-4,-5,13,-7,55,-6,0,9,18,-3,38,132,0,4,-5,-5,23,-5,-10,41,-6,6,-4,-2,-3,-2,25,14,-1,36,-5,14,-4,-2,-9,39,105,-5,51,44,-1,149,-2,34,-6,2,-2,-9,8,8,-3,24,-6,-5,-5,-7,-4,-6,-3,-3,-3,13,-5,-8,-8,-3,-5,-5,-6,-2,62,-7,-3,-4,0,24,58,1,-1,314,14,-6,4,-7,-5,-3,64,0,41,-6,0,-6,-1,-9,4,-7,3,-8,80,-4,-6,-2,62,0,-6,2,38,-2,-11,-1,72,8,21,68,18,-7,15,-9,77,-5,2,2,101,-4,-2,3,-1,74,-4,-10,-6,0,-5,-6,1,-3,-7,19,-4,-2,10,-6,28,-1,0,-6,-3,-2,1,-16,77,-6,-7,-5,-7,46,-4,-4,132,9,-9,-5,-1,-4,-3,3,173,-2,21,-10,-4,-3,-1,22,-10,-2,79,20,-9,-11,31,-3,-2,4,-10,80,-8,7,4,null,-1,195,40,8,-1,6,40,111,2,120,-7,-3,-4,-7,-7,-5,null,14,4,2,0,-1,-5,5,-7,-4,6,111,0,-5,-9,-2,-3,0,-1,null,13,-7,-8,0,1,28,49,2,-3,-4,-5,-2,60,5,-2,19,-7,1,6,-2,-5,-1,-4,3,-5,21,21,106,84,14,-2,0,1,-1,-1,-2,16,-9,-4,-9,2,-2,0,-6],[1617,1026,2028,1923,834,1039,2128,1952,1159,1700,1912,1211,2034,1928,1748,2157,1333,1329,1052,947,2031,1933,1833,2207,1002,1752,1726,2044,1804,25,2246,2154,2008,1238,2011,1143,2146,1058,923,null,1607,1059,957,1518,2211,806,2051,929,2316,433,2044,2223,1036,null,1355,1936,1410,837,1943,1549,2047,1833,1023,2125,1353,1909,1200,1502,2009,2332,1325,2341,1054,1547,1911,1913,1320,2204,2224,855,2040,859,1137,848,1300,955,1501,2217,1852,1620,1212,1926,910,2220,2328,1029,1036,1054,2244,1322,1818,1128,2053,1246,1344,1025,1722,2140,14,1951,1734,903,null,2049,1124,1532,1322,2156,49,1617,1239,1656,1348,1816,1520,1242,948,10,728,1010,1817,1709,847,2022,910,950,654,1640,2247,823,1707,930,914,2137,2106,802,2232,1057,831,1831,1113,1507,936,1504,1423,1731,1448,1913,830,1408,853,1118,1203,1335,855,1758,1428,1922,854,223,823,1040,1736,2041,1031,1443,826,2123,1637,2232,100,2251,1028,2214,826,2031,1152,1504,1829,2253,906,1122,1642,1214,7,1345,1724,954,1831,1827,858,1541,2046,1422,1,2003,2200,1315,1623,1639,841,1806,1004,1822,1015,1539,1434,1211,1454,1106,1452,1207,2007,1240,954,2220,1655,2041,1139,947,1821,850,1847,2352,1626,2215,1315,1407,2127,1537,1422,1030,1013,1518,355,1846,1106,1825,1111,1830,819,1150,1146,1120,2357,1410,null,1219,2240,1800,1035,906,1029,2232,2057,1013,2141,1233,959,1634,1055,1405,921,null,929,1956,2038,1327,1007,1053,1854,1326,1013,2020,907,1914,2148,953,1024,1623,1023,1514,null,2118,1047,2123,2052,2245,5,932,1637,6,1539,852,1942,1830,2000,950,2059,1050,1629,1956,1327,1918,2055,1947,1159,1919,1730,1835,1258,1845,1848,1938,1841,1955,2227,824,1620,743,2336,1046,932,2130,809,1106,902],[1616,1020,2005,1844,827,1115,2150,1905,1215,1649,1914,1231,1917,1926,1734,2101,1355,1340,1030,1017,2051,1907,1855,2207,958,1709,1744,1927,1620,2312,2045,2208,2015,1245,2015,1040,2034,1108,929,1816,1635,1108,1011,1520,2134,839,1906,923,2305,437,2049,2229,1039,2200,1353,1954,1501,850,1921,1504,2035,1805,1016,2053,1407,1910,1224,1530,2035,2348,1342,2205,1054,1615,1935,1914,1314,2145,2003,920,2015,857,1135,839,1306,1022,1405,2250,1855,1635,1207,1850,954,2152,2247,1043,950,1110,2249,1334,1807,1137,2037,959,1350,951,1705,2204,2140,1957,1650,919,2357,2039,1144,1535,1255,2147,100,1655,1259,1705,1413,1815,1530,1329,1017,2359,711,1043,1839,1726,905,2037,917,958,708,1548,2303,850,1705,945,905,2100,2110,806,1710,1106,849,1848,1129,1501,945,1414,1430,1710,1438,1939,839,1435,910,1127,1232,1315,918,1648,1432,1930,852,135,837,1045,1729,2026,1044,1445,847,2025,1710,2128,2354,2245,1001,2120,832,1839,1204,1455,1834,2132,900,1133,1639,1230,2244,1331,1740,955,1747,1905,858,1545,2033,1450,2357,2040,2201,1310,1629,1625,855,1814,1020,1827,1029,1426,1454,1120,1508,1113,1455,1214,1932,1305,1020,2034,1719,2048,1209,1010,1808,854,1805,2122,1640,2215,1336,1408,2134,1533,1355,1043,1010,1417,344,1910,1130,1758,1129,1849,833,1142,1024,1121,2353,1406,1730,1215,1945,1702,1016,915,1029,2155,1902,1015,1933,1247,1015,1657,1056,1416,1005,945,913,1950,2048,1411,1010,1102,1909,1342,1040,2005,723,1909,2124,1008,1030,1615,1025,1459,1930,2134,1105,2055,2130,2233,2310,900,1629,2355,1553,925,2049,1753,2000,933,2049,1056,1629,1955,1344,1934,2128,1954,1215,1934,1707,1814,1108,1744,1845,2040,1842,1957,2210,836,1650,724,2359,1058,920,2145,835,1105,925],[1,6,23,39,7,-36,-22,47,-16,11,-2,-20,77,2,14,56,-22,-11,22,-30,-20,26,-22,0,4,43,-18,77,104,73,121,-14,-7,-7,-4,63,72,-10,-6,null,-28,-9,-14,-2,37,-33,105,6,11,-4,-5,-6,-3,null,2,-18,-51,-13,22,45,12,28,7,32,-14,-1,-24,-28,-26,-16,-17,96,0,-28,-24,-1,6,19,141,-25,25,2,2,9,-6,-27,56,-33,-3,-15,5,36,-44,28,41,-14,46,-16,-5,-12,11,-9,16,167,-6,34,17,-24,154,-6,44,-16,null,10,-20,-3,27,9,-11,-38,-20,-9,-25,1,-10,-47,-29,11,17,-33,-22,-17,-18,-15,-7,-8,-14,52,-16,-27,2,-15,9,37,-4,-4,322,-9,-18,-17,-16,6,-9,50,-7,21,10,-26,-9,-27,-17,-9,-29,20,-23,70,-4,-8,2,48,-14,-5,7,15,-13,-2,-21,58,-33,64,66,6,27,54,-6,112,-12,9,-5,81,6,-11,3,-16,83,14,-16,-1,44,-38,0,-4,13,-28,4,-37,-1,5,-6,14,-14,-8,-16,-5,-14,73,-20,51,-14,-7,-3,-7,35,-25,-26,106,-24,-7,-30,-23,13,-4,42,150,-14,0,-21,-1,-7,4,27,-13,3,61,11,-24,-24,27,-18,-19,-14,8,82,-1,4,4,null,4,175,58,19,-9,0,37,115,-2,128,-14,-16,-23,-1,-11,-44,null,16,6,-10,-44,-3,-9,-15,-16,-27,15,104,5,24,-15,-6,8,-2,15,null,-16,-18,28,-38,12,55,32,8,11,-14,-33,-67,37,0,17,10,-6,0,1,-17,-16,-33,-7,-16,-15,23,21,110,61,3,-62,-1,-2,17,-12,-30,19,-23,-12,12,-15,-26,1,-23],["UA","MQ","UA","B6","UA","VX","B6","WN","9E","US","B6","B6","US","B6","UA","9E","AA","AA","AS","EV","UA","EV","B6","EV","UA","EV","UA","B6","MQ","UA","EV","DL","AA","9E","VX","AA","US","DL","B6","EV","9E","B6","EV","EV","9E","UA","B6","B6","B6","B6","EV","EV","B6","MQ","B6","UA","UA","AA","B6","US","B6","MQ","UA","EV","EV","AA","DL","MQ","DL","B6","DL","VX","EV","WN","B6","B6","9E","9E","UA","UA","MQ","EV","MQ","UA","B6","EV","AA","AA","AA","MQ","US","DL","EV","DL","DL","UA","WN","DL","B6","DL","UA","UA","9E","EV","AA","B6","EV","DL","AA","B6","MQ","UA","B6","B6","AA","B6","AA","B6","AA","WN","9E","AA","B6","US","HA","DL","DL","B6","EV","EV","9E","9E","UA","EV","EV","EV","B6","DL","B6","AA","AA","AA","AA","9E","DL","UA","MQ","DL","B6","B6","MQ","US","UA","FL","UA","MQ","DL","UA","B6","WN","AA","DL","B6","AA","US","UA","DL","MQ","DL","B6","EV","B6","UA","9E","EV","AA","UA","WN","WN","B6","B6","MQ","9E","MQ","UA","DL","B6","DL","DL","UA","9E","FL","DL","AA","UA","UA","MQ","DL","EV","AA","B6","MQ","US","MQ","B6","DL","FL","B6","DL","UA","9E","UA","WN","B6","DL","UA","MQ","WN","US","EV","DL","EV","EV","AA","EV","DL","UA","EV","DL","VX","DL","DL","AA","9E","MQ","DL","DL","US","DL","DL","US","B6","B6","EV","B6","AA","DL","B6","EV","B6","UA","EV","EV","EV","B6","EV","MQ","DL","WN","EV","DL","AA","UA","WN","EV","AS","DL","UA","MQ","UA","B6","EV","WN","UA","EV","AA","9E","DL","MQ","F9","UA","DL","DL","UA","B6","DL","B6","9E","DL","VX","MQ","B6","EV","UA","MQ","MQ","B6","B6","UA","B6","B6","AA","US","WN","DL","DL","UA","B6","B6","DL","B6","AA","MQ","DL","B6","B6","DL","DL","EV","UA","9E","YV","B6","DL","UA","UA","AA","UA","VX","EV","EV","DL","UA","B6","WN","B6","AA"],[1054,4558,497,705,1714,11,509,1514,3970,1995,1185,2380,2191,1185,745,2951,1850,19,21,3825,1575,5601,86,4536,1405,5660,1710,1161,4588,475,5038,985,2488,3475,27,715,425,1109,525,4212,3393,600,5965,4171,3285,287,1117,117,39,839,5769,4085,116,4449,1,1721,1496,1141,1407,1895,299,3072,1665,4312,4113,133,120,4491,2131,1069,1903,169,4380,763,1016,1016,3381,3899,700,343,4674,4166,3675,234,57,5288,329,235,199,4403,2017,95,5463,2391,1854,649,1312,1167,702,1647,652,258,3354,4532,1850,23,4596,329,177,89,3391,789,677,83,1030,553,179,173,185,1153,4060,341,1471,2136,51,1765,715,523,5716,4529,3325,3459,343,5222,3843,5813,2180,1685,65,1141,341,711,1175,3433,2405,1106,3694,269,145,1438,4670,1895,424,347,1734,3694,1947,463,583,760,707,1109,199,655,495,510,2098,3301,575,623,4099,389,763,4091,4297,1623,1017,430,2058,217,608,4662,3579,3535,440,2231,183,863,1935,695,3879,353,1819,1357,604,405,3532,2119,4187,85,371,4577,1973,4426,128,503,354,53,673,483,3856,1600,3584,24,27,364,3388,2431,2130,4380,863,4511,5287,327,5679,926,162,4131,1075,399,402,27,1925,3525,4403,2041,1647,2175,947,781,1979,1717,683,6054,1503,65,394,573,5709,543,331,4187,4711,5711,234,3263,3416,2319,2603,3835,2457,1895,281,1271,4411,21,161,342,3272,1003,3,3806,2870,390,5826,353,3472,1903,3363,835,257,1903,183,1217,208,2042,543,3521,1743,165,3407,323,4382,1680,4610,3441,415,1271,1207,8,431,1613,1802,1794,31,2079,399,1403,391,914,8,45,3404,1461,217,327,2319,2042,4326,1600,3608,3771,1729,1088,1139,1053,177,1162,411,4354,3845,440,388,173,329,611,1838],["N29124","N717MQ","N845UA","N746JB","N38727","N847VA","N599JB","N954WN","N8516C","N561UW","N316JB","N355JB","N730US","N266JB","N574UA","N8688C","N3JKAA","N336AA","N526AS","N22971","N38403","N718EV","N274JB","N11544","N24729","N14904","N16713","N507JB","N512MQ","N402UA","N371CA","N336NB","N4XEAA","N929XJ","N621VA","N594AA","N524UW","N314NB","N639JB","N18120","N601LR","N355JB","N14923","N13964","N932XJ","N455UA","N763JB","N279JB","N708JB","N655JB","N826AS","N16951","N247JB","N840MQ","N624JB","N38458","N16703","N5DDAA","N258JB","N560UW","N784JB","N520MQ","N76519","N14960","N16561","N338AA","N757AT","N738MQ","N902DE","N706JB","N924DL","N530VA","N18120","N751SW","N283JB","N353JB","N909XJ","N8745B","N540UA","N536UA","N521MQ","N12957","N511MQ","N411UA","N662JB","N758EV","N4XMAA","N3AAAA","N3AXAA","N840MQ","N109UW","N188DN","N750EV","N934DL","N366NW","N437UA","N762SW","N309DE","N281JB","N961DL","N846UA","N839UA","N913XJ","N16999","N3AAAA","N768JB","N16954","N3745B","N320AA","N809JB","N834MQ","N520UA","N807JB","N583JB","N490AA","N612JB","N329AA","N627JB","N338AA","N240WN","N8888D","N4YDAA","N784JB","N957UW","N389HA","N705TW","N363NB","N794JB","N830AS","N14180","N934XJ","N908XJ","N571UA","N713EV","N14558","N13913","N184JB","N973DL","N637JB","N5EAAA","N544AA","N3ADAA","N3CGAA","N924XJ","N380DA","N87527","N543MQ","N908DL","N796JB","N296JB","N531MQ","N183UW","N454UA","N910AT","N26123","N514MQ","N612DL","N578UA","N590JB","N901WN","N3HRAA","N333NW","N598JB","N5FSAA","N541UW","N417UA","N332NB","N509MQ","N366NB","N763JB","N22909","N632JB","N509UA","N8886A","N14143","N3FFAA","N18223","N7734H","N734SA","N779JB","N351JB","N530MQ","N834AY","N508MQ","N594UA","N379DA","N612JB","N710TW","N329NW","N807UA","N8516C","N943AT","N924DL","N5EXAA","N454UA","N434UA","N827MQ","N348NW","N12996","N363AA","N590JB","N505MQ","N565UW","N722MQ","N779JB","N3771K","N991AT","N595JB","N306DQ","N404UA","N232PQ","N29124","N958WN","N281JB","N392DA","N414UA","N844MQ","N200WN","N961UW","N17169","N706TW","N21154","N741EV","N547AA","N18102","N329NB","N14237","N15983","N335NB","N642VA","N317NB","N3762Y","N3FYAA","N602LR","N852MQ","N333NW","N392DA","N944UW","N917DE","N905DL","N194UW","N613JB","N807JB","N13123","N595JB","N3AJAA","N773NC","N592JB","N877AS","N613JB","N409UA","N11181","N14923","N877AS","N309JB","N17108","N507MQ","N3765","N959WN","N19966","N349NB","N3CRAA","N562UA","N720WN","N14904","N408AS","N930DL","N844UA","N711MQ","N33286","N587JB","N15983","N424WN",null,"N14998","N564AA","N916XJ","N328NB","N849MQ","N203FR","N502UA","N920DL","N704X","N35260","N184JB","N356NW","N709JB","N915XJ","N378DA","N633VA","N527MQ","N784JB","N15912","N73406","N534MQ","N800MQ","N587JB","N556JB","N27239","N323JB","N591JB","N5DYAA","N730US","N912WN","N705TW","N990DL","N546UA","N637JB","N703JB","N362NW","N608JB","N3JHAA","N722MQ","N712TW","N623JB","N595JB","N325US","N307DQ","N12996","N29129","N8965E","N512MJ","N590JB","N3752","N12225","N37263","N339AA","N36272","N621VA","N11150","N14974","N704X","N402UA","N507JB","N458WN","N236JB","N3FWAA"],["EWR","LGA","EWR","JFK","LGA","JFK","EWR","LGA","LGA","LGA","JFK","EWR","LGA","JFK","LGA","JFK","JFK","JFK","EWR","EWR","EWR","LGA","JFK","EWR","EWR","EWR","LGA","LGA","LGA","EWR","LGA","JFK","EWR","EWR","JFK","LGA","JFK","LGA","JFK","EWR","JFK","JFK","EWR","EWR","JFK","LGA","LGA","JFK","JFK","JFK","LGA","EWR","JFK","JFK","JFK","EWR","EWR","JFK","JFK","EWR","LGA","JFK","EWR","EWR","EWR","JFK","JFK","LGA","LGA","JFK","LGA","EWR","EWR","EWR","JFK","JFK","JFK","JFK","LGA","LGA","LGA","EWR","LGA","LGA","JFK","LGA","LGA","JFK","JFK","JFK","LGA","JFK","LGA","JFK","LGA","EWR","EWR","JFK","JFK","LGA","EWR","LGA","JFK","EWR","JFK","JFK","EWR","JFK","JFK","JFK","LGA","LGA","JFK","JFK","LGA","JFK","JFK","JFK","JFK","EWR","LGA","LGA","LGA","LGA","JFK","JFK","LGA","JFK","JFK","EWR","JFK","JFK","LGA","LGA","EWR","EWR","EWR","LGA","JFK","JFK","LGA","LGA","LGA","JFK","JFK","EWR","EWR","JFK","JFK","JFK","LGA","LGA","EWR","LGA","EWR","EWR","LGA","EWR","JFK","LGA","LGA","LGA","LGA","JFK","JFK","EWR","LGA","LGA","EWR","JFK","EWR","LGA","LGA","JFK","EWR","EWR","EWR","EWR","EWR","JFK","JFK","LGA","LGA","JFK","LGA","LGA","JFK","JFK","LGA","LGA","EWR","LGA","LGA","JFK","EWR","LGA","LGA","LGA","EWR","JFK","LGA","LGA","EWR","LGA","JFK","JFK","LGA","JFK","EWR","EWR","JFK","EWR","LGA","JFK","JFK","EWR","LGA","LGA","LGA","EWR","JFK","EWR","LGA","LGA","EWR","EWR","EWR","EWR","LGA","JFK","JFK","JFK","LGA","JFK","JFK","JFK","LGA","LGA","LGA","LGA","JFK","LGA","JFK","EWR","JFK","JFK","EWR","EWR","EWR","EWR","LGA","EWR","EWR","JFK","JFK","EWR","LGA","LGA","LGA","EWR","LGA","EWR","EWR","EWR","EWR","EWR","JFK","EWR","LGA","EWR","JFK","EWR","LGA","EWR","EWR","LGA","JFK","LGA","JFK","LGA","JFK","LGA","JFK","EWR","JFK","EWR","EWR","JFK","JFK","EWR","LGA","JFK","EWR","EWR","LGA","JFK","JFK","LGA","EWR","JFK","LGA","JFK","JFK","EWR","JFK","LGA","EWR","JFK","LGA","LGA","JFK","JFK","LGA","JFK","JFK","EWR","LGA","EWR","EWR","EWR","JFK","LGA","JFK","JFK","EWR","EWR","JFK","EWR","JFK","EWR","EWR","JFK","LGA","JFK","EWR","JFK","JFK"],["LAX","CLE","MIA","SJU","IAH","SFO","FLL","HOU","GRR","CLT","RDU","BOS","DCA","RDU","DEN","PHL","BOS","LAX","SEA","CMH","ORD","CLT","ROC","CVG","SEA","ATL","CLE","PBI","MSP","IAH","BHM","BOS","DFW","DTW","SFO","DFW","CLT","TPA","TPA","RDU","DCA","PWM","AVL","MSN","MSY","ORD","TPA","MSY","PBI","BQN","IAD","OMA","SYR","DCA","FLL","LAX","SNA","MIA","IAD","CLT","MCO","TPA","LAX","DCA","PIT","LAX","LAX","CLE","DTW","AUS","SRQ","LAX","MSP","AUS","BOS","BOS","BOS","CLE","IAH","DEN","CLE","GSP","BNA","ORD","PBI","BUF","ORD","SEA","ORD","RDU","CLT","LAX","BNA","TPA","FLL","CLE","DEN","TPA","BUF","ATL","RSW","ORD","DTW","CHS","BOS","LAX","STL","SJU","SFO","SAN","CMH","DEN","LAX","SEA","STL","PBI","SFO","SJC","LAX","MDW","PIT","ORD","FLL","BOS","HNL","SFO","MSY","LAX","IAD","XNA","DFW","BNA","DEN","BGR","BTV","RIC","BOS","MCO","ABQ","MIA","ORD","DFW","MIA","PIT","PHX","IAH","ORD","ATL","PBI","MVY","BNA","CLT","BOS","ATL","ORD","ORD","ATL","ORD","MCO","BNA","DFW","TPA","MCO","STT","PHX","MCO","MIA","RDU","ATL","LAX","STL","MCO","DEN","BWI","DTW","MIA","BOS","HOU","PHX","LGB","PWM","ATL","IAD","CMH","IAH","DTW","MCO","LAX","TPA","ORD","CVG","CAK","MSP","SJU","IAH","DEN","XNA","MSP","ROC","SFO","FLL","CLT","CLT","CMH","BTV","SAN","CAK","PBI","ATL","FLL","ATL","LAX","HOU","SYR","ATL","MIA","CMH","MDW","BOS","MSP","LAX","ROC","MSN","ORD","CMH","ATL","SFO","RIC","MSY","LAX","BOS","ATL","MIA","ORD","RDU","ATL","ATL","DCA","ATL","ATL","CLT","TPA","MCO","IAD","SJU","DFW","ATL","TPA","IAD","PBI","ORD","BNA","STL","IAD","BTV","RIC","RDU","MSP","BNA","BNA","MSY","MIA","SFO","MDW","MEM","SEA","MIA","SFO","CLE","PBI","SJU","DAY","DEN","MSY","PIT","ORD","DTW","SRQ","RDU","DEN","SFO","SRQ","SEA","CLE","BUF","ATL","PBI","ORD","ATL","LAX","CMH","LAX","DTW","MIA","ATL","DCA","SFO","FLL","SFO","PWM","SRQ","SJU","CLT","HOU","SFO","FLL","LAX","SJU","MCO","DEN","BUF","LAS","RDU","LAX","LGB","MCO","MSP","ATL","CLT","LAX","PHL","IAD","RSW","SAN","DEN","CLE","SFO","ORD","LAX","IAD","GSP","SEA","IAH","SJC","STL","JAX","BOS"],[338,65,156,199,210,344,135,233,86,97,65,34,40,75,253,32,37,350,346,72,116,78,49,104,349,113,73,129,154,223,134,35,209,77,366,228,82,149,149,null,47,49,83,120,150,108,136,195,155,183,52,158,44,null,160,317,302,155,43,113,132,162,357,50,56,351,325,67,82,207,158,305,173,199,32,35,40,79,216,224,77,89,111,113,139,50,135,332,128,72,85,314,97,161,166,71,234,144,55,108,169,124,83,118,43,312,121,193,339,334,81,228,null,342,125,133,341,374,301,96,58,106,155,37,657,320,152,346,47,145,201,112,218,56,51,59,35,125,267,148,112,203,151,57,276,185,106,103,141,39,105,78,43,109,114,103,123,104,125,106,222,156,122,216,309,129,172,66,120,306,124,138,246,35,92,165,41,222,279,323,49,105,54,84,205,105,142,332,140,107,92,55,151,205,184,223,173,144,58,332,155,87,70,72,43,325,60,137,112,144,119,319,201,62,103,181,89,104,39,149,328,50,110,119,67,100,334,50,160,306,50,98,165,122,72,105,109,54,120,117,86,145,133,43,200,215,109,135,40,133,111,123,157,59,48,62,null,141,112,150,161,148,355,100,152,324,183,349,61,144,214,87,212,null,54,115,83,134,75,225,345,161,323,70,57,121,171,125,98,362,77,362,null,143,115,51,330,154,366,44,166,212,88,194,314,152,332,210,135,232,52,319,65,338,321,127,141,116,82,326,37,47,142,298,240,62,360,120,333,49,88,348,203,354,114,118,35],[2454,419,1085,1598,1416,2586,1065,1428,618,544,427,200,214,427,1620,94,187,2475,2402,463,719,544,264,569,2402,746,419,1035,1020,1400,866,187,1372,488,2586,1389,541,1010,1005,416,213,273,583,799,1182,733,1010,1182,1028,1576,229,1134,209,213,1069,2454,2434,1089,228,529,950,1005,2454,199,319,2475,2475,419,502,1521,1047,2454,1008,1504,187,187,187,425,1416,1620,419,594,764,733,1028,292,733,2422,740,427,544,2475,764,1005,1076,404,1605,1005,301,762,1068,733,509,628,187,2475,872,1598,2586,2446,479,1620,2475,2422,888,1028,2586,2569,2475,711,335,733,1076,184,4983,2586,1183,2475,228,1131,1391,765,1620,378,266,277,200,950,1826,1089,733,1389,1096,340,2153,1400,719,760,1028,173,764,544,200,762,719,719,762,719,944,764,1389,1010,950,1623,2153,937,1096,431,746,2475,872,950,1620,184,488,1085,200,1411,2133,2465,273,762,229,483,1416,502,944,2475,1010,733,569,397,1020,1598,1400,1620,1147,1020,246,2586,1076,544,529,479,266,2446,397,1028,746,1065,760,2454,1428,209,760,1085,479,725,184,1008,2475,246,812,733,463,746,2565,277,1183,2475,187,760,1096,740,427,760,762,214,762,762,541,1010,944,212,1598,1391,746,997,212,1023,733,748,872,228,266,277,431,1020,764,748,1183,1085,2565,711,946,2402,1089,2565,419,1023,1598,533,1620,1167,319,733,509,1047,427,1620,2586,1047,2422,404,301,746,1023,740,760,2454,479,2475,488,1085,762,213,2586,1076,2565,273,1047,1598,541,1411,2586,1076,2454,1598,950,1620,301,2248,431,2475,2465,937,1020,746,529,2454,94,229,1074,2446,1605,404,2586,719,2475,212,594,2422,1416,2569,872,828,187],[13,8,16,14,5,7,18,15,9,14,17,11,18,17,15,19,12,10,7,8,19,16,17,20,6,14,15,16,14,20,19,20,17,11,16,7,18,8,6,16,14,9,8,13,19,7,16,6,20,23,19,20,9,20,10,16,12,5,17,13,17,15,7,19,12,15,9,13,18,20,10,18,8,13,18,18,12,19,17,6,18,7,10,7,10,8,12,19,17,14,10,15,8,18,19,8,7,8,21,11,14,9,18,7,12,7,15,17,18,16,14,6,20,17,9,12,9,18,21,15,11,15,10,17,9,10,8,20,6,8,15,15,6,18,8,8,6,13,20,5,15,6,6,19,18,5,15,8,6,17,9,12,8,11,13,15,12,18,6,13,6,8,9,8,6,13,11,17,6,22,6,7,15,19,8,11,7,17,13,18,22,20,8,19,5,16,9,12,15,20,7,10,14,8,20,11,15,7,16,15,6,13,18,13,22,17,20,10,14,13,6,15,7,17,8,11,12,9,14,9,12,10,17,11,8,18,13,19,9,7,16,6,14,19,14,19,11,13,19,12,12,7,7,13,23,15,9,15,10,16,7,10,8,10,22,12,15,10,18,15,8,6,7,20,17,7,16,9,8,13,7,12,7,7,7,18,18,10,8,8,15,10,7,18,6,16,18,8,8,13,8,11,17,18,8,19,18,19,19,7,13,18,13,6,17,14,16,5,17,8,14,17,11,16,18,17,10,17,15,15,9,16,15,17,16,18,18,7,13,6,21,7,6,18,7,8,8],[15,35,59,44,45,30,45,45,55,50,30,25,0,38,5,45,45,30,25,21,0,43,19,0,48,45,45,29,20,12,0,45,15,0,30,30,27,10,35,24,59,55,14,59,5,0,0,55,0,59,30,10,30,40,55,50,0,40,55,15,48,0,9,43,36,45,0,45,29,31,21,55,45,10,6,0,0,35,14,49,30,0,10,0,21,40,25,30,0,50,0,30,10,45,29,54,40,15,16,0,55,58,15,51,45,0,21,0,0,51,55,50,40,30,59,47,30,15,50,35,15,20,59,0,0,0,0,40,0,27,30,49,51,55,1,29,0,0,0,40,20,50,0,5,40,36,45,30,0,29,59,59,32,51,0,45,0,0,5,0,0,17,40,10,30,55,10,55,30,45,59,50,0,0,38,40,23,0,30,5,45,20,30,35,45,30,18,0,30,0,0,0,35,20,0,5,20,55,27,30,0,50,29,0,45,15,30,29,15,20,15,20,35,0,10,24,59,45,0,10,0,59,55,25,29,4,50,25,45,15,25,40,45,25,50,30,0,0,0,59,0,45,30,0,59,40,0,0,15,0,0,30,29,6,45,45,50,8,15,29,0,15,10,30,5,25,0,15,30,59,0,19,35,21,43,0,20,55,25,35,30,21,35,24,0,45,29,15,10,0,30,51,29,25,35,30,0,36,29,45,30,55,45,25,0,40,55,45,59,15,58,0,59,0,5,9,5,10,10,20,55,17,30,15,24,15,45,0,20,8,59,40,32,4,0,28,10],["2013-05-26T13:00:00Z","2013-04-30T08:00:00Z","2013-05-20T16:00:00Z","2013-06-12T14:00:00Z","2013-10-24T05:00:00Z","2013-01-02T07:00:00Z","2013-05-25T18:00:00Z","2013-12-25T15:00:00Z","2013-02-27T09:00:00Z","2013-11-27T14:00:00Z","2013-12-04T17:00:00Z","2013-08-11T11:00:00Z","2013-08-01T18:00:00Z","2013-03-31T17:00:00Z","2013-01-28T15:00:00Z","2013-11-10T19:00:00Z","2013-07-27T12:00:00Z","2013-03-16T10:00:00Z","2013-04-04T07:00:00Z","2013-07-06T08:00:00Z","2013-06-18T19:00:00Z","2013-07-19T16:00:00Z","2013-07-01T17:00:00Z","2013-02-15T20:00:00Z","2013-05-13T06:00:00Z","2013-04-26T14:00:00Z","2013-01-29T15:00:00Z","2013-08-26T16:00:00Z","2013-02-13T14:00:00Z","2013-12-09T20:00:00Z","2013-04-12T19:00:00Z","2013-09-27T20:00:00Z","2013-10-24T17:00:00Z","2013-09-09T11:00:00Z","2013-02-01T16:00:00Z","2013-01-25T07:00:00Z","2013-09-02T18:00:00Z","2013-11-21T08:00:00Z","2013-11-23T06:00:00Z","2013-07-10T16:00:00Z","2013-06-06T14:00:00Z","2013-04-28T09:00:00Z","2013-06-16T08:00:00Z","2013-05-31T13:00:00Z","2013-09-22T19:00:00Z","2013-03-06T07:00:00Z","2013-10-11T16:00:00Z","2013-02-21T06:00:00Z","2013-04-22T20:00:00Z","2013-11-21T23:00:00Z","2013-10-20T19:00:00Z","2013-09-13T20:00:00Z","2013-07-13T09:00:00Z","2013-06-09T20:00:00Z","2013-10-21T10:00:00Z","2013-09-18T16:00:00Z","2013-07-15T12:00:00Z","2013-03-26T05:00:00Z","2013-07-08T17:00:00Z","2013-01-25T13:00:00Z","2013-08-31T17:00:00Z","2013-12-16T15:00:00Z","2013-04-17T07:00:00Z","2013-04-04T19:00:00Z","2013-01-04T12:00:00Z","2013-01-16T15:00:00Z","2013-04-10T09:00:00Z","2013-04-30T13:00:00Z","2013-05-28T18:00:00Z","2013-05-14T20:00:00Z","2013-02-20T10:00:00Z","2013-07-09T18:00:00Z","2013-11-23T08:00:00Z","2013-05-04T13:00:00Z","2013-04-15T18:00:00Z","2013-03-26T18:00:00Z","2013-05-10T12:00:00Z","2013-02-04T19:00:00Z","2013-04-13T17:00:00Z","2013-03-21T06:00:00Z","2013-03-16T18:00:00Z","2013-08-22T07:00:00Z","2013-10-30T10:00:00Z","2013-02-15T07:00:00Z","2013-05-09T10:00:00Z","2013-09-30T08:00:00Z","2013-04-18T12:00:00Z","2013-10-02T19:00:00Z","2013-11-01T17:00:00Z","2013-05-20T14:00:00Z","2013-11-17T10:00:00Z","2013-07-09T15:00:00Z","2013-09-20T08:00:00Z","2013-11-07T18:00:00Z","2013-02-26T19:00:00Z","2013-03-18T08:00:00Z","2013-08-03T07:00:00Z","2013-07-25T08:00:00Z","2013-08-25T21:00:00Z","2013-08-03T11:00:00Z","2013-10-23T14:00:00Z","2013-01-21T09:00:00Z","2013-02-27T18:00:00Z","2013-03-19T07:00:00Z","2013-01-27T12:00:00Z","2013-06-29T07:00:00Z","2013-05-13T15:00:00Z","2013-01-25T17:00:00Z","2013-05-24T18:00:00Z","2013-10-17T16:00:00Z","2013-12-18T14:00:00Z","2013-12-01T06:00:00Z","2013-01-09T20:00:00Z","2013-05-16T17:00:00Z","2013-10-04T09:00:00Z","2013-10-06T12:00:00Z","2013-05-10T09:00:00Z","2013-03-03T18:00:00Z","2013-06-29T21:00:00Z","2013-05-05T15:00:00Z","2013-10-27T11:00:00Z","2013-10-08T15:00:00Z","2013-06-06T10:00:00Z","2013-07-16T17:00:00Z","2013-01-24T09:00:00Z","2013-05-19T10:00:00Z","2013-05-31T08:00:00Z","2013-11-23T20:00:00Z","2013-06-04T06:00:00Z","2013-05-19T08:00:00Z","2013-04-15T15:00:00Z","2013-10-30T15:00:00Z","2013-07-11T06:00:00Z","2013-04-09T18:00:00Z","2013-05-10T08:00:00Z","2013-11-27T08:00:00Z","2013-10-14T06:00:00Z","2013-06-01T13:00:00Z","2013-11-28T20:00:00Z","2013-03-05T05:00:00Z","2013-11-20T15:00:00Z","2013-04-09T06:00:00Z","2013-11-14T06:00:00Z","2013-09-20T19:00:00Z","2013-09-02T18:00:00Z","2013-07-04T05:00:00Z","2013-06-24T15:00:00Z","2013-03-09T08:00:00Z","2013-03-11T06:00:00Z","2013-09-01T17:00:00Z","2013-03-03T09:00:00Z","2013-09-27T12:00:00Z","2013-11-25T08:00:00Z","2013-05-22T11:00:00Z","2013-10-01T13:00:00Z","2013-08-19T15:00:00Z","2013-04-04T12:00:00Z","2013-02-28T18:00:00Z","2013-07-17T06:00:00Z","2013-10-12T13:00:00Z","2013-02-25T06:00:00Z","2013-02-12T08:00:00Z","2013-09-28T09:00:00Z","2013-01-04T08:00:00Z","2013-11-02T06:00:00Z","2013-03-04T13:00:00Z","2013-12-16T11:00:00Z","2013-09-17T17:00:00Z","2013-04-29T06:00:00Z","2013-07-09T22:00:00Z","2013-09-03T06:00:00Z","2013-03-28T07:00:00Z","2013-12-31T15:00:00Z","2013-03-02T19:00:00Z","2013-01-05T08:00:00Z","2013-03-26T11:00:00Z","2013-04-16T07:00:00Z","2013-02-27T17:00:00Z","2013-02-28T13:00:00Z","2013-06-13T18:00:00Z","2013-03-14T22:00:00Z","2013-06-04T20:00:00Z","2013-11-12T08:00:00Z","2013-06-26T19:00:00Z","2013-12-04T05:00:00Z","2013-07-08T16:00:00Z","2013-05-12T09:00:00Z","2013-06-23T12:00:00Z","2013-03-07T15:00:00Z","2013-10-07T20:00:00Z","2013-08-05T07:00:00Z","2013-08-21T10:00:00Z","2013-08-03T14:00:00Z","2013-08-29T08:00:00Z","2013-07-28T20:00:00Z","2013-10-26T11:00:00Z","2013-11-11T15:00:00Z","2013-08-28T07:00:00Z","2013-12-10T16:00:00Z","2013-04-09T15:00:00Z","2013-10-21T06:00:00Z","2013-02-12T13:00:00Z","2013-07-08T18:00:00Z","2013-03-30T13:00:00Z","2013-01-15T22:00:00Z","2013-01-04T17:00:00Z","2013-05-30T20:00:00Z","2013-07-04T10:00:00Z","2013-07-04T14:00:00Z","2013-09-27T13:00:00Z","2013-01-20T06:00:00Z","2013-06-12T15:00:00Z","2013-07-05T07:00:00Z","2013-05-29T17:00:00Z","2013-07-28T08:00:00Z","2013-02-26T11:00:00Z","2013-12-07T12:00:00Z","2013-07-09T09:00:00Z","2013-05-29T14:00:00Z","2013-09-08T09:00:00Z","2013-08-02T12:00:00Z","2013-12-20T10:00:00Z","2013-09-13T17:00:00Z","2013-04-06T11:00:00Z","2013-05-05T08:00:00Z","2013-10-25T18:00:00Z","2013-03-02T13:00:00Z","2013-09-01T19:00:00Z","2013-06-22T09:00:00Z","2013-06-08T07:00:00Z","2013-08-04T16:00:00Z","2013-09-07T06:00:00Z","2013-05-20T14:00:00Z","2013-04-17T19:00:00Z","2013-03-28T14:00:00Z","2013-06-19T19:00:00Z","2013-09-06T11:00:00Z","2013-02-23T13:00:00Z","2013-10-17T19:00:00Z","2013-09-25T12:00:00Z","2013-08-22T12:00:00Z","2013-11-20T07:00:00Z","2013-08-13T07:00:00Z","2013-07-24T13:00:00Z","2013-07-31T23:00:00Z","2013-12-11T15:00:00Z","2013-11-10T09:00:00Z","2013-09-12T15:00:00Z","2013-09-15T10:00:00Z","2013-08-07T16:00:00Z","2013-07-27T07:00:00Z","2013-08-19T10:00:00Z","2013-12-31T08:00:00Z","2013-01-14T10:00:00Z","2013-09-27T22:00:00Z","2013-01-22T12:00:00Z","2013-10-11T15:00:00Z","2013-07-30T10:00:00Z","2013-06-16T18:00:00Z","2013-01-16T15:00:00Z","2013-06-13T08:00:00Z","2013-04-02T06:00:00Z","2013-11-29T07:00:00Z","2013-06-07T20:00:00Z","2013-11-18T17:00:00Z","2013-04-10T07:00:00Z","2013-02-11T16:00:00Z","2013-11-09T09:00:00Z","2013-07-19T08:00:00Z","2013-02-21T13:00:00Z","2013-09-29T07:00:00Z","2013-12-02T12:00:00Z","2013-05-19T07:00:00Z","2013-12-15T07:00:00Z","2013-07-07T07:00:00Z","2013-04-24T18:00:00Z","2013-08-18T18:00:00Z","2013-07-09T10:00:00Z","2013-12-16T08:00:00Z","2013-04-19T08:00:00Z","2013-12-21T15:00:00Z","2013-02-12T10:00:00Z","2013-10-06T07:00:00Z","2013-04-07T18:00:00Z","2013-03-01T06:00:00Z","2013-11-04T16:00:00Z","2013-12-30T18:00:00Z","2013-04-01T08:00:00Z","2013-09-26T08:00:00Z","2013-04-23T13:00:00Z","2013-07-11T08:00:00Z","2013-11-17T11:00:00Z","2013-06-27T17:00:00Z","2013-07-05T18:00:00Z","2013-02-24T08:00:00Z","2013-06-29T19:00:00Z","2013-07-20T18:00:00Z","2013-08-11T19:00:00Z","2013-05-23T19:00:00Z","2013-06-27T07:00:00Z","2013-02-15T13:00:00Z","2013-01-22T18:00:00Z","2013-12-13T13:00:00Z","2013-05-01T06:00:00Z","2013-03-01T17:00:00Z","2013-03-22T14:00:00Z","2013-02-14T16:00:00Z","2013-10-12T05:00:00Z","2013-05-06T17:00:00Z","2013-02-19T08:00:00Z","2013-02-26T14:00:00Z","2013-12-16T17:00:00Z","2013-07-31T11:00:00Z","2013-03-05T16:00:00Z","2013-05-28T18:00:00Z","2013-06-23T17:00:00Z","2013-06-25T10:00:00Z","2013-05-01T17:00:00Z","2013-03-03T15:00:00Z","2013-08-01T15:00:00Z","2013-04-09T09:00:00Z","2013-06-10T16:00:00Z","2013-06-22T15:00:00Z","2013-03-01T17:00:00Z","2013-09-18T16:00:00Z","2013-08-29T18:00:00Z","2013-10-18T18:00:00Z","2013-02-12T07:00:00Z","2013-01-19T13:00:00Z","2013-03-13T06:00:00Z","2013-12-04T21:00:00Z","2013-12-20T07:00:00Z","2013-05-17T06:00:00Z","2013-04-17T18:00:00Z","2013-08-25T07:00:00Z","2013-01-11T08:00:00Z","2013-03-05T08:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">2.4</span> filter</h2>
<p>データを行で絞る場合は<code>dplyr::filter</code>関数を用います。条件式には比較演算子の他に論理演算子等が使えます。アメリカン航空（AA）のフライトデータを抜き出してみるには以下のように指定します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-379c7528a6a1629faf60" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-379c7528a6a1629faf60">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5"],[2013,2013,2013,2013,2013],[1,5,10,3,4],[10,4,17,3,19],[604,717,1659,855,727],[610,725,1700,900,730],[-6,-8,-1,-5,-3],[851,822,1836,1204,1026],[910,905,1855,1220,1050],[-19,-43,-19,-16,-24],["AA","AA","AA","AA","AA"],[1895,305,199,1,33],["N5EGAA","N587AA","N3HCAA","N327AA","N336AA"],["EWR","LGA","JFK","JFK","JFK"],["MIA","ORD","ORD","LAX","LAX"],[145,104,122,338,329],[1085,733,740,2475,2475],[6,7,17,9,7],[10,25,0,0,30],["2013-01-10T06:00:00Z","2013-05-04T07:00:00Z","2013-10-17T17:00:00Z","2013-03-03T09:00:00Z","2013-04-19T07:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="select" class="section level2">
<h2><span class="header-section-number">2.5</span> select</h2>
<p><code>nycflights13::flights</code>は項目数が多いので表示項目を限定してみましょう。項目（列）を選択するには<code>dplyr::select</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(year, month, day, dep_time, carrier, origin, dest) %&gt;% 
                                         # 7項目に絞ってみる
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-8dd6dd321e0f8337c463" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8dd6dd321e0f8337c463">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6"],[2013,2013,2013,2013,2013,2013],[2,6,11,9,7,8],[5,4,19,6,10,30],[1502,1753,729,1924,745,922],["AA","AA","AA","AA","AA","AA"],["LGA","LGA","LGA","JFK","LGA","JFK"],["DFW","MIA","MIA","SEA","ORD","MIA"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>carrier<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="rename" class="section level2">
<h2><span class="header-section-number">2.6</span> rename</h2>
<p>項目名を日本語に変更してみましょう。項目名（列名）を変更するには<code>dplyr::rename</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(year, month, day, dep_time, carrier, origin, dest) %&gt;% 
  dplyr::rename(&#39;年&#39; = year, &#39;月&#39; = month, &#39;日&#39; = day, &#39;出発時間&#39; = dep_time,
                &#39;航空会社&#39; = carrier, &#39;出発地&#39; = origin, &#39;目的地&#39; = dest) %&gt;%
                                         # 項目名（列名）を日本語に変える
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-f7fb7d8208366fa4ff87" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f7fb7d8208366fa4ff87">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[11,12,8,1,10,7,11,4,11,1],[1,29,1,1,16,14,30,19,8,18],[1242,1007,1842,623,1531,1631,1701,1232,2022,1451],["AA","AA","AA","AA","AA","AA","AA","AA","AA","AA"],["JFK","LGA","EWR","LGA","JFK","JFK","JFK","EWR","LGA","JFK"],["MIA","ORD","MIA","MIA","SFO","SFO","LAS","DFW","ORD","MIA"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>年<\/th>\n      <th>月<\/th>\n      <th>日<\/th>\n      <th>出発時間<\/th>\n      <th>航空会社<\/th>\n      <th>出発地<\/th>\n      <th>目的地<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
<div id="selectによるrename" class="section level3">
<h3><span class="header-section-number">2.6.1</span> selectによるrename</h3>
<p><code>dplyr::select</code>関数で項目を指定する際に名前も指定すると選択と同時に名前を変更することが可能です。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(&#39;年&#39; = year, &#39;月&#39; = month, &#39;日&#39; = day, &#39;出発時間&#39; = dep_time,
                &#39;航空会社&#39; = carrier, &#39;出発地&#39; = origin, &#39;目的地&#39; = dest) %&gt;% 
                                         # 選択と共に名前を日本語に変える
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-27cb0aef642ec90fb46e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-27cb0aef642ec90fb46e">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7"],[2013,2013,2013,2013,2013,2013,2013],[6,4,9,9,8,10,9],[7,2,30,13,5,22,25],[1901,537,1359,1501,1600,1224,1847],["AA","AA","AA","AA","AA","AA","AA"],["LGA","JFK","LGA","JFK","JFK","LGA","JFK"],["DFW","MIA","DFW","MCO","BOS","ORD","SFO"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>年<\/th>\n      <th>月<\/th>\n      <th>日<\/th>\n      <th>出発時間<\/th>\n      <th>航空会社<\/th>\n      <th>出発地<\/th>\n      <th>目的地<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
</div>
<div id="mutate" class="section level2">
<h2><span class="header-section-number">2.7</span> mutate</h2>
<p><code>arr_delay</code>から<code>dep_delay</code>を引いて実遅延時間を計算してみます。行毎に値を求めますのでWindow関数である<code>dplyr::mutate</code>関数を用います。<code>arr_delay</code>と<code>dep_delay</code>に<code>NA</code>データが含まれていますので計算結果が<code>NA</code>となった場合には<code>tidyr::drop_na</code>関数で削除します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  dplyr::select(dep_time, arr_time, carrier, origin, dest, delay) %&gt;% 
                                          # 表示を6項目に絞る
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-e8c70b899d8f64b25b6d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8c70b899d8f64b25b6d">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97"],[1949,553,1608,714,1534,1549,601,1803,1152,1531,827,1600,1156,1751,1227,1050,756,823,1441,1414,922,608,1613,2126,656,904,736,1555,1348,1255,1939,1820,629,1831,2119,2000,1414,1332,1625,1001,1719,640,1206,1846,859,1307,910,1044,1138,632,958,1557,622,1751,824,659,1044,1755,1254,1727,1816,1025,611,752,822,924,2045,825,1600,1927,1151,1500,1440,1605,2156,949,1139,1609,1327,125,905,1542,1311,1448,634,2025,1837,1707,1213,1458,1320,2032,1242,804,1951,755,1444],[2207,754,1825,1008,1743,1811,848,1958,1352,1835,1024,1840,1307,1915,1341,1409,937,951,1605,1556,1216,1001,1808,2218,941,1012,923,1813,1446,1431,2145,2037,821,2047,12,2203,1519,1447,1945,1304,2027,907,1300,2049,1028,1451,1233,1206,1450,936,1242,1806,809,2040,1138,1011,1343,1931,1416,2057,2031,1242,903,923,1251,1202,2226,1107,1849,2118,1513,1647,1639,1754,7,1312,1455,1956,1532,356,1209,1805,1603,1600,931,2330,2054,2026,1316,1707,1534,2311,1455,1002,2304,929,1612],["9E","EV","9E","VX","EV","MQ","AA","EV","WN","DL","EV","B6","DL","B6","9E","B6","B6","AA","9E","MQ","AA","B6","MQ","EV","DL","9E","EV","MQ","B6","WN","MQ","EV","US","DL","UA","EV","B6","WN","B6","UA","DL","B6","EV","DL","UA","EV","B6","B6","VX","AA","DL","EV","US","UA","AA","VX","VX","MQ","UA","DL","US","DL","AA","MQ","B6","MQ","9E","DL","DL","WN","AA","EV","US","EV","B6","DL","AA","UA","DL","B6","DL","UA","B6","9E","B6","UA","9E","B6","UA","US","MQ","UA","EV","9E","B6","US","9E"],["JFK","EWR","JFK","JFK","EWR","LGA","JFK","LGA","LGA","JFK","LGA","EWR","JFK","JFK","JFK","JFK","JFK","LGA","JFK","LGA","EWR","JFK","LGA","EWR","LGA","JFK","EWR","JFK","JFK","LGA","LGA","EWR","JFK","JFK","EWR","EWR","JFK","LGA","JFK","EWR","JFK","JFK","EWR","JFK","LGA","LGA","JFK","JFK","JFK","LGA","LGA","EWR","LGA","EWR","LGA","JFK","EWR","LGA","EWR","JFK","JFK","EWR","EWR","JFK","JFK","LGA","JFK","JFK","EWR","LGA","JFK","EWR","LGA","EWR","JFK","JFK","JFK","JFK","JFK","LGA","LGA","EWR","LGA","JFK","JFK","EWR","JFK","JFK","EWR","EWR","LGA","EWR","EWR","JFK","JFK","LGA","JFK"],["CVG","CLT","MSP","LAX","GRR","CLT","MIA","MSN","DEN","FLL","CLT","PBI","BOS","IAD","BOS","MCO","RDU","ORD","BUF","MSP","DFW","SJU","BNA","MHT","MCO","BOS","DTW","CVG","MVY","MKE","DTW","MEM","CLT","ATL","SFO","GSP","BOS","MDW","LAX","LAX","SLC","PBI","PVD","DTW","ORD","PWM","PBI","BUF","LAS","DFW","ATL","GSP","CLT","IAH","MIA","LAX","SFO","RDU","ORD","SFO","CLT","ATL","MIA","RDU","SJU","ATL","CLE","ATL","ATL","STL","LAX","DTW","CLT","BNA","JAX","SFO","SFO","LAX","ATL","FLL","FLL","DEN","RSW","IAD","PBI","MIA","CVG","FLL","BOS","CLT","DTW","FLL","ATL","MSP","SLC","DCA","IAD"],[-5,-9,-23,-1,-2,22,-13,16,-25,-28,-13,-9,-6,-2,0,32,6,-17,-17,-18,-11,10,25,-29,-2,-16,-6,-2,-14,6,1,14,-4,-19,-47,4,-5,-10,-9,-3,-27,-25,-6,-9,-5,14,27,3,17,-1,7,14,-18,-14,4,-3,-11,1,-15,-19,9,-1,-8,-9,-18,13,-32,4,31,6,12,-8,-1,16,-18,4,1,25,-30,-20,-12,-6,-14,-22,5,-7,-7,8,-18,13,9,-28,-16,-29,-5,21,-6]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dep_time<\/th>\n      <th>arr_time<\/th>\n      <th>carrier<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="summarize" class="section level2">
<h2><span class="header-section-number">2.8</span> summarize</h2>
<p>次にSummarize関数を用いいて目的地毎の平均遅延時間を計算してみます。まず、目的に毎にデータをまとめるには<code>dplyr::group_by</code>関数を用います。次に<code>dplyr::summarize_at</code>関数を用いて遅延時間の平均値を求めます。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest) %&gt;%                      # 目的地毎にグループ化
  dplyr::summarise_at(vars(delay), funs(mean)) %&gt;% 
                                          # 平均遅延時間を計算
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-4b40afbca80ee808fd65" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-4b40afbca80ee808fd65">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43"],["ALB","ATL","AUS","AVL","BOS","BWI","CHS","CLE","CLT","CMH","CVG","DCA","DEN","DFW","DTW","FLL","GSP","IAD","IAH","IND","LAS","LAX","MCI","MCO","MDW","MIA","MSP","MSY","OKC","ORD","PBI","PHL","RDU","ROC","SAN","SAT","SDF","SEA","SJU","SRQ","STL","TPA","XNA"],[-13,0.75,-12,-5,-4.83333333333333,-13,-15.5,-1,-16,-12,-4,-6,-0.5,11.5,9.33333333333333,-6.6,-13,-5,-1.33333333333333,-10,-9,-29,-1,0.666666666666667,-17.5,-9,-9,-13,-8,-15,-0.75,3,0.5,-9.66666666666667,-31,38,8,13,-1.5,-10.5,-4,-2,6.66666666666667]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="group_by" class="section level2">
<h2><span class="header-section-number">2.9</span> group_by</h2>
<p>データをまとめる<code>dplyr::group_by</code>関数は複数の項目（列）に対して適用することも可能です。これを用いて目的地と航空会社に対して平均遅延時間をクロス集計をしてみましょう。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest, carrier) %&gt;%             # 目的地と航空会社でグループ化
  dplyr::summarise_at(vars(delay), funs(mean)) %&gt;% 
                                          # 平均遅延時間を計算
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-9b9dd013d02239d9ad24" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9b9dd013d02239d9ad24">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67"],["ALB","ATL","ATL","ATL","AVL","BNA","BOS","BOS","BOS","BOS","BUF","BUR","CAE","CLE","CLT","CLT","CVG","DCA","DCA","DCA","DEN","DEN","DFW","DTW","DTW","DTW","FLL","FLL","GSP","HOU","IAD","IAD","IND","LAX","LAX","LAX","LGB","MCO","MDW","MIA","MIA","MKE","MSP","MSP","MSY","ORD","ORD","PBI","PBI","PBI","PDX","PDX","PHX","RDU","ROC","RSW","SAN","SAT","SEA","SFO","SFO","SFO","SLC","STL","STL","SYR","TPA"],["EV","DL","FL","MQ","EV","MQ","B6","DL","UA","US","EV","B6","EV","UA","EV","US","9E","EV","MQ","US","UA","WN","AA","DL","EV","MQ","B6","UA","EV","WN","9E","EV","EV","DL","UA","VX","B6","B6","WN","AA","DL","WN","EV","MQ","DL","AA","UA","B6","DL","UA","DL","UA","B6","MQ","EV","B6","UA","UA","AA","B6","UA","VX","DL","EV","WN","B6","DL"],[-15,-4.75,-2,-5.5,0,-1,-10,-6.5,-17,-13,16,9,19,-6,19,0.5,-31,16,43,-4,-2,-10,-24,-20,-12,22.5,-22,-26,-9,-18,11,4,-17,-26,-4,11.5,-17,-2,-18,-14,4,2.5,-30,-12,-10,-2,-2.42857142857143,-9.66666666666667,-11,-17,9,-18,6,-21,29.5,12,-19,-34,-16,9,0,4,-25,12,-11,-5,-16]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>carrier<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="spread" class="section level2">
<h2><span class="header-section-number">2.10</span> spread</h2>
<p>整然データのままでは人間が情報を把握するのは困難ですので雑然データの形式に変更してみます。これには<code>tidyr::spread</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest, carrier) %&gt;%             # 目的地と航空会社でグループ化
  dplyr::summarise_at(vars(delay), funs(round(mean(.), 0))) %&gt;% 
                                          # 平均遅延時間を計算
  tidyr::spread(key = carrier, value = delay) %&gt;% 
                                          # 雑然データ形式で表示
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-a1343da397c11a821386" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a1343da397c11a821386">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41"],["ATL","AUS","BNA","BOS","BUF","CAK","CHS","CLE","CLT","CMH","CVG","DAY","DCA","DEN","DFW","DSM","DTW","FLL","GSO","HNL","IAD","IAH","LAX","MCO","MIA","MKE","MSY","ORD","PBI","PHX","PIT","PWM","RDU","ROC","SAN","SFO","SJC","SJU","SYR","TPA","XNA"],[null,null,null,null,null,null,null,null,null,null,null,null,-25,null,null,null,null,null,null,null,12,null,null,null,null,null,null,-11,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,-11,null,null,null,null,null,null,null,29,null,-4,null,null,-18,null,null,null,null,null,null,null,null,null,null,null,5,null],[null,-10,null,-19,9,null,-11,null,null,null,null,null,null,null,null,null,null,10,null,null,null,null,3,-12,null,null,null,null,-5,null,null,null,5,null,null,null,-16,8,4,-6,null],[14,null,null,27,null,null,null,null,null,null,null,null,null,-31,null,null,-21,-12,null,null,null,null,-34,7,-15,null,null,null,null,null,-25,-20,null,null,null,null,null,null,null,null,null],[-16,null,null,null,null,null,null,null,null,8,4,-8,10,null,null,17,null,null,-24,null,-6,null,null,null,null,null,-8,null,null,null,null,null,null,-7,null,null,null,null,null,null,null],[null,null,null,null,null,13,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-33,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[4,null,8,null,null,null,null,29,null,null,13,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-3,null,null,null,null,null,null,null,-10],[null,null,null,-12,null,null,null,-20,null,null,null,null,null,36,null,null,null,-6,null,null,null,59,-38,-17,null,null,null,-13,-27,-23,null,null,null,null,15,-7,null,null,null,null,null],[null,null,null,-18,null,null,null,null,-4,null,null,null,-9,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-11,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,10,null,null,null,null,null,null,null,null,null,null,-7,null,null,null,null,null,null,null,null,null,null,null,-30,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>9E<\/th>\n      <th>AA<\/th>\n      <th>B6<\/th>\n      <th>DL<\/th>\n      <th>EV<\/th>\n      <th>FL<\/th>\n      <th>HA<\/th>\n      <th>MQ<\/th>\n      <th>UA<\/th>\n      <th>US<\/th>\n      <th>VX<\/th>\n      <th>WN<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="join" class="section level2">
<h2><span class="header-section-number">2.11</span> join</h2>
<p>目的地と航空会社の表示にコードが使われていますので、これらを分かりやすく目的地の空港名と航空会社名にしてみましょう。データセットの項で説明したように航空会社名は<code>airline</code>データセットに空港名は<code>airport</code>データセットにありますので、これらのデータセットを結合して名前を取り込みます。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  dplyr::select(dep_time, arr_time, carrier, origin, dest, delay) %&gt;% 
                                          # 対象項目を減らす
  dplyr::left_join(nycflights13::airlines) %&gt;% 
                                          # 航空会社データと結合
  dplyr::left_join(nycflights13::airports, by = c(&quot;dest&quot; = &quot;faa&quot;)) %&gt;%
                                          # 空港データと結合
  dplyr::select(carrier_name = name.x, dest_name = name.y, delay) %&gt;% 
                                          # 項目名を変更・選択
  dplyr::group_by(dest_name, carrier_name) %&gt;% 
                                          # 目的地名と航空会社名でグループ化
  dplyr::summarise_at(vars(delay), funs(round(mean(.), 1))) %&gt;% 
                                          # 平均遅延時間を計算
  tidyr::spread(key = carrier_name, value = delay) %&gt;% 
                                          # 雑然データ形式で表示
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<pre><code>## Joining, by = &quot;carrier&quot;</code></pre>
<div id="htmlwidget-221662d686254b1a7daf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-221662d686254b1a7daf">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40"],["Albany Intl","Asheville Regional Airport","Buffalo Niagara Intl","Burlington Intl","Charleston Afb Intl","Charlotte Douglas Intl","Chicago Ohare Intl","Cleveland Hopkins Intl","Dallas Fort Worth Intl","Dane Co Rgnl Truax Fld","Denver Intl","Detroit Metro Wayne Co","Fort Lauderdale Hollywood Intl","General Edward Lawrence Logan Intl","George Bush Intercontinental","Greater Rochester Intl","Hartsfield Jackson Atlanta Intl","Jacksonville Intl","James M Cox Dayton Intl","John Wayne Arpt Orange Co","Los Angeles Intl","Louis Armstrong New Orleans Intl","Manchester Regional Airport","Mc Carran Intl","Miami Intl","Minneapolis St Paul Intl","Nashville Intl","Norfolk Intl","Norman Y Mineta San Jose Intl","Orlando Intl","Palm Beach Intl","Phoenix Sky Harbor Intl","Ronald Reagan Washington Natl","San Antonio Intl","San Francisco Intl","Southwest Florida Intl","Syracuse Hancock Intl","Tampa Intl","Washington Dulles Intl",null],[null,null,null,null,null,null,49,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-0.7,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-25.5],[null,null,null,null,null,null,null,null,null,null,-12.5,-11.5,null,null,null,null,-3.3,null,null,null,22,null,null,-29.5,-8,null,null,null,null,null,null,null,null,null,26,null,null,null,null,null],[null,null,null,null,-19,null,-8,null,null,null,null,null,null,null,null,-22,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-10,null],[null,null,null,null,null,null,null,-6,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-8.5,null,null,null,null,null,19.5,null,null,null,null,null,null,null],[-21,14,-7,null,null,-24,null,null,null,1,null,-2,null,null,null,-2,null,51,-11,null,null,null,-3,null,null,20,13,-16,null,null,null,null,null,null,null,null,null,null,-9,null],[null,null,-9,9,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32,14,null,null,null,null,null,null,18,-15,-9,null,null,null,null,-11,-1,null,null,1.5],[null,null,null,null,null,-7.2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-7,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,16,-5.5,null,null,-3.6,null,-15,-11,-13,null,null,null,null,-59,36,null,null,-23,null,null,null,null,null,-1.7,null,null,null,-11,-0.7,null,null,-19,null,null]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest_name<\/th>\n      <th>American Airlines Inc.<\/th>\n      <th>Delta Air Lines Inc.<\/th>\n      <th>Endeavor Air Inc.<\/th>\n      <th>Envoy Air<\/th>\n      <th>ExpressJet Airlines Inc.<\/th>\n      <th>JetBlue Airways<\/th>\n      <th>US Airways Inc.<\/th>\n      <th>United Air Lines Inc.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<hr />
<!-- Footer -->
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" title="CC BY-NC-SA 4.0 icon" alt="Sampo Suzuki" /> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja" title="CC BY-NC-SA 4.0">CC BY-NC-SA 4.0</a>, Sampo Suzuki [2017-07-25 22:58(JST)]</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
