<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="k-metrics" />


<title>dplyrのすゝめ</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="site_libs/datatables-binding-0.2/datatables.js"></script>
<link href="site_libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-bootstrap-1.10.12/js/jquery.dataTables.min.js"></script>
<script src="site_libs/dt-core-bootstrap-1.10.12/js/dataTables.bootstrap.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">環境基礎</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./index.html">Top</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="./coding_style.html">Coding Style</a>
    </li>
    <li>
      <a href="./r_basics.html">R Basics</a>
    </li>
    <li>
      <a href="./r_basics_2.html">R Basics part2</a>
    </li>
    <li>
      <a href="./rstudio_basics.html">RStudio Basics</a>
    </li>
    <li>
      <a href="./dplyr_basics.html">dplyrのすゝめ</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Others
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./about.html">About</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Program
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../index.html">
        <span class="fa fa-home"></span>
         
        Program Top
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../env/index.html">
        <span class="fa fa-laptop"></span>
         
        分析環境
      </a>
    </li>
    <li>
      <a href="./index.html">
        <span class="fa fa-info-circle"></span>
         
        環境基礎
      </a>
    </li>
    <li>
      <a href="../others/">
        <span class="fa fa-commenting"></span>
         
        その他
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-github"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../">
        <span class="fa fa-github"></span>
         
        Cabinet
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../../import/">　Import</a>
    </li>
    <li>
      <a href="../tidy/">　Tidy/Transform</a>
    </li>
    <li>
      <a href="../index.html">　Model/Infer</a>
    </li>
    <li>
      <a href="../../visualize/">　Visualize</a>
    </li>
    <li>
      <a href="../../communicate/">　Communicate/Automate</a>
    </li>
    <li>
      <a href="../../program/">
        <span class="fa fa-home"></span>
         
        Program
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="https://sites.google.com/site/kantometrics/home">
        <span class="fa fa-google"></span>
         
        データ分析勉強会
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">dplyrのすゝめ</h1>

</div>


<!-- Common Links -->
<!-- SQiP and others -->
<!-- Books -->
<!-- Net Community -->
<!-- Style Guide -->
<!-- Creative Commons -->
<!-- R -->
<!-- R Packages -->
<!-- RStudio -->
<!-- Docker -->
<!-- Cabinet Pages -->
<hr />
<div id="はじめに" class="section level1 unnumbered">
<h1>はじめに</h1>
<p>データ分析を行ってみたいがデータが思うように揃わないということは多々あります。ところが色々と調べてみると意外にも記録として様々な形で分散してることがあります。ただ、このような記録はそのままでは分析データとして使えないために整理する必要があります。整理するにしても手動では手間がかかり過ぎたり間違いが混入したりと容易に予想できますし、そのようなデータは大抵手順などが属人化し過ぎて再現（復元）が困難です。<br />
　</p>
<div id="データハンドリング" class="section level2 unnumbered">
<h2>データハンドリング</h2>
<p>そこで、散らばっている様々な記録を分析データとして扱えるようにする処理がデータハンドリングです。一般的に統計分析処理においてデータ分析に費やす時間は全体の一割程度と言われます。残りの九割は分析データとして扱えるように行う処理、すなわち、データハンドリングに費やされていることになります。逆に言えば、データハンドリングはデータ分析において重要な工程なのです。<br />
　</p>
</div>
<div id="処理の自動化" class="section level2 unnumbered">
<h2>処理の自動化</h2>
<p>データハンドリングはデータ分析には必須ですが、手間がかかる作業は自動化したいものです。特にデータ量が多くなってくると手動でのデータハンドリングには限界があります。分析環境とデータハンドリング環境は別の環境でも構いませんが、全体の作業効率を考えると分析環境でデータハンドリングができるのがベストです。そこで、活用したいのが<a href="https://www.r-project.org/" title="The R Project">R</a>のデータハンドリング用パッケージと言える<code>tidyverse</code>パッケージです。本資料では<code>tidyverse</code>パッケージの中でも整然データ（Tidy Data）を作るのに必須と言える<code>dplyr</code>パッケージと<code>tidyr</code>パッケージを中心に解説していきます。<br />
　</p>
</div>
</div>
<div id="整然データとは" class="section level1">
<h1><span class="header-section-number">1</span> 整然データとは</h1>
<p>整然データ（Tidy Data）とはJournal of Statistical Software Vol.59(2014)に掲載されたHadley Wickhamの論文<a href="https://www.jstatsoft.org/article/view/v059i10">Tidy Data</a>において提唱されたデータ分析に有用な概念です。簡潔に日本語で整理された情報は<a href="http://id.fnshr.info/2017/01/09/tidy-data-intro/">整然データとは何か</a>や<a href="https://speakerdeck.com/fnshr/zheng-ran-detatutenani">整然データってなに？</a>で公開されていますので、まずは、こちらで整然データ（Tidy Data）の概念を把握して下さい。<br />
　</p>
<div id="雑然データ" class="section level2">
<h2><span class="header-section-number">1.1</span> 雑然データ</h2>
<p>整然データと対をなすのは雑然データ（Messy Data）と言われるものです。雑然データはデータ分析環境にとっては扱いにくいデータなのですが、人間にとっては理解しやすい構造のために多用されています。概ね記録は雑然データとして残されています。<br />
　</p>
</div>
<div id="雑然データと整然データ" class="section level2">
<h2><span class="header-section-number">1.2</span> 雑然データと整然データ</h2>
<p>言葉だけでは分かりにくいので具体な比較してみましょう。</p>
<table>
<caption>雑然データ</caption>
<thead>
<tr class="header">
<th align="left">日付</th>
<th align="center">項目A</th>
<th align="center">項目B</th>
<th align="center">項目C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="center">1</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
<tr class="even">
<td align="left">2017-5-2</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="left">2017-5-3</td>
<td align="center">3</td>
<td align="center">NA</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<table>
<caption>整然データ</caption>
<thead>
<tr class="header">
<th align="left">日付</th>
<th align="left">項目</th>
<th align="center">値</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="left">項目A</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="left">2017-5-1</td>
<td align="left">項目B</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="left">2017-5-1</td>
<td align="left">項目C</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<p>このように雑然データはクロス集計されたような形式であり行と列が交差する部分を読み取らないとデータの意味が理解できない形式です。一方、整然データは雑然データに比べて冗長ですが行を読み取るだけで一つのデータの意味が理解できる形式です。 　</p>
</div>
<div id="整然データの定義" class="section level2">
<h2><span class="header-section-number">1.3</span> 整然データの定義</h2>
<p>上記から分かるように整然データとは以下の満たしたデータ形式のことです。</p>
<ol style="list-style-type: decimal">
<li>個々の変数が一つの列になっている</li>
<li>個々の観測（値）が一つの行になっている</li>
<li>個々の観測（値）の構成単位の累計が一つの表になっている</li>
<li>個々の値は一つのセルになっている</li>
</ol>
<p><a href="https://www.r-project.org/" title="The R Project">R</a>をはじめとした分析環境はデータ形式が整然データであることを要求しますので、データハンドリングの基本として整然データを作れるようになるのが一番のポイントとなります。 　</p>
</div>
</div>
<div id="データハンドリング基礎" class="section level1">
<h1><span class="header-section-number">2</span> データハンドリング基礎</h1>
<p>では、実際に<code>dplyr</code>パッケージと<code>tidyr</code>パッケージを用いたデータハンドリングの具体例を学んでいきましょう。</p>
<div id="パイプ演算子" class="section level2">
<h2><span class="header-section-number">2.1</span> パイプ演算子</h2>
<p><code>dplyr</code>パッケージや<code>tidyr</code>パッケージを始めとした<code>tidyverse</code>パッケージではパイプ演算子<code>%&gt;%</code>を用いて記述されることが殆どですので、まずはパイプ演算子<code>%&gt;%</code>を覚える必要があります。 パイプ演算子は</p>
<ul>
<li>演算子の左側の値を演算子の右側の（関数の）第一引数として渡す</li>
</ul>
<p>演算子です。最も簡単な事例で見てみましょう。<code>1 + 2</code>をパイプ演算子を使って記述すると以下のようになります。</p>
<pre class="r"><code>1 %&gt;% 
  + 2</code></pre>
<pre><code>## [1] 3</code></pre>
<p>関数の場合は<code>summary(iris)</code>をパイプ演算子を使って記述すると以下のようになります。</p>
<pre class="r"><code>iris %&gt;% 
  summary()</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<p>パイプ演算子のメリットは、演算子左右のデータ型が一致していれば数珠つなぎのような記述が可能なことです。例えばアヤメの種別毎に平均値を計算し表として整形する場合は以下のようにパイプ演算子でつなげることで処理できます。</p>
<pre class="r"><code>iris %&gt;% 
  group_by(Species) %&gt;% 
  dplyr::summarise_if(is.numeric, funs(mean), na.rm = TRUE) %&gt;% 
  knitr::kable(caption = &quot;種別毎の平均値&quot;)</code></pre>
<table>
<caption>種別毎の平均値</caption>
<thead>
<tr class="header">
<th align="left">Species</th>
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">setosa</td>
<td align="right">5.006</td>
<td align="right">3.428</td>
<td align="right">1.462</td>
<td align="right">0.246</td>
</tr>
<tr class="even">
<td align="left">versicolor</td>
<td align="right">5.936</td>
<td align="right">2.770</td>
<td align="right">4.260</td>
<td align="right">1.326</td>
</tr>
<tr class="odd">
<td align="left">virginica</td>
<td align="right">6.588</td>
<td align="right">2.974</td>
<td align="right">5.552</td>
<td align="right">2.026</td>
</tr>
</tbody>
</table>
<p>この様にパイプ演算子は中間変数を作成することなく処理の手順を記述できます。コードの可読性が上がるというメリットもあります。</p>
<p>では、パイプ演算子以外のデータハンドリング処理に必要な関数を見ていきましょう。 　</p>
</div>
<div id="data-overview" class="section level2">
<h2><span class="header-section-number">2.2</span> Data Overview</h2>
<p>利用するデータは<code>nycflight13</code>パッケージのデータセットを用います。このデータは2013年のNYC発のフライトデータで以下のようなデータセットで構成されています。</p>
<div id="flights" class="section level4 unnumbered">
<h4>flights</h4>
<p><code>nycflight13</code>パッケージの中心となるデータフレームです。項目数が多いすが基本となる飛行データで約33万レコードあります。</p>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_time</th>
<th align="right">sched_dep_time</th>
<th align="right">dep_delay</th>
<th align="right">arr_time</th>
<th align="right">sched_arr_time</th>
<th align="right">arr_delay</th>
<th align="left">carrier</th>
<th align="right">flight</th>
<th align="left">tailnum</th>
<th align="left">origin</th>
<th align="left">dest</th>
<th align="right">air_time</th>
<th align="right">distance</th>
<th align="right">hour</th>
<th align="right">minute</th>
<th align="left">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">517</td>
<td align="right">515</td>
<td align="right">2</td>
<td align="right">830</td>
<td align="right">819</td>
<td align="right">11</td>
<td align="left">UA</td>
<td align="right">1545</td>
<td align="left">N14228</td>
<td align="left">EWR</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1400</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">533</td>
<td align="right">529</td>
<td align="right">4</td>
<td align="right">850</td>
<td align="right">830</td>
<td align="right">20</td>
<td align="left">UA</td>
<td align="right">1714</td>
<td align="left">N24211</td>
<td align="left">LGA</td>
<td align="left">IAH</td>
<td align="right">227</td>
<td align="right">1416</td>
<td align="right">5</td>
<td align="right">29</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">542</td>
<td align="right">540</td>
<td align="right">2</td>
<td align="right">923</td>
<td align="right">850</td>
<td align="right">33</td>
<td align="left">AA</td>
<td align="right">1141</td>
<td align="left">N619AA</td>
<td align="left">JFK</td>
<td align="left">MIA</td>
<td align="right">160</td>
<td align="right">1089</td>
<td align="right">5</td>
<td align="right">40</td>
<td align="left">2013-01-01 05:00:00</td>
</tr>
</tbody>
</table>
</div>
<div id="airlines" class="section level4 unnumbered">
<h4>airlines</h4>
<p>航空会社のコードと名称のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">carrier</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">9E</td>
<td align="left">Endeavor Air Inc.</td>
</tr>
<tr class="even">
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
<tr class="odd">
<td align="left">AS</td>
<td align="left">Alaska Airlines Inc.</td>
</tr>
</tbody>
</table>
</div>
<div id="airports" class="section level4 unnumbered">
<h4>airports</h4>
<p>空港のコード、名称、位置、タイムゾーン等のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">faa</th>
<th align="left">name</th>
<th align="right">lat</th>
<th align="right">lon</th>
<th align="right">alt</th>
<th align="right">tz</th>
<th align="left">dst</th>
<th align="left">tzone</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">04G</td>
<td align="left">Lansdowne Airport</td>
<td align="right">41.13047</td>
<td align="right">-80.61958</td>
<td align="right">1044</td>
<td align="right">-5</td>
<td align="left">A</td>
<td align="left">America/New_York</td>
</tr>
<tr class="even">
<td align="left">06A</td>
<td align="left">Moton Field Municipal Airport</td>
<td align="right">32.46057</td>
<td align="right">-85.68003</td>
<td align="right">264</td>
<td align="right">-6</td>
<td align="left">A</td>
<td align="left">America/Chicago</td>
</tr>
<tr class="odd">
<td align="left">06C</td>
<td align="left">Schaumburg Regional</td>
<td align="right">41.98934</td>
<td align="right">-88.10124</td>
<td align="right">801</td>
<td align="right">-6</td>
<td align="left">A</td>
<td align="left">America/Chicago</td>
</tr>
</tbody>
</table>
</div>
<div id="planes" class="section level4 unnumbered">
<h4>planes</h4>
<p>飛行機のコード、製造年、メーカ、モデル等のデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">tailnum</th>
<th align="right">year</th>
<th align="left">type</th>
<th align="left">manufacturer</th>
<th align="left">model</th>
<th align="right">engines</th>
<th align="right">seats</th>
<th align="right">speed</th>
<th align="left">engine</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N10156</td>
<td align="right">2004</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">EMBRAER</td>
<td align="left">EMB-145XR</td>
<td align="right">2</td>
<td align="right">55</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
<tr class="even">
<td align="left">N102UW</td>
<td align="right">1998</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">AIRBUS INDUSTRIE</td>
<td align="left">A320-214</td>
<td align="right">2</td>
<td align="right">182</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
<tr class="odd">
<td align="left">N103US</td>
<td align="right">1999</td>
<td align="left">Fixed wing multi engine</td>
<td align="left">AIRBUS INDUSTRIE</td>
<td align="left">A320-214</td>
<td align="right">2</td>
<td align="right">182</td>
<td align="right">NA</td>
<td align="left">Turbo-fan</td>
</tr>
</tbody>
</table>
</div>
<div id="weather" class="section level4 unnumbered">
<h4>weather</h4>
<p>空港の気象に関するデータです。</p>
<table>
<thead>
<tr class="header">
<th align="left">origin</th>
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">hour</th>
<th align="right">temp</th>
<th align="right">dewp</th>
<th align="right">humid</th>
<th align="right">wind_dir</th>
<th align="right">wind_speed</th>
<th align="right">wind_gust</th>
<th align="right">precip</th>
<th align="right">pressure</th>
<th align="right">visib</th>
<th align="left">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">37.04</td>
<td align="right">21.92</td>
<td align="right">53.97</td>
<td align="right">230</td>
<td align="right">10.35702</td>
<td align="right">11.91865</td>
<td align="right">0</td>
<td align="right">1013.9</td>
<td align="right">10</td>
<td align="left">2013-01-01 09:00:00</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">37.04</td>
<td align="right">21.92</td>
<td align="right">53.97</td>
<td align="right">230</td>
<td align="right">13.80936</td>
<td align="right">15.89154</td>
<td align="right">0</td>
<td align="right">1013.0</td>
<td align="right">10</td>
<td align="left">2013-01-01 10:00:00</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">37.94</td>
<td align="right">21.92</td>
<td align="right">52.09</td>
<td align="right">230</td>
<td align="right">12.65858</td>
<td align="right">14.56724</td>
<td align="right">0</td>
<td align="right">1012.6</td>
<td align="right">10</td>
<td align="left">2013-01-01 11:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sample" class="section level2">
<h2><span class="header-section-number">2.3</span> sample</h2>
<p>データをサンプリングする関数はサンプル数を数字で指定する<code>dplyr::sample_n</code>と比率で指定する<code>dplyr::sample_frac</code>関数があります。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%              # 100個のデータをランダムサンプリング
  DT::datatable(style = &#39;bootstrap&#39;)    # インタラクティブな表として表示する</code></pre>
<div id="htmlwidget-3234f7eeaddf3a48c6b3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3234f7eeaddf3a48c6b3">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[8,6,3,1,3,7,10,9,11,3,8,6,4,5,10,8,9,7,4,12,2,10,3,7,7,9,9,9,4,2,4,6,8,9,4,5,4,7,10,6,2,5,10,9,11,9,4,11,4,9,3,2,9,5,8,7,2,5,7,5,4,1,12,1,10,8,9,10,3,2,6,2,3,4,12,8,8,12,7,9,5,9,5,7,10,12,3,7,1,9,11,2,12,7,4,2,2,3,6,10],[31,29,3,11,10,24,24,17,2,6,21,1,14,22,18,22,23,11,25,10,20,8,11,18,24,5,20,21,7,22,14,28,5,15,21,12,7,19,6,25,5,28,21,18,20,11,3,2,13,9,10,24,19,22,26,9,22,17,14,6,9,4,23,26,2,9,20,9,12,3,16,11,22,7,13,9,1,17,16,7,30,24,23,6,12,16,4,23,22,13,7,14,22,6,7,11,24,19,27,1],[858,1112,1233,604,2137,1322,1734,956,1314,1706,1210,1740,1539,1942,1230,1036,1647,2054,1845,1442,1932,1027,2047,2135,1653,2136,1143,1330,926,1327,921,2241,1132,1112,514,827,1429,1512,1649,null,1345,1431,830,2029,732,1727,2,1421,1951,951,1427,1024,1716,846,1057,null,814,1425,1404,2046,1612,1009,819,1353,857,1758,852,1830,2313,1527,1927,null,602,1853,2031,null,2207,1459,613,1027,1237,1719,1136,853,822,1130,1520,746,2159,745,1132,650,1610,1511,1131,914,1011,744,649,1955],[759,1100,1236,610,2000,1325,1741,1000,1315,1644,1209,1745,1540,1740,1215,1034,1642,2100,1845,1425,1935,1029,2024,2059,1445,2130,1145,1330,930,1329,930,2231,1136,1120,515,829,1429,1452,1650,1700,1350,1430,835,2030,736,1730,2359,1430,1957,1000,1430,1030,1720,847,1100,1715,815,1426,1315,1955,1530,1010,820,1355,900,1630,900,1834,2154,1530,1930,1605,610,1855,2030,1920,2129,1459,615,1030,1240,1720,943,900,800,1130,1525,752,2100,750,1135,654,1615,1505,1135,915,1015,740,644,2000],[59,12,-3,-6,97,-3,-7,-4,-1,22,1,-5,-1,122,15,2,5,-6,0,17,-3,-2,23,36,128,6,-2,0,-4,-2,-9,10,-4,-8,-1,-2,0,20,-1,null,-5,1,-5,-1,-4,-3,3,-9,-6,-9,-3,-6,-4,-1,-3,null,-1,-1,49,51,42,-1,-1,-2,-3,88,-8,-4,79,-3,-3,null,-8,-2,1,null,38,0,-2,-3,-3,-1,113,-7,22,0,-5,-6,59,-5,-3,-4,-5,6,-4,-1,-4,4,5,-5],[1017,1407,1418,805,24,1623,1923,1144,1509,1948,1315,2013,1915,2113,1428,1346,1823,2203,2208,1725,2315,1244,5,2312,1831,2333,1424,1622,1052,1621,1200,225,1327,1236,754,1004,1713,1808,1837,null,1624,1558,1045,2255,906,2010,336,1650,2045,1052,1617,1152,1909,1212,1308,null,1117,1729,1511,2150,1808,1121,1302,1532,1140,2144,1006,2102,13,1848,2115,null,855,2044,2316,null,37,1816,754,1306,1415,2014,1430,1206,1002,1440,1657,901,46,1029,1458,1007,1927,1835,1452,1041,1204,1054,901,2144],[934,1356,1433,817,2308,1636,1944,1133,1506,1946,1316,2031,1855,1935,1405,1324,1837,2212,2217,1653,2334,1318,2340,2220,1642,2359,1450,1625,1100,1631,1209,226,1338,1235,755,1020,1721,1747,1846,1815,1623,1601,1100,2150,920,2017,343,1701,2120,1128,1623,1210,1920,1135,1334,1952,1012,1729,1455,2110,1732,1140,1345,1615,1158,1959,1025,2135,2253,1910,2112,1754,915,2050,2338,2210,2349,1814,808,1340,1432,2030,1254,1156,948,1435,1700,913,2332,1044,1509,1002,1925,1835,1447,1038,1216,1044,915,2211],[43,11,-15,-12,76,-13,-21,11,3,2,-1,-18,20,98,23,22,-14,-9,-9,32,-19,-34,25,52,109,-26,-26,-3,-8,-10,-9,-1,-11,1,-1,-16,-8,21,-9,null,1,-3,-15,65,-14,-7,-7,-11,-35,-36,-6,-18,-11,37,-26,null,null,0,16,40,36,-19,-43,-43,-18,105,-19,-33,80,-22,3,null,-20,-6,-22,null,48,2,-14,-34,-17,-16,96,10,14,5,-3,-12,74,-15,-11,5,2,0,5,3,-12,10,-14,-27],["AA","DL","EV","DL","UA","UA","EV","FL","US","B6","B6","B6","UA","WN","MQ","UA","DL","US","B6","FL","DL","UA","B6","EV","9E","B6","AA","UA","EV","UA","UA","B6","YV","MQ","UA","EV","B6","UA","EV","US","B6","FL","UA","WN","B6","B6","B6","EV","UA","UA","EV","AA","MQ","UA","DL","9E","EV","B6","AA","AA","US","MQ","DL","EV","B6","VX","US","9E","EV","AA","9E","9E","AA","MQ","UA","AA","EV","UA","US","VX","DL","AA","UA","DL","9E","AA","WN","B6","EV","UA","UA","UA","AA","AA","DL","B6","US","B6","UA","YV"],[309,2445,4135,1919,1292,1593,4667,353,802,143,1191,527,1101,1596,3616,1143,545,2191,171,1070,2162,488,1069,3830,3318,97,1623,1199,4638,1641,428,1203,2729,3704,563,5679,1161,1242,4201,2136,615,721,447,565,885,327,707,4148,1292,775,4943,321,3556,1025,1647,3310,4264,71,331,1762,1899,3795,454,5469,795,27,2173,3325,5670,85,3385,3459,1837,4649,340,1691,3823,287,1125,187,1689,291,1624,120,3611,1623,3765,2702,4565,297,418,1701,211,1769,1552,20,1427,341,1506,2677],["N593AA","N968DL","N13949","N326US","N77258","N37420","N17138","N974AT","N434US","N527JB","N183JB","N569JB","N14121","N220WN","N507MQ","N23708","N317US","N750UW","N603JB","N299AT","N3762Y","N493UA","N258JB","N16987","N936XJ","N603JB","N3DTAA","N14106","N14168","N36207","N584UA","N649JB","N903FJ","N521MQ","N503UA","N11192","N775JB","N37434","N14573",null,"N249JB","N910AT","N473UA","N938WN","N184JB","N552JB","N547JB","N10156","N73278","N485UA","N752EV","N486AA","N512MQ","N16701","N963DL",null,"N19554","N552JB","N472AA","N3DHAA","N758US","N526MQ","N718TW","N716EV","N657JB","N625VA","N765US","N910XJ","N12122","N393AA","N918XJ",null,"N3GPAA","N534MQ","N497UA","N577AA","N14904","N488UA","N104UW","N638VA","N343NW","N3KJAA","N12238","N727TW","N805AY","N3AYAA","N262WN","N353JB","N13913","N541UA","N832UA","N35260","N3GWAA","N354AA","N344NB","N247JB","N716UW","N547JB","N37409","N910FJ"],["LGA","LGA","EWR","LGA","EWR","EWR","EWR","LGA","EWR","JFK","JFK","EWR","JFK","EWR","LGA","EWR","EWR","LGA","JFK","LGA","JFK","EWR","JFK","EWR","JFK","JFK","EWR","EWR","EWR","EWR","EWR","JFK","LGA","EWR","EWR","EWR","LGA","EWR","EWR","LGA","JFK","LGA","EWR","EWR","JFK","EWR","JFK","EWR","EWR","EWR","LGA","LGA","LGA","LGA","LGA","JFK","EWR","JFK","LGA","JFK","LGA","EWR","JFK","LGA","JFK","JFK","LGA","JFK","EWR","JFK","JFK","JFK","LGA","LGA","EWR","EWR","EWR","EWR","JFK","EWR","EWR","JFK","EWR","JFK","JFK","EWR","LGA","JFK","EWR","EWR","EWR","EWR","JFK","JFK","LGA","JFK","JFK","JFK","EWR","LGA"],["ORD","MCO","CLT","MSP","FLL","SFO","MSP","CAK","CLT","PBI","ACK","MCO","LAX","STL","MSP","PBI","DTW","DCA","SMF","ATL","PHX","IAH","AUS","RIC","BUF","DEN","MIA","LAX","PIT","MCO","LAS","SJU","CLT","ORD","IAH","CMH","PBI","FLL","DAY","BOS","JAX","CAK","PHX","MDW","RDU","MCO","SJU","ATL","BOS","ORD","RDU","ORD","DTW","IAH","ATL","MCI","MEM","FLL","ORD","BOS","CLT","ORD","STT","MEM","AUS","SFO","DCA","DFW","BWI","SFO","BOS","BNA","MIA","MSP","MIA","DFW","SDF","AUS","CLT","SFO","DTW","AUS","FLL","LAX","PIT","MIA","MKE","BUF","JAX","LAX","SFO","FLL","IAH","MIA","RSW","ROC","CLT","SRQ","LAS","CLT"],[105,137,83,150,139,338,141,59,100,132,38,118,362,132,149,143,80,39,334,136,305,177,229,45,50,210,135,312,54,144,307,196,81,113,197,75,144,150,85,null,130,63,294,137,73,127,187,123,33,103,62,123,78,223,105,null,null,156,99,34,77,111,198,144,195,341,43,175,37,361,40,null,148,154,147,null,106,213,69,320,78,210,146,314,58,157,112,56,132,317,349,171,225,147,163,56,84,168,280,77],[733,950,529,1020,1065,2565,1008,397,529,1028,199,937,2475,872,1020,1023,488,214,2521,762,2153,1400,1521,277,301,1626,1085,2454,319,937,2227,1598,544,719,1400,463,1035,1065,533,184,828,397,2133,711,427,937,1598,746,200,719,431,733,502,1416,762,1113,946,1069,733,187,544,719,1623,963,1521,2586,214,1391,169,2586,187,765,1096,1020,1085,1372,642,1504,541,2565,488,1521,1065,2475,340,1085,738,301,820,2454,2565,1065,1417,1089,1080,264,541,1041,2227,544],[7,11,12,6,20,13,17,10,13,16,12,17,15,17,12,10,16,21,18,14,19,10,20,20,14,21,11,13,9,13,9,22,11,11,5,8,14,14,16,17,13,14,8,20,7,17,23,14,19,10,14,10,17,8,11,17,8,14,13,19,15,10,8,13,9,16,9,18,21,15,19,16,6,18,20,19,21,14,6,10,12,17,9,9,8,11,15,7,21,7,11,6,16,15,11,9,10,7,6,20],[59,0,36,10,0,25,41,0,15,44,9,45,40,40,15,34,42,0,45,25,35,29,24,59,45,30,45,30,30,29,30,31,36,20,15,29,29,52,50,0,50,30,35,30,36,30,59,30,57,0,30,30,20,47,0,15,15,26,15,55,30,10,20,55,0,30,0,34,54,30,30,5,10,55,30,20,29,59,15,30,40,20,43,0,0,30,25,52,0,50,35,54,15,5,35,15,15,40,44,0],["2013-08-31T07:00:00Z","2013-06-29T11:00:00Z","2013-03-03T12:00:00Z","2013-01-11T06:00:00Z","2013-03-10T20:00:00Z","2013-07-24T13:00:00Z","2013-10-24T17:00:00Z","2013-09-17T10:00:00Z","2013-11-02T13:00:00Z","2013-03-06T16:00:00Z","2013-08-21T12:00:00Z","2013-06-01T17:00:00Z","2013-04-14T15:00:00Z","2013-05-22T17:00:00Z","2013-10-18T12:00:00Z","2013-08-22T10:00:00Z","2013-09-23T16:00:00Z","2013-07-11T21:00:00Z","2013-04-25T18:00:00Z","2013-12-10T14:00:00Z","2013-02-20T19:00:00Z","2013-10-08T10:00:00Z","2013-03-11T20:00:00Z","2013-07-18T20:00:00Z","2013-07-24T14:00:00Z","2013-09-05T21:00:00Z","2013-09-20T11:00:00Z","2013-09-21T13:00:00Z","2013-04-07T09:00:00Z","2013-02-22T13:00:00Z","2013-04-14T09:00:00Z","2013-06-28T22:00:00Z","2013-08-05T11:00:00Z","2013-09-15T11:00:00Z","2013-04-21T05:00:00Z","2013-05-12T08:00:00Z","2013-04-07T14:00:00Z","2013-07-19T14:00:00Z","2013-10-06T16:00:00Z","2013-06-25T17:00:00Z","2013-02-05T13:00:00Z","2013-05-28T14:00:00Z","2013-10-21T08:00:00Z","2013-09-18T20:00:00Z","2013-11-20T07:00:00Z","2013-09-11T17:00:00Z","2013-04-03T23:00:00Z","2013-11-02T14:00:00Z","2013-04-13T19:00:00Z","2013-09-09T10:00:00Z","2013-03-10T14:00:00Z","2013-02-24T10:00:00Z","2013-09-19T17:00:00Z","2013-05-22T08:00:00Z","2013-08-26T11:00:00Z","2013-07-09T17:00:00Z","2013-02-22T08:00:00Z","2013-05-17T14:00:00Z","2013-07-14T13:00:00Z","2013-05-06T19:00:00Z","2013-04-09T15:00:00Z","2013-01-04T10:00:00Z","2013-12-23T08:00:00Z","2013-01-26T13:00:00Z","2013-10-02T09:00:00Z","2013-08-09T16:00:00Z","2013-09-20T09:00:00Z","2013-10-09T18:00:00Z","2013-03-12T21:00:00Z","2013-02-03T15:00:00Z","2013-06-16T19:00:00Z","2013-02-11T16:00:00Z","2013-03-22T06:00:00Z","2013-04-07T18:00:00Z","2013-12-13T20:00:00Z","2013-08-09T19:00:00Z","2013-08-01T21:00:00Z","2013-12-17T14:00:00Z","2013-07-16T06:00:00Z","2013-09-07T10:00:00Z","2013-05-30T12:00:00Z","2013-09-24T17:00:00Z","2013-05-23T09:00:00Z","2013-07-06T09:00:00Z","2013-10-12T08:00:00Z","2013-12-16T11:00:00Z","2013-03-04T15:00:00Z","2013-07-23T07:00:00Z","2013-01-22T21:00:00Z","2013-09-13T07:00:00Z","2013-11-07T11:00:00Z","2013-02-14T06:00:00Z","2013-12-22T16:00:00Z","2013-07-06T15:00:00Z","2013-04-07T11:00:00Z","2013-02-11T09:00:00Z","2013-02-24T10:00:00Z","2013-03-19T07:00:00Z","2013-06-27T06:00:00Z","2013-10-01T20:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>比率は1を100%として指定します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_frac(0.001) %&gt;%          # 0.1%のデータをランダムサンプリング
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-5310e983751b318af188" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5310e983751b318af188">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[12,10,11,11,5,11,9,11,12,11,1,10,6,1,8,6,2,6,3,11,12,3,3,7,11,1,3,7,6,3,9,5,6,1,10,5,8,12,5,9,5,4,3,7,9,12,3,2,11,12,11,1,5,10,1,9,4,10,8,6,8,4,4,4,5,6,10,6,9,7,1,1,10,9,3,5,12,11,1,9,12,5,1,5,11,7,3,6,5,2,6,5,8,11,2,3,6,1,8,12,8,12,3,2,4,4,1,7,1,2,4,2,8,7,1,2,12,7,10,8,3,6,12,3,6,12,1,5,3,9,9,5,7,5,2,3,4,9,4,1,7,6,7,6,1,11,8,12,10,8,1,10,9,1,5,10,8,5,4,4,12,12,4,1,4,7,3,8,1,3,6,11,4,7,7,10,7,11,2,10,7,7,4,3,4,12,3,6,7,4,12,12,5,1,12,9,11,6,11,2,9,10,6,12,5,7,3,8,11,2,3,5,9,1,1,12,1,10,4,10,3,1,6,6,4,2,4,6,5,11,1,3,4,1,3,5,3,8,3,4,9,11,11,5,5,6,10,12,11,10,4,7,2,5,5,12,11,3,11,3,4,6,1,11,7,5,4,7,6,4,5,3,12,4,4,5,2,9,12,9,4,4,11,2,5,12,6,12,7,6,1,3,8,5,4,12,1,8,11,6,11,9,11,9,1,8,4,1,5,10,4,6,8,9,5,10,12,9,12,4,11,1,3,8,7,2,11,4,9,6,3,1,5,9,6,12,5],[23,21,2,10,19,11,4,22,9,2,18,18,23,31,30,14,24,6,13,7,24,22,7,4,24,21,25,17,11,9,20,23,18,22,5,2,24,4,28,19,30,14,3,12,2,29,19,18,2,16,1,25,22,6,28,27,6,24,7,14,3,29,26,27,3,4,10,14,28,15,15,19,1,29,8,19,10,21,19,30,26,29,11,8,19,10,30,21,20,20,13,4,12,18,24,22,9,24,18,17,1,13,28,4,15,24,9,25,11,2,26,25,16,15,31,2,7,17,9,2,29,8,13,31,25,26,2,15,1,19,4,4,17,12,20,25,19,13,16,10,18,13,23,11,15,23,28,31,2,17,3,16,2,28,6,27,8,25,13,21,23,30,4,27,1,18,1,16,7,7,11,21,26,2,13,22,27,9,6,17,23,13,24,11,21,9,28,18,4,22,18,31,29,24,22,2,17,1,8,8,23,30,12,2,21,10,7,3,6,5,16,14,15,2,17,23,22,22,11,21,27,28,29,6,19,4,27,26,25,4,25,25,11,31,28,23,19,26,31,22,13,23,3,14,9,2,8,22,27,23,14,20,8,12,25,19,8,27,8,1,29,26,8,14,2,6,25,3,27,8,10,25,1,15,9,7,13,15,29,9,19,10,22,5,11,22,9,24,17,14,25,28,11,12,22,5,3,17,30,7,14,28,6,30,26,27,27,31,31,20,24,13,9,5,24,14,2,7,27,22,21,3,9,5,25,6,26,27,5,23,6,19,28,20,26,24,9],[701,1624,1427,1517,1006,956,1213,2133,1413,729,1903,1655,743,804,1901,1730,null,651,2001,1758,1019,555,1602,656,1453,1036,null,611,1413,1421,1054,1755,2010,1741,852,1900,1512,1933,845,1748,2159,641,509,1258,null,657,1205,1538,959,1014,1704,622,555,1642,856,2050,556,1321,1734,557,2122,1500,1727,1944,845,859,1555,712,1640,1658,827,1705,951,1704,null,1001,556,618,1622,808,1118,959,1759,946,2252,1542,932,931,1755,1122,1756,1142,1829,733,1220,1129,1309,811,1606,1842,2238,1249,858,601,1315,1554,1947,750,1923,1759,1336,1923,1205,850,1858,710,2036,1942,1422,1155,1227,1322,1906,1556,830,1524,606,2134,1134,758,1342,759,1412,635,1525,1428,2116,1934,925,921,1330,2109,1950,1728,1540,759,554,1549,2054,715,1453,1517,2035,753,954,1855,1225,734,626,1522,1651,1225,1023,1124,851,550,1644,947,1454,2205,1601,1701,556,1603,1540,1204,1936,2005,1012,1428,2000,849,1214,956,842,758,1711,1430,1829,1213,1544,1850,914,1502,2149,1755,1306,1808,1538,null,1611,null,1540,1900,1015,1409,1257,1718,1427,1738,1634,2018,1247,1513,null,1743,1342,1703,1020,1906,1807,627,732,1819,1454,1619,850,938,822,827,1613,1449,934,758,1756,1058,2138,2226,2007,1859,1657,556,1945,2054,1602,1757,928,647,959,1454,2147,1444,null,702,640,753,1834,651,1718,627,1346,1458,1520,555,2038,1649,936,1057,1055,1039,1904,1650,1307,2251,1545,1255,1600,1929,937,855,856,1602,700,2210,1130,1618,1205,826,1819,1939,718,726,1750,1117,1707,1310,927,555,1818,1232,1443,845,2007,1135,1126,2019,2038,1212,1221,1654,1726,650,823,2038,625,1839,1141,943,1847,959,632,2013,1201,1027,940,908,1656,2351,1854,1139,1552,1824,1144,1503,2152,1654,1447],[705,1629,1436,1520,1007,959,1220,2139,1355,730,1859,1700,740,810,1835,1630,1634,655,1940,1759,1009,600,1600,700,1419,1042,755,615,1357,1345,1100,1320,1900,1715,854,1905,1520,1815,850,1656,2055,645,500,1300,2100,700,1205,1528,1005,1000,1535,610,600,1642,820,2100,600,1328,1735,600,2129,1504,1730,1955,855,900,1555,720,1539,1700,830,1705,1000,1645,1631,954,600,625,1630,805,836,1000,1800,943,2300,1545,925,935,1755,1130,1800,1124,1830,730,1229,1135,1315,810,1605,1829,2140,1259,900,605,1317,1600,1929,800,1925,1725,1329,1929,1210,850,1855,710,2039,1805,1425,1200,1230,1320,1850,1600,825,1515,610,2110,1125,810,1343,800,1411,645,1530,1430,2025,1900,930,930,1321,2054,1755,1729,1545,800,600,1550,2059,725,1439,1517,1731,757,958,1900,1200,735,600,1524,1550,1230,908,1130,850,600,1640,950,1500,2040,1559,1700,600,1600,1520,1200,1855,2000,1015,1429,1959,853,1220,1000,840,805,1715,1335,1605,1200,1545,1900,920,1455,2040,1700,1259,1815,1530,1530,1550,810,1538,1725,1015,1400,1300,1715,1429,1550,1640,1931,1254,1500,1505,1659,1350,1655,835,1910,1755,630,735,1820,1412,1445,855,940,830,830,1550,1456,935,800,1800,1101,2140,2145,2015,1829,1345,515,1935,1908,1607,1723,930,630,1000,1450,2150,1355,1759,705,642,756,1825,655,1725,630,1345,1455,1530,600,1920,1700,938,1059,1000,1040,1909,1630,1315,2255,1440,1300,1605,1930,945,900,900,1605,700,2100,1135,1625,1209,826,1710,1836,700,729,1735,1125,1715,1315,929,600,1820,1200,1450,851,1932,1129,1130,2029,2040,1135,1150,1700,1700,645,836,2030,627,1835,1145,945,1829,1000,635,1950,1145,1030,945,840,1629,2359,1900,1030,1538,1829,1151,1510,2129,1659,1450],[-4,-5,-9,-3,-1,-3,-7,-6,18,-1,4,-5,3,-6,26,60,null,-4,21,-1,10,-5,2,-4,34,-6,null,-4,16,36,-6,275,70,26,-2,-5,-8,78,-5,52,64,-4,9,-2,null,-3,0,10,-6,14,89,12,-5,0,36,-10,-4,-7,-1,-3,-7,-4,-3,-11,-10,-1,0,-8,61,-2,-3,0,-9,19,null,7,-4,-7,-8,3,162,-1,-1,3,-8,-3,7,-4,0,-8,-4,18,-1,3,-9,-6,-6,1,1,13,58,-10,-2,-4,-2,-6,18,-10,-2,34,7,-6,-5,0,3,0,-3,97,-3,-5,-3,2,16,-4,5,9,-4,24,9,-12,-1,-1,1,-10,-5,-2,51,34,-5,-9,9,15,115,-1,-5,-1,-6,-1,-5,-10,14,0,184,-4,-4,-5,25,-1,26,-2,61,-5,75,-6,1,-10,4,-3,-6,85,2,1,-4,3,20,4,41,5,-3,-1,1,-4,-6,-4,2,-7,-4,55,144,13,-1,-10,-6,7,69,55,7,-7,8,null,21,null,2,95,0,9,-3,3,-2,108,-6,47,-7,13,null,44,-8,8,105,-4,12,-3,-3,-1,42,94,-5,-2,-8,-3,23,-7,-1,-2,-4,-3,-2,41,-8,30,192,41,10,106,-5,34,-2,17,-1,4,-3,49,null,-3,-2,-3,9,-4,-7,-3,1,3,-10,-5,78,-11,-2,-2,55,-1,-5,20,-8,-4,65,-5,-5,-1,-8,-5,-4,-3,0,70,-5,-7,-4,0,69,63,18,-3,15,-8,-8,-5,-2,-5,-2,32,-7,-6,35,6,-4,-10,-2,37,31,-6,26,5,-13,8,-2,4,-4,-2,18,-1,-3,23,16,-3,-5,28,27,-8,-6,69,14,-5,-7,-7,23,-5,-3],[1026,1851,1549,1718,1120,1230,1341,2256,1815,1113,2226,2040,1028,914,2143,1920,null,956,2129,2059,1317,720,1930,923,1739,1208,null,802,1630,1707,1302,2137,2142,2110,1152,2222,1627,2324,1008,2017,2334,821,640,1405,null,1012,1559,1655,1227,1126,2010,901,738,1830,1004,2223,747,1615,2059,941,2224,1702,2041,2103,1134,1208,1914,857,1902,1944,1123,1955,1054,1901,null,1245,825,721,1746,1053,1311,1325,1918,1248,2341,null,1046,1249,2034,1304,1916,1402,2204,1023,1339,1332,1450,1024,1852,2133,25,1430,1203,812,1357,1837,2130,1048,2247,1917,1447,2231,1332,957,5,953,20,2224,1727,1452,1330,1631,2200,1923,1035,1853,846,2255,1311,1022,1638,933,1657,937,1840,1721,15,2305,1234,1050,1458,2353,2126,2050,1811,1049,656,1734,2153,1012,1754,1815,2140,847,1316,2043,1511,1049,808,1806,2012,1354,1308,1406,957,837,1749,1207,1739,134,1816,2024,657,1750,1735,1452,2154,2112,1221,1546,2140,1138,1449,1231,1157,1130,2020,1609,1928,1438,1744,2210,1212,1747,2322,2030,1456,1934,1935,null,1803,null,1857,2118,1215,1526,1423,2023,1708,2227,1948,2256,1348,1642,null,2049,1643,1823,1211,2150,2044,815,958,1950,1721,1805,1106,1157,938,1041,2109,1802,1102,1107,1909,1330,2313,25,2255,2131,2023,844,2201,2224,1732,2013,1242,921,1231,1801,55,1615,null,938,808,953,2108,955,1932,832,1703,1734,1811,706,2226,1822,1226,1249,1412,1359,2342,2001,1450,18,1909,1544,1937,2100,1251,1135,1203,1859,1036,55,1316,1958,1303,1028,2015,2243,903,826,2102,1254,1940,1506,1140,831,2131,1539,1637,1052,42,1334,1308,2204,2354,1340,1323,1956,2009,834,938,2143,856,2146,1414,1103,1955,1102,917,2116,1450,1349,1111,1044,2008,337,1952,1455,1833,2013,1401,1629,2300,2009,1623],[1032,1902,1557,1721,1125,1245,1355,2302,1715,1120,2247,1955,1055,925,2135,1845,1837,935,2125,2054,1322,745,1931,944,1714,1206,1007,808,1629,1655,1339,1524,2012,2019,1213,2209,1705,2154,1025,2001,2215,841,648,1425,2245,1043,1520,1701,1212,1113,1857,910,756,1837,939,2245,759,1600,2030,942,2250,1724,2049,2110,1120,1204,1939,921,1844,2018,1106,2010,1120,1915,1834,1305,810,735,1800,1103,1034,1319,1913,1254,10,1746,1047,1237,2115,1334,1913,1404,2145,1035,1357,1330,1449,1042,1925,2140,2310,1454,1208,805,1413,1835,2130,1053,2243,1855,1436,2246,1350,1014,2355,1003,2355,2040,1731,1455,1355,1621,2205,1934,1017,1811,845,2245,1305,1023,1701,942,1702,951,1855,1732,2337,2232,1240,1103,1515,2359,1921,2055,1815,1051,700,1710,2211,1010,1751,1834,1849,910,1309,2057,1438,1110,759,1820,1916,1407,1210,1422,1011,851,1754,1220,1742,2356,1843,1955,659,1747,1758,1455,2117,2115,1216,1548,2146,1212,1505,1234,1148,1111,2024,1455,1740,1345,1810,2215,1225,1805,2220,1945,1501,1955,1905,1910,1753,1037,1856,1959,1230,1512,1440,1942,1727,2050,1955,2216,1414,1636,1637,2017,1715,1820,1041,2210,2101,831,1005,1936,1635,1634,1120,1212,1015,1034,2050,1759,1120,1125,1914,1334,2305,18,2308,2040,1700,808,2203,2053,1758,1943,1235,926,1206,1745,43,1550,2103,932,819,959,2103,1020,1959,831,1700,1701,1805,717,2123,1835,1217,1307,1314,1356,2235,2015,1506,11,1753,1550,1944,2125,1300,1157,1157,1852,1015,2332,1338,1950,1312,1031,1932,2155,839,848,2030,1324,1900,1523,1123,825,2140,1505,1645,1113,28,1400,1320,2248,2355,1330,1305,1955,1924,835,949,2155,900,2138,1403,1115,2018,1125,929,2100,1450,1345,1125,1030,1932,339,2014,1345,1857,2032,1414,1630,2242,2034,1635],[-6,-11,-8,-3,-5,-15,-14,-6,60,-7,-21,45,-27,-11,8,35,null,21,4,5,-5,-25,-1,-21,25,2,null,-6,1,12,-37,373,90,51,-21,13,-38,90,-17,16,79,-20,-8,-20,null,-31,39,-6,15,13,73,-9,-18,-7,25,-22,-12,15,29,-1,-26,-22,-8,-7,14,4,-25,-24,18,-34,17,-15,-26,-14,null,-20,15,-14,-14,-10,157,6,5,-6,-29,null,-1,12,-41,-30,3,-2,19,-12,-18,2,1,-18,-33,-7,75,-24,-5,7,-16,2,0,-5,4,22,11,-15,-18,-17,10,-10,25,104,-4,-3,-25,10,-5,-11,18,42,1,10,6,-1,-23,-9,-5,-14,-15,-11,38,33,-6,-13,-17,-6,125,-5,-4,-2,-4,24,-18,2,3,-19,171,-23,7,-14,33,-21,9,-14,56,-13,58,-16,-14,-14,-5,-13,-3,98,-27,29,-2,3,-23,-3,37,-3,5,-2,-6,-34,-16,-3,9,19,-4,74,108,53,-26,-5,-13,-18,62,45,-5,-21,30,null,10,null,1,79,-15,14,-17,41,-19,97,-7,40,-26,6,null,32,-32,3,90,-20,-17,-16,-7,14,46,91,-14,-15,-37,7,19,3,-18,-18,-5,-4,8,7,-13,51,203,36,-2,91,-26,30,7,-5,25,16,12,25,null,6,-11,-6,5,-25,-27,1,3,33,6,-11,63,-13,9,-18,58,3,67,-14,-16,7,76,-6,-7,-25,-9,-22,6,7,21,83,-22,8,-9,-3,43,48,24,-22,32,-30,40,-17,17,6,-9,34,-8,-21,14,-26,-12,-44,-1,10,18,1,45,-1,-11,-12,-4,8,11,-12,-23,-23,-12,16,0,4,-14,14,36,-2,-22,70,-24,-19,-13,-1,18,-25,-12],["DL","US","B6","EV","EV","UA","MQ","B6","US","B6","B6","AA","VX","AA","9E","MQ","EV","AA","MQ","DL","UA","AA","DL","DL","B6","EV","US","US","UA","B6","DL","EV","US","DL","B6","B6","AA","UA","MQ","UA","MQ","US","US","UA","MQ","DL","AA","EV","US","US","B6","AA","EV","DL","9E","MQ","DL","B6","AA","B6","EV","UA","B6","AA","MQ","B6","DL","EV","B6","DL","F9","AA","US","DL","EV","UA","EV","B6","MQ","DL","EV","UA","US","UA","UA","EV","B6","B6","DL","US","US","UA","AA","WN","EV","MQ","EV","DL","DL","UA","MQ","MQ","UA","MQ","EV","9E","EV","B6","DL","MQ","EV","DL","AA","9E","AA","UA","B6","DL","UA","DL","WN","B6","DL","DL","US","UA","DL","B6","AA","DL","UA","9E","B6","UA","AA","UA","B6","DL","WN","9E","EV","UA","B6","VX","DL","DL","US","WN","UA","AA","UA","B6","B6","B6","B6","EV","DL","VX","DL","UA","DL","EV","B6","UA","9E","B6","B6","VX","DL","B6","DL","AA","US","EV","UA","AA","FL","9E","US","B6","EV","B6","B6","DL","UA","DL","DL","MQ","AA","MQ","MQ","AA","AA","UA","MQ","AA","US","9E","UA","AA","EV","FL","B6","EV","US","US","AA","UA","DL","AA","AA","EV","EV","9E","9E","UA","US","WN","EV","AA","UA","US","AA","EV","FL","EV","MQ","9E","AA","DL","AA","UA","WN","UA","B6","B6","B6","B6","UA","9E","AA","UA","FL","UA","EV","UA","UA","UA","EV","UA","B6","MQ","UA","B6","EV","US","DL","DL","EV","US","AA","9E","MQ","EV","EV","MQ","UA","UA","UA","UA","B6","VX","US","B6","DL","DL","DL","9E","AA","B6","UA","DL","VX","EV","DL","DL","EV","EV","UA","UA","UA","UA","AA","DL","AA","9E","EV","DL","UA","AA","MQ","UA","B6","B6","WN","EV","B6","MQ","MQ","AA","DL","MQ","B6","WN","B6","DL","DL","WN","EV","UA","B6","EV","DL","VX","AA","MQ","B6","B6","US","AA","B6","US","FL","MQ","EV","B6","MQ"],[2003,629,286,4326,4187,1110,3361,702,686,1289,179,211,11,1838,3325,3556,4411,1815,3783,1629,429,301,1043,2285,561,4694,1733,1065,755,209,1647,5148,2140,1585,15,75,2223,524,4406,1554,3744,1965,1113,1734,3384,430,743,3815,1808,2142,1729,1895,5068,1365,4051,3384,731,1311,145,715,4695,667,359,1762,4619,507,141,3824,83,1163,835,1905,2175,884,4411,1170,4150,2180,4622,2395,4099,642,2138,1574,1066,4576,108,271,1394,1625,2138,1496,119,20,4117,4553,4552,269,1394,235,3317,3388,1170,4401,5670,3315,4532,901,1729,4255,4308,1133,329,3466,1613,481,1205,569,1493,863,1964,1601,1854,1461,1831,308,1743,10,327,2457,1583,3611,1883,1299,1039,1744,801,1465,972,3661,4100,1692,1407,193,1942,1959,2134,118,1066,1815,1175,1729,2580,44,375,4278,1947,11,731,1695,2280,5369,1061,1000,3314,371,1176,251,2347,165,847,45,2161,5091,1222,3,645,2950,1427,286,6120,15,27,1847,32,2017,1779,3678,1750,4553,2963,21,1739,473,3257,257,1843,4277,257,85,4667,346,133,5298,75,2177,329,1622,1902,1635,773,4204,6054,4105,3393,510,688,2988,4638,1193,1221,1507,1949,4224,366,4596,4619,4065,309,2119,1635,1186,2074,397,1016,711,104,611,696,4059,1073,1500,1346,1262,5486,509,456,1144,4255,294,325,3567,1221,611,3806,1733,87,1415,5298,1507,1073,4120,4525,5716,4700,4255,486,765,642,1644,87,27,802,30,1779,1685,1508,3497,1160,63,636,539,399,4565,2219,2337,4249,4537,556,212,550,1199,145,1584,2019,3795,4234,461,1075,3,3588,1682,803,1211,1141,4085,1069,4553,3697,211,2042,3599,2280,1707,203,1576,1442,1123,5274,1176,525,4312,1174,187,317,4521,1161,727,2160,179,137,681,347,3433,4695,167,4403],["N985DL","N524UW","N368JB","N13566","N11547","N37456","N856MQ","N339JB","N672AW","N561JB","N531JB","N3JGAA","N847VA","N3JRAA","N903XJ","N724MQ","N29917","N630AA","N511MQ","N3756","N413UA","N3JTAA","N3753","N952DL","N659JB","N11548",null,"N111US","N846UA","N796JB","N686DA","N398CA","N945UW","N989DL","N651JB","N793JB","N4XNAA","N446UA","N827MQ","N77520","N505MQ","N540UW","N560UW","N67134","N505MQ","N718TW","N485AA","N13914","N708UW","N949UW","N265JB","N5BRAA","N605QX","N365NW","N8877A","N535MQ","N347NB","N658JB","N3KKAA","N821JB","N13566","N523UA","N535JB","N3GCAA","N542MQ","N595JB","N718TW","N13970","N589JB","N722TW","N213FR","N4YFAA","N749US","N314NB","N14905","N76517","N14977","N279JB","N840MQ","N322NB","N11113","N560UA","N957UW","N78501","N76504","N16147","N509JB","N760JB","N3744F","N192UW","N944UW","N73406","N3JDAA","N270WN","N34111","N738MQ","N14920","N368NB","N3764D","N573UA","N523MQ","N853MQ","N75436","N711MQ","N13968","N912XJ","N26545","N656JB","N636DL","N918MQ","N18114","N370NB","N526AA","N914XJ","N633AA","N593UA","N531JB","N3736C","N76514","N706TW","N431WN","N564JB","N329NB","N727TW","N199UW","N462UA","N387DA","N192JB","N3DJAA","N325NB","N37470","N8969A","N562JB","N38454","N3JHAA","N77530","N618JB","N624AG","N212WN","N8623A","N29917","N24702","N192JB","N621VA","N322NB","N624AG","N760US","N943WN","N16703","N3AAAA","N77510","N554JB","N296JB","N505JB","N566JB","N11119","N908DE","N843VA","N301NB","N27205","N963DL","N761ND","N231JB","N26123","N602LR","N535JB","N348JB","N838VA","N627DL","N656JB","N933DL","N3ALAA","N747UW","N712EV","N36280","N323AA","N272AT","N840AY","N721UW","N348JB","N16571","N558JB","N317JB","N3730B","N17126","N301DQ","N351NW","N502MQ","N3EWAA","N725MQ","N638MQ","N323AA","N4WLAA","N447UA","N856MQ","N5CFAA","N182UW","N8847A","N590UA","N359AA","N11165","N896AT","N708JB","N708EV","N647AW","N748UW","N520AA","N75428","N319NB","N5DXAA","N542AA","N12160","N13914","N8908D",null,"N516UA","N650AW","N267WN","N14573","N3CWAA","N76265","N564UW","N3FHAA","N14998","N915AT","N15574","N519MQ","N8828D","N4WLAA","N339NW","N5DUAA","N16703","N264LV","N532UA","N323JB","N523JB","N279JB","N623JB","N844UA","N8458A","N3ANAA","N69804","N950AT","N14242","N754EV","N564UA","N482UA","N36280","N16541","N445UA","N643JB","N511MQ",null,"N630JB","N14920","N565UW","N3769L","N180DN","N750EV","N565UW","N3CCAA","N8980A","N730MQ","N833AS","N29917","N612MQ","N561UA","N469UA","N555UA","N76254","N597JB","N848VA","N537UW","N274JB","N915DL","N914DL","N916DL","N605LR","N3FPAA","N775JB","N403UA","N382DA","N637VA","N17560","N309US","N363NW","N16987","N14902","N472UA","N575UA","N403UA","N26208","N3AHAA","N322NB","N501AA","N8847A","N14952","N910DE","N14731","N323AA","N0EGMQ","N17133","N746JB","N645JB","N359SW","N17169","N284JB","N730MQ","N528MQ","N3DYAA","N302DQ","N503MQ","N337JB","N281WN","N796JB","N3746H","N979AT","N745SW","N611QX","N54711","N554JB","N14902","N370NW","N523VA","N4YGAA","N736MQ","N613JB","N636JB","N954UW","N328AA","N554JB","N604AW","N964AT","N523MQ","N36915","N595JB","N840MQ"],["LGA","JFK","JFK","EWR","EWR","EWR","JFK","JFK","EWR","EWR","JFK","JFK","JFK","JFK","JFK","LGA","EWR","JFK","JFK","JFK","LGA","LGA","JFK","LGA","LGA","EWR","LGA","JFK","EWR","JFK","LGA","LGA","LGA","LGA","JFK","JFK","LGA","EWR","JFK","EWR","EWR","EWR","EWR","EWR","LGA","JFK","LGA","EWR","LGA","LGA","JFK","EWR","EWR","EWR","JFK","LGA","LGA","JFK","JFK","JFK","EWR","LGA","JFK","JFK","LGA","EWR","JFK","EWR","JFK","JFK","LGA","EWR","LGA","LGA","EWR","EWR","EWR","EWR","LGA","LGA","EWR","JFK","LGA","EWR","EWR","EWR","JFK","LGA","JFK","LGA","LGA","EWR","EWR","LGA","EWR","LGA","EWR","JFK","JFK","EWR","LGA","LGA","EWR","LGA","EWR","JFK","EWR","JFK","JFK","JFK","EWR","LGA","LGA","JFK","JFK","EWR","JFK","JFK","EWR","JFK","LGA","LGA","LGA","JFK","JFK","EWR","JFK","JFK","LGA","LGA","EWR","JFK","JFK","EWR","JFK","LGA","JFK","JFK","EWR","JFK","EWR","EWR","JFK","EWR","EWR","JFK","LGA","EWR","EWR","JFK","EWR","JFK","EWR","JFK","LGA","EWR","LGA","JFK","LGA","EWR","JFK","LGA","JFK","EWR","JFK","LGA","EWR","JFK","LGA","JFK","LGA","JFK","LGA","LGA","EWR","JFK","LGA","JFK","JFK","JFK","LGA","JFK","JFK","LGA","JFK","JFK","LGA","EWR","JFK","LGA","JFK","JFK","EWR","EWR","LGA","JFK","LGA","JFK","JFK","JFK","EWR","LGA","JFK","LGA","EWR","LGA","LGA","EWR","LGA","JFK","LGA","EWR","EWR","JFK","JFK","EWR","EWR","LGA","EWR","LGA","EWR","EWR","JFK","EWR","LGA","EWR","LGA","LGA","LGA","LGA","JFK","EWR","LGA","JFK","JFK","JFK","JFK","JFK","EWR","LGA","LGA","EWR","LGA","EWR","LGA","LGA","EWR","EWR","EWR","EWR","JFK","LGA","EWR","JFK","EWR","LGA","JFK","JFK","LGA","EWR","LGA","JFK","LGA","JFK","EWR","JFK","EWR","EWR","JFK","EWR","JFK","JFK","EWR","JFK","LGA","LGA","JFK","JFK","LGA","JFK","EWR","JFK","JFK","EWR","LGA","JFK","EWR","EWR","EWR","EWR","LGA","EWR","JFK","EWR","LGA","EWR","EWR","LGA","EWR","JFK","LGA","EWR","JFK","JFK","EWR","EWR","JFK","LGA","EWR","JFK","EWR","LGA","EWR","LGA","JFK","JFK","EWR","LGA","LGA","EWR","JFK","EWR","LGA","EWR","LGA","LGA","LGA","JFK","LGA","JFK","JFK","EWR","LGA","JFK","EWR","JFK","JFK"],["MIA","PHX","ROC","CLT","BNA","LAS","RDU","BUF","PHX","SJU","PHX","IAH","SFO","BOS","DFW","DTW","MEM","MCO","CMH","LAS","IAH","ORD","SEA","MCO","PBI","MKE","CLT","CLT","DFW","LGB","ATL","CVG","BOS","MCO","SFO","TPA","STL","PHX","RDU","PDX","ORD","CLT","CLT","ORD","CLT","SFO","DFW","BNA","CLT","BOS","RSW","MIA","DTW","DTW","BWI","CLT","DTW","LAS","SAN","SJU","MHT","DEN","BUR","BOS","ATL","FLL","SFO","GRR","MCO","LAX","DEN","DFW","DCA","DEN","MEM","FLL","CVG","BOS","BNA","PBI","STL","SFO","BOS","FLL","BOS","GRR","BUF","FLL","PDX","CLT","BOS","IAH","LAX","HOU","BNA","CLE","GSO","ATL","PDX","SNA","RDU","CMH","FLL","DTW","BDL","MSP","CHS","FLL","LAS","BNA","PWM","RSW","ORD","DCA","SJU","MCO","PDX","ATL","LAX","LAX","MKE","RSW","FLL","LAX","CLT","TPA","ATL","BUF","ORD","MSY","SFO","PIT","MCO","RSW","FLL","IAH","FLL","SFO","AUS","ROC","MEM","MCO","IAD","SFO","ATL","MCO","BOS","MDW","BOS","MCO","RSW","RSW","BOS","SYR","FLL","CAE","ATL","SFO","DTW","IAH","FLL","MKE","AUS","MCO","BOS","FLL","BOS","LAS","ATL","PDX","ATL","LAS","DCA","PIT","LAS","LAX","ATL","BWI","CLT","ROC","CLE","SFO","TPA","ATL","LAX","TPA","FLL","ORD","BOS","CLE","CVG","LAX","DFW","FLL","RDU","LAS","CLT","ORF","SFO","SFO","MSP","ATL","RSW","OMA","PHX","DCA","ORD","DEN","PBI","SJU","DFW","OKC","IAD","IAD","DCA","LAX","PHX","MDW","CVG","DFW","DFW","CLT","LAS","MKE","ATL","STL","ATL","SDF","ORD","MSP","SJU","MIA","MDW","SFO","BOS","LAS","BUF","LAS","MCO","DAY","MIA","IAH","ATL","ORD","PIT","DEN","FLL","MCO","CHS","MCO","TPA","CLT","DFW","JAX","CLE","CLT","ATL","SLC","OMA","CLT","MIA","CLE","XNA","IAD","CLT","BNA","LAS","DEN","SFO","LAX","SLC","SFO","CLT","ROC","FLL","MCO","RSW","RDU","MIA","SEA","IAH","DEN","LAX","JAX","MSP","MIA","BWI","MEM","PHX","SFO","ORD","BOS","SAN","MSP","STL","CVG","STL","ATL","SNA","LAX","MSP","DEN","SJU","LAS","STL","OMA","AUS","CLE","ORD","IAH","ATL","MSP","BOS","MDW","LAS","SAN","ATL","MDW","BNA","BOS","TPA","DCA","PBI","SFO","ORD","RDU","PBI","BQN","BOS","SFO","RSW","CLT","ATL","DCA","MHT","OAK","RDU"],[164,295,54,91,105,309,70,65,347,201,296,237,329,41,173,83,null,145,72,333,201,114,346,126,137,129,null,73,170,328,94,96,35,160,336,146,121,319,65,306,109,81,77,100,null,343,221,116,102,34,169,138,85,86,41,72,83,306,332,202,39,212,328,44,121,152,332,85,111,312,257,213,41,210,null,139,120,34,127,142,154,359,40,155,35,null,55,153,305,82,41,178,330,214,119,72,72,109,313,322,77,85,151,96,25,159,85,146,339,119,51,166,114,38,197,144,362,117,329,328,105,165,153,350,89,147,129,55,111,159,331,62,130,166,157,213,150,331,217,56,131,133,46,348,130,133,35,140,41,138,166,156,43,42,152,87,127,356,83,202,157,115,211,134,35,142,43,294,113,345,100,353,44,59,274,327,112,38,97,51,74,321,140,114,340,170,155,120,37,64,100,348,187,149,74,303,85,51,376,null,153,null,154,163,282,40,114,270,145,199,217,182,40,56,null,327,286,114,92,201,193,83,286,110,114,143,113,102,113,156,196,162,119,343,43,304,63,273,132,88,156,205,105,120,55,219,163,139,123,147,153,77,null,137,70,82,116,277,165,94,171,73,199,41,83,120,308,202,360,358,299,345,78,52,147,134,182,61,171,316,220,232,354,128,144,160,39,155,256,328,141,41,337,138,135,98,159,127,349,322,151,227,182,280,147,148,223,72,99,222,122,143,46,106,303,340,108,104,109,37,143,42,139,360,102,67,155,185,33,346,140,85,107,48,42,350,70],[1096,2153,264,529,748,2227,427,301,2133,1608,2153,1417,2586,187,1391,502,946,944,483,2248,1416,733,2422,950,1035,725,544,541,1372,2465,762,585,184,950,2586,1005,888,2133,427,2434,719,529,529,719,544,2586,1389,748,544,184,1074,1085,488,488,184,544,502,2248,2446,1598,209,1620,2465,187,762,1065,2586,605,944,2475,1620,1372,214,1620,946,1065,569,200,764,1035,872,2586,184,1065,200,605,301,1076,2454,544,184,1400,2454,1428,748,419,445,760,2454,2434,431,479,1065,502,116,1029,628,1069,2248,765,284,1080,733,213,1598,937,2454,760,2454,2475,738,1080,1076,2475,541,997,760,301,733,1183,2565,340,944,1068,1069,1416,1069,2586,1504,264,946,937,228,2565,746,944,184,711,200,944,1068,1074,200,209,1076,602,762,2586,502,1400,1069,738,1521,937,187,1076,200,2248,762,2454,762,2248,214,335,2227,2475,762,184,541,264,419,2586,1005,762,2475,1005,1076,719,187,419,589,2475,1372,1065,431,2248,544,290,2586,2586,1008,762,1074,1148,2133,214,733,1605,1035,1598,1389,1325,212,228,213,2454,2133,725,569,1389,1372,529,2248,725,762,872,762,659,733,1020,1598,1085,725,2586,187,2248,301,2248,937,549,1096,1400,762,719,335,1620,1065,937,628,937,1005,544,1372,828,404,544,760,1990,1148,529,1096,425,1147,228,529,765,2227,1605,2586,2454,1990,2586,529,264,1076,950,1074,427,1096,2422,1400,1626,2475,820,1020,1089,169,946,2133,2565,733,200,2446,1008,888,569,872,762,2434,2475,1020,1605,1598,2248,872,1134,1521,419,719,1417,746,1020,200,725,2248,2446,746,725,764,200,1005,199,1035,2565,733,431,1035,1576,184,2586,1074,529,762,213,209,2576,427],[7,16,14,15,10,9,12,21,13,7,18,17,7,8,18,16,16,6,19,17,10,6,16,7,14,10,7,6,13,13,11,13,19,17,8,19,15,18,8,16,20,6,5,13,21,7,12,15,10,10,15,6,6,16,8,21,6,13,17,6,21,15,17,19,8,9,15,7,15,17,8,17,10,16,16,9,6,6,16,8,8,10,18,9,23,15,9,9,17,11,18,11,18,7,12,11,13,8,16,18,21,12,9,6,13,16,19,8,19,17,13,19,12,8,18,7,20,18,14,12,12,13,18,16,8,15,6,21,11,8,13,8,14,6,15,14,20,19,9,9,13,20,17,17,15,8,6,15,20,7,14,15,17,7,9,19,12,7,6,15,15,12,9,11,8,6,16,9,15,20,15,17,6,16,15,12,18,20,10,14,19,8,12,10,8,8,17,13,16,12,15,19,9,14,20,17,12,18,15,15,15,8,15,17,10,14,13,17,14,15,16,19,12,15,15,16,13,16,8,19,17,6,7,18,14,14,8,9,8,8,15,14,9,8,18,11,21,21,20,18,13,5,19,19,16,17,9,6,10,14,21,13,17,7,6,7,18,6,17,6,13,14,15,6,19,17,9,10,10,10,19,16,13,22,14,13,16,19,9,9,9,16,7,21,11,16,12,8,17,18,7,7,17,11,17,13,9,6,18,12,14,8,19,11,11,20,20,11,11,17,17,6,8,20,6,18,11,9,18,10,6,19,11,10,9,8,16,23,19,10,15,18,11,15,21,16,14],[5,29,36,20,7,59,20,39,55,30,59,0,40,10,35,30,34,55,40,59,9,0,0,0,19,42,55,15,57,45,0,20,0,15,54,5,20,15,50,56,55,45,0,0,0,0,5,28,5,0,35,10,0,42,20,0,0,28,35,0,29,4,30,55,55,0,55,20,39,0,30,5,0,45,31,54,0,25,30,5,36,0,0,43,0,45,25,35,55,30,0,24,30,30,29,35,15,10,5,29,40,59,0,5,17,0,29,0,25,25,29,29,10,50,55,10,39,5,25,0,30,20,50,0,25,15,10,10,25,10,43,0,11,45,30,30,25,0,30,30,21,54,55,29,45,0,0,50,59,25,39,17,31,57,58,0,0,35,0,24,50,30,8,30,50,0,40,50,0,40,59,0,0,0,20,0,55,0,15,29,59,53,20,0,40,5,15,35,5,0,45,0,20,55,40,0,59,15,30,30,50,10,38,25,15,0,0,15,29,50,40,31,54,0,5,59,50,55,35,10,55,30,35,20,12,45,55,40,30,30,50,56,35,0,0,1,40,45,15,29,45,15,35,8,7,23,30,30,0,50,50,55,59,5,42,56,25,55,25,30,45,55,30,0,20,0,38,59,0,40,9,30,15,55,40,0,5,30,45,0,0,5,0,0,35,25,9,26,10,36,0,29,35,25,15,15,29,0,20,0,50,51,32,29,30,29,40,35,50,0,0,45,36,30,27,35,45,45,29,0,35,50,45,30,45,40,29,59,0,30,38,29,51,10,29,59,50],["2013-12-23T07:00:00Z","2013-10-21T16:00:00Z","2013-11-02T14:00:00Z","2013-11-10T15:00:00Z","2013-05-19T10:00:00Z","2013-11-11T09:00:00Z","2013-09-04T12:00:00Z","2013-11-22T21:00:00Z","2013-12-09T13:00:00Z","2013-11-02T07:00:00Z","2013-01-18T18:00:00Z","2013-10-18T17:00:00Z","2013-06-23T07:00:00Z","2013-01-31T08:00:00Z","2013-08-30T18:00:00Z","2013-06-14T16:00:00Z","2013-02-24T16:00:00Z","2013-06-06T06:00:00Z","2013-03-13T19:00:00Z","2013-11-07T17:00:00Z","2013-12-24T10:00:00Z","2013-03-22T06:00:00Z","2013-03-07T16:00:00Z","2013-07-04T07:00:00Z","2013-11-24T14:00:00Z","2013-01-21T10:00:00Z","2013-03-25T07:00:00Z","2013-07-17T06:00:00Z","2013-06-11T13:00:00Z","2013-03-09T13:00:00Z","2013-09-20T11:00:00Z","2013-05-23T13:00:00Z","2013-06-18T19:00:00Z","2013-01-22T17:00:00Z","2013-10-05T08:00:00Z","2013-05-02T19:00:00Z","2013-08-24T15:00:00Z","2013-12-04T18:00:00Z","2013-05-28T08:00:00Z","2013-09-19T16:00:00Z","2013-05-30T20:00:00Z","2013-04-14T06:00:00Z","2013-03-03T05:00:00Z","2013-07-12T13:00:00Z","2013-09-02T21:00:00Z","2013-12-29T07:00:00Z","2013-03-19T12:00:00Z","2013-02-18T15:00:00Z","2013-11-02T10:00:00Z","2013-12-16T10:00:00Z","2013-11-01T15:00:00Z","2013-01-25T06:00:00Z","2013-05-22T06:00:00Z","2013-10-06T16:00:00Z","2013-01-28T08:00:00Z","2013-09-27T21:00:00Z","2013-04-06T06:00:00Z","2013-10-24T13:00:00Z","2013-08-07T17:00:00Z","2013-06-14T06:00:00Z","2013-08-03T21:00:00Z","2013-04-29T15:00:00Z","2013-04-26T17:00:00Z","2013-04-27T19:00:00Z","2013-05-03T08:00:00Z","2013-06-04T09:00:00Z","2013-10-10T15:00:00Z","2013-06-14T07:00:00Z","2013-09-28T15:00:00Z","2013-07-15T17:00:00Z","2013-01-15T08:00:00Z","2013-01-19T17:00:00Z","2013-10-01T10:00:00Z","2013-09-29T16:00:00Z","2013-03-08T16:00:00Z","2013-05-19T09:00:00Z","2013-12-10T06:00:00Z","2013-11-21T06:00:00Z","2013-01-19T16:00:00Z","2013-09-30T08:00:00Z","2013-12-26T08:00:00Z","2013-05-29T10:00:00Z","2013-01-11T18:00:00Z","2013-05-08T09:00:00Z","2013-11-19T23:00:00Z","2013-07-10T15:00:00Z","2013-03-30T09:00:00Z","2013-06-21T09:00:00Z","2013-05-20T17:00:00Z","2013-02-20T11:00:00Z","2013-06-13T18:00:00Z","2013-05-04T11:00:00Z","2013-08-12T18:00:00Z","2013-11-18T07:00:00Z","2013-02-24T12:00:00Z","2013-03-22T11:00:00Z","2013-06-09T13:00:00Z","2013-01-24T08:00:00Z","2013-08-18T16:00:00Z","2013-12-17T18:00:00Z","2013-08-01T21:00:00Z","2013-12-13T12:00:00Z","2013-03-28T09:00:00Z","2013-02-04T06:00:00Z","2013-04-15T13:00:00Z","2013-04-24T16:00:00Z","2013-01-09T19:00:00Z","2013-07-25T08:00:00Z","2013-01-11T19:00:00Z","2013-02-02T17:00:00Z","2013-04-26T13:00:00Z","2013-02-25T19:00:00Z","2013-08-16T12:00:00Z","2013-07-15T08:00:00Z","2013-01-31T18:00:00Z","2013-02-02T07:00:00Z","2013-12-07T20:00:00Z","2013-07-17T18:00:00Z","2013-10-09T14:00:00Z","2013-08-02T12:00:00Z","2013-03-29T12:00:00Z","2013-06-08T13:00:00Z","2013-12-13T18:00:00Z","2013-03-31T16:00:00Z","2013-06-25T08:00:00Z","2013-12-26T15:00:00Z","2013-01-02T06:00:00Z","2013-05-15T21:00:00Z","2013-03-01T11:00:00Z","2013-09-19T08:00:00Z","2013-09-04T13:00:00Z","2013-05-04T08:00:00Z","2013-07-17T14:00:00Z","2013-05-12T06:00:00Z","2013-02-20T15:00:00Z","2013-03-25T14:00:00Z","2013-04-19T20:00:00Z","2013-09-13T19:00:00Z","2013-04-16T09:00:00Z","2013-01-10T09:00:00Z","2013-07-18T13:00:00Z","2013-06-13T20:00:00Z","2013-07-23T17:00:00Z","2013-06-11T17:00:00Z","2013-01-15T15:00:00Z","2013-11-23T08:00:00Z","2013-08-28T06:00:00Z","2013-12-31T15:00:00Z","2013-10-02T20:00:00Z","2013-08-17T07:00:00Z","2013-01-03T14:00:00Z","2013-10-16T15:00:00Z","2013-09-02T17:00:00Z","2013-01-28T07:00:00Z","2013-05-06T09:00:00Z","2013-10-27T19:00:00Z","2013-08-08T12:00:00Z","2013-05-25T07:00:00Z","2013-04-13T06:00:00Z","2013-04-21T15:00:00Z","2013-12-23T15:00:00Z","2013-12-30T12:00:00Z","2013-04-04T09:00:00Z","2013-01-27T11:00:00Z","2013-04-01T08:00:00Z","2013-07-18T06:00:00Z","2013-03-01T16:00:00Z","2013-08-16T09:00:00Z","2013-01-07T15:00:00Z","2013-03-07T20:00:00Z","2013-06-11T15:00:00Z","2013-11-21T17:00:00Z","2013-04-26T06:00:00Z","2013-07-02T16:00:00Z","2013-07-13T15:00:00Z","2013-10-22T12:00:00Z","2013-07-27T18:00:00Z","2013-11-09T20:00:00Z","2013-02-06T10:00:00Z","2013-10-17T14:00:00Z","2013-07-23T19:00:00Z","2013-07-13T08:00:00Z","2013-04-24T12:00:00Z","2013-03-11T10:00:00Z","2013-04-21T08:00:00Z","2013-12-09T08:00:00Z","2013-03-28T17:00:00Z","2013-06-18T13:00:00Z","2013-07-04T16:00:00Z","2013-04-22T12:00:00Z","2013-12-18T15:00:00Z","2013-12-31T19:00:00Z","2013-05-29T09:00:00Z","2013-01-24T14:00:00Z","2013-12-22T20:00:00Z","2013-09-02T17:00:00Z","2013-11-17T12:00:00Z","2013-06-01T18:00:00Z","2013-11-08T15:00:00Z","2013-02-08T15:00:00Z","2013-09-23T15:00:00Z","2013-10-30T08:00:00Z","2013-06-12T15:00:00Z","2013-12-02T17:00:00Z","2013-05-21T10:00:00Z","2013-07-10T14:00:00Z","2013-03-07T13:00:00Z","2013-08-03T17:00:00Z","2013-11-06T14:00:00Z","2013-02-05T15:00:00Z","2013-03-16T16:00:00Z","2013-05-14T19:00:00Z","2013-09-15T12:00:00Z","2013-01-02T15:00:00Z","2013-01-17T15:00:00Z","2013-12-23T16:00:00Z","2013-01-22T13:00:00Z","2013-10-22T16:00:00Z","2013-04-11T08:00:00Z","2013-10-21T19:00:00Z","2013-03-27T17:00:00Z","2013-01-28T06:00:00Z","2013-06-29T07:00:00Z","2013-06-06T18:00:00Z","2013-04-19T14:00:00Z","2013-02-04T14:00:00Z","2013-04-27T08:00:00Z","2013-06-26T09:00:00Z","2013-05-25T08:00:00Z","2013-11-04T08:00:00Z","2013-01-25T15:00:00Z","2013-03-25T14:00:00Z","2013-04-11T09:00:00Z","2013-01-31T08:00:00Z","2013-03-28T18:00:00Z","2013-05-23T11:00:00Z","2013-03-19T21:00:00Z","2013-08-26T21:00:00Z","2013-03-31T20:00:00Z","2013-04-22T18:00:00Z","2013-09-13T13:00:00Z","2013-11-23T05:00:00Z","2013-11-03T19:00:00Z","2013-05-14T19:00:00Z","2013-05-09T16:00:00Z","2013-06-02T17:00:00Z","2013-10-08T09:00:00Z","2013-12-22T06:00:00Z","2013-11-27T10:00:00Z","2013-10-23T14:00:00Z","2013-04-14T21:00:00Z","2013-07-20T13:00:00Z","2013-02-08T17:00:00Z","2013-05-12T07:00:00Z","2013-05-25T06:00:00Z","2013-12-19T07:00:00Z","2013-11-08T18:00:00Z","2013-03-27T06:00:00Z","2013-11-08T17:00:00Z","2013-03-01T06:00:00Z","2013-04-29T13:00:00Z","2013-06-26T14:00:00Z","2013-01-08T15:00:00Z","2013-11-14T06:00:00Z","2013-07-02T19:00:00Z","2013-05-06T17:00:00Z","2013-04-25T09:00:00Z","2013-07-03T10:00:00Z","2013-06-27T10:00:00Z","2013-04-08T10:00:00Z","2013-05-10T19:00:00Z","2013-03-25T16:00:00Z","2013-12-01T13:00:00Z","2013-04-15T22:00:00Z","2013-04-09T14:00:00Z","2013-05-07T13:00:00Z","2013-02-13T16:00:00Z","2013-09-15T19:00:00Z","2013-12-29T09:00:00Z","2013-09-09T09:00:00Z","2013-04-19T09:00:00Z","2013-04-10T16:00:00Z","2013-11-22T07:00:00Z","2013-02-05T21:00:00Z","2013-05-11T11:00:00Z","2013-12-22T16:00:00Z","2013-06-09T12:00:00Z","2013-12-24T08:00:00Z","2013-07-17T17:00:00Z","2013-06-14T18:00:00Z","2013-01-25T07:00:00Z","2013-03-28T07:00:00Z","2013-08-11T17:00:00Z","2013-05-12T11:00:00Z","2013-04-22T17:00:00Z","2013-12-05T13:00:00Z","2013-01-03T09:00:00Z","2013-08-17T06:00:00Z","2013-11-30T18:00:00Z","2013-06-07T12:00:00Z","2013-11-14T14:00:00Z","2013-09-28T08:00:00Z","2013-11-06T19:00:00Z","2013-09-30T11:00:00Z","2013-01-26T11:00:00Z","2013-08-27T20:00:00Z","2013-04-27T20:00:00Z","2013-01-31T11:00:00Z","2013-05-31T11:00:00Z","2013-10-20T17:00:00Z","2013-04-24T17:00:00Z","2013-06-13T06:00:00Z","2013-08-09T08:00:00Z","2013-09-05T20:00:00Z","2013-05-24T06:00:00Z","2013-10-14T18:00:00Z","2013-12-02T11:00:00Z","2013-09-07T09:00:00Z","2013-12-27T18:00:00Z","2013-04-22T10:00:00Z","2013-11-21T06:00:00Z","2013-01-03T19:00:00Z","2013-03-09T11:00:00Z","2013-08-05T10:00:00Z","2013-07-25T09:00:00Z","2013-02-06T08:00:00Z","2013-11-26T16:00:00Z","2013-04-27T23:00:00Z","2013-09-05T19:00:00Z","2013-06-23T10:00:00Z","2013-03-06T15:00:00Z","2013-01-19T18:00:00Z","2013-05-28T11:00:00Z","2013-09-20T15:00:00Z","2013-06-26T21:00:00Z","2013-12-24T16:00:00Z","2013-05-09T14:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">2.4</span> filter</h2>
<p>データを行で絞る場合は<code>dplyr::filter</code>関数を用います。条件式には比較演算子の他に論理演算子等が使えます。アメリカン航空（AA）のフライトデータを抜き出してみるには以下のように指定します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-8c02d5e87e58c4174e54" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8c02d5e87e58c4174e54">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9"],[2013,2013,2013,2013,2013,2013,2013,2013,2013],[6,6,4,4,1,10,11,1,3],[21,6,30,26,10,21,28,25,8],[1338,854,1721,1454,808,1741,1457,535,1752],[1345,900,1725,1500,810,1700,1510,540,1705],[-7,-6,-4,-6,-2,41,-13,-5,47],[1611,1155,2006,1645,913,2057,1807,826,2108],[1645,1215,2040,1645,925,1955,1835,850,2010],[-34,-20,-34,0,-12,62,-28,-24,58],["AA","AA","AA","AA","AA","AA","AA","AA","AA"],[117,647,145,341,1838,211,1327,1141,1905],["N323AA","N5FHAA","N3GHAA","N525AA","N3CJAA","N3JLAA","N3JTAA","N5EKAA","N4XFAA"],["JFK","JFK","JFK","LGA","JFK","JFK","LGA","JFK","EWR"],["LAX","MIA","SAN","ORD","BOS","IAH","PBI","MIA","DFW"],[311,150,303,116,38,234,169,144,204],[2475,1089,2446,733,187,1417,1035,1089,1372],[13,9,17,15,8,17,15,5,17],[45,0,25,0,10,0,10,40,5],["2013-06-21T13:00:00Z","2013-06-06T09:00:00Z","2013-04-30T17:00:00Z","2013-04-26T15:00:00Z","2013-01-10T08:00:00Z","2013-10-21T17:00:00Z","2013-11-28T15:00:00Z","2013-01-25T05:00:00Z","2013-03-08T17:00:00Z"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>sched_dep_time<\/th>\n      <th>dep_delay<\/th>\n      <th>arr_time<\/th>\n      <th>sched_arr_time<\/th>\n      <th>arr_delay<\/th>\n      <th>carrier<\/th>\n      <th>flight<\/th>\n      <th>tailnum<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>air_time<\/th>\n      <th>distance<\/th>\n      <th>hour<\/th>\n      <th>minute<\/th>\n      <th>time_hour<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,11,15,16,17,18]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="select" class="section level2">
<h2><span class="header-section-number">2.5</span> select</h2>
<p><code>nycflights13::flights</code>は項目数が多いので表示項目を限定してみましょう。項目（列）を選択するには<code>dplyr::select</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(year, month, day, dep_time, carrier, origin, dest) %&gt;% 
                                         # 7項目に絞ってみる
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-d966a554073f40d69ed2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d966a554073f40d69ed2">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[2,6,2,3,5,9,3,9,9,11,1],[12,21,10,29,16,3,5,10,21,23,19],[1941,629,1856,828,1725,1342,840,1656,1218,1336,1640],["AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA"],["JFK","LGA","LGA","LGA","JFK","LGA","JFK","EWR","EWR","JFK","LGA"],["TPA","ORD","ORD","ORD","SAN","MIA","SJU","MIA","DFW","LAX","DFW"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>day<\/th>\n      <th>dep_time<\/th>\n      <th>carrier<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="rename" class="section level2">
<h2><span class="header-section-number">2.6</span> rename</h2>
<p>項目名を日本語に変更してみましょう。項目名（列名）を変更するには<code>dplyr::rename</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(year, month, day, dep_time, carrier, origin, dest) %&gt;% 
  dplyr::rename(&#39;年&#39; = year, &#39;月&#39; = month, &#39;日&#39; = day, &#39;出発時間&#39; = dep_time,
                &#39;航空会社&#39; = carrier, &#39;出発地&#39; = origin, &#39;目的地&#39; = dest) %&gt;%
                                         # 項目名（列名）を日本語に変える
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-3f6a8a4feefa6e56388d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f6a8a4feefa6e56388d">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[8,6,5,10,5,4,4,7,11,9,5],[22,27,1,28,13,20,1,8,21,12,25],[831,601,1918,1516,1141,1315,1722,1443,1851,1741,1531],["AA","AA","AA","AA","AA","AA","AA","AA","AA","AA","AA"],["JFK","JFK","EWR","LGA","LGA","LGA","JFK","LGA","JFK","JFK","JFK"],["BOS","MIA","DFW","ORD","MIA","ORD","SAN","DFW","SEA","IAH","SFO"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>年<\/th>\n      <th>月<\/th>\n      <th>日<\/th>\n      <th>出発時間<\/th>\n      <th>航空会社<\/th>\n      <th>出発地<\/th>\n      <th>目的地<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
<div id="selectによるrename" class="section level3">
<h3><span class="header-section-number">2.6.1</span> selectによるrename</h3>
<p><code>dplyr::select</code>関数で項目を指定する際に名前も指定すると選択と同時に名前を変更することが可能です。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%               # 100個のデータをランダムサンプリング
  dplyr::filter(carrier == &quot;AA&quot;) %&gt;%     # 航空会社がAAと一致するデータのみ抽出
  dplyr::select(&#39;年&#39; = year, &#39;月&#39; = month, &#39;日&#39; = day, &#39;出発時間&#39; = dep_time,
                &#39;航空会社&#39; = carrier, &#39;出発地&#39; = origin, &#39;目的地&#39; = dest) %&gt;% 
                                         # 選択と共に名前を日本語に変える
  DT::datatable(style = &#39;bootstrap&#39;)  　 # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-4c9dc465cf96fb4ddf5a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-4c9dc465cf96fb4ddf5a">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9"],[2013,2013,2013,2013,2013,2013,2013,2013,2013],[7,8,12,12,7,1,9,5,3],[9,13,16,15,28,31,28,10,2],[1153,1935,1810,728,553,826,1652,1010,1239],["AA","AA","AA","AA","AA","AA","AA","AA","AA"],["EWR","JFK","JFK","JFK","LGA","LGA","LGA","LGA","LGA"],["MIA","LAX","ORD","LAX","DFW","STL","MIA","DFW","MIA"]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>年<\/th>\n      <th>月<\/th>\n      <th>日<\/th>\n      <th>出発時間<\/th>\n      <th>航空会社<\/th>\n      <th>出発地<\/th>\n      <th>目的地<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
</div>
<div id="mutate" class="section level2">
<h2><span class="header-section-number">2.7</span> mutate</h2>
<p><code>arr_delay</code>から<code>dep_delay</code>を引いて実遅延時間を計算してみます。行毎に値を求めますのでWindow関数である<code>dplyr::mutate</code>関数を用います。<code>arr_delay</code>と<code>dep_delay</code>に<code>NA</code>データが含まれていますので計算結果が<code>NA</code>となった場合には<code>tidyr::drop_na</code>関数で削除します。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  dplyr::select(dep_time, arr_time, carrier, origin, dest, delay) %&gt;% 
                                          # 表示を6項目に絞る
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-ffdcc82d1a9eab0e3ef1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ffdcc82d1a9eab0e3ef1">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95"],[948,2051,1114,1825,1752,844,558,1118,1349,849,1044,2146,2101,1018,752,1339,630,1707,1854,1651,2226,2056,919,1702,1300,1454,1303,1855,1931,1259,1651,1559,2015,1405,2038,1656,935,1656,1519,1500,2142,2006,1454,1511,924,617,1145,1248,1900,1131,1526,1604,1107,1530,554,1525,2125,1538,1220,1632,1515,859,1829,1022,713,2149,604,1451,1621,951,2024,1719,1819,1707,1803,2033,1602,744,1134,1521,1100,1528,1230,2029,1837,1453,1953,1928,1547,1120,1111,1448,1832,825,1452],[1139,2309,1347,2025,2032,1258,859,1305,1721,1046,1245,17,2358,1124,1038,1633,932,1930,2108,1807,111,2355,1151,1955,1606,1634,1533,2214,2252,1534,1916,1832,2328,1631,2302,1930,1031,1835,1718,1730,105,2213,1720,1753,1228,932,1322,1337,2153,1443,1736,1947,1425,1643,835,1803,27,1739,1326,1926,1826,1352,2137,1153,945,129,700,1726,1854,1133,2239,1945,2204,1857,2108,2241,1824,1030,1432,1833,1251,1816,1549,2219,2127,1637,2052,2308,1928,1215,1246,1653,2215,1124,1836],["9E","EV","B6","MQ","B6","AA","B6","DL","AA","9E","EV","B6","DL","MQ","AA","AA","UA","EV","FL","MQ","UA","B6","VX","DL","B6","US","DL","DL","DL","UA","EV","UA","DL","FL","DL","MQ","9E","US","UA","UA","AA","9E","US","UA","UA","UA","MQ","B6","DL","DL","EV","AA","AA","EV","B6","UA","UA","UA","MQ","B6","DL","UA","AS","EV","B6","9E","EV","UA","UA","9E","EV","F9","DL","B6","B6","9E","EV","MQ","UA","B6","DL","B6","AA","B6","DL","US","US","DL","AA","EV","EV","MQ","AA","B6","B6"],["LGA","EWR","EWR","JFK","LGA","JFK","LGA","LGA","LGA","JFK","EWR","LGA","JFK","EWR","LGA","JFK","EWR","EWR","LGA","JFK","EWR","LGA","JFK","JFK","JFK","EWR","LGA","JFK","LGA","LGA","LGA","EWR","JFK","LGA","LGA","LGA","JFK","LGA","EWR","LGA","JFK","LGA","EWR","EWR","EWR","LGA","LGA","JFK","LGA","LGA","EWR","JFK","LGA","EWR","EWR","EWR","EWR","LGA","JFK","JFK","LGA","EWR","EWR","EWR","JFK","JFK","JFK","EWR","EWR","LGA","EWR","LGA","JFK","JFK","JFK","LGA","LGA","JFK","EWR","JFK","LGA","JFK","LGA","JFK","JFK","LGA","LGA","JFK","JFK","EWR","EWR","LGA","JFK","JFK","JFK"],["DAY","JAX","MCO","BWI","MCO","SJU","FLL","DTW","MIA","DTW","IND","MCO","LAX","ORD","MIA","LAX","MIA","ATL","ATL","ORF","MIA","MCO","LAX","AUS","FLL","CLT","MSP","SLC","FLL","IAH","RDU","MCO","LAX","ATL","ATL","RDU","PHL","CLT","LAS","DEN","LAX","TYS","CLT","IAH","SFO","IAH","MSP","BOS","FLL","RSW","JAX","FLL","MIA","MKE","MCO","SAN","FLL","CLE","DCA","FLL","MIA","STT","SEA","DSM","TPA","CHS","IAD","SAN","MCO","DAY","OMA","DEN","SEA","CLT","LGB","TYS","BNA","TPA","SFO","RSW","DTW","TPA","DFW","ROC","SAN","BOS","DCA","LAX","SFO","BNA","STL","CMH","SEA","SAN","SJU"],[-27,-17,-2,50,-18,4,-3,-10,17,-12,-1,-13,-21,-9,-29,-26,1,-11,-9,-19,-15,10,-28,-18,10,-17,23,-6,3,-26,30,-15,-16,-3,-16,44,-15,-22,-50,4,8,-17,34,-8,-35,27,-18,-15,-22,0,-14,18,8,-11,6,-19,-14,2,-9,-22,-11,-16,-5,-30,-9,79,-15,-12,-20,-36,-2,4,15,-11,-18,-16,38,-4,-20,-3,-19,-17,4,21,-31,33,-20,0,1,-29,-4,10,23,-9,-16]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dep_time<\/th>\n      <th>arr_time<\/th>\n      <th>carrier<\/th>\n      <th>origin<\/th>\n      <th>dest<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="summarize" class="section level2">
<h2><span class="header-section-number">2.8</span> summarize</h2>
<p>次にSummarize関数を用いいて目的地毎の平均遅延時間を計算してみます。まず、目的に毎にデータをまとめるには<code>dplyr::group_by</code>関数を用います。次に<code>dplyr::summarize_at</code>関数を用いて遅延時間の平均値を求めます。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest) %&gt;%                      # 目的地毎にグループ化
  dplyr::summarise_at(vars(delay), funs(mean)) %&gt;% 
                                          # 平均遅延時間を計算
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-cf6b1d81043304ff8ae1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cf6b1d81043304ff8ae1">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48"],["ATL","AUS","BNA","BOS","BTV","BUF","CHS","CLE","CLT","CMH","DCA","DEN","DFW","DTW","FLL","GRR","GSO","HNL","IAD","IAH","IND","JAX","LAS","LAX","MCI","MCO","MEM","MHT","MIA","MKE","MSP","MSY","OAK","ORD","ORF","PBI","PDX","PHL","PHX","PWM","RDU","SAN","SFO","SLC","SRQ","STL","TYS","XNA"],[-0.333333333333333,-5,8,1,4,-16,3,-6.5,2.66666666666667,-18,9,-24.6666666666667,-20,-2,0,-5,-14,-7,-12,-12,22,-7,-28,-11.8888888888889,-16,-6,-2,-14,1.66666666666667,-16.5,-17,5,-34,-9,23,-20.5,-21,-38,12,2,-0.5,14,-10,-2,-10,4,-5.33333333333333,-2]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="group_by" class="section level2">
<h2><span class="header-section-number">2.9</span> group_by</h2>
<p>データをまとめる<code>dplyr::group_by</code>関数は複数の項目（列）に対して適用することも可能です。これを用いて目的地と航空会社に対して平均遅延時間をクロス集計をしてみましょう。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest, carrier) %&gt;%             # 目的地と航空会社でグループ化
  dplyr::summarise_at(vars(delay), funs(mean)) %&gt;% 
                                          # 平均遅延時間を計算
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-38c0cb20cd33339c6fe2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-38c0cb20cd33339c6fe2">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70"],["ATL","AUS","BNA","BNA","BOS","BOS","BOS","BOS","BUF","BWI","BWI","CHS","CLE","CLT","CLT","CMH","CVG","CVG","DAY","DCA","DCA","DEN","DFW","DTW","DTW","FLL","GSP","GSP","IAH","JAX","LAS","LAX","LAX","LGB","MCI","MCO","MCO","MCO","MDW","MIA","MIA","MKE","MKE","MKE","MSN","MSP","MSP","MSP","MSY","OMA","ORD","ORD","PBI","PBI","PHX","PWM","RDU","SAV","SEA","SFO","SFO","SFO","SJU","SJU","SMF","SNA","STL","TPA","TPA","TYS"],["DL","B6","EV","MQ","9E","AA","B6","UA","B6","9E","EV","EV","EV","EV","MQ","MQ","9E","EV","EV","MQ","US","DL","AA","DL","EV","B6","9E","EV","UA","EV","B6","B6","VX","B6","EV","B6","DL","UA","WN","AA","DL","9E","EV","WN","EV","9E","DL","MQ","B6","EV","AA","UA","B6","UA","UA","B6","MQ","EV","UA","AA","DL","UA","AA","DL","B6","UA","EV","DL","MQ","EV"],[-5.33333333333333,-5,7,-4.5,-16,-15,-13,-14.5,-8,31,-6,2.5,-6,26,-5,3,-25,-11,-19,-4,-5.33333333333333,-44,-23,-18.5,-6.33333333333333,-20,15,-3,-22.5,-7,-17,22,28,-18.5,4,20,-4.5,-5,23.6666666666667,-5,-36,11,11,38,-13,-20,-6,17,-5,-25,-21,-1.5,3,-15,-46,-13,-8.5,-17,-18,-19.5,-9,-13,-22,10,-28,-3,-24,36,-1,27]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>carrier<\/th>\n      <th>delay<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="spread" class="section level2">
<h2><span class="header-section-number">2.10</span> spread</h2>
<p>整然データのままでは人間が情報を把握するのは困難ですので雑然データの形式に変更してみます。これには<code>tidyr::spread</code>関数を用います。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  group_by(dest, carrier) %&gt;%             # 目的地と航空会社でグループ化
  dplyr::summarise_at(vars(delay), funs(round(mean(.), 0))) %&gt;% 
                                          # 平均遅延時間を計算
  tidyr::spread(key = carrier, value = delay) %&gt;% 
                                          # 雑然データ形式で表示
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<p><div id="htmlwidget-a1ae593fb9fb729bc097" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a1ae593fb9fb729bc097">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42"],["ATL","BOS","BQN","BTV","BUF","CLE","CLT","DCA","DEN","DFW","DTW","FLL","HOU","IAD","IAH","IND","JAX","LAS","LAX","MCO","MEM","MIA","MSN","MSP","MSY","OMA","ORD","ORF","PBI","PDX","PHX","PIT","ROC","SAT","SEA","SFO","SJC","SJU","SLC","STL","SYR","TPA"],[null,null,null,null,10,null,null,null,null,null,-10,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,34,null,null,null,null,null,null,null,null,-10,null,null,-11,null,null,null,null,-18,null,null,null,null,null,null,null,null,null,null,-30,null,null,null,null],[null,29,-4,null,null,null,null,null,null,null,null,-8,-12,-7,null,null,null,-33,24,-1,null,null,null,null,-8,null,null,null,-5,18,null,null,-22,null,15,null,-12,null,null,null,47,21],[0,null,null,null,null,null,null,null,null,null,-5,-3,null,null,null,null,null,null,null,null,-10,7,null,20,null,null,null,null,-20,null,null,null,null,-29,-26,null,null,null,-22,null,null,null],[null,null,null,-8,null,null,null,-3,null,null,22,null,null,-9,null,null,8,null,null,null,null,null,-35,null,null,-12,null,null,null,null,null,27,null,null,null,null,null,null,null,-33,null,null],[-2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,15,null,null,null,null,null,null,null,null,null,21,null,null,null,null,null,null,null,null,null,null,-10,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,44,null,null,null,-9,null,null,-0,null,null,-7,null,null,10,null,null,null,null,4,null,null,null,null,null,null,4,null,null,null,null,null,null,null,-27,-11,null,null,null,null,null,-20],[null,null,null,null,null,null,9,2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-12,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-11,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-4,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest<\/th>\n      <th>9E<\/th>\n      <th>AA<\/th>\n      <th>B6<\/th>\n      <th>DL<\/th>\n      <th>EV<\/th>\n      <th>FL<\/th>\n      <th>MQ<\/th>\n      <th>UA<\/th>\n      <th>US<\/th>\n      <th>VX<\/th>\n      <th>WN<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> 　</p>
</div>
<div id="join" class="section level2">
<h2><span class="header-section-number">2.11</span> join</h2>
<p>目的地と航空会社の表示にコードが使われていますので、これらを分かりやすく目的地の空港名と航空会社名にしてみましょう。データセットの項で説明したように航空会社名は<code>airline</code>データセットに空港名は<code>airport</code>データセットにありますので、これらのデータセットを結合して名前を取り込みます。</p>
<pre class="r"><code>nycflights13::flights %&gt;% 
  dplyr::sample_n(100) %&gt;%                # 100個のデータをランダムサンプリング
  dplyr::mutate(delay = arr_delay - dep_delay) %&gt;%
                                          # 実遅延時間を計算する
  tidyr::drop_na(delay) %&gt;%               # 計算結果がNAとなったものを除く
  dplyr::select(dep_time, arr_time, carrier, origin, dest, delay) %&gt;% 
                                          # 対象項目を減らす
  dplyr::left_join(nycflights13::airlines) %&gt;% 
                                          # 航空会社データと結合
  dplyr::left_join(nycflights13::airports, by = c(&quot;dest&quot; = &quot;faa&quot;)) %&gt;%
                                          # 空港データと結合
  dplyr::select(carrier_name = name.x, dest_name = name.y, delay) %&gt;% 
                                          # 項目名を変更・選択
  dplyr::group_by(dest_name, carrier_name) %&gt;% 
                                          # 目的地名と航空会社名でグループ化
  dplyr::summarise_at(vars(delay), funs(round(mean(.), 1))) %&gt;% 
                                          # 平均遅延時間を計算
  tidyr::spread(key = carrier_name, value = delay) %&gt;% 
                                          # 雑然データ形式で表示
  DT::datatable(style = &#39;bootstrap&#39;)  　  # インタラクティブな表として表示する</code></pre>
<pre><code>## Joining, by = &quot;carrier&quot;</code></pre>
<div id="htmlwidget-8932f19cb0be37ced970" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8932f19cb0be37ced970">{"x":{"style":"bootstrap","filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43"],["Austin Bergstrom Intl","Baltimore Washington Intl","Buffalo Niagara Intl","Charleston Afb Intl","Charlotte Douglas Intl","Chicago Midway Intl","Chicago Ohare Intl","Cincinnati Northern Kentucky Intl","Cleveland Hopkins Intl","Dallas Fort Worth Intl","Denver Intl","Detroit Metro Wayne Co","Eagle Co Rgnl","Eppley Afld","Fort Lauderdale Hollywood Intl","General Edward Lawrence Logan Intl","George Bush Intercontinental","Hartsfield Jackson Atlanta Intl","Jacksonville Intl","Kansas City Intl","Lambert St Louis Intl","Los Angeles Intl","Louisville International Airport","Mc Carran Intl","Minneapolis St Paul Intl","Nashville Intl","Orlando Intl","Palm Beach Intl","Phoenix Sky Harbor Intl","Piedmont Triad","Pittsburgh Intl","Raleigh Durham Intl","Ronald Reagan Washington Natl","Salt Lake City Intl","San Diego Intl","San Francisco Intl","Sarasota Bradenton Intl","Savannah Hilton Head Intl","Seattle Tacoma Intl","Southwest Florida Intl","Tampa Intl","William P Hobby",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-13,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-17,null,null,null,null],[null,null,null,null,null,null,null,null,null,2.5,null,null,null,null,null,null,null,null,null,null,null,-25,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[5,null,null,null,null,null,null,null,null,null,null,-7.5,null,null,null,null,null,-1,null,null,null,-64,null,9.5,null,null,null,null,null,null,null,null,null,9,null,-18,null,null,-18,-2,null,null,-25],[null,-25,-15.5,null,null,null,null,null,27,null,null,null,null,null,null,null,null,6,null,null,null,null,-44,null,null,null,null,null,null,null,null,-5,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,-6,null,null,null,null,null,null,null,null,null,null,null,null,24,null,null,null,null,null,null,null,null,null,null,null,null,null,-21,null,null,null,null,null,null,null,null,null,null,null],[null,null,-11,3,-10,null,null,-7,null,null,null,null,null,-20,null,null,null,null,null,6,-9,null,-13,null,-10,28.7,null,null,null,-0.5,0.5,null,3,null,null,null,null,10,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,-7,-8,null,null,14,null,null,null,null,null,null,null,null,0.5,null,null,null,11,null,null,null,null,-1.3,null,null,null,-5,null,-8.5],[null,null,null,null,null,-6,null,null,null,null,-31,null,null,null,null,null,null,null,null,null,17.5,null,null,null,null,null,null,null,15,null,null,null,null,null,null,null,null,null,null,null,null,-6,null],[null,null,null,null,-9.5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-8,null,null,null,null,null,null,null,null,null,null],[-3,null,null,null,null,null,-16.3,null,null,5,null,null,-43,null,-12.5,null,1.2,null,null,null,null,-9.3,null,null,null,null,-6.5,null,null,null,null,null,null,null,-32,-41,null,null,null,null,null,null,-1],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-17,null,null,null,null,null,null,null,null,null,null,null,null,null,-47,null,null,null,null,null,null,null]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dest_name<\/th>\n      <th>AirTran Airways Corporation<\/th>\n      <th>Alaska Airlines Inc.<\/th>\n      <th>American Airlines Inc.<\/th>\n      <th>Delta Air Lines Inc.<\/th>\n      <th>Endeavor Air Inc.<\/th>\n      <th>Envoy Air<\/th>\n      <th>ExpressJet Airlines Inc.<\/th>\n      <th>JetBlue Airways<\/th>\n      <th>Southwest Airlines Co.<\/th>\n      <th>US Airways Inc.<\/th>\n      <th>United Air Lines Inc.<\/th>\n      <th>Virgin America<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11,12,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<hr />
<!-- Footer -->
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" title="CC BY-NC-SA 4.0 icon" alt="Sampo Suzuki" /> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja" title="CC BY-NC-SA 4.0">CC BY-NC-SA 4.0</a>, Sampo Suzuki [2017-07-01 23:55(JST)]</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
